<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>5GC学习报告3</title>
      <link href="/2022/04/27/report3/"/>
      <url>/2022/04/27/report3/</url>
      
        <content type="html"><![CDATA[<h1 id="报告3"><a href="#报告3" class="headerlink" title="报告3"></a>报告3</h1><h2 id="5G核心网主要功能概述（补充）"><a href="#5G核心网主要功能概述（补充）" class="headerlink" title="5G核心网主要功能概述（补充）"></a>5G核心网主要功能概述（补充）</h2><ul><li>SBA的架构，4G以网元为中心-&gt;5G以功能、服务为中心</li><li>CUPS（控制与用户面的分离）</li><li>网络切片（怎么切？怎么选？）</li><li>移动性管理和会话管理的分离</li><li>统一的认证框架（3GPP和非3GPP）</li><li>边缘计算</li><li>能力开放</li><li>计算与存储的解耦</li><li>新的Qos框架</li><li>网元平台向NFV/SDN的演进</li><li>语音业务继续沿用IMS</li></ul><h3 id="5G核心网相关的主要规范"><a href="#5G核心网相关的主要规范" class="headerlink" title="5G核心网相关的主要规范"></a>5G核心网相关的主要规范</h3><p><a href="https://imgtu.com/i/LqhZSH" target="_blank" rel="noopener"><img src="https://s1.ax1x.com/2022/04/27/LqhZSH.png" alt="LqhZSH.png"></a></p><h3 id="5GC网络架构（参考点-vs-SBA架构）"><a href="#5GC网络架构（参考点-vs-SBA架构）" class="headerlink" title="5GC网络架构（参考点 vs SBA架构）"></a>5GC网络架构（参考点 vs SBA架构）</h3><p><a href="https://imgtu.com/i/LqhEfe" target="_blank" rel="noopener"><img src="https://s1.ax1x.com/2022/04/27/LqhEfe.png" alt="LqhEfe.png"></a></p><p>4G的HSS的功能被抽象为UDM的多钟服务，且UDM服务可以被任意客户端以API形式调用</p><h3 id="相关定义"><a href="#相关定义" class="headerlink" title="相关定义"></a>相关定义</h3><p>NF：就是网元。例如AMF、SMF、UDM等。<br>NF Service：就是网元对外提供的服务。如上页UDM对外提供的UECM、SDM等。<br>SBI：就是网元暴露给外部，用来访问本网元所提供的服务的接口。</p><h3 id="SBI相关的FAQ"><a href="#SBI相关的FAQ" class="headerlink" title="SBI相关的FAQ"></a>SBI相关的FAQ</h3><p><a href="https://imgtu.com/i/LqhkFO" target="_blank" rel="noopener"><img src="https://s1.ax1x.com/2022/04/27/LqhkFO.png" alt="LqhkFO.png"></a><br><a href="https://imgtu.com/i/Lqhm6A" target="_blank" rel="noopener"><img src="https://s1.ax1x.com/2022/04/27/Lqhm6A.png" alt="Lqhm6A.png"></a></p><h2 id="移动性管理AMF"><a href="#移动性管理AMF" class="headerlink" title="移动性管理AMF"></a>移动性管理AMF</h2><blockquote><p>主要了解5GC中移动性管理功能的实现</p></blockquote><ul><li>注册管理状态模型</li><li>连接管理状态模型</li><li>UE Context的构成</li><li>用户标识符（SUPI、SUCI、PEI等）</li><li>移动性管理限制及术语（注册区、禁止区域、服务受限区域）</li></ul><h3 id="5G核心网注册管理模型"><a href="#5G核心网注册管理模型" class="headerlink" title="5G核心网注册管理模型"></a>5G核心网注册管理模型</h3><p>5G核心网定义了两种注册管理状态，用于反映UE与网络侧的注册状态：</p><p><a href="https://imgtu.com/i/LqhPw6" target="_blank" rel="noopener"><img src="https://s1.ax1x.com/2022/04/27/LqhPw6.png" alt="LqhPw6.png"></a></p><ol><li>去注册态：此状态下，UE没有注册到核心网，AMF不知道UE在哪，没有UE的上下文，即UE对AMF来说是不可达的。</li><li>注册态：此状态下，UE注册到核心网，可访问5GC提供的业务。AMF知道用户具体位置，并建立UE context。</li></ol><blockquote><p>两种状态的</p></blockquote><p>5G核心网注册管理状态的切换：</p><ol><li>UE初始状态为去注册态，发起注册请求并完成注册流程则切换到注册态。</li><li>当网络侧拒绝UE的注册（发送注册拒绝）或网络侧发起去注册流程，则UE停留在去注册态。</li></ol><h3 id="5G核心网连接管理模型"><a href="#5G核心网连接管理模型" class="headerlink" title="5G核心网连接管理模型"></a>5G核心网连接管理模型</h3><p>5G核心网定义了两种连接管理状态，用于反映UE与网络侧的连接状态：</p><p><a href="https://imgtu.com/i/LqhnOI" target="_blank" rel="noopener"><img src="https://s1.ax1x.com/2022/04/27/LqhnOI.png" alt="LqhnOI.png"></a></p><blockquote><p>singaling信令</p></blockquote><ol><li>空闲态：此状态下，UE的空口、N2和N3连接都被释放。UE可执行小区选择/重选、PLMN选择等流程，或发起Service Request流程切换到连接态。</li><li>连接态：此状态下，AMF知道UE的具体位置。UE可访问5GC业务（上网）。同时，<strong>AMF建立UE的N2连接</strong>。网络侧可发起N2连接释放流程，将CM状态从连接态切换到空闲态。</li></ol><h3 id="形象理解注册管理和连接管理"><a href="#形象理解注册管理和连接管理" class="headerlink" title="形象理解注册管理和连接管理"></a>形象理解注册管理和连接管理</h3><p>以入住酒店为例，形象理解注册管理和连接管理。</p><ul><li>酒店办入住是注册、退房是去注册。入住登记住客信息（类似创建UE Context），住客缴纳房费，酒店分配房间。</li><li>值得一提的是，住客只需要缴纳一次性的房费，而无需再缴纳额外的任何房内资源使用费用（如水电、走廊的灯、电梯等。明确说明需付费的除外）。这些都是包在房费里了。因此，酒店需要想尽办法节省水电的使用来降低成本。比较好的做法就是有人用的时候才开，没人用的时候就关闭或低功耗模式。例如酒店的插卡取电、问客人是否需要每天换床单、或夜里无人时调暗走廊灯光等。</li><li>用户发起关灯是主动释放连接，节省资源。酒店也可以发起关空调等操作来释放连接，节省资源。连接释放，客人还是注册态。</li></ul><h3 id="RM-REGISTERED状态下建立的UE-Context"><a href="#RM-REGISTERED状态下建立的UE-Context" class="headerlink" title="RM-REGISTERED状态下建立的UE Context"></a>RM-REGISTERED状态下建立的UE Context</h3><ul><li>前面提到，当AMF侧的RM状态切换到RM-REGISTERED时，AMF将为该UE创建UE Context。那UE Context里具有哪些东西呢？</li><li>根据23502和29518中的定义，AMF侧创建的UE Context有以下主要参数：</li></ul><p><a href="https://imgtu.com/i/LqhQTf" target="_blank" rel="noopener"><img src="https://s1.ax1x.com/2022/04/27/LqhQTf.png" alt="LqhQTf.png"></a></p><h3 id="用户标示符（UE-ID）"><a href="#用户标示符（UE-ID）" class="headerlink" title="用户标示符（UE ID）"></a>用户标示符（UE ID）</h3><p>SUPI：Subscription Permanent Identifier。两种格式。最常见的格式是IMSI。还有一种NAI的格式，用于非3GPP接入。</p><p>PEI：Permanent Equipment Identifier。用户的IMEI活IMEISV。</p><p>GPSI：Generic Public Subscription Identifier。两种格式。最常见的格式是MSISDN即手机号码。还有一种External Identifier格式@username@realm。</p><p>5G-GUTI：5G Globally Unique Temporary Identity。AMF分配给UE的临时标识，由AMF标识（GUAMI）和UE标识（5G-TMSI）两部分组成。</p><p>5G-S-TMSI：5G-GUTI的一部分。用于寻呼UE。</p><p>SUCI：Subscription Concealed Identifier。对SUPI加密后得到的UE ID，用于保护SUPI。</p><p><a href="https://imgtu.com/i/LqhM0P" target="_blank" rel="noopener"><img src="https://s1.ax1x.com/2022/04/27/LqhM0P.png" alt="LqhM0P.png"></a></p><h3 id="SUCI（Subscription-Concealed-Identifier）"><a href="#SUCI（Subscription-Concealed-Identifier）" class="headerlink" title="SUCI（Subscription Concealed Identifier）"></a>SUCI（Subscription Concealed Identifier）</h3><ul><li>定义：是一次性的ID。也就是说UE每次发上来的SUCI可能不一样。SUCI根据UE的USIM中预置的公钥，结合IMSI加密得到。</li><li>主要作用：是对IMSI（5G里叫SUPI）的保护，防止IMSI被非法窃取，以增强5G安全性。（4G中，UE发起的附着请求、核心网通过NAS流程Identity request/response都可以获取明文的UE的IMSI。这意味着空口有可能会抓到用户的IMSI，带来额外的风险。而引入SUCI之后，IMSI将禁止在5G空口中传递，空口只能抓到临时标识5G-GUTI或者加密的SUCI。）</li><li>使用场景：根据23502和33501里明确给出了SUCI的使用场景。如下：5G注册流程中，UE必须在注册请求中用5G-GUTI作为UE ID，如果没有5G-GUTI，用SUCI。【反正就是不能用IMSI来注册】。SUCI不用来做寻呼标识，寻呼标识用5G-S-TMSI。</li><li>谁来负责计算SUCI？USIM或者ME（即手机）。33501提到，如无特别声明，应由手机来计算。</li><li>SUCI加密和解密的过程（了解即可）：SUCI采用非对称加密。即加密和解密是两把不同的钥匙。UE用预置的公钥对SUPI进行加密得到SUCI，SUCI通过gNB-&gt;AMF-&gt;AUSF最后传递给UDM，UDM用私钥进行解密，得到SUPI。如下图所示：</li></ul><p><a href="https://imgtu.com/i/Lqh3tS" target="_blank" rel="noopener"><img src="https://s1.ax1x.com/2022/04/27/Lqh3tS.png" alt="Lqh3tS.png"></a></p><ul><li>如何给UE推送公钥？（了解即可）33501说out of my scope。但建议可采用OTA（over the air）技术解决。</li><li>SUCI构成：参考23003</li></ul><p><a href="https://imgtu.com/i/Lqh1k8" target="_blank" rel="noopener"><img src="https://s1.ax1x.com/2022/04/27/Lqh1k8.png" alt="Lqh1k8.png"></a></p><p>其中：<br>SUPI Type为0代表IMSI，Home Network ID是移动设备网络代码（MNC）和移动设备国家代码（MCC），即PLMN ID。</p><p>Routing Indicator是用来做路由的，通过这个RI，核心网可以将信令消息从AMF路由到归属地的AUSF和UDM。</p><p>Home Network Public Key Id是公钥ID，如果是Null-scheme则取值为0.</p><p>最后是加密的部分。</p><h3 id="5G-GUTI到EPS-GUTI的映射规则-了解即可"><a href="#5G-GUTI到EPS-GUTI的映射规则-了解即可" class="headerlink" title="5G-GUTI到EPS-GUTI的映射规则(了解即可)"></a>5G-GUTI到EPS-GUTI的映射规则(了解即可)</h3><p>5G-GUTI到EPS-GUTI的映射规则在23501的附录B中定义如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">5G &lt;MCC&gt; maps to EPS &lt;MCC&gt;</span><br><span class="line">5G &lt;MNC&gt; maps to EPS &lt;MNC&gt;</span><br><span class="line">5G &lt;AMF Region ID&gt; and 5G &lt;AMF Set ID&gt; maps to EPS &lt;MMEGI&gt; and part of EPS &lt;MMEC&gt;</span><br><span class="line">5G &lt;AMF Pointer&gt; map to part of EPS &lt;MMEC&gt;</span><br><span class="line">5G &lt;5G-TMSI&gt; maps to EPS &lt;M-TMSI&gt;</span><br></pre></td></tr></table></figure><h3 id="5G-NAS移动性管理主要信令流程（参考24501）"><a href="#5G-NAS移动性管理主要信令流程（参考24501）" class="headerlink" title="5G NAS移动性管理主要信令流程（参考24501）"></a>5G NAS移动性管理主要信令流程（参考24501）</h3><p><a href="https://imgtu.com/i/LqhJpQ" target="_blank" rel="noopener"><img src="https://s1.ax1x.com/2022/04/27/LqhJpQ.png" alt="LqhJpQ.png"></a></p><blockquote><p>用户一开机叫做初始注册，网络上下发一个周期性更新计数器去给UE，然后要求UE做周期性注册。防止比如在地铁上网络不好时，说明还活着。<br>CM：连接管理<br>业务请求流程：空闲态怎么切换到连接态，连接态怎么切换到空闲态。空闲切换到连接<br>寻呼：用户收到寻呼就会触发一个业务请求流程，空闲就切换成连接<br>Notification流程（可能未来需要了解一些公共信令流程）<br>5GMM公共流程不会独立出现，一般包含在一个大的流程里面，比如说包含在注册流程或者是业务请求流程里等等</p></blockquote><h3 id="移动性限制相关概念"><a href="#移动性限制相关概念" class="headerlink" title="移动性限制相关概念"></a>移动性限制相关概念</h3><blockquote><p>注册区域、受限区域、禁止区域、RAT限制，参考23501的5.3。5.4.1 Mobility Retrictions</p></blockquote><p>为更好的对不同场景UE的移动性进行管控，规范定义了移动性限制功能，对不同场景下的UE进行移动性限制。</p><ul><li>Registration Area（注册区域）：一组TA的集合。该区域业务不受限制。类似于TA列表，由AMF下发给UE</li><li>RAT restriction（RAT限制）：UDM中的签约数据。不允许UE访问某个(无线接入技术)RAT（如5G）</li><li>Forbidden Area（禁止区域）：一组区域的集合。该区域下禁止访问5G业务。UDM的签约数据</li><li>Service Area Restriction（服务区域限制）：一组区域的集合，包括受限和非受限区域。受限区域可以访问5G业务。非受限区域不可以。UDM的签约数据。包括：<code>ALLOWED_AREAS（举例：TA1~TA3）；NOT_ALLOWED_AREAS（举例：TA4~TA6）</code></li></ul><blockquote><p>Area(区域)=一组TA的集合；TA（跟踪区）：和4G的TA概念相同，由多个小区构成</p></blockquote><h2 id="Free5GC开源简介"><a href="#Free5GC开源简介" class="headerlink" title="Free5GC开源简介"></a>Free5GC开源简介</h2><p>项目需要掌握的技能：</p><ol><li>Go语言基本语法和使用</li><li>Linux熟悉，包括环境变量、ping不通如何去排查、nets网络命名空间、能根据log中的报错去找到对应的错误文件并解决问题等等</li><li>UDR使用了mongodb（之前实验室用过）</li></ol><h3 id="安装部署遇到的问题"><a href="#安装部署遇到的问题" class="headerlink" title="安装部署遇到的问题"></a>安装部署遇到的问题</h3><p>要求：gcc、go、ubuntu、kernel version、QEMU emulator</p><p>问题：go mod依赖安装问题</p><h3 id="安装过程记录"><a href="#安装过程记录" class="headerlink" title="安装过程记录"></a>安装过程记录</h3><ul><li>ubuntu+vnware</li><li>Go语言基本语法和使用</li><li>mongodb、git</li><li>libmnl-dev等依赖包</li></ul><h3 id="目录结构"><a href="#目录结构" class="headerlink" title="目录结构"></a>目录结构</h3><ul><li>src：用来存放所有网元的实现代码，包括10个网元</li><li>config：配置文件，用户可更改，如各个网元接口的IP地址等参数等</li><li>lib：（不需操作）公共字典库。存放了NAS、NGAP、SBI接口所有消息的参数等说明</li></ul><h2 id="下次报告内容计划"><a href="#下次报告内容计划" class="headerlink" title="下次报告内容计划"></a>下次报告内容计划</h2><p>ULI参数（用户位置信息）、RPC Inactive，会话管理、Qos、网络切片、计算与存储资源的解耦、Free5GC补充</p><blockquote style="margin: 2em 0 0;padding: 0.5em 1em;border-left: 3px solid #F44336;background-color: #F5F5F5;list-style: none;"><p> <strong>本文使用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/" target="_blank" rel="noopener">CC BY-NC-SA 3.0 中国大陆</a> 协议许可<br>具体请参见 <a href="https://zyhang8.github.io/agree/" target="_blank" rel="noopener">知识共享协议</a></strong><br> <strong>本文链接：</strong><a href="https://zyhang8.github.io/2022/04/27/report3/" target="_blank" rel="noopener">https://zyhang8.github.io/2022/04/27/report3/</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 5GC </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 5GC </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>5GC学习报告1</title>
      <link href="/2022/04/14/report1/"/>
      <url>/2022/04/14/report1/</url>
      
        <content type="html"><![CDATA[<h1 id="空天地一体化报告"><a href="#空天地一体化报告" class="headerlink" title="空天地一体化报告"></a>空天地一体化报告</h1><h2 id="1-报告目的，意义"><a href="#1-报告目的，意义" class="headerlink" title="1.报告目的，意义"></a>1.报告目的，意义</h2><p>本次报告主要是对研究方向相关知识进行了简单了解，建立起对研究方向的基本框架和轮廓，包括基本概念、研究现状、研究意义、应用场景，方便后续开展先关研究工作。</p><h2 id="2-简述"><a href="#2-简述" class="headerlink" title="2. 简述"></a>2. 简述</h2><p>天地一体化信息网络以<code>地面网络</code>为依托，以<code>天基网络</code>为拓展，采用统一的架构、统一的技术体制、统一的标准规范，由<code>天基网络</code>与<code>地面互联网</code>和<code>移动通信网</code>互联而成。天基网络与地面网络融合发展，增加了<code>网络广域覆盖</code>的突出特点。[3]发展建设天地一体化信息网络的重点是创新和突破天基网络技术。</p><p><img src="/img/report1/1.jpg" alt="1"></p><p>空天地具体含义</p><ol><li>地网：主要由地面通信系统组成，例如蜂窝网络，移动自组织网络（MANET），全球微波接入互操作性（WiMAX），无线局域网（WLAN）等等. 特别是蜂窝网络已经从第一代（1G）演进到了演进到了第五代（5G）</li><li>空网：空网是一种空中移动系统，它使用无人机，飞艇和气球是构成高空和低空平台（HAP和LAP）为主要基础设施进行信息获取、传输和处理. 可以提供宽带无线通信以补充地面网络. 与地面网络中的基站（BS）相比，空中网络具有易于部署和覆盖范围广的特点，可以在区域范围内提供无线接入.</li><li>天基分为近地空间观测使用极轨卫星、静止卫星、空间站观测，和远地空间观测使用空间探测器、射电望远镜等。</li></ol><blockquote><p>空天地简化为天地叫法的原因[4]：天基它的服务对象已包括了空基网络的飞机、浮空平台等各种飞行器用户。此外，从相关资料知，两者创建的网络服务区覆盖范围、服务用户、服务业务基本相同，因此，为避免重复建设，宜将两个工程综合（或集成）为一个工程</p></blockquote><h2 id="2国家政策"><a href="#2国家政策" class="headerlink" title="2国家政策"></a>2<a href="https://new.qq.com/omn/20211230/20211230A0D2E300.html" target="_blank" rel="noopener">国家政策</a></h2><p>中央网信办印发《“十四五”国家信息化规划》。规划提出，要在“十四五”期间实施“空天地海立体化网络建设和应用示范工程”。</p><p>该项超级工程由四部分构成，包括：打造空天信息网枢纽；开展空间信息综合应用示范；开展地表低空感知网络工程示范；开展智能交通应用示范。</p><p>其中，“空天信息网枢纽”的建设内容有：<code>基于北斗系统、卫星通信网络和遥感卫星加快建设空天信息网络</code>（国内现状），加快北斗智能终端部署，强化沙漠、草原、湿地、河湖、森林、耕地等关键生态节点的遥感监测和应急保障服务能力。</p><p>“智能交通应用示范”的建设内容有：发展面向机载、船载、车载的新型网络通信服务，培育空中、远洋、高山荒漠等环境下智能交通应用。推进基于北斗系统的全国统一的列车运行授时与调度指挥系统建设，加强列车运行监控和管理。推进基于北斗系统的国际道路运输管理与服务系统建设。</p><h2 id="3-空天地网络架构"><a href="#3-空天地网络架构" class="headerlink" title="3. 空天地网络架构"></a>3. 空天地网络架构</h2><ol><li>天星地网：是天地一体化信息网络最早的网络形态，即天上的卫星节点之间没有星间链路，不进行互联组网，而是通过布设在全球的地面关口站与地面网络实现互联</li><li>天星地网：是天地一体化信息网络的第二类网络形态，这种网络形态中不依靠地面网络，仅通过天上卫星<br>节点之间的“星间链路”互联，构建“天基网络”就可以为用户提供覆盖全球的信息服务。</li><li>天网地网：是天地一体化信息网络的第三类网络形态，这种网络形态中不仅天上的卫星节点互联组网，地面的关口站节点也要互联组网，而且天网和地网相互联接、融合，共同构成天地一体化信息网络的“天网地网”。（个人觉得其实就是前两种架构的结合）</li></ol><blockquote><p>疑问点1：天网地网这个是不是所谓的starlink计划核心思想？<br>疑问点2：我们到时候要做的是卫星节点之间的互联（天基网络）还是天地互联？<br>疑问点3：星链感==星链？<br>疑问点4：信号识别工作，是需要对哪些空间信号的识别？星间链路以激光为主，星地链路以微波为主？微光还是激光？</p></blockquote><blockquote><p>ska星座仿真软件，automatic modulation classification</p></blockquote><h2 id="4-空天地面临的挑战（计网方面）"><a href="#4-空天地面临的挑战（计网方面）" class="headerlink" title="4 空天地面临的挑战（计网方面）"></a>4 空天地面临的挑战（计网方面）</h2><ol><li>网络异构互联且拓扑高度动态变化。天基星座网、关口站节点网、地面互联网和移动通信网在内的多种异构网络互融合而成，从而导致对网络的端到端通信协议设计、网络资源和信息传送控制等技术带来挑战</li><li>传输链路高时延且间歇性连接。天地一体化信息网络中星间和星地链路传输距离远，采用大带宽的激光或者微波链路，具有显著的“大时延带宽积”特性，存在信息传输高时延和时延抖动大的问题。加之网络拓扑的动态变化，进一步加大了节点间传输链路持续保持的难度和信息传输时延抖动的幅度，对网络端到端可靠信息传输技术带来挑战。</li></ol><h2 id="5-天地一体化信息网络发展现状"><a href="#5-天地一体化信息网络发展现状" class="headerlink" title="5 天地一体化信息网络发展现状"></a>5 天地一体化信息网络发展现状</h2><ol><li>基于GEO星座的天地一体化信息网络：地球同步轨道(GEO)是指人造卫星在地球赤道上空约36000公里处(高轨道)围绕地球运行的圆形轨道。因为卫星绕地球运行周期与地球自转同步,卫星与地球之间处于相对静止的状态。从理论上讲，用3颗GEO卫星节点即可以实现全球覆盖。（TSAT）</li><li>基于LEO星座的天地一体化信息网络。LEO低轨星座采用运行在低地球轨道（LEO，距离地球表面120～2 000 km）的卫星群提供宽带互联网接入等通信服务，具有低时延、信号强、成本低等特点。（星座竞争主要在于低轨竞争，具有潜在巨大应用效能，正处在高潮期，国外SpaceX，国内“虹云” “鸿雁” “天象” “银河”发射了验证卫星）</li></ol><blockquote><p>L，Ku，Ka 以及Q/V频段频谱在卫星通信中广泛被采用</p></blockquote><h3 id="5-1-LEO国外现状"><a href="#5-1-LEO国外现状" class="headerlink" title="5.1 LEO国外现状"></a>5.1 LEO国外现状</h3><p>马斯克宣布太空探索技术公司（SpaceX）将开展卫星互联网宽带接入项目，即Starlink计划。初衷是为了提供覆盖全球高速互联网无线微波接入的项目，其初衷是为了在全球范围内提供网络服务。彼时，SpaceX 公司的“猎鹰”（Falcon）火箭和“龙”（Dragon）飞船已经取得了巨大的成功，见证了SpaceX 在短时间内将蓝图转化为产品的高效率。Starlink由分布在三个轨道面上的约12000颗卫星组成。</p><p>投资费用：完成I 期空间段总投资应在20 亿美元以上，完成II 期空间段总投资至少50 亿美元，完成所有12000 颗卫星的部署需要至少120亿美元。后期卫星也会折旧，需要补发卫星。</p><p>星座竞争已从商业行为逐步转向国家战略利益谋划和争夺：本质均在于对轨道频率战略资源的抢占、对潜在巨大应用效能的重视，再考虑到当前主流国家在新一代信息网络技术领域的战略竞争态势不断升级，对卫星+5G、甚至未来6G 网络的超前布局。</p><h3 id="5-1-1-星链典型目标用户和应用场景"><a href="#5-1-1-星链典型目标用户和应用场景" class="headerlink" title="5.1.1 星链典型目标用户和应用场景"></a>5.1.1 星链典型目标用户和应用场景</h3><ol><li>偏远地区的宽带接入:仅占总人口3%，且为最不发达地区，因此这部分居民费用承担不起。相比起已有的GEO卫星或HTS卫星的成熟产品可按照人口密度选择覆盖，更具成本优势。</li><li>运营商市场。目前GEO 运营商的模式成熟</li><li>航空和海事宽带。低轨星座(1000~5000km,Starlink II期建设)以带宽大、覆盖广的特点占据主要优势</li><li>军用及政府市场。</li><li>企业宽带接入、车联网。目前主要依靠地面网络。</li></ol><blockquote><p>总结：“星链”倾向于将自己定位为地面电信网络的补充，着眼于大型电信公司未服务到的市场</p></blockquote><h3 id="5-2-通过星间链路实现天基网络的空间连通"><a href="#5-2-通过星间链路实现天基网络的空间连通" class="headerlink" title="5.2 通过星间链路实现天基网络的空间连通"></a>5.2 通过星间链路实现天基网络的空间连通</h3><p>可以减少对地面设施的依赖。一方面，增强了其自主运行的能力；另一方面，只需在地面布设少量的<code>地面关口站</code>就可以实现全球的无缝覆盖。这种空间互联的天基网络方案非常适合我国。</p><h3 id="5-3-天基网络由单层星座向多层星座拓展"><a href="#5-3-天基网络由单层星座向多层星座拓展" class="headerlink" title="5.3 天基网络由单层星座向多层星座拓展"></a>5.3 天基网络由单层星座向多层星座拓展</h3><p>多层星座（例如GEO+LEO）网络在具有更优越的性能</p><h3 id="5-4-星间链路以激光为主，星地链路以微波为主（疑问点4）"><a href="#5-4-星间链路以激光为主，星地链路以微波为主（疑问点4）" class="headerlink" title="5.4 星间链路以激光为主，星地链路以微波为主（疑问点4）"></a>5.4 星间链路以激光为主，星地链路以微波为主（疑问点4）</h3><p>天基网络的星间链路将采用激光链路为主，微波链路为辅的技术方案。<br>星地链路采用微波链路为主，激光链路为辅的方案。</p><h3 id="5-5-天基网络与地面网络融合发展"><a href="#5-5-天基网络与地面网络融合发展" class="headerlink" title="5.5 天基网络与地面网络融合发展"></a>5.5 天基网络与地面网络融合发展</h3><p>地面网络的技术进步快于天基网络，例如软件定义网络SDN、网络功能虚拟化NFV和网络切片NS等。</p><p>未来的6G移动通信系统将融合地面无线通信、高中低轨卫星通信以及短距离直接通信等技术，融合通信与计算、导航、感知和人工智能等技术</p><h2 id="6-天地一体化信息网络关键技术"><a href="#6-天地一体化信息网络关键技术" class="headerlink" title="6 天地一体化信息网络关键技术"></a>6 天地一体化信息网络关键技术</h2><p>三层两域”技术参考模型如图，第二层是星地，第三层是星间(疑问点4)</p><p><img src="/img/report1/2.jpg" alt="2"></p><h3 id="6-1-体系结构设计与优化技术"><a href="#6-1-体系结构设计与优化技术" class="headerlink" title="6.1 体系结构设计与优化技术"></a>6.1 体系结构设计与优化技术</h3><ul><li>传输链路：激光、毫米波、微波等</li><li>交换技术体制：全光电路、射频（RF）电路、分组等</li><li>用户接入环境：近地空间（3.6万千米以下）、临近空间（20～100 km）、近地（20 km以下）、海面和陆地等（网络拓扑、规模和连接关系等均动态可变）</li><li>性能：网络结构自组织、网络状态自调节、网络传输自适应，提升网络多级安全和服务能力</li></ul><h3 id="6-2-网络资源虚拟化及按需组网技术"><a href="#6-2-网络资源虚拟化及按需组网技术" class="headerlink" title="6.2 网络资源虚拟化及按需组网技术"></a>6.2 网络资源虚拟化及按需组网技术</h3><p>天基网络节点资源受限、GEO卫星节点与非GEO卫星节点能力差异大、在轨硬件升级难度大等问题，开展GEO、MEO和LEO等不同轨道卫星节点、链路和地面关口站资源（如计算、存储、带宽、频率和功率等）的虚拟化研究。（可能需用到机器学习技术辅助）</p><ol><li>软件定义网络（SDN）是一种能够将控制和转发进行分离的技术，将其应用于空天自组网,不同接入网络与卫星网络的混合将有助于提高带宽以及均衡负载. SDN可以实现<code>流量控制</code>，从而在最佳链路上无缝分发数据流. 图3 是利用SDN 实现混合网络.</li><li>网络功能虚拟化（NFV）核心思想是IT虚拟化，将传统的通信设备软件与通信硬件解耦</li><li>将SDN和NFV配合可以在异构环境下对全网设备全局管理，从而更为灵活高效的资源分配，并解决传统卫星网络系统配置管理繁琐的问题.</li></ol><p><img src="/img/report1/3.jpg" alt="3"></p><h3 id="6-3-接入机制"><a href="#6-3-接入机制" class="headerlink" title="6.3 接入机制"></a>6.3 接入机制</h3><ol><li>针对空天系统中大量链接需求，现有的正交多址方式如频分多址（FDMA）、时分多址（TDMA）、空分多址（SDMA）、码分多址（CDMA）和正交频分多址（OFDMA）普遍存在频谱利用率不高，可划分的物理资源块受限问题.</li><li>随机接入协议主要用于减少冲突和解决冲突，从而更高效利用网络资源，保证网络稳定. ALOHA协议、时隙ALOHA、CSMA和扩展ALOHA、CSMACD、CDMACA</li></ol><h3 id="6-4-物理层技术忽略"><a href="#6-4-物理层技术忽略" class="headerlink" title="6.4 物理层技术忽略"></a>6.4 物理层技术忽略</h3><ol><li>调制多址技术</li><li>波形技术</li><li>可靠编码技术</li></ol><h3 id="6-5-多域资源管理-5"><a href="#6-5-多域资源管理-5" class="headerlink" title="6.5 多域资源管理[5]"></a>6.5 多域资源管理[5]</h3><blockquote><p>高异构性带来的挑战，设计合理的切换策略以避免不必要的无效切换，保证用户切换的无缝连接以维持较高的通信质量</p></blockquote><ol><li>网络设计，如SDN</li><li>干扰管理与资源共享.共享通信，计算，存储资源.<code>通信资源管理</code>可大致分为基于<code>资源预留</code>的信道资<br>源管理策略、基于<code>预测模型</code>的信道资源管理策略，以及基于<code>博弈论</code>的信道资源管理策略.有学者利用卫星<br>移动轨迹的可预测性，结合用户的移动速率和时延等QoS需求，研究了基于信道预测的下行动态资源优化方案. 解决了波束间切换的联合资源分配问题</li></ol><h3 id="6-6-空天通信网跨层切换及层间切换"><a href="#6-6-空天通信网跨层切换及层间切换" class="headerlink" title="6.6 空天通信网跨层切换及层间切换"></a>6.6 空天通信网跨层切换及层间切换</h3><p>有学者提出来两种切换过程，即S1和X2切换. 当UE在卫星小区之间或在卫星小区与地面eNB之间移动时，发生S1切换（跨层切换），而当UE在地面eNB之间移动时，需要进行X2切换（层间切换）</p><h3 id="6-7-其他"><a href="#6-7-其他" class="headerlink" title="6.7 其他"></a>6.7 其他</h3><ul><li>网络可靠信息传输技术</li><li>网络安全防护技术</li><li>网络运维管理技术</li><li>高并发差异化用户接入控制技术</li><li>仿真验证及评估技术</li></ul><h2 id="技术发展挑战与趋势"><a href="#技术发展挑战与趋势" class="headerlink" title="技术发展挑战与趋势"></a>技术发展挑战与趋势</h2><ol><li>网络智慧柔性化：空天通信网络需要智能化、柔性化的自主重构技术，通过将柔性网络架构和空天通信网络相结合. 从软硬解耦、频谱共享、<code>人工智能优化</code>等关键技术突破，实现动态资源优化分配方案.</li><li>通导感算一体化：空天通信网络是传输、控制等空天领域的承载载体，需要研究结合人工智能，存算一体，软件定义网络等技术的融合，实现三维融合网络中数据的高速传输与转发.</li><li>无线空口智能化：<code>人工智能和深度学习技术</code>已经成为无线通信技术演进的设计新范式. 未来空天通信网络需要研究人工智能增强的空中接口技术，通过智能可演进实现环境适配，迫近通信性能极限.</li><li>传输安全可信化</li></ol><blockquote><p>疑问点5：机器学习在这个章节中多次出现，需要研究哪一具体问题</p></blockquote><h2 id="个人能力综述"><a href="#个人能力综述" class="headerlink" title="个人能力综述"></a>个人能力综述</h2><h3 id="擅长的知识领域"><a href="#擅长的知识领域" class="headerlink" title="擅长的知识领域"></a>擅长的知识领域</h3><p>数据结构+计算机网络+操作系统+数据库应用(Sql+MongoDB)+数字图像处理(OpenCV)+机器学习基础+前端开发(网页,安卓,IOS,小程序)+后端开发(接口调用、数据交互、爬虫、数据分析处理)+App设计(Apple公司专业培训过)</p><h3 id="可能需要补充的知识-太难了…"><a href="#可能需要补充的知识-太难了…" class="headerlink" title="可能需要补充的知识(太难了…)"></a>可能需要补充的知识(太难了…)</h3><h3 id="通信原理"><a href="#通信原理" class="headerlink" title="通信原理"></a>通信原理</h3><h4 id="书籍"><a href="#书籍" class="headerlink" title="书籍"></a>书籍</h4><ul><li>樊昌信，曹丽娜编著，《通信原理》（第7版），北京：国防工业出版社，2012.11.</li><li>《通信原理（合订本）》北京邮电大学出版社，周炯槃/庞沁华等编;</li></ul><h4 id="网课"><a href="#网课" class="headerlink" title="网课"></a>网课</h4><ul><li><a href="https://www.icourse163.org/course/NUDT-316006?from=searchPage" target="_blank" rel="noopener">Mooc国防科技大学</a></li><li>西安电子科技大学的曹丽娜老师</li></ul><h3 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h3><p>信号与系统、《数字逻辑电路》、《数字信号处理》、《高频电子线路》</p><h2 id="国内该研究方向的机构"><a href="#国内该研究方向的机构" class="headerlink" title="国内该研究方向的机构"></a>国内该研究方向的机构</h2><ul><li>中国科学院软件研究所 天基综合信息系统重点实验室</li><li>北京空间科技信息研究所</li><li>中国长城工业集团有限公司</li><li>中国航天科技集团有限公司——“鸿雁”星座</li><li>中国航天科工集团第二研究院——“虹云”星座</li><li>中国电子科技集团——“天象”星座</li><li>银河航天公司——“银河Galaxy”星座</li></ul><h2 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h2><ul><li>[1]吴超, 谢伟. “星链”计划未来发展分析[J]. 国际太空, 2020(6):5.</li><li>[2]李博. “星链”星座近期动向分析[J]. 国际太空, 2019.</li><li>[3]吴巍.天地一体化信息网络发展综述[J].天地一体化信息网络,2020,1(01):1-16.</li><li>[4]<a href="https://baijiahao.baidu.com/s?id=1686435002109941998&wfr=spider&for=pc" target="_blank" rel="noopener">《“十三五”国家信息化规划》</a></li><li>[5]安建平,建国,于季弘,叶能.空天通信网络关键技术综述[J].电子学报,2021</li><li>[6]刘帅军、徐帆江、刘立祥、王大鹏. Starlink星座覆盖与时延分析[J]. 卫星与网络, 2020(7):3.</li></ul><blockquote style="margin: 2em 0 0;padding: 0.5em 1em;border-left: 3px solid #F44336;background-color: #F5F5F5;list-style: none;"><p> <strong>本文使用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/" target="_blank" rel="noopener">CC BY-NC-SA 3.0 中国大陆</a> 协议许可<br>具体请参见 <a href="https://zyhang8.github.io/agree/" target="_blank" rel="noopener">知识共享协议</a></strong><br> <strong>本文链接：</strong><a href="https://zyhang8.github.io/2022/04/14/report1/" target="_blank" rel="noopener">https://zyhang8.github.io/2022/04/14/report1/</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 5GC </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 5GC </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>游记·杭州</title>
      <link href="/2021/01/20/2021-1-20/"/>
      <url>/2021/01/20/2021-1-20/</url>
      
        <content type="html"><![CDATA[<h1 id="Wuxi"><a href="#Wuxi" class="headerlink" title="Wuxi!"></a>Wuxi!</h1><h2 id="出行准备"><a href="#出行准备" class="headerlink" title="出行准备"></a>出行准备</h2><p>支付宝交通<br>健康码<br>马蜂窝(本地菜景点)<br>高德(导航)<br>kindle(路上消磨时间)<br>身份证/学生证 随身(景点必备)</p><h2 id="出行-2019-8-21-2019-8-26"><a href="#出行-2019-8-21-2019-8-26" class="headerlink" title="出行(2019.8.21-2019.8.26)"></a>出行(2019.8.21-2019.8.26)</h2><h3 id="第一天"><a href="#第一天" class="headerlink" title="第一天"></a>第一天</h3><ul><li>早上6点起床，收拾完宿舍前往虹桥机场，中午到了杭州东站</li><li>前往火车站附近的杭州她他1314青年客栈(hh第一次住客栈想体验一下)</li><li>放完行李就去了杭州酒家(延安路店)干饭了，真是又便宜又好吃，还在市中心</li><li>吃完前往飞来峰，上一次灵隐寺逛完就开始下起了雨，结果雨越来越大，没玩没了，变成了暴雨，于是只能冒着雨原路返回，今天太阳还有点辣，感觉穿多了，中间路过灵隐寺，发现今天好像是腊八所以限时免费进入，平常灵隐寺的门票还略贵，后登上了飞来峰，然后一口气直接上了北高峰的峰顶，实在太累，坐缆车下来了，缆车也贼便宜，20块，风景也很好，一片片农田，茶树，还有农村的小房子建在茶园边，所以吧，每次看到农村转户为城镇，又不得为农民叹气，为何一个工农联盟的为基础的政党却在时不时的欺负最好欺负的群体，不想以前了，农民现在哪能起义呢，连无产阶级都干不过称996是福报的资产阶级，更干不过xxx。</li><li>下山后，前往雷峰塔，这也是白娘子的拍摄地，进去了之后，发现风景格外好啊，看到杭州市中心，看到西湖全貌，看到青山绿水，看到农田耕地，不过亭子貌似被翻新过，没有历史的味道hh，不过里面的遗址还是值得探究一番</li><li>雷峰塔逛完已经快5点了</li><li>本来打算去断桥残雪那里走一走，看看夕阳西下西湖的独特风味，可是公交车始终没等到，于是坐了别的路线前往了河坊街找吃的</li><li>路上看了下河坊街的攻略，后看了地址发现很多甚至不再街上，一开始走进了羊汤饭店，点了他们的特色-烧麦，刚上来一股弄弄的羊肉味扑鼻而来，烧麦皮也是手工的，醋也够酸，简直秀色可餐。吃完继续走河坊街，突然想起去年我不是刚来过河坊街吗，只是上次有任务在身，趁着晚上有点空闲跑过来看看，一路上还有任务在忙，于是也没什么印象了，这次来也是为了弥补上次的遗憾，不过始终感觉人不是很多，稀稀疏疏，看着路边的摊贩也很多不是很有特色，街上点了一份葱包烩和定胜糕，定胜糕也吃不出什么独特的，不过也比普通的嫩些，至于葱包烩还不如一个手抓饼。。</li><li>吃完边前往西湖边准备看音乐喷泉，早了半小时，我就在苹果旗舰店逛了逛，一家卖电子商品的始终比商场人成功，苹果带给用户极致的体验和名副其实一流的顶尖公司。进店后，体验了新版的12 mini，这只报废下次就入手了hh(如果苹果不再出单摄的话)，手机对于我来说主要还是社交，而不是拍摄工具，省下来的钱买镜头不香吗，不过到现在依然没去学习摄影hh。手机的重量对于我也很看重，可能大一点就会失去并行干活的能力了。后体验了新版的airpods max，那音质，绝对跟大法xm3不香上下，至于降噪，甚至比bose qc3还出色，在嘈杂的旗舰店带上后，一点杂音都没，而且海绵做的够细致，估计苹果也意识到beats夹耳的鸡肋，海绵做的够厚，损失的也是耳机美观，目前这款耳机缺点估计就是丑吧hh，而且太笨重，跟冬天的耳罩一样，不过每次苹果的丑也是新一代产品的设计标杆，期待各大产商后续的产品。后面还体验了imac pro，96内存，4k估计也能秒生成了。。屏幕忘记看多少了，不过肯定5k以上。</li><li>逛完时间差不多就去西湖边上，不过令人失望的是听到扩音器说着，很抱歉，音乐喷泉暂停开放。。上上次就是因为没赶上点所以没看上，这次赶上缺停了</li><li>本来还想去阿里中心，不过今天也挺累的，回到酒店后，写完日记，计划好明天行程，睡觉~</li></ul><h2 id="第二天"><a href="#第二天" class="headerlink" title="第二天"></a>第二天</h2><ul><li>计划好早起结果8点才起，快速解决就前往了阿里中心，不过没进去，只是在门口看到职员们赶着点跑进里面，而且大多是年轻人，想想我，唉，开始自卑，还是要努力努力再努力。。</li><li>后面就去了白塔，不过去了之后发现在翻新，只能看到塔的上一半，简单拍完照后就去了六和塔，六和塔貌似有一定的历史，花了九牛二虎之力爬上了最高层，7层，到那风景甚好，可以看到钱塘江全貌，钱塘江对面全貌，水非常的绿，钱塘江大桥是多么的宏伟，朦胧看到之江大桥。</li><li>而后前往了浙大之江校区，曾经的学校梦破碎只能到门口拍几张找留念留念……</li><li>打车前往了九曲云溪，那里的小溪和灌木构成一幅和谐的画面，不过海拔也不高，也没有那种朦胧美，后面去了龙井村，路上有很多非常高的树，不知道是啥，不过现在季节只有树干，可能早点来还能看到枫叶，晚点来能看到开花。桂花树也没开，不过今天人少，拍出来的照片还是别具一番风格，而且路上也看到有戏组在拍戏，有个高高的明星挺帅的hhh，也不知道叫啥。快到龙井村的时候，不知道半路哪里跑出来的阿姨，一路跟我唠嗑，问我一个人来，哪里来等等。后来谈到他们的龙井，说他们的龙井交狮峰龙井，跟西湖龙井不一样，比西湖龙井还要好。然后还邀请我去他家品尝品尝，说如果喜欢的话可以买一点。到了那里品尝了一下，本人对茶叶也不了解，虽然老家那边的人都是以茶代水。不过喝起来倒是挺香的，一开始就看到一个什么狮峰龙井的技师证书，当时也很想验证一下是不是真的，不过想想还是算了没拍下来，后来阿姨要我多泡几次说泡了2，3次更好喝，到那会我就在想这里的茶叶真的有那么好吗。我就查了查知乎，果不其然，这里的茶叶基本不是自己钟的，更不是阿姨说的什么自产自销。然后还看到一系列关于龙井村的骗局，比我现在的经历恐怖多了，我就立马想找机会溜了，喝完阿姨又加上了，我趁她不在都倒进水壶里了，跟阿姨谢绝后本来打算走了，阿姨又说茶水费5块，我开始怼他了说当时你也没说，他说全村都这样的。我就说我付完走吧，然后扫了扫码快步走向门外，到门外走了有一会，我其实还没付款，看到收款人的昵称有点像是年轻人的账号，我也没付款，快步离开这个村，一路上还想着他到底还会不会来追我hhh，我还想着当时水里下药了我该怎么办，其实快进入阿姨家的时候我就想着要不要录个音，现在感觉很有必要，而且陌生人给的东西不能碰，特别是一个人的时候。以后还是要多机灵些。。</li><li>肚子有点饿本来打算去吃饭了，不过看到路上途径了中国丝绸博物馆就想进去看看，刚到门口，就看到这个馆不同寻常，一个博物馆门口都有音乐喷泉，而且还用了沉浸式地面。进入馆中，这馆都是清代宋代等朝代的文物，款式各种各样，衣服上的图案寓意丰富，习近平彭丽媛等都来这里参观过，看到里面的科普形式也十分丰富，还有那种专门为小朋友设计的小游戏的互动屏幕，而且还有用了智能家居，一进观众，里面的灯按顺序亮了起来，慢慢的仪式感，而且还专门装修了一个古代的房间和放置了模特显得更加真实，里面还用了类似上海世博会展览馆那种大屏沉浸式多媒体数字展示间。里面有好多个大馆，有外国人的服饰馆，婚纱馆，还有一间制作丝绸的仪器馆，眼前一亮的是这里还有了论文进行介绍，这在我参观的总多博物馆和展览馆中还是头次见的科普形式，显得更加科学，本以为里面的大仪器都是不能用的，走到后面看到一个叔叔正在制作丝绸衣服，我驻足观赏了好久，看他如何一丝一丝的衔接起来，图案颜色是如何切换丝绸线然后制作的，每一根丝绸都是还好几道步骤，而且需要一定的耐心。</li><li>肚子很饿了，离开的时候还看到；里面设计的小路也很有感觉，四周都是水，仿佛身处威尼斯，还看到了饿，貌似有一只很想狮头鹅。看了看马蜂窝，千万了马大爷(好像是吧)，没想到2点到了还排了很长的队，排了半小时！店铺非常小，挂满了很多奖杯奖状，怪不得排榜一，点了这家店评分口碑最好的腰花番茄汁拌面，实在是太好吃了，虽然不便宜，但是料非常多，而且免费加汤加面。快吃完的时候，对面的吃完了，本来想等服务员过来收掉的时候告诉他我要去加汤别收掉我的，可他迟迟不来，我把收集放在桌上然后就走了，等的时候回头看了看，他已经收了，我就很无奈了，过去跟他说我手机书包不是还在拿吗？他也就瞎解释了一番然后我就走了。好感度直线下降</li><li>然后去了离得不远的胡雪岩故居，刚好有人请了导游，我就一路上听着，他的估计相当繁华，7000多平米，听说当时他帮了左宗棠，后面也富可敌国，收入是国家的一半，涉及各种行业，不过后来政变，他也跟着倒霉，破产。。</li><li>后面就去了断桥残雪，桥人看到很多穿着不同寻常的衣服，我也分辨不出来是什么服装，不过确实十分漂亮，看到西湖四周的风景，要是西湖旁的柳树都开就好了。</li><li>后面就去打卡了一下华为全球培训中心，地是真的大，而且门口还站着安保。。</li><li>后面又到饭店，不知道吃啥就还是去了新白鹿餐厅。点了4个菜，吃撑了，一边吃，一边听着隔壁桌设计行业的大佬在说工作的事情。</li><li>回到酒店。第一次住青年旅社，感觉还是不太适合我，早早关灯，然后各自在里面玩手机，不怕伤眼吗，为了省一点点电…………而且浴室也有问题，等了1个小时我才能洗到澡，等的时候我也写完了第二天的行程。</li><li>看到上海又复发了，幸运自己来到了杭州hh。明早回家咯，有一点点小期待~</li></ul><blockquote style="margin: 2em 0 0;padding: 0.5em 1em;border-left: 3px solid #F44336;background-color: #F5F5F5;list-style: none;"><p> <strong>本文使用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/" target="_blank" rel="noopener">CC BY-NC-SA 3.0 中国大陆</a> 协议许可<br>具体请参见 <a href="https://zyhang8.github.io/agree/" target="_blank" rel="noopener">知识共享协议</a></strong><br> <strong>本文链接：</strong><a href="https://zyhang8.github.io/2021/01/20/2021-1-20/" target="_blank" rel="noopener">https://zyhang8.github.io/2021/01/20/2021-1-20/</a></p></blockquote>]]></content>
      
      
      
        <tags>
            
            <tag> 游行 </tag>
            
            <tag> 杭州 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>genertic-algorithm</title>
      <link href="/2021/01/04/genertic-algorithm/"/>
      <url>/2021/01/04/genertic-algorithm/</url>
      
        <content type="html"><![CDATA[<h1 id="遗传算法"><a href="#遗传算法" class="headerlink" title="遗传算法"></a>遗传算法</h1><h2 id="算法简介"><a href="#算法简介" class="headerlink" title="算法简介"></a>算法简介</h2><p>遗传算法 ( Genetic Algorithms, GA )是基于生物界自然选择和基因遗传学原理的一种广为应用的、高效的随机搜索算法，20世纪60年代由美国的密执根大学的Holland教授首先提出。该算法将优化问题看作是自然界中生物的进化过程，通过模拟大自然中生物进化过程中的遗传规律，来达到寻优的目的。近年来，遗传算法已广泛地应用于作业调度与排序、可靠性设计、车辆路径选择与调度、成组技术、设备布置与分配、交通问题等等。</p><p>用遗传算法求解优化问题时，一定数量的候选解（称为个体）的抽象表示（称为染色体）的种群向更好的解进化。传统上，解用二进制表示（即0和1的串），但也可以用其他表示方法。进化从完全随机个体的种群开始，之后一代一代发生。在每一代中，整个种群的适应度被评价，从当前种群中随机地选择多个个体（基于它们的适应度），通过自然选择和突变产生新的生命种群，该种群在算法的下一次迭代中成为当前种群。</p><h2 id="算法描述"><a href="#算法描述" class="headerlink" title="算法描述"></a>算法描述</h2><p>选择初始生命种群</p><p>循环</p><ul><li><p>评价种群中的个体适应度</p></li><li><p>以比例原则（分数高的挑中机率也较高）选择产生下一个种群（轮盘法 en:roulette wheel selection、竞争法 en:tournament selection 及等级轮盘法 Rank Based Wheel Selection）。不仅仅挑分数最高的的原因是这么做可能收敛到 local 的最佳点，而非 globe 的。</p></li><li><p>改变该种群（交叉和变异）</p></li><li><p>直到停止循环的条件满足</p></li><li><h2 id="算法参数"><a href="#算法参数" class="headerlink" title="算法参数"></a>算法参数</h2></li><li><p>种群规模(P,population size)：即种群中染色体个体的数目。 </p></li><li><p>字串长度(l, string length) </p></li><li><p>交叉概率(pc, probability of performing crossover)：控制着交叉算子的使用频率。交叉操作可以加快收敛，使解达到最有希望的最优解区域，因此一般取较大的交叉概率，但交叉概率太高也可能导致过早收敛。 </p></li><li><p>变异概率(pm, probability of mutation)：控制着变异算子的使用频率。 </p></li><li><p>中止条件(termination criteria) </p></li></ul><h2 id="算法特点"><a href="#算法特点" class="headerlink" title="算法特点"></a>算法特点</h2><p>遗传算法在适应度函数选择不当的情况下有可能收敛于局部最优，而不能达到全局最优。 </p><p>初始种群的数量很重要，如果初始种群数量过多，算法会占用大量系统资源；如果初始种群数量过少，算法很可能忽略掉最优解。 </p><p>对于每个解，一般根据实际情况进行编码，这样有利于编写变异函数和合适方程(Fitness Function)。 </p><p>在编码过的遗传算法中，每次变异的编码长度也影响到遗传算法的效率。如果变异代码长度过长，变异的多样性会受到限制；如果变异代码过短，变异的效率会非常低下，选择适当的变异长度是提高效率的关键。 </p><p>变异率也是一个重要的参数。 </p><p>对于动态数据，用遗传算法求最优解比较困难，因为染色体种群很可能过早地收敛，而对以后变化了的数据不再产生变化。对于这个问题，研究者提出了一些方法增加基因的多样性，从而防止过早的收敛。其中一种是所谓触发式超级变异，就是当染色体群体的质量下降（彼此的区别减少）时增加变异概率；另一种叫随机外来染色体，是偶尔加入一些全新的随机生成的染色体个体，从而增加染色体多样性。 </p><p>选择过程很重要，但交叉和变异的重要性存在争议。一种观点认为交叉比变异更重要，因为变异仅仅是保证不丢失某些可能的解；而另一种观点则认为交叉过程的作用只不过是在种群中推广变异过程所造成的更新，对于初期的种群来说，交叉几乎等效于一个非常大的变异率，而这么大的变异很可能影响进化过程。 </p><p>遗传算法很快就能找到良好的解，即使是在很复杂的解空间中。 </p><p>遗传算法并不一定总是最好的优化策略，优化问题要具体情况具体分析。所以在使用遗传算法的同时，也可以尝试其他算法，互相补充，甚至根本不用遗传算法。 </p><p>遗传算法不能解决那些“大海捞针”的问题，所谓“大海捞针”问题就是没有一个确切的适应度函数表征个体好坏的问题，遗传算法对这类问题无法找到收敛的路。 </p><p>对于任何一个具体的优化问题，调节遗传算法的参数可能会有利于更好的更快的收敛，这些参数包括个体数目、交叉律和变异律。例如太大的变异律会导致丢失最优解，而过小的变异律会导致算法过早的收敛于局部最优点。对于这些参数的选择，现在还没有实用的上下限。 </p><p>适应度函数对于算法的速度和效果也很重要。 </p><h2 id="部分交叉匹配PMX-amp-顺序交叉OX"><a href="#部分交叉匹配PMX-amp-顺序交叉OX" class="headerlink" title="部分交叉匹配PMX &amp; 顺序交叉OX"></a>部分交叉匹配PMX &amp; 顺序交叉OX</h2><p><a href="https://imgchr.com/i/siY43R" target="_blank" rel="noopener"><img src="https://s3.ax1x.com/2021/01/04/siY43R.png" alt="siY43R.png"></a></p><ul><li>部分交叉匹配PMX异同点：中间部分若有重复则直接替换，若无重复，则在其他地方寻找该数并替换</li><li>顺序交叉OX异同点：本质与部分匹配相同</li></ul><h2 id="两点互换、相邻互换、区间逆换、单点移动"><a href="#两点互换、相邻互换、区间逆换、单点移动" class="headerlink" title="两点互换、相邻互换、区间逆换、单点移动"></a>两点互换、相邻互换、区间逆换、单点移动</h2><p><a href="https://imgchr.com/i/siJMQ0" target="_blank" rel="noopener"><img src="https://s3.ax1x.com/2021/01/04/siJMQ0.png" alt="siJMQ0.png"></a></p><p>特点：字面意思。。。</p><h2 id="遗传算法演示"><a href="#遗传算法演示" class="headerlink" title="遗传算法演示"></a>遗传算法演示</h2><h3 id="特点"><a href="#特点" class="headerlink" title="特点"></a>特点</h3><ol><li>与问题领域无关切快速随机的搜索能力。</li><li>搜索从群体出发，具有潜在的并行性，可以进行多个个体的同时比较，robust</li><li>搜索使用评价函数启发，过程简单</li><li>使用概率机制进行迭代，具有随机性。</li><li>具有可扩展性，容易与其他算法结合。</li></ol><p><a href="https://imgchr.com/i/siJuzq" target="_blank" rel="noopener"><img src="https://s3.ax1x.com/2021/01/04/siJuzq.png" alt="siJuzq.png"></a></p><h3 id="代码演示"><a href="#代码演示" class="headerlink" title="代码演示"></a>代码演示</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// Created by thinkpad on 2021/1/4.</span></span><br><span class="line"><span class="comment">//遗传算法求解TSP问题</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;ctime&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; VI;</span><br><span class="line"><span class="keyword">typedef</span> <span class="built_in">vector</span>&lt;VI&gt; VVI;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> PB push_back</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MP make_pair</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">next_int</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> rand()*(RAND_MAX+<span class="number">1</span>)+rand();</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">next_double</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> (<span class="keyword">double</span>(rand()*(RAND_MAX+<span class="number">1</span>)+rand()))/((RAND_MAX+<span class="number">1</span>)*RAND_MAX+RAND_MAX);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">pmx</span><span class="params">(VI&amp; a,VI&amp; b,<span class="keyword">int</span> pointcnt)</span><span class="comment">//PMX交叉</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> sa=next_int()%pointcnt,sb=next_int()%pointcnt;<span class="comment">//随机选择两交叉位</span></span><br><span class="line">    <span class="keyword">int</span> temp;</span><br><span class="line">    <span class="keyword">if</span> (sa&gt;sb)</span><br><span class="line">    &#123;</span><br><span class="line">        temp=sa;</span><br><span class="line">        sa=sb;</span><br><span class="line">        sb=temp;</span><br><span class="line">    &#125;<span class="comment">//保证交叉位sa&lt;=sb</span></span><br><span class="line">    VI aa(pointcnt),bb(pointcnt);</span><br><span class="line">    <span class="keyword">int</span> i;</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;pointcnt;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        aa[i]=a[i],bb[i]=b[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function">VI <span class="title">m1</span><span class="params">(pointcnt,<span class="number">-1</span>)</span></span>;</span><br><span class="line">    <span class="function">VI <span class="title">m2</span><span class="params">(pointcnt,<span class="number">-1</span>)</span></span>;</span><br><span class="line">    <span class="function">VI <span class="title">v1tov2</span><span class="params">(pointcnt,<span class="number">-1</span>)</span></span>;</span><br><span class="line">    <span class="keyword">for</span>(i=sa;i&lt;=sb;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        m1[aa[i]]=<span class="number">-2</span>;<span class="comment">//m1存放aa非交叉段可代换的基因</span></span><br><span class="line">        m2[bb[i]]=<span class="number">-2</span>;<span class="comment">//m2存放aa非交叉段可代换的基因</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;pointcnt;i++)&#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(m2[i]==m1[i])<span class="comment">//去掉m1和m2中重复代换的基因</span></span><br><span class="line">        &#123;</span><br><span class="line">            m2[i]=<span class="number">-1</span>;</span><br><span class="line">            m1[i]=<span class="number">-1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> aaa=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(i=sa;i&lt;=sb;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> ((m1[aa[i]]==<span class="number">-2</span>)&amp;&amp;(m2[bb[i]]==<span class="number">-2</span>))</span><br><span class="line">        &#123;</span><br><span class="line">            v1tov2[aa[i]]=bb[i];<span class="comment">//v1tov2存放首先可以确定的互换基因</span></span><br><span class="line">            m1[aa[i]]=<span class="number">-1</span>;</span><br><span class="line">            m2[bb[i]]=<span class="number">-1</span>;</span><br><span class="line">            aaa++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(aaa!=(sb-sa+<span class="number">1</span>))</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;pointcnt;i++)</span><br><span class="line">            <span class="keyword">if</span> (m1[i]==<span class="number">-2</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">int</span> aflag=<span class="number">0</span>;</span><br><span class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;pointcnt;j++)</span><br><span class="line">                    <span class="keyword">if</span>( (m2[j]==<span class="number">-2</span>) &amp;&amp; (aflag==<span class="number">0</span>))<span class="comment">//寻找并确定可以互换的基因</span></span><br><span class="line">                    &#123;</span><br><span class="line">                        v1tov2[i]=j;</span><br><span class="line">                        aflag=<span class="number">1</span>;</span><br><span class="line">                        aaa++;</span><br><span class="line">                        m2[j]=<span class="number">-1</span>;</span><br><span class="line">                        m1[i]=<span class="number">-1</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(i=sa;i&lt;=sb;i++)&#123;</span><br><span class="line"></span><br><span class="line">        swap(aa[i],bb[i]);<span class="comment">//交换sa到sb之间的基因串</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;pointcnt;i++)<span class="comment">//查找染色体aa中sa之前和sb之后的基因是否有重复</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> ((i&lt;sa)||(i&gt;sb))</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j=sa;j&lt;=sb;j++)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span>(aa[i]==aa[j])  <span class="comment">//有重复基因</span></span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="keyword">for</span>(<span class="keyword">int</span> k=<span class="number">0</span>;k&lt;pointcnt;k++)</span><br><span class="line">                        <span class="keyword">if</span>(aa[i]==v1tov2[k])</span><br><span class="line">                            aa[i]=k;<span class="comment">//进行互换</span></span><br><span class="line"></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;pointcnt;i++)<span class="comment">//查找染色体bb中sa之前和sb之后的基因是否有重复</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> ((i&lt;sa)||(i&gt;sb))</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j=sa;j&lt;=sb;j++)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span>(bb[i]==bb[j]) <span class="comment">//有重复基因</span></span><br><span class="line">                    bb[i]=v1tov2[bb[i]];<span class="comment">//进行互换</span></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    a=aa;</span><br><span class="line">    b=bb;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">double</span>&gt; x,y;</span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">fitness</span><span class="params">(<span class="keyword">const</span> VI&amp; v,<span class="keyword">int</span> pointcnt)</span><span class="comment">//计算适应度</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">double</span> r=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;pointcnt;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">double</span> dx=x[v[i]]-x[v[(i+<span class="number">1</span>)%pointcnt]];</span><br><span class="line">        <span class="keyword">double</span> dy=y[v[i]]-y[v[(i+<span class="number">1</span>)%pointcnt]];</span><br><span class="line">        r+=<span class="built_in">sqrt</span>(dx*dx+dy*dy);<span class="comment">//个体的适应度为相邻两城市之间的距离平方的平方根和</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1.0</span>/r;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">change0</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; K,<span class="keyword">int</span> N)</span><span class="comment">//变异策略:两点互换</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i=next_int()%N;</span><br><span class="line">    <span class="keyword">int</span> d=next_int()%(N<span class="number">-1</span>);</span><br><span class="line">    <span class="keyword">int</span> j=(i+<span class="number">1</span>+d)%N;</span><br><span class="line">    swap(K[i],K[j]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">mutate</span><span class="params">(VI&amp; route,<span class="keyword">int</span> mutate_type,<span class="keyword">int</span> pointcnt)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(mutate_type==<span class="number">0</span>)<span class="comment">//两点互换</span></span><br><span class="line">        change0(route,pointcnt);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">pair_dec</span><span class="params">(<span class="keyword">const</span> pair&lt;<span class="keyword">double</span>,VI*&gt;&amp; a,<span class="keyword">const</span> pair&lt;<span class="keyword">double</span>,VI*&gt;&amp; b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a&gt;b;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">other_population</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="keyword">int</span> popsize,pointcnt;<span class="comment">//种群规模,染色体长度</span></span><br><span class="line">    <span class="keyword">double</span> pc,pm;<span class="comment">//交叉概率,变异概率</span></span><br><span class="line">    <span class="built_in">vector</span>&lt;pair&lt;<span class="keyword">double</span>,VI*&gt; &gt;pop;<span class="comment">//种群</span></span><br><span class="line">    pair&lt;<span class="keyword">double</span>,VI*&gt; bestofpop;<span class="comment">//最好个体</span></span><br><span class="line">    <span class="keyword">int</span> cross_type;<span class="comment">//交叉类型</span></span><br><span class="line">    <span class="keyword">int</span> mutate_type;<span class="comment">//变异类型</span></span><br><span class="line">    <span class="keyword">int</span> make_p;<span class="comment">//个体概率分配策略类型</span></span><br><span class="line">    <span class="keyword">int</span> select_type;<span class="comment">//个体选择类型</span></span><br><span class="line">    <span class="keyword">int</span> toursize;<span class="comment">//竞赛规模</span></span><br><span class="line">    <span class="keyword">double</span> bestp;<span class="comment">//最好个体选择概率</span></span><br><span class="line">    other_population(<span class="keyword">int</span> a,<span class="keyword">int</span> b,<span class="keyword">int</span> c,<span class="keyword">int</span> f,<span class="keyword">int</span> g,<span class="keyword">double</span> d,<span class="keyword">double</span> e,<span class="keyword">int</span> h,<span class="keyword">double</span> j,<span class="keyword">int</span> m)</span><br><span class="line">    &#123;</span><br><span class="line">        popsize=a,pointcnt=b,cross_type=c,mutate_type=f,make_p=g,pc=d,pm=e,toursize=h,bestp=j,select_type=m;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;popsize;i++)<span class="comment">//初始化种群</span></span><br><span class="line">        &#123;</span><br><span class="line">            VI* v=<span class="keyword">new</span> VI(pointcnt);</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;pointcnt;j++)</span><br><span class="line">                (*v)[j]=j;</span><br><span class="line">            random_shuffle(v-&gt;begin(),v-&gt;end());</span><br><span class="line">            pop.PB(MP(fitness(*v,pointcnt),v));</span><br><span class="line">        &#125;</span><br><span class="line">        sort(pop.begin(),pop.end(),pair_dec);</span><br><span class="line">        bestofpop.first=pop[<span class="number">0</span>].first;<span class="comment">//初始时最好个体的适应度</span></span><br><span class="line">        bestofpop.second=<span class="keyword">new</span> VI(*pop[<span class="number">0</span>].second);<span class="comment">//初始时最好个体的染色体</span></span><br><span class="line">    &#125;</span><br><span class="line">    ~other_population()</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;pop.size();i++)</span><br><span class="line">            <span class="keyword">delete</span> pop[i].second;</span><br><span class="line">        <span class="keyword">delete</span> bestofpop.second;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">next</span><span class="params">()</span><span class="comment">//产生下一代种群</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">double</span>&gt; ps(popsize);</span><br><span class="line">        <span class="keyword">if</span>(make_p==<span class="number">0</span>) <span class="comment">//按适应度比例分配个体的选择概率</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">double</span> sum=<span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;popsize;i++)</span><br><span class="line">                sum+=pop[i].first;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;popsize;i++)</span><br><span class="line">                ps[i]=pop[i].first/sum;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(select_type==<span class="number">0</span>)<span class="comment">//轮盘赌选择个体</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">vector</span>&lt;pair&lt;<span class="keyword">double</span>,VI*&gt; &gt; select_res;</span><br><span class="line">            <span class="built_in">vector</span>&lt;<span class="keyword">double</span>&gt; addsum(popsize);</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;popsize<span class="number">-1</span>;i++)<span class="comment">//计算个体的累计概率</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span>(i==<span class="number">0</span>)</span><br><span class="line">                    addsum[i]=ps[<span class="number">0</span>];</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                    addsum[i]=addsum[i<span class="number">-1</span>]+ps[i];</span><br><span class="line">            &#125;</span><br><span class="line">            addsum[popsize<span class="number">-1</span>]=<span class="number">1.5</span>;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;popsize;i++)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">double</span> rd=next_double();</span><br><span class="line">                <span class="keyword">int</span> r=lower_bound(addsum.begin(),addsum.end(),rd)-addsum.begin();</span><br><span class="line">                VI* v=<span class="keyword">new</span> VI(*pop[r].second);</span><br><span class="line">                select_res.PB(MP(fitness(*v,pointcnt),v));</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;popsize;i++)</span><br><span class="line">                <span class="keyword">delete</span> pop[i].second;</span><br><span class="line">            pop=select_res;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> cc=<span class="number">0</span>;cc&lt;popsize/<span class="number">2</span>;cc++)<span class="comment">//随机选择两个个体,然后进行交叉</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">int</span> a=next_int()%popsize;</span><br><span class="line">            <span class="keyword">int</span> b=(a+<span class="number">1</span>+(next_int()%(popsize<span class="number">-1</span>)))%popsize;</span><br><span class="line">            <span class="keyword">if</span>(next_double()&lt;pc)<span class="comment">//随机数小于交叉概率,进行交叉</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span>(cross_type==<span class="number">0</span>)<span class="comment">//pmx交叉</span></span><br><span class="line">                    pmx(*pop[a].second,*pop[b].second,pointcnt);</span><br><span class="line"></span><br><span class="line">                pop[a].first=fitness(*pop[a].second,pointcnt);<span class="comment">//计算交叉后个体a的适应度</span></span><br><span class="line">                <span class="keyword">if</span>(bestofpop.first&lt;pop[a].first)<span class="comment">//更新最好个体</span></span><br><span class="line">                &#123;</span><br><span class="line">                    bestofpop.first=pop[a].first;</span><br><span class="line">                    <span class="keyword">delete</span> bestofpop.second;</span><br><span class="line">                    bestofpop.second=<span class="keyword">new</span> VI(*pop[a].second);</span><br><span class="line">                &#125;</span><br><span class="line">                pop[b].first=fitness(*pop[b].second,pointcnt);<span class="comment">//计算交叉后个体b的适应度</span></span><br><span class="line">                <span class="keyword">if</span>(bestofpop.first&lt;pop[b].first)<span class="comment">//更新最好个体</span></span><br><span class="line">                &#123;</span><br><span class="line">                    bestofpop.first=pop[b].first;</span><br><span class="line">                    <span class="keyword">delete</span> bestofpop.second;</span><br><span class="line">                    bestofpop.second=<span class="keyword">new</span> VI(*pop[b].second);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=pop.size()<span class="number">-1</span>;i&gt;=<span class="number">0</span>;i--)<span class="comment">//进行变异</span></span><br><span class="line">            <span class="keyword">if</span>(next_double()&lt;pm)<span class="comment">//随机数小于变异概率,进行变异</span></span><br><span class="line">            &#123;</span><br><span class="line">                mutate(*pop[i].second,mutate_type,pointcnt);<span class="comment">//变异</span></span><br><span class="line">                pop[i].first=fitness(*pop[i].second,pointcnt);<span class="comment">//计算变异后个体的适应度</span></span><br><span class="line">            &#125;</span><br><span class="line">        sort(pop.begin(),pop.end(),pair_dec);<span class="comment">//从大到小排序</span></span><br><span class="line">        <span class="keyword">if</span>(bestofpop.first&lt;pop[<span class="number">0</span>].first)<span class="comment">//更新最好个体</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">delete</span> bestofpop.second;</span><br><span class="line">            bestofpop.first=pop[<span class="number">0</span>].first;</span><br><span class="line">            bestofpop.second=<span class="keyword">new</span> VI(*pop[<span class="number">0</span>].second);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    srand((<span class="keyword">unsigned</span>)time(<span class="literal">NULL</span>));</span><br><span class="line">    <span class="keyword">int</span> CASNUM,POINTCNT,POPSIZE,GENERATIONS;</span><br><span class="line">    <span class="comment">//scanf("%d",&amp;CASNUM);//输入实验次数</span></span><br><span class="line">    CASNUM=<span class="number">10</span>;<span class="comment">//输入实验次数</span></span><br><span class="line">    <span class="comment">//scanf("%d%d%d",&amp;POINTCNT,&amp;POPSIZE,&amp;GENERATIONS);//输入染色体长度（城市数），种群规模，最大迭代步数</span></span><br><span class="line">    POINTCNT=<span class="number">10</span>, POPSIZE=<span class="number">100</span>,GENERATIONS=<span class="number">100</span>;<span class="comment">//输入染色体长度（城市数），种群规模，最大迭代步数</span></span><br><span class="line">    x.resize(POINTCNT);</span><br><span class="line">    y.resize(POINTCNT);</span><br><span class="line">    x[<span class="number">0</span>]=<span class="number">0</span>, x[<span class="number">1</span>]=<span class="number">1.1</span>,x[<span class="number">2</span>]=<span class="number">3.5</span>,x[<span class="number">3</span>]=<span class="number">3</span>,x[<span class="number">4</span>]=<span class="number">7</span>,x[<span class="number">5</span>]=<span class="number">8</span>,x[<span class="number">6</span>]=<span class="number">4</span>,x[<span class="number">7</span>]=<span class="number">4.5</span>,x[<span class="number">8</span>]=<span class="number">9</span>,x[<span class="number">9</span>]=<span class="number">2</span>;</span><br><span class="line">    y[<span class="number">0</span>]=<span class="number">1.1</span>,y[<span class="number">1</span>]=<span class="number">3</span>,y[<span class="number">2</span>]=<span class="number">2</span>,y[<span class="number">3</span>]=<span class="number">4</span>,y[<span class="number">4</span>]=<span class="number">5.1</span>,y[<span class="number">5</span>]=<span class="number">8</span>,y[<span class="number">6</span>]=<span class="number">4</span>,y[<span class="number">7</span>]=<span class="number">4.5</span>,y[<span class="number">8</span>]=<span class="number">9</span>,y[<span class="number">9</span>]=<span class="number">2</span>;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"城市数="</span>&lt;&lt;POINTCNT&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"各城市坐标:"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;POINTCNT;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//scanf("%lf%lf",&amp;x[i],&amp;y[i]);//输入各个城市的坐标</span></span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;<span class="string">"["</span>&lt;&lt;x[i]&lt;&lt;<span class="string">", "</span>&lt;&lt;y[i]&lt;&lt;<span class="string">"]"</span>&lt;&lt;<span class="built_in">endl</span>;<span class="comment">//输出各个城市的坐标</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> select_type,make_p_type,k,cross_type,mutate_type;</span><br><span class="line">    <span class="keyword">double</span> q,pc,pm;</span><br><span class="line">    <span class="comment">//scanf("%d%d%d",&amp;select_type,&amp;make_p_type,&amp;k);//输入个体选择方法类型，个体选择概率分配类型，竞赛规模</span></span><br><span class="line">    <span class="comment">//scanf("%lf%lf%lf",&amp;q,&amp;pc,&amp;pm);//输入最好个体选择概率，交叉概率，变异概率</span></span><br><span class="line">    <span class="comment">//scanf("%d%d",&amp;cross_type,&amp;mutate_type);//输入交叉类型，变异类型</span></span><br><span class="line">    select_type=<span class="number">0</span>,make_p_type=<span class="number">0</span>,k=<span class="number">5</span>;<span class="comment">//输入个体选择方法类型，个体选择概率分配类型，竞赛规模</span></span><br><span class="line">    q=<span class="number">0.5</span>,pc=<span class="number">0.85</span>,pm=<span class="number">0.15</span>;<span class="comment">//输入最好个体选择概率，交叉概率，变异概率</span></span><br><span class="line">    cross_type=<span class="number">0</span>,mutate_type=<span class="number">0</span>;<span class="comment">//输入交叉类型，变异类型</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">double</span> best=<span class="number">1e9</span>,worst=<span class="number">0</span>,sum=<span class="number">0</span>;</span><br><span class="line">    VI res;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> cas=<span class="number">0</span>;cas&lt;CASNUM;cas++)<span class="comment">//</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="function">other_population <span class="title">gen</span><span class="params">(POPSIZE,POINTCNT,cross_type,mutate_type,make_p_type,pc,pm,k,q,select_type)</span></span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> g=<span class="number">0</span>;g&lt;GENERATIONS;g++)<span class="comment">//进行迭代进化</span></span><br><span class="line">            gen.next();</span><br><span class="line">        <span class="keyword">if</span>(best&gt;<span class="number">1.0</span>/gen.bestofpop.first)<span class="comment">//更新历次最好适应度</span></span><br><span class="line">        &#123;</span><br><span class="line">            best=<span class="number">1.0</span>/gen.bestofpop.first;</span><br><span class="line">            res=*gen.bestofpop.second;<span class="comment">//存放最好个体的染色体</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(worst&lt;<span class="number">1.0</span>/gen.bestofpop.first)<span class="comment">//更新历次最差适应度</span></span><br><span class="line">            worst=<span class="number">1.0</span>/gen.bestofpop.first;</span><br><span class="line">        sum+=<span class="number">1.0</span>/gen.bestofpop.first;<span class="comment">//计算各次最好个体的适应度之和</span></span><br><span class="line">    &#125;</span><br><span class="line">    sum/=CASNUM;<span class="comment">//计算平均适应度</span></span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"历次最好适应度："</span>&lt;&lt;best&lt;&lt;<span class="string">"\n"</span>&lt;&lt;<span class="string">"历次最差适应度："</span>&lt;&lt;worst&lt;&lt;<span class="string">"\n"</span>&lt;&lt;<span class="string">"平均适应度："</span>&lt;&lt;sum&lt;&lt;<span class="string">"\n"</span>;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"输出最好解："</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;POINTCNT;i++)<span class="comment">//输出解</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;res[i];<span class="comment">//输出各城市</span></span><br><span class="line">        <span class="keyword">if</span> (i&lt;POINTCNT<span class="number">-1</span>)</span><br><span class="line">            <span class="built_in">cout</span>&lt;&lt;<span class="string">"-"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><a href="https://imgchr.com/i/si33ee" target="_blank" rel="noopener"><img src="https://s3.ax1x.com/2021/01/04/si33ee.png" alt="si33ee.png"></a></p><blockquote style="margin: 2em 0 0;padding: 0.5em 1em;border-left: 3px solid #F44336;background-color: #F5F5F5;list-style: none;"><p> <strong>本文使用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/" target="_blank" rel="noopener">CC BY-NC-SA 3.0 中国大陆</a> 协议许可<br>具体请参见 <a href="https://zyhang8.github.io/agree/" target="_blank" rel="noopener">知识共享协议</a></strong><br> <strong>本文链接：</strong><a href="https://zyhang8.github.io/2021/01/04/genertic-algorithm/" target="_blank" rel="noopener">https://zyhang8.github.io/2021/01/04/genertic-algorithm/</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 算法 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 人工智能 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>astar-algorithm</title>
      <link href="/2021/01/04/astar-algorithm/"/>
      <url>/2021/01/04/astar-algorithm/</url>
      
        <content type="html"><![CDATA[<h1 id="A-算法"><a href="#A-算法" class="headerlink" title="A*算法"></a>A*算法</h1><h2 id="算法介筛"><a href="#算法介筛" class="headerlink" title="算法介筛"></a>算法介筛</h2><p>A<em>(A-Star)算法是一种启发式搜索方法，目前在网络路由算法、机器人探路、人工智能、游戏设计等方面有着普遍的应用。<br>　　<br>A</em>算法一般是以估价函数 的大小来排列待扩展状态的次序，每次选择 f(n) 值最小者进行扩展。</p><p>f(n)=g(n)+h(n)</p><p>其中g(n) 是初始结点到n结点的实际代价，而h(n)是从n结点点到目的结点的最佳路径的估计代价，且h(n)&lt;=h<em>(n), h</em>(n)为n结点到目的结点的最优路径的代价。</p><p>保证找到全局最优解的条件，关键在于估价函数h(n)的选取：</p><ul><li>估价值h(n)小于等于n结点到目标结点最优路径的距离实际值，这种情况下，搜索的点数多，搜索范围大，效率低，但能得到全局最优解。</li><li>如果估价值h(n)大于实际值, 搜索的点数少，搜索范围小，效率高，但不能保证得到全局最优解。</li><li>估价值与实际值越接近，估价函数取得就越好。</li></ul><h2 id="自动寻路问题演示"><a href="#自动寻路问题演示" class="headerlink" title="自动寻路问题演示"></a>自动寻路问题演示</h2><p><a href="https://imgchr.com/i/sP1ofx" target="_blank" rel="noopener"><img src="https://s3.ax1x.com/2021/01/04/sP1ofx.png" alt="sP1ofx.png"></a></p><p>选择好起点、终点、墙后，开始第一步</p><p><a href="https://imgchr.com/i/simH7q" target="_blank" rel="noopener"><img src="https://s3.ax1x.com/2021/01/04/simH7q.png" alt="simH7q.png"></a></p><p><a href="https://imgchr.com/i/sim7Bn" target="_blank" rel="noopener"><img src="https://s3.ax1x.com/2021/01/04/sim7Bn.png" alt="sim7Bn.png"></a></p><p>估计代价h使用的是起点到终点的哈密尔顿距离，即起点到终点的横向和纵向的方格数之和</p><p>实际代价g使用的是搜索深度，即搜索步数</p><p>此时扩展结点的g值一定相同，而h值则根据每个扩展点的哈密顿距离的不同而不同</p><p>扩展点数量:39</p><p>实际代价g特点：g每走一步自增1</p><p>估计代价h：格子前进的方向h会根据最小的哈密顿距离方向行走，若有墙，则另寻次优最佳路径，到终点时的代价必为0</p><p>f到重点时的代价等于实际代价g</p><h2 id="8数码问题演示"><a href="#8数码问题演示" class="headerlink" title="8数码问题演示"></a>8数码问题演示</h2><p><a href="https://imgchr.com/i/sim5cQ" target="_blank" rel="noopener"><img src="https://s3.ax1x.com/2021/01/04/sim5cQ.png" alt="sim5cQ.png"></a></p><p><a href="https://imgchr.com/i/simTns" target="_blank" rel="noopener"><img src="https://s3.ax1x.com/2021/01/04/simTns.png" alt="simTns.png"></a></p><p><a href="https://imgchr.com/i/simIXj" target="_blank" rel="noopener"><img src="https://s3.ax1x.com/2021/01/04/simIXj.png" alt="simIXj.png"></a></p><p>close、open表均有六个，扩展点一共为12个</p><p>实际代价g特点：g每走一步自增1</p><p>估计代价h：格子前进的方向h会根据最小的哈密顿距离方向行走，若有墙，则另寻次优最佳路径，到终点时的代价必为0</p><p>f到重点时的代价等于实际代价g</p><h2 id="8数码问题验证"><a href="#8数码问题验证" class="headerlink" title="8数码问题验证"></a>8数码问题验证</h2><p><a href="https://imgchr.com/i/simqA0" target="_blank" rel="noopener"><img src="https://s3.ax1x.com/2021/01/04/simqA0.png" alt="simqA0.png"></a></p><p>只有同奇或同偶时才有解</p><p>分析为什么A*算法和宽度优先搜索都能找到最优解，即搜索步数都是最少，但它的性能，包括访问结点数和耗时都比宽度优先搜索要少？为什么A*算法采用哈密尔顿距离作为启发函数比不在位数为启发函数的性能要好?</p><ul><li>由于8数码问题的树很深，若用深度遍历算法会多余不必要的步骤，比如最优解的下一步用深度遍历来搜索可能会走一个循环，并且深度遍历的搜索思想与广度和A*的扩展思想不搭边，不能用启发性思想，所以难以找到最优解。</li><li>而广度优先遍历虽能找到，但也是无目的的找，而A*算法设置了g和h来引导算法更块的找到最优解</li><li>关于哈密尔顿和不在位数的区别课程中没有详细讲到这两个算法的区别，网上的资料有限，经过思考后还是不能想出性能不同的根本性原因。</li><li>个人觉得哈密尔顿适合多位数的路径查询，而不在位数更倾向与少位的搜索</li></ul><h3 id="8问题代码实现"><a href="#8问题代码实现" class="headerlink" title="8问题代码实现"></a>8问题代码实现</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// Created by ruadhan on 2021/1/4.</span></span><br><span class="line"><span class="comment">//A*算法求解八数码问题</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">P</span>&#123;</span></span><br><span class="line"><span class="keyword">int</span> d;<span class="comment">//深度g(n)</span></span><br><span class="line"><span class="keyword">int</span> w;<span class="comment">//不在位数h(n)</span></span><br><span class="line"><span class="keyword">int</span> id;<span class="comment">//记录该节点的id，用于输出时找到该节点</span></span><br><span class="line"><span class="built_in">string</span> s;<span class="comment">//状态</span></span><br><span class="line"><span class="keyword">friend</span> <span class="keyword">bool</span> <span class="keyword">operator</span> &lt;(<span class="keyword">const</span> P &amp;a,<span class="keyword">const</span> P &amp;b)&#123;<span class="comment">//按f(n)=g(n)+h(n)大小排序</span></span><br><span class="line"><span class="keyword">return</span> a.d+a.w&gt;b.d+b.w;  <span class="comment">//最大堆</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;p;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> N=<span class="number">3</span>;<span class="comment">//棋盘大小</span></span><br><span class="line"><span class="comment">//const string t="123456780";//目标状态</span></span><br><span class="line"><span class="keyword">const</span> <span class="built_in">string</span> t=<span class="string">"123804765"</span>;</span><br><span class="line"><span class="built_in">string</span> <span class="built_in">stack</span>[<span class="number">1000000</span>];<span class="comment">//记录搜索中的节点</span></span><br><span class="line"><span class="built_in">string</span> record[<span class="number">1000000</span>];<span class="comment">//从起点开始记录解路径</span></span><br><span class="line"><span class="keyword">int</span> father[<span class="number">10000000</span>];<span class="comment">//记录该节点的父节点</span></span><br><span class="line"><span class="keyword">int</span> top=<span class="number">0</span>;<span class="comment">//stack的指针</span></span><br><span class="line">priority_queue&lt;P&gt; pq;<span class="comment">//open表</span></span><br><span class="line"><span class="built_in">map</span>&lt;<span class="built_in">string</span>,<span class="keyword">bool</span>&gt; mp;<span class="comment">//记录该状态是否已经访问过：1访问过，0没有</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">calw</span><span class="params">(<span class="built_in">string</span> s)</span><span class="comment">//计算该状态的不在位数h(n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">int</span> re=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">9</span>;i++) <span class="keyword">if</span>(s[i]!=t[i]) re++;</span><br><span class="line"><span class="keyword">return</span> re;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">solve</span><span class="params">()</span><span class="comment">//搜索过程</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">P cur;</span><br><span class="line"><span class="keyword">while</span>(!pq.empty())&#123;</span><br><span class="line">cur=pq.top(); <span class="comment">//open表</span></span><br><span class="line">pq.pop();</span><br><span class="line"><span class="keyword">if</span>(cur.s==t) <span class="keyword">return</span> cur.id;<span class="comment">//达到目标状态，返回当前节点的id</span></span><br><span class="line"><span class="keyword">int</span> x,y;</span><br><span class="line"><span class="keyword">int</span> ops=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">while</span>(cur.s[ops]!=<span class="string">'0'</span>) ops++;</span><br><span class="line">x=ops/<span class="number">3</span>,y=ops%<span class="number">3</span>;  <span class="comment">//空格所在位置</span></span><br><span class="line"><span class="keyword">int</span> r=cur.id;</span><br><span class="line"><span class="keyword">if</span>(x&gt;<span class="number">0</span>)&#123;          <span class="comment">//空格向上移</span></span><br><span class="line">p.s=cur.s;</span><br><span class="line">swap(p.s[ops],p.s[ops<span class="number">-3</span>]);</span><br><span class="line"><span class="keyword">if</span>(!mp[p.s])&#123;</span><br><span class="line">p.d=cur.d+<span class="number">1</span>,p.w=calw(p.s),p.id=top+<span class="number">1</span>;</span><br><span class="line">pq.push(p);</span><br><span class="line"><span class="built_in">stack</span>[++top]=p.s;</span><br><span class="line">father[top]=r;</span><br><span class="line">mp[p.s]=<span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(x&lt;<span class="number">2</span>)&#123;    <span class="comment">//空格向下移</span></span><br><span class="line">p.s=cur.s;</span><br><span class="line">swap(p.s[ops],p.s[ops+<span class="number">3</span>]);</span><br><span class="line"><span class="keyword">if</span>(!mp[p.s])&#123;</span><br><span class="line">p.d=cur.d+<span class="number">1</span>,p.w=calw(p.s),p.id=top+<span class="number">1</span>;</span><br><span class="line">pq.push(p);</span><br><span class="line"><span class="built_in">stack</span>[++top]=p.s;</span><br><span class="line">father[top]=r;</span><br><span class="line">mp[p.s]=<span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(y&gt;<span class="number">0</span>)&#123;    <span class="comment">//空格向左移</span></span><br><span class="line">p.s=cur.s;</span><br><span class="line">swap(p.s[ops],p.s[ops<span class="number">-1</span>]);</span><br><span class="line"><span class="keyword">if</span>(!mp[p.s])&#123;</span><br><span class="line">p.d=cur.d+<span class="number">1</span>,p.w=calw(p.s),p.id=top+<span class="number">1</span>;</span><br><span class="line">pq.push(p);</span><br><span class="line"><span class="built_in">stack</span>[++top]=p.s;</span><br><span class="line">father[top]=r;</span><br><span class="line">mp[p.s]=<span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(y&lt;<span class="number">2</span>)&#123;   <span class="comment">//空格向右移</span></span><br><span class="line">p.s=cur.s;</span><br><span class="line">swap(p.s[ops],p.s[ops+<span class="number">1</span>]);</span><br><span class="line"><span class="keyword">if</span>(!mp[p.s])&#123;</span><br><span class="line">p.d=cur.d+<span class="number">1</span>,p.w=calw(p.s),p.id=top+<span class="number">1</span>;</span><br><span class="line">pq.push(p);</span><br><span class="line"><span class="built_in">stack</span>[++top]=p.s;</span><br><span class="line">father[top]=r;</span><br><span class="line">mp[p.s]=<span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">-1</span>;<span class="comment">//搜索失败</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">(<span class="keyword">int</span> x)</span><span class="comment">////从record表中输出当前搜索的节点</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">int</span> k=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;N;i++)&#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;N;j++)&#123;</span><br><span class="line"><span class="keyword">if</span>(record[x][k]==<span class="string">'0'</span>)</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"  "</span>);</span><br><span class="line"><span class="keyword">else</span> <span class="built_in">printf</span>(<span class="string">"%c "</span>,record[x][k]);</span><br><span class="line">k++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="comment">//freopen("a.txt","r",stdin);</span></span><br><span class="line"><span class="keyword">int</span> tt;<span class="comment">//测试的组数</span></span><br><span class="line"><span class="built_in">cin</span>&gt;&gt;tt;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> k=<span class="number">1</span>;k&lt;=tt;k++)&#123;</span><br><span class="line"><span class="built_in">cout</span>&lt;&lt;<span class="string">"Case "</span>&lt;&lt;k&lt;&lt;<span class="string">":\n"</span>;</span><br><span class="line"><span class="keyword">int</span> i,j;</span><br><span class="line"><span class="keyword">char</span> a;</span><br><span class="line">p.s=<span class="string">""</span>;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;N;i++)&#123;</span><br><span class="line"><span class="keyword">for</span>(j=<span class="number">0</span>;j&lt;N;j++)&#123;</span><br><span class="line"><span class="built_in">cin</span>&gt;&gt;a;  <span class="comment">//输入0～8数码</span></span><br><span class="line">p.s+=a;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">p.d=<span class="number">0</span>,p.w=calw(p.s),p.id=<span class="number">0</span>;</span><br><span class="line">father[<span class="number">0</span>]=<span class="number">-1</span>;</span><br><span class="line">mp[p.s]=<span class="number">1</span>;</span><br><span class="line"><span class="built_in">stack</span>[<span class="number">0</span>]=p.s;</span><br><span class="line">pq.push(p);<span class="comment">//往open表中加入初始状态节点</span></span><br><span class="line"><span class="keyword">int</span> id=solve();<span class="comment">//调用搜索过程</span></span><br><span class="line"><span class="keyword">if</span>(id==<span class="number">-1</span>)&#123;</span><br><span class="line"><span class="built_in">cout</span>&lt;&lt;<span class="string">"无解！\n"</span>;</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line"><span class="keyword">int</span> c=<span class="number">-1</span>;</span><br><span class="line"><span class="keyword">while</span>(id&gt;=<span class="number">0</span>)&#123;<span class="comment">//把stack中存的节点按次序放入到record中</span></span><br><span class="line">record[++c]=<span class="built_in">stack</span>[id];</span><br><span class="line">id=father[id];</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">cout</span>&lt;&lt;<span class="string">"原图："</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">print(c); <span class="comment">//输出初始节点</span></span><br><span class="line"><span class="built_in">cout</span>&lt;&lt;<span class="string">"移动过程: \n\n"</span>;</span><br><span class="line"><span class="keyword">for</span>(i=c<span class="number">-1</span>;i&gt;=<span class="number">0</span>;i--)&#123;</span><br><span class="line"><span class="built_in">cout</span>&lt;&lt;<span class="string">"Step "</span>&lt;&lt;c-i&lt;&lt;<span class="string">":\n"</span>;<span class="comment">//输出当前搜索步骤</span></span><br><span class="line">print(i);<span class="comment">//输出当前搜索的节点</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">cout</span>&lt;&lt;<span class="string">"移动结束！\n"</span>;</span><br><span class="line">&#125;</span><br><span class="line">mp.clear();</span><br><span class="line"><span class="keyword">while</span>(!pq.empty()) pq.pop();</span><br><span class="line">top=<span class="number">0</span>;</span><br><span class="line"><span class="built_in">cout</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line">system(<span class="string">"pause\n"</span>);</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><a href="https://imgchr.com/i/si3lLD" target="_blank" rel="noopener"><img src="https://s3.ax1x.com/2021/01/04/si3lLD.png" alt="si3lLD.png"></a></p><blockquote style="margin: 2em 0 0;padding: 0.5em 1em;border-left: 3px solid #F44336;background-color: #F5F5F5;list-style: none;"><p> <strong>本文使用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/" target="_blank" rel="noopener">CC BY-NC-SA 3.0 中国大陆</a> 协议许可<br>具体请参见 <a href="https://zyhang8.github.io/agree/" target="_blank" rel="noopener">知识共享协议</a></strong><br> <strong>本文链接：</strong><a href="https://zyhang8.github.io/2021/01/04/astar-algorithm/" target="_blank" rel="noopener">https://zyhang8.github.io/2021/01/04/astar-algorithm/</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 算法 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 人工智能 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>thesis_note</title>
      <link href="/2021/01/01/thesis-note/"/>
      <url>/2021/01/01/thesis-note/</url>
      
        <content type="html"><![CDATA[<h1 id="毕业论文笔记———人工智能-机器学习-深度学习"><a href="#毕业论文笔记———人工智能-机器学习-深度学习" class="headerlink" title="毕业论文笔记———人工智能-机器学习-深度学习"></a>毕业论文笔记———人工智能-机器学习-深度学习</h1><h2 id="综述"><a href="#综述" class="headerlink" title="综述"></a>综述</h2><h3 id="框架"><a href="#框架" class="headerlink" title="框架"></a>框架</h3><ul><li>引言：简要描述研究问题的性质，陈述研究的问题，解释为什么研究以及研究的意义。</li><li>主体部分：简要报告他人研究的已有发现和观点。</li><li>总结部分：给出迄今为止有关研究的已有知识和观点。</li><li>结论：在文献基础上形成的结论。</li><li>参考文献。从调查的情况看，不少论文文献综述的写作不够规范，尤其突出地表现在主体部分和结论部分。</li></ul><p>绪论</p><ol><li>引言</li><li>鱼类识别的任务与难点</li><li>分类方法<ol><li>无监督学习  特征值识别、相关系数、分级分类</li><li>有监督学习  特征值识别、相关系数、分级分类</li><li>半监督学习  特征值识别、相关系数、分级分类</li></ol></li><li>常用数据集与评价指标<ol><li>常用数据集</li><li>评价指标</li></ol></li><li>问题与展望</li></ol><h2 id="qin2016-DeepFish-Accurate-underwater-live-ﬁsh-recognition-with-a-deep-architecture"><a href="#qin2016-DeepFish-Accurate-underwater-live-ﬁsh-recognition-with-a-deep-architecture" class="headerlink" title="qin2016-DeepFish: Accurate underwater live ﬁsh recognition with a deep architecture"></a>qin2016-DeepFish: Accurate underwater live ﬁsh recognition with a deep architecture</h2><h3 id="英语笔记"><a href="#英语笔记" class="headerlink" title="英语笔记"></a>英语笔记</h3><table><thead><tr><th align="center">英文缩写</th><th align="center">全称</th></tr></thead><tbody><tr><td align="center">identity matrix</td><td align="center">单位矩阵</td></tr><tr><td align="center">convolutional layer</td><td align="center">卷积层</td></tr><tr><td align="center">orthogonal ﬁlter</td><td align="center">正交滤波器</td></tr><tr><td align="center">block-wise histograms</td><td align="center">分块直方图</td></tr><tr><td align="center">scalable</td><td align="center">可扩展的</td></tr><tr><td align="center">descriptor</td><td align="center">描述子</td></tr><tr><td align="center">spatial pyramid pool</td><td align="center">空间金字塔池(SPP)</td></tr><tr><td align="center">eigenvector</td><td align="center">特征向量</td></tr><tr><td align="center">map to</td><td align="center">把…映射到…</td></tr><tr><td align="center">the number of stages</td><td align="center">级数</td></tr><tr><td align="center">Adaptive hypergraph learning</td><td align="center">自适应超图学习</td></tr><tr><td align="center">high-order distance-based multi-view stochastic learning</td><td align="center">基于高阶距离的多视图随机学习</td></tr><tr><td align="center">mask</td><td align="center">掩膜</td></tr><tr><td align="center">k-means</td><td align="center">K均值聚类算法</td></tr><tr><td align="center">support vector machines, SVM</td><td align="center">支持向量机</td></tr><tr><td align="center">hyper parameter</td><td align="center">超参数</td></tr><tr><td align="center">by a factor of 10</td><td align="center">降低10倍</td></tr><tr><td align="center">iterations</td><td align="center">迭代</td></tr><tr><td align="center">convergence</td><td align="center">收敛</td></tr><tr><td align="center">blobby</td><td align="center">粗糙(多斑点的)</td></tr><tr><td align="center">principal component analysis</td><td align="center">主成分分析PCA</td></tr></tbody></table><h3 id="名词解释"><a href="#名词解释" class="headerlink" title="名词解释"></a>名词解释</h3><table><thead><tr><th align="center">英文缩写</th><th align="center">解释</th></tr></thead><tbody><tr><td align="center">patch</td><td align="center">将图片切分为“块”，patch即为块</td></tr><tr><td align="center">Heaviside-赫维赛德函数，开关函数，跃阶函数</td><td align="center">正输入为1，否则为零</td></tr><tr><td align="center">dropout</td><td align="center">在深度学习网络的训练过程中,对于神经网络单元,按照一定的概率将其暂时从网络中丢弃</td></tr></tbody></table><h2 id="Underwater-Drone-With-Panoramic-Camera-for-Automatic-Fish-Recognition-Based-on-Deep-Learning"><a href="#Underwater-Drone-With-Panoramic-Camera-for-Automatic-Fish-Recognition-Based-on-Deep-Learning" class="headerlink" title="Underwater-Drone With Panoramic Camera for Automatic Fish Recognition Based on Deep Learning"></a>Underwater-Drone With Panoramic Camera for Automatic Fish Recognition Based on Deep Learning</h2><h3 id="英语笔记-1"><a href="#英语笔记-1" class="headerlink" title="英语笔记"></a>英语笔记</h3><table><thead><tr><th align="center">英文缩写</th><th align="center">全称</th></tr></thead><tbody><tr><td align="center">Raspberry Pi</td><td align="center">树莓派</td></tr><tr><td align="center">post challenges</td><td align="center">提出挑战</td></tr></tbody></table><h2 id="A-Feature-Learning-and-Object-Recognition-Framework-for-Underwater-Fish-Images"><a href="#A-Feature-Learning-and-Object-Recognition-Framework-for-Underwater-Fish-Images" class="headerlink" title="A Feature Learning and Object Recognition Framework for Underwater Fish Images"></a>A Feature Learning and Object Recognition Framework for Underwater Fish Images</h2><h3 id="英语笔记-2"><a href="#英语笔记-2" class="headerlink" title="英语笔记"></a>英语笔记</h3><table><thead><tr><th align="center">英文缩写</th><th align="center">全称</th></tr></thead><tbody><tr><td align="center">error-resilient</td><td align="center">容错性</td></tr><tr><td align="center">saliency</td><td align="center">卓越</td></tr><tr><td align="center">clustering</td><td align="center">聚类</td></tr><tr><td align="center">class hierarchy</td><td align="center">类层次</td></tr></tbody></table><h3 id="笔记"><a href="#笔记" class="headerlink" title="笔记"></a>笔记</h3><ul><li>文章目的</li><li>结论</li><li>背景</li><li>结果</li><li>方法（可选）</li><li>想法，评论</li></ul><h2 id="人工智能导论-王万良"><a href="#人工智能导论-王万良" class="headerlink" title="人工智能导论-王万良"></a>人工智能导论-王万良</h2><h3 id="一阶谓词逻辑知识表示法、产生式表示法和框架表示法"><a href="#一阶谓词逻辑知识表示法、产生式表示法和框架表示法" class="headerlink" title="一阶谓词逻辑知识表示法、产生式表示法和框架表示法"></a>一阶谓词逻辑知识表示法、产生式表示法和框架表示法</h3><ul><li>产生式的形式描述及语义——巴科思范式BNF “::=”-表示为 “|”-或 “[]”-可缺省</li><li>产生式系统</li><li>归结演绎推理</li><li>或-析取 和-合取</li></ul><h3 id="基于谓词逻辑的表示方法"><a href="#基于谓词逻辑的表示方法" class="headerlink" title="基于谓词逻辑的表示方法"></a>基于谓词逻辑的表示方法</h3><ul><li><a href="https://blog.csdn.net/little_small_joze/article/details/105782344" target="_blank" rel="noopener">谓词公式化为子句集</a>   ┐&gt; ∧ &gt;∨&gt;→&gt; ←→</li><li>鲁冰逊归结原理</li></ul><h3 id="可信度方法和证据理论"><a href="#可信度方法和证据理论" class="headerlink" title="可信度方法和证据理论"></a>可信度方法和证据理论</h3><ul><li>可信度方法</li><li>证据理论-DS理论</li></ul><h3 id="模糊推理方法"><a href="#模糊推理方法" class="headerlink" title="模糊推理方法"></a>模糊推理方法</h3><ul><li>模糊控制  模糊推理 乘取小，加取大</li></ul><h3 id="搜索求解策略"><a href="#搜索求解策略" class="headerlink" title="搜索求解策略"></a>搜索求解策略</h3><ul><li><a href="https://blog.csdn.net/weixin_36670529/article/details/102803023" target="_blank" rel="noopener">启发式的搜索策略</a> </li><li>A*搜索算法</li><li>曼哈顿距离、哈密尔顿距离</li></ul><h3 id="遗传算法"><a href="#遗传算法" class="headerlink" title="遗传算法"></a>遗传算法</h3><ul><li>遗传算法</li><li>编码[“位串编码”:”二进制编码、gray编码”,”实数编码”]</li><li>汉明距离-不一样的位数</li><li>适应度函数的尺度变换</li><li>适应度比例方法/蒙特卡罗法</li></ul><h3 id="粒子群优化算法"><a href="#粒子群优化算法" class="headerlink" title="粒子群优化算法"></a>粒子群优化算法</h3><ul><li>粒子群优化算法PSO四种模型：全模型、认知模型、社会模型、无私模型</li><li>车辆路径问题VRP</li></ul><h3 id="蚁群算法ACO"><a href="#蚁群算法ACO" class="headerlink" title="蚁群算法ACO"></a>蚁群算法ACO</h3><ul><li>三种模型：蚂蚁圈系统，蚂蚁数量系统，蚂蚁密度系统</li></ul><h3 id="BP神经网络和Hopfield神经网络"><a href="#BP神经网络和Hopfield神经网络" class="headerlink" title="BP神经网络和Hopfield神经网络"></a>BP神经网络和Hopfield神经网络</h3><ul><li>机器学习实质上就是改变神经元之间的连接强度</li><li>M-P模型</li><li>神经网络的结构：前馈型(前向型);反馈型;</li><li>工作方式:同步(并行);异步(串行)</li><li><a href="https://blog.csdn.net/qq_41185868/article/details/80789989" target="_blank" rel="noopener">Hopfield神经网络</a> HNN之DHNN、CHNN  HNN解决了旅行商问题</li></ul><h3 id="深度神经网络"><a href="#深度神经网络" class="headerlink" title="深度神经网络"></a>深度神经网络</h3><ul><li>卷积神经网络CNN</li><li>池化作用：概括特征，然后得到新的特征，方便后面对其进行再卷积</li><li>采用了四种技术来减少计算量：局部连接、权值共享、多卷积核、池化</li><li>DigitCap：胶囊网络的全连接层</li><li>胶囊网络的输入引进了耦合系统，非线性激活函数比较特别，使用Squashing函数(不像前面用的sigmod函数)，也称为压缩函数，主要区别在于前面的网络采用池化，这个用的是动态路由算法（因为池化丢失的信息太多）。采用的损失函数是最大化正负样本到超平面的距离</li><li>指示函数：在某集合X上的函数，表示其中有哪些元素属于某一子集A</li><li>欧氏距离：在数学中，欧几里得距离或欧几里得度量是欧几里得空间中两点间“普通”（即直线）距离。使用这个距离，欧氏空间成为度量空间。相关联的范数称为欧几里得范数。较早的文献称之为毕达哥拉斯度量。</li><li>全连接层=FC层</li><li>线性整流函数（Rectified Linear Unit, ReLU），又称修正线性单元，是一种人工神经网络中常用的激活函数（activation function），通常指代以斜坡函数及其变种为代表的非线性函数。<img src="https://bkimg.cdn.bcebos.com/pic/d788d43f8794a4c25b5e4dd902f41bd5ac6e39c6?x-bce-process=image/resize,m_lfit,w_268,limit_1/format,f_jpg" alt="1"></li><li>胶囊网络与卷积网络不同点之一：在重叠时候能够取得很好结果</li></ul><h3 id="专家系统"><a href="#专家系统" class="headerlink" title="专家系统"></a>专家系统</h3><p>基本组成：知识库、推理机</p><h3 id="知识图谱"><a href="#知识图谱" class="headerlink" title="知识图谱"></a>知识图谱</h3><ul><li>实质：知识库、语义网络</li><li>形式：RDF、图数据库（RDF提供了资源的通用描述方式）</li><li>三元组是知识图谱的通用常见形式，主要有：实体1-关系-实体2；实体-属性-属性值</li></ul><h3 id="机器学习"><a href="#机器学习" class="headerlink" title="机器学习"></a>机器学习</h3><ul><li>按任务划分：分类、回归、聚类</li><li>按学习能力划分：有监督学习、无监督学习、半监督学习、强化学习</li><li>如何解决多分类问题：ovr分类器、softmax分类器</li><li>自训练算法</li><li>性能评价：定量评价（正确率、模糊矩阵、查准率、查全率等）；定性评价（可视化）</li><li>主要目标：回归、聚类</li><li>监督学习：决策树、逻辑回归</li><li>无监督学习：Q学习算法、K-means</li></ul><h3 id="智能体系统"><a href="#智能体系统" class="headerlink" title="智能体系统"></a>智能体系统</h3><p>智能体体系结构：反应式、慎思式、复合式</p><h2 id="Machine-Learning–Andrew-Ng"><a href="#Machine-Learning–Andrew-Ng" class="headerlink" title="Machine Learning–Andrew Ng"></a>Machine Learning–Andrew Ng</h2><h3 id="Introduce"><a href="#Introduce" class="headerlink" title="Introduce"></a>Introduce</h3><table><thead><tr><th align="center">英文缩写</th><th align="center">全称</th></tr></thead><tbody><tr><td align="center">spam</td><td align="center">垃圾邮件</td></tr></tbody></table><blockquote style="margin: 2em 0 0;padding: 0.5em 1em;border-left: 3px solid #F44336;background-color: #F5F5F5;list-style: none;"><p> <strong>本文使用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/" target="_blank" rel="noopener">CC BY-NC-SA 3.0 中国大陆</a> 协议许可<br>具体请参见 <a href="https://zyhang8.github.io/agree/" target="_blank" rel="noopener">知识共享协议</a></strong><br> <strong>本文链接：</strong><a href="https://zyhang8.github.io/2021/01/01/thesis_note/" target="_blank" rel="noopener">https://zyhang8.github.io/2021/01/01/thesis_note/</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 笔记 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>shell编程扩展</title>
      <link href="/2019/12/20/linux-exp6/"/>
      <url>/2019/12/20/linux-exp6/</url>
      
        <content type="html"><![CDATA[<h1 id="shell编程扩展"><a href="#shell编程扩展" class="headerlink" title="shell编程扩展"></a>shell编程扩展</h1><h2 id="综合案例解析1-查找可执行文件"><a href="#综合案例解析1-查找可执行文件" class="headerlink" title="综合案例解析1:查找可执行文件"></a>综合案例解析1:查找可执行文件</h2><p>当从命令行中运行一个程序时，Linux系统会搜索一系列目录来查找对应的文件。这些目录被定义在环境变量PATH中。如果你想找出系统中有哪些可执行文件可供使用，只需要扫描PATH环境变量中所有的目录就行了。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">IFS=:</span><br><span class="line">for folder in $PATH</span><br><span class="line">do</span><br><span class="line">for file in $folder/*</span><br><span class="line">do</span><br></pre></td></tr></table></figure><p><img src="https://s2.ax1x.com/2019/12/04/Q13njP.png" alt="Q13njP.png"></p><h2 id="综合案例解析1-创建多个用户账户"><a href="#综合案例解析1-创建多个用户账户" class="headerlink" title="综合案例解析1:创建多个用户账户"></a>综合案例解析1:创建多个用户账户</h2><p>Shell脚本的目标是让系统管理员（root）过得更轻松</p><p>批量创建多个系统账户</p><p>可以将电子表格文件.csv中的账户列表批量读入系统中，为且创建系统账户</p><p>文件格式 userid, user name</p><p><img src="https://s2.ax1x.com/2019/12/04/Q13Knf.png" alt="Q13Knf.png"></p><h3 id="3-处理带值的选项"><a href="#3-处理带值的选项" class="headerlink" title="3.处理带值的选项"></a>3.处理带值的选项</h3><p><img src="https://s2.ax1x.com/2019/12/04/Q13e1I.png" alt="Q13e1I.png"></p><blockquote style="margin: 2em 0 0;padding: 0.5em 1em;border-left: 3px solid #F44336;background-color: #F5F5F5;list-style: none;"><p> <strong>本文使用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/" target="_blank" rel="noopener">CC BY-NC-SA 3.0 中国大陆</a> 协议许可<br>具体请参见 <a href="https://zyhang8.github.io/agree/" target="_blank" rel="noopener">知识共享协议</a></strong><br> <strong>本文链接：</strong><a href="https://zyhang8.github.io/2019/07/18/Ningbo/" target="_blank" rel="noopener">https://zyhang8.github.io/2019/07/18/Ningbo/</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>网络工程实例设计</title>
      <link href="/2019/12/17/cn-exp9/"/>
      <url>/2019/12/17/cn-exp9/</url>
      
        <content type="html"><![CDATA[<h1 id="网络工程实例设计"><a href="#网络工程实例设计" class="headerlink" title="网络工程实例设计"></a>网络工程实例设计</h1><h2 id="试验目的"><a href="#试验目的" class="headerlink" title="试验目的"></a>试验目的</h2><p>网络拓扑设计</p><h2 id="实验内容"><a href="#实验内容" class="headerlink" title="实验内容"></a>实验内容</h2><p>为某学校设计一个网络建设方案，满足如下要求：</p><ul><li>学校有综合楼、实验楼、办公楼、教学楼等建筑接入网络，用户近万人。</li><li>提供的服务：www、Email、FTP、各种管理软件。</li><li>设计原则：先进性、标准化、经济性、易维护性。</li></ul><h2 id="实验要求"><a href="#实验要求" class="headerlink" title="实验要求"></a>实验要求</h2><p>用visio画出网络拓扑图，描述所选设备型号功能</p><p><img src="img//1.png" alt="1"></p><p>千兆以太网接入cernet，ncn，联通网，及外部网</p><p>本人参考上海海洋大学进行网络拓扑设计，由于时间有限，只能大概设计</p><p>说一说其余设计的思路</p><ul><li>每一个学院分配2个C类cernet地址，其余归网络中心分配使用；每个学院分配一个网段的CNC地址，因此需要考虑VLSM技术方案</li><li>采用主流以太网技术；选用万兆交换机；采用OSPF路由协议，采用SNMP网络管理协议</li></ul><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>本次实验从理论上阐明了校园网规划的一般方法和步骤。过实验，我们对怎样使用ip地址有了一个深入的了解； 通过VLAN划分可以减少冲突域，实现网络的可用性，提高网络的可靠性；对NAT的作用有了更深的体会；对路由协议的选择和使用有了一个系统的认识。</p><blockquote style="margin: 2em 0 0;padding: 0.5em 1em;border-left: 3px solid #F44336;background-color: #F5F5F5;list-style: none;"><p> <strong>本文使用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/" target="_blank" rel="noopener">CC BY-NC-SA 3.0 中国大陆</a> 协议许可<br>具体请参见 <a href="https://zyhang8.github.io/agree/" target="_blank" rel="noopener">知识共享协议</a></strong><br> <strong>本文链接：</strong><a href="https://zyhang8.github.io/2019/12/17/cn-exp9/" target="_blank" rel="noopener">https://zyhang8.github.io/2019/12/17/cn-exp9/</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 计算机网络 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 计算机网络 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>路由基础配置</title>
      <link href="/2019/12/17/cn-exp8/"/>
      <url>/2019/12/17/cn-exp8/</url>
      
        <content type="html"><![CDATA[<h1 id="路由基础配置"><a href="#路由基础配置" class="headerlink" title="路由基础配置"></a>路由基础配置</h1><h2 id="实验目的"><a href="#实验目的" class="headerlink" title="实验目的"></a>实验目的</h2><p>掌握静态路由的配置方法和技巧<br>掌握通过静态路由方式实现网络的连通性的方法</p><h2 id="实验条件"><a href="#实验条件" class="headerlink" title="实验条件"></a>实验条件</h2><p>计算机：安装了windows操作系统<br>Packet Tracer模拟器软件</p><h2 id="实验要求"><a href="#实验要求" class="headerlink" title="实验要求"></a>实验要求</h2><p>1.新建Packet Tracer拓扑图<br>2.在路由器上配置静态路由，使得PC机之间可以相互通信</p><h2 id="实验步骤"><a href="#实验步骤" class="headerlink" title="实验步骤"></a>实验步骤</h2><ol><li>基础配置–路由器广域网连接配置</li></ol><p><img src="pic1.png" alt="1"></p><p>2.扩展配置—增加路由</p><p><img src="pic1.png" alt="1"></p><p>3.扩展配置（VLAN+路由）<br>  如果一个路由器端口连接着多个网段，如何处理？</p><p><img src="pic1.png" alt="1"></p><blockquote style="margin: 2em 0 0;padding: 0.5em 1em;border-left: 3px solid #F44336;background-color: #F5F5F5;list-style: none;"><p> <strong>本文使用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/" target="_blank" rel="noopener">CC BY-NC-SA 3.0 中国大陆</a> 协议许可<br>具体请参见 <a href="https://zyhang8.github.io/agree/" target="_blank" rel="noopener">知识共享协议</a></strong><br> <strong>本文链接：</strong><a href="https://zyhang8.github.io/2019/12/17/cn-exp8/" target="_blank" rel="noopener">https://zyhang8.github.io/2019/12/17/cn-exp8/</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 计算机网络 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 计算机网络 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>通信Socket编程</title>
      <link href="/2019/12/17/cn-exp7/"/>
      <url>/2019/12/17/cn-exp7/</url>
      
        <content type="html"><![CDATA[<h1 id="通信Socket编程"><a href="#通信Socket编程" class="headerlink" title="通信Socket编程"></a>通信Socket编程</h1><h2 id="目的"><a href="#目的" class="headerlink" title="目的"></a>目的</h2><p>对于Socket编程建立初步概念。</p><h2 id="任务"><a href="#任务" class="headerlink" title="任务"></a>任务</h2><p>编写（注解）局域网上的一对一聊天程序。</p><h2 id="要求"><a href="#要求" class="headerlink" title="要求"></a>要求</h2><p>1.用TCP协议或UDP协议。<br>2.服务器和客户端可以是一台电脑上的两个进程，也可以分别部署在两台电脑上。</p><h2 id="提交"><a href="#提交" class="headerlink" title="提交"></a>提交</h2><p>1.所有程序源代码(可附在实验报告文档后)，并可编译执行；<br>2.实验报告文档：<br>包括原理概述，程序设计说明及收获部分，其中说明部分包括程序流程及主要函数说明。</p><h2 id="步骤"><a href="#步骤" class="headerlink" title="步骤"></a>步骤</h2><p>1、将2个软件server.exe，client.exe可以先由外机拖拉至win 2008的桌面</p><p><img src="https://s2.ax1x.com/2019/12/17/QI2MTS.png" alt="QI2MTS.png"></p><p>2、将server.exe移动到win2008的c:;</p><p><img src="https://s2.ax1x.com/2019/12/17/QI21YQ.png" alt="QI21YQ.png"></p><p>3、在win 2008上设置共享目录，将client.exe共享给win7，并移动到c:\</p><p><img src="https://s2.ax1x.com/2019/12/17/QI2Kw8.png" alt="QI2Kw8.png"><br><img src="https://s2.ax1x.com/2019/12/17/QI2uef.png" alt="QI2uef.png"><br><img src="https://s2.ax1x.com/2019/12/17/QI2eyt.png" alt="QI2eyt.png"></p><p>4、打开win7系统的我的电脑</p><p><img src="https://s2.ax1x.com/2019/12/17/QI23Wj.png" alt="QI23Wj.png"></p><p>5、拖入</p><p><img src="https://s2.ax1x.com/2019/12/17/QI2GSs.png" alt="QI2GSs.png"></p><p>6、运行服务器程序：server 端口号；（2008系统）<br>——cmd进入DOS界面；运行命令cd \ 进入c盘根目录；运行命令server 3000</p><p><img src="https://s2.ax1x.com/2019/12/17/QI2Jln.png" alt="QI2Jln.png"></p><p>7、运行客户端程序： client 服务器IP 服务器端口；（win7系统）<br>——–运行命令client 192.168.200.10 3000</p><p><img src="https://s2.ax1x.com/2019/12/17/QI2Yyq.png" alt="QI2Yyq.png"></p><p>8、再打开2008系统</p><p><img src="https://s2.ax1x.com/2019/12/17/QI2tO0.png" alt="QI2tO0.png"></p><blockquote style="margin: 2em 0 0;padding: 0.5em 1em;border-left: 3px solid #F44336;background-color: #F5F5F5;list-style: none;"><p> <strong>本文使用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/" target="_blank" rel="noopener">CC BY-NC-SA 3.0 中国大陆</a> 协议许可<br>具体请参见 <a href="https://zyhang8.github.io/agree/" target="_blank" rel="noopener">知识共享协议</a></strong><br> <strong>本文链接：</strong><a href="https://zyhang8.github.io/2019/12/17/cn-exp7/" target="_blank" rel="noopener">https://zyhang8.github.io/2019/12/17/cn-exp7/</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 计算机网络 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 计算机网络 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>网络报文捕获与网络协议分析</title>
      <link href="/2019/12/17/cn-exp6/"/>
      <url>/2019/12/17/cn-exp6/</url>
      
        <content type="html"><![CDATA[<h1 id="网络报文捕获与网络协议分析"><a href="#网络报文捕获与网络协议分析" class="headerlink" title="网络报文捕获与网络协议分析"></a>网络报文捕获与网络协议分析</h1><h2 id="实验原理"><a href="#实验原理" class="headerlink" title="实验原理"></a>实验原理</h2><p>网络报文捕获与协议分析广泛地应用于分布式实时控制系统、网络故障分析、入侵检<br>测系统、网络监控系统等领域中，可以用来解决网络故障问题，检测安全隐患，测试协议执行情况。这里我们使用Wireshark来捕获网络报文，学习网络协议。</p><h2 id="实验内容"><a href="#实验内容" class="headerlink" title="实验内容"></a>实验内容</h2><p>分析面向连接的TCP协议三次握手建立连接和4次握手释放连接的过程；利用Wireshark捕获一次网页打开的过程，通过观察整个网页获得全过程，加强对HTTP协议的理解，通过观察捕获分组分析和理解HTTP协议细节和格式。</p><h2 id="网络报文捕获"><a href="#网络报文捕获" class="headerlink" title="网络报文捕获"></a>网络报文捕获</h2><h3 id="实验设备"><a href="#实验设备" class="headerlink" title="实验设备"></a>实验设备</h3><p>PC机1台（操作系统为XP），连接Internet</p><h3 id="实验组网图"><a href="#实验组网图" class="headerlink" title="实验组网图"></a>实验组网图</h3><p>无</p><h2 id="实验步骤"><a href="#实验步骤" class="headerlink" title="实验步骤"></a>实验步骤</h2><ol><li>安装并启动Wireshark，点击：Capture， Options，设置。</li></ol><p><img src="https://s2.ax1x.com/2019/12/17/QIyN5j.png" alt="QIyN5j.png"></p><ol start="2"><li>点击Start按钮开始捕获分组</li></ol><p><img src="https://s2.ax1x.com/2019/12/17/QIytaQ.png" alt="QIytaQ.png"></p><ol start="3"><li>点击Capture from… 对话框中Stop按钮结束捕获</li></ol><p><img src="https://s2.ax1x.com/2019/12/17/QIyaPs.png" alt="QIyaPs.png"></p><ol start="4"><li>得到捕获记录，观察跟踪记录</li></ol><p>从IP: 58.198.165.100到<a href="http://www.shou.edu.cn(58.198.165.79)的捕获。1区为捕获记录的列表框。2区为协议层框(协议框)，显示所选分组的各层协议细节:物理层帧,以太网帧及其首部,IP协议数据报及其首部,UDP数据报及其首部,HTTP等协议细节。3区为原始框，显示了分组中包含的数据的每个字节.从中可以观察最原始的传输数据.方框左边是十六进制的数据,右边是ASCII码。" target="_blank" rel="noopener">www.shou.edu.cn(58.198.165.79)的捕获。1区为捕获记录的列表框。2区为协议层框(协议框)，显示所选分组的各层协议细节:物理层帧,以太网帧及其首部,IP协议数据报及其首部,UDP数据报及其首部,HTTP等协议细节。3区为原始框，显示了分组中包含的数据的每个字节.从中可以观察最原始的传输数据.方框左边是十六进制的数据,右边是ASCII码。</a></p><h2 id="TCP协议分析"><a href="#TCP协议分析" class="headerlink" title="TCP协议分析"></a>TCP协议分析</h2><h3 id="实验设备-1"><a href="#实验设备-1" class="headerlink" title="实验设备"></a>实验设备</h3><p>虚拟机pc1(windows 2008)、pc2(windows 7)</p><h3 id="实验组网图-1"><a href="#实验组网图-1" class="headerlink" title="实验组网图"></a>实验组网图</h3><p>无</p><h3 id="实验步骤-1"><a href="#实验步骤-1" class="headerlink" title="实验步骤"></a>实验步骤</h3><p>1、.启动虚拟机pc1、pc2，将虚拟机pc1和pc2的网卡类型都设为“Host-only”，在实验一的基础上开展实验（配置好IP，使之连通）<br>2、将server.exe和client.exe程序分别复制到pc1和pc2的C盘根目录下；将wireshark安装程序复制到pc1上,并安装wireshark；<br>3、报文捕获<br>(1)在pc1运行服务器程序： server 端口号； </p><p><img src="https://s2.ax1x.com/2019/12/17/QIyYVg.png" alt="QIyYVg.png"></p><p>(2)启动wireshark数据捕获；（设置协议过滤–TCP）</p><p><img src="https://s2.ax1x.com/2019/12/17/QIyGqS.png" alt="QIyGqS.png"></p><p>(3)在pc2运行客户端程序： client 服务器IP 服务器端口；</p><p><img src="https://s2.ax1x.com/2019/12/17/QIydGn.png" alt="QIydGn.png"><br><img src="https://s2.ax1x.com/2019/12/17/QIyw2q.png" alt="QIyw2q.png"></p><p>(4)停止wireshark数据捕获</p><p><img src="https://s2.ax1x.com/2019/12/17/QIy0x0.png" alt="QIy0x0.png"></p><p>4、分析捕获的数据，列出此次简单的面向连接tcp数据传送过程，以及tcp控制字段变化情况。</p><p><img src="https://s2.ax1x.com/2019/12/17/QIyDMV.png" alt="QIyDMV.png"></p><p>注： （1）要求解释捕获的每个报文的含义与作用 (哪些报文建立连接，收发数据，释放连接？ 主要标志是？)</p><h2 id="HTTP协议分析"><a href="#HTTP协议分析" class="headerlink" title="HTTP协议分析"></a>HTTP协议分析</h2><h3 id="实验设备-2"><a href="#实验设备-2" class="headerlink" title="实验设备"></a>实验设备</h3><p>虚拟机pc1、pc2</p><h3 id="实验组网图-2"><a href="#实验组网图-2" class="headerlink" title="实验组网图"></a>实验组网图</h3><p>无</p><h3 id="实验步骤-2"><a href="#实验步骤-2" class="headerlink" title="实验步骤"></a>实验步骤</h3><p>1、.启动虚拟机pc1、pc2，将虚拟机pc1和pc2的网卡类型都设为“Host-only”，在实验二的基础上开展实验（在pc1上配置web服务器和DNS服务器）</p><p><img src="https://s2.ax1x.com/2019/12/17/QIyrrT.png" alt="QIyrrT.png"></p><p>2、在pc2上访问pc1上的网站（如<a href="http://www.wgl.com），用Wireshark捕获两者通信数据包，按照参考过程，进行协议分析。" target="_blank" rel="noopener">www.wgl.com），用Wireshark捕获两者通信数据包，按照参考过程，进行协议分析。</a></p><p><img src="https://s2.ax1x.com/2019/12/17/QIysqU.png" alt="QIysqU.png"></p><p>注： （1）要求解释pc2上访问pc1上的网站的过程中pc1与pc2之间的交互流程<br>附： dns缓存清理命令：ipconfig  /flushdns；如果不奏效，可以在“服务”中重启DNS Client服务。</p><blockquote style="margin: 2em 0 0;padding: 0.5em 1em;border-left: 3px solid #F44336;background-color: #F5F5F5;list-style: none;"><p> <strong>本文使用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/" target="_blank" rel="noopener">CC BY-NC-SA 3.0 中国大陆</a> 协议许可<br>具体请参见 <a href="https://zyhang8.github.io/agree/" target="_blank" rel="noopener">知识共享协议</a></strong><br> <strong>本文链接：</strong><a href="https://zyhang8.github.io/12/17/cn-exp6/" target="_blank" rel="noopener">https://zyhang8.github.io/2019/12/17/cn-exp6/</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 计算机网络 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 计算机网络 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>数学</title>
      <link href="/2019/12/07/math/"/>
      <url>/2019/12/07/math/</url>
      
        <content type="html"><![CDATA[<h2 id="衰减系数"><a href="#衰减系数" class="headerlink" title="衰减系数"></a>衰减系数</h2><p>衰减系数又称衰减常数。是传播系数的实数部分。它包括两部分：经典吸收和分子吸收。经典吸收是由于空气的粘滞性、热传导效应以及空气分子转动等所产生的声能耗散，其大小与声波频率的平方成正比例，并且与空气温度和气压有关，这种吸收一般可以不考虑。分子吸收主要是空气中氧和氮分子振动弛豫效应所引起的，它与空气的温度和湿度密切相关，也随声波频率的增减而变化，但变化规律较为复杂.</p><blockquote style="margin: 2em 0 0;padding: 0.5em 1em;border-left: 3px solid #F44336;background-color: #F5F5F5;list-style: none;"><p> <strong>本文使用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/" target="_blank" rel="noopener">CC BY-NC-SA 3.0 中国大陆</a> 协议许可<br>具体请参见 <a href="https://zyhang8.github.io/agree/" target="_blank" rel="noopener">知识共享协议</a></strong><br> <strong>本文链接：</strong><a href="https://zyhang8.github.io/2019/12/07/math/" target="_blank" rel="noopener">https://zyhang8.github.io/2019/12/07/math/</a></p></blockquote>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Servlet</title>
      <link href="/2019/12/04/j2ee-exp5/"/>
      <url>/2019/12/04/j2ee-exp5/</url>
      
        <content type="html"><![CDATA[<h2 id="登录注册表单"><a href="#登录注册表单" class="headerlink" title="登录注册表单"></a>登录注册表单</h2><p>前端网上cp的简单模板</p><p>通过form summit 在webxml中检测到相应的url后传到java文件，java文件再跳转到jsp文件</p><p>成功显示用户名密码</p><p>失败显示红色提示</p><p><img src="https://s2.ax1x.com/2019/12/04/Q14UYD.png" alt="Q14UYD.png"></p><p><img src="https://s2.ax1x.com/2019/12/04/Q14B6A.png" alt="Q14B6A.png"></p><p><img src="https://s2.ax1x.com/2019/12/04/Q14NFO.png" alt="Q14NFO.png"></p><h2 id="do请求"><a href="#do请求" class="headerlink" title=".do请求"></a>.do请求</h2><p>题目中的href默认为get请求，所以servlet为doget，接收参数后print，并在web.xml配置相应的url</p><p><img src="https://s2.ax1x.com/2019/12/04/Q140ld.png" alt="Q140ld.png"></p><h2 id="补充web-xml"><a href="#补充web-xml" class="headerlink" title="补充web.xml"></a>补充web.xml</h2><p>通过前两题这道题的原理也一样，同时也在hello.jsp写了另一个测试</p><p>根据这个demo可以得到题目中的答案</p><p>1和3名称可以随便设置，但是需要保持一致</p><p>2为edu.…….Uxx。servlet文件路径</p><p>4为url 为/userxxxx</p><p><img src="https://s2.ax1x.com/2019/12/04/Q14wSH.png" alt="Q14wSH.png"></p><blockquote style="margin: 2em 0 0;padding: 0.5em 1em;border-left: 3px solid #F44336;background-color: #F5F5F5;list-style: none;"><p> <strong>本文使用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/" target="_blank" rel="noopener">CC BY-NC-SA 3.0 中国大陆</a> 协议许可<br>具体请参见 <a href="https://zyhang8.github.io/agree/" target="_blank" rel="noopener">知识共享协议</a></strong><br> <strong>本文链接：</strong><a href="https://zyhang8.github.io/2019/12/04/j2ee-exp5/" target="_blank" rel="noopener">https://zyhang8.github.io/2019/12/04/j2ee-exp5/</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> j2ee </category>
          
      </categories>
      
      
        <tags>
            
            <tag> j2ee </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>企业</title>
      <link href="/2019/12/04/enterprise/"/>
      <url>/2019/12/04/enterprise/</url>
      
        <content type="html"><![CDATA[<h2 id="企业和公司的区别"><a href="#企业和公司的区别" class="headerlink" title="企业和公司的区别"></a>企业和公司的区别</h2><p>企业与公司有本质概念上的差异，主要在于公司是指依法定程序设立，以营利为目的社团法人，而企业泛指一切从事生产、流通或者服务活动，以谋取经济利益的经济组织。</p><p>企业在概念范畴上是包含公司的。</p><p>企业是组织众多个人开展经济活动的一种方式，而公司是企业的组织形式，是解决筹集大量资金碰到许多问题时候的一种标准方法，但是也可以采取其他的组织形式。</p><p>通常理解企业的主要形式有3种：第一，业主所有者。第二，合伙制企业。第三，公司。</p><p>而公司的特性有：</p><ul><li>必须依法设立。即按照《公司法》所规定的条件、方式和程序设立。</li><li>以营利为目的。《公司法》规定，公司“以提高经济效益、劳动生产率和实现资产保值增值为目的。”这是公司区别于其他法人组织的一个显著特征。</li><li>必须具备法人资格。《公司法》规定，有限责任公司和股份有限公司是企业法人。说明公司属于企业范畴。</li></ul><h2 id="公司组织形式"><a href="#公司组织形式" class="headerlink" title="公司组织形式"></a>公司组织形式</h2><h3 id="内资企业"><a href="#内资企业" class="headerlink" title="内资企业"></a>内资企业</h3><h4 id="有限公司"><a href="#有限公司" class="headerlink" title="有限公司"></a>有限公司</h4><p>有限责任公司，简称有限公司，中国的有限责任公司是指根据《中华人民共和国公司登记管理条例》规定登记注册，由五十个以下的股东出资设立，每个股东以其所认缴的出资额为限对公司承担有限责任，公司法人以其全部资产对公司债务承担全部责任的经济组织。有限责任公司包括国有独资公司以及其他有限责任公司。</p><h4 id="股份公司"><a href="#股份公司" class="headerlink" title="股份公司"></a>股份公司</h4><p>股份有限公司（Stock corporation）是指公司资本为股份所组成的公司，股东以其认购的股份为限对公司承担责任的企业法人。中国《公司法》规定，设立股份有限公司，应当有2人以上200以下为发起人。由于所有股份公司均须是负担有限责任的有限公司（但并非所有有限公司都是股份公司），所以一般合称“股份有限公司”。</p><h4 id="个人独资企业"><a href="#个人独资企业" class="headerlink" title="个人独资企业"></a>个人独资企业</h4><p>独资企业是指一人投资经营的企业。独资 企业投资者对企业债务负无限责任。企业负责人是投资者本人。企业负责人姓名须与身份证相符，不得使用别名。按照我国现行税法有关规定，私营独资企业取得的生产经营所得和其他所得，应按规定缴纳私营个人所得税。</p><h4 id="非公司企业法人"><a href="#非公司企业法人" class="headerlink" title="非公司企业法人"></a>非公司企业法人</h4><p>非公司企业法人是指具有企业名称、注册资金、组织机构、住所等法定的法人条件，能够独立承担民事责任。经登记主管机关核准登记取得法人资格的经济组织。比如国有独资企业，中外合作企业等。这些企业的特点是虽然具有法人资格，但并非按照《公司法》成立的公司法人，即企业的组织形式不是公司。</p><h4 id="普通合伙企业"><a href="#普通合伙企业" class="headerlink" title="普通合伙企业"></a>普通合伙企业</h4><p>普通合伙企业由普通合伙人组成，合伙人对合伙企业债务承担无限连带责任。《合伙企业法》对普通合伙人承担责任的形式有特别规定的，从其规定。国有独资公司、国有企业、上市公司以及公益性的事业单位、社会团体不得成为普通合伙人。</p><h4 id="特殊普通合伙企业"><a href="#特殊普通合伙企业" class="headerlink" title="特殊普通合伙企业"></a>特殊普通合伙企业</h4><p>特殊普通合伙企业是指以专门知识和技能为客户提供有偿服务的专业服务机构，这些服务机构可以设立为特殊的普通合伙企业。例如律师事务所、会计师事务所、医师事务所、设计师事务所等。特殊的普通合伙企业必须在其企业名称中标明“特殊普通合伙”字样，以区别于普通合伙企业。</p><h4 id="有限合伙企业"><a href="#有限合伙企业" class="headerlink" title="有限合伙企业"></a>有限合伙企业</h4><p>有限合伙企业由普通合伙人和有限合伙人组成，普通合伙人对合伙企业债务承担无限连带责任，有限合伙人以其认缴的出资额为限对合伙企业债务承担责任。</p><h3 id="外资企业"><a href="#外资企业" class="headerlink" title="外资企业"></a>外资企业</h3><blockquote style="margin: 2em 0 0;padding: 0.5em 1em;border-left: 3px solid #F44336;background-color: #F5F5F5;list-style: none;"><p> <strong>本文使用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/" target="_blank" rel="noopener">CC BY-NC-SA 3.0 中国大陆</a> 协议许可<br>具体请参见 <a href="https://zyhang8.github.io/agree/" target="_blank" rel="noopener">知识共享协议</a></strong><br> <strong>本文链接：</strong><a href="https://zyhang8.github.io/2019/07/18/Ningbo/" target="_blank" rel="noopener">https://zyhang8.github.io/2019/07/18/Ningbo/</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 企业 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 企业 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>fish|letex</title>
      <link href="/2019/12/02/letex/"/>
      <url>/2019/12/02/letex/</url>
      
        <content type="html"><![CDATA[<p>本文持续更新…</p><h1 id="letex"><a href="#letex" class="headerlink" title="letex"></a>letex</h1><blockquote><p>听说是写论文神器，这次期末需要写小论文，顺便掌握一下</p></blockquote><p><a href="https://wenku.baidu.com/view/6f8cb6c9c281e53a5902ffb7.html?rec_flag=default&mark_pay_doc=2&mark_rec_page=1&mark_rec_position=2&mark_rec=view_r_1&clear_uda_param=1&sxts=1525487825166" target="_blank" rel="noopener">winedt简单教程</a></p><h2 id="包文件"><a href="#包文件" class="headerlink" title="包文件"></a>包文件</h2><p>这里主要给出本文所有的头文件，即需要使用的包。在运行本文中的事例之前在开头复制以下代码</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">% !Mode::&quot;TeX:UTF-8&quot;</span><br><span class="line">%\documentclass[prd,aps,onecolumn,preprintnumbers,amsmath,amssymb,superscriptaddress]&#123;article&#125;</span><br><span class="line">\documentclass&#123;article&#125;</span><br><span class="line">%\usepackage[UTF8]&#123;ctex&#125;</span><br><span class="line">\usepackage&#123;listings&#125;</span><br><span class="line">\usepackage&#123;amsthm&#125;</span><br><span class="line">\usepackage&#123;amsmath&#125;</span><br><span class="line">\usepackage&#123;amssymb&#125;</span><br><span class="line">\usepackage&#123;subfigure&#125;</span><br><span class="line">\usepackage&#123;graphicx&#125;</span><br><span class="line">\usepackage&#123;hyperref&#125;</span><br><span class="line">\usepackage[table]&#123;xcolor&#125;</span><br><span class="line">\usepackage&#123;fancyhdr&#125;</span><br><span class="line">\usepackage&#123;footnote&#125;</span><br><span class="line">\usepackage&#123;lastpage&#125;</span><br><span class="line">%\usepackage&#123;pythonhighlight&#125;</span><br><span class="line">\usepackage&#123;indentfirst&#125;</span><br><span class="line">\usepackage&#123;multirow&#125;</span><br><span class="line">\usepackage&#123;authblk&#125;</span><br><span class="line">\usepackage&#123;comment&#125;</span><br><span class="line">\usepackage&#123;url&#125;</span><br><span class="line">\usepackage&#123;float&#125;</span><br><span class="line">\usepackage&#123;cite&#125;</span><br><span class="line">\usepackage&#123;caption&#125;</span><br><span class="line">%\usepackage&#123;graphix&#125;</span><br><span class="line">\setlength&#123;\parindent&#125;&#123;1em&#125;</span><br><span class="line">%\pagestyle&#123;fancy&#125;</span><br><span class="line">%设置页面大小</span><br><span class="line">%\chead&#123;LSPE&#125;</span><br><span class="line">%\rhead&#123;\thesection&#125;</span><br><span class="line">%\cfoot&#123;Page \thepage of \pageref&#123;LastPage&#125;&#125;</span><br><span class="line">\usepackage[top=2.54cm, bottom=2.54cm, left=3.18cm,right=3.18cm]&#123;geometry&#125;</span><br></pre></td></tr></table></figure><h2 id="字体"><a href="#字体" class="headerlink" title="字体"></a>字体</h2><h3 id="论文字体要求"><a href="#论文字体要求" class="headerlink" title="论文字体要求"></a>论文字体要求</h3><p><a href="https://baike.baidu.com/item/%E8%AE%BA%E6%96%87%E6%A0%BC%E5%BC%8F/5969051?fr=aladdin#3_1" target="_blank" rel="noopener">百度百科</a></p><ul><li>论文标题2号黑体加粗、居中。</li><li>论文副标题小2号字，紧挨正标题下居中，文字前加破折号。</li><li>填写姓名、专业、学号等项目时用3号楷体。</li><li>内容提要3号黑体，居中上下各空一行，内容为小4号宋体。</li><li>关键词4号宋体，内容为小4号宋体。</li><li>目录另起页，3号黑体，内容为小4号仿宋，并列出页码。</li><li>正文文字另起页，正文文字一般用小4 号宋体，每段首起空两个格，1.25倍行距。</li><li>正文文中标题</li><li>一级标题：标题序号为“一、”， 4号黑体，独占行，末尾不加标点符号。</li><li>二级标题：标题序号为“（一）”与正文字号相同，独占行，末尾不加标点符号。</li><li>三级标题：标题序号为“ 1. ”与正文字号、字体相同。</li><li>四级标题：标题序号为“（1）”与正文字号、字体相同。</li><li>五级标题：标题序号为“①”与正文字号、字体相同。</li><li>注释：4号黑体，内容为5号宋体。</li><li>附录： 4号黑体，内容为5号宋体。</li><li>参考文献：另起页，4号黑体，内容为5号宋体。</li></ul><p>（参考文献是期刊时，书写格式为：[编号]、作者、文章题目、期刊名（外文可缩写）、年份、卷号、期数、页码。参考文献是图书时，书写格式为：[编号]、作者、书名、出版单位、年份、版次、页码。）</p><p>摘要以300字左右为宜。</p><p>英文摘要应与中文摘要相对应，字体为小四号times new roman。</p><p>“目录”二字采用三号字黑体、居中书写，“目”与“录”之间空两格，第一级层次采用小三号宋体字，其他级层次题目采用四号宋体字。</p><p>正文的全部标题层次应整齐清晰，相同的层次应采用统一的字体表示。第一级为“一”、“二”、“三”、等，第二级为“1.1”、“1.2”、“1.3”等，第三级为“1.1.1”、“1.1.2”等。</p><p>中文摘要及关键词：“摘要”二字采用三号字黑体、居中书写，“摘”与“要”之间空两格，内容采用小四号宋体。“关键词”三字采用小四号字黑体，顶格书写，一般为3—5个。</p><p>引言（或序言）。内容应包括本研究领域的国内外现状，本论文所要解决的问题及这项研究工作在经济建设、科技进步和社会发展等方面的理论意义与实用价值。</p><p>采取a4纸张，页边距一律采取：上2.8cm、下2.5cm，左3cm,右2.5cm，行间距取多倍行距(设置值为1.25);字符间距为默认值(缩放100%，间距：标准)，封面采用教务处统一规定的封面。</p><p>论文各页均加页眉，采用宋体五号宋体居中，打印“xx大学xxxx届x科生毕业论文(设计)”。页码从正文开始在页脚按阿拉伯数字(宋体小五号)连续编排，居中书写。</p><h4 id="技巧"><a href="#技巧" class="headerlink" title="技巧"></a>技巧</h4><ul><li>技巧一：依据学术方向进行选题。论文写作的价值，关键在于能够解决特定行业的特定问题，特别是在学术方面的论文更是如此。因此，论文选择和提炼标题的技巧之一，就是依据学术价值进行选择提炼。</li><li>技巧二：依据兴趣爱好进行选题。论文选择和提炼标题的技巧之二，就是从作者的爱好和兴趣出发，只有选题符合作者兴趣和爱好，作者平日所积累的资料才能得以发挥效用，语言应用等方面也才能熟能生巧。</li><li>技巧三：依据掌握的文献资料进行选题。文献资料是支撑、充实论文的基础，同时更能体现论文所研究的方向和观点，因而，作者从现有文献资料出发，进行选题和提炼标题，即成为第三大技巧。</li><li>技巧四：从小从专进行选题。所谓从小从专，即是指论文撰稿者在进行选择和提炼标题时，要从专业出发，从小处入手进行突破，切忌全而不专，大而空洞。</li></ul><h3 id="字体大小"><a href="#字体大小" class="headerlink" title="字体大小"></a>字体大小</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">\tiny</span><br><span class="line">\scriptsize</span><br><span class="line">\footnotesize</span><br><span class="line">\small</span><br><span class="line">\normalsize</span><br><span class="line">\large</span><br><span class="line">\Large</span><br><span class="line">\LARGE</span><br><span class="line">\huge</span><br><span class="line">\Huge</span><br></pre></td></tr></table></figure><h3 id="字体加粗"><a href="#字体加粗" class="headerlink" title="字体加粗"></a>字体加粗</h3><p>文本加粗</p><p>\textbf{这里放文本}</p><p>既要加粗又要变小：（为毛感觉有点邪恶~~ 2333333 认真脸）</p><p>{\textbf{\small Hello word}}</p><p>数学符号加粗</p><p>$\boldsymbol 直接接数学符号 $</p><h3 id="字体显示形式"><a href="#字体显示形式" class="headerlink" title="字体显示形式"></a>字体显示形式</h3><h4 id="删除字体"><a href="#删除字体" class="headerlink" title="删除字体"></a>删除字体</h4><p>\usepackage{cancel}<br>\cancel{abc}</p><h4 id="下标线"><a href="#下标线" class="headerlink" title="下标线"></a>下标线</h4><p>这里解决的问题是下标线导致的问题，如fx:</p><p>f_x</p><p>而我想要的结果是下划线一起输出，我们需要一个转义字符\即可，</p><p>f_x</p><h4 id="其他形式"><a href="#其他形式" class="headerlink" title="其他形式"></a>其他形式</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">\cancel&#123;abe&#125;</span><br><span class="line">\textbar&#123;abc&#125;</span><br><span class="line">\textcircled&#123;acbd&#125;</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20190629164151340." alt="35"></p><h3 id="分段机制"><a href="#分段机制" class="headerlink" title="分段机制"></a>分段机制</h3><p>分段机制</p><ul><li>在原码中空一行，则生成的pdf会换行</li><li>在文后使用双斜杠\</li><li>使用命令<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">```latex</span><br><span class="line">Life is too short so that I use python\\</span><br><span class="line">me too.</span><br><span class="line"></span><br><span class="line">Life is too short so that I use python</span><br><span class="line"></span><br><span class="line">me too.</span><br><span class="line"></span><br><span class="line">Life is too short so that I use python</span><br><span class="line">\newparas</span><br><span class="line">me too.</span><br></pre></td></tr></table></figure></li></ul><p><img src="https://img-blog.csdnimg.cn/201906241541494.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L01yX0NhdDEyMw==,size_16,color_FFFFFF,t_70" alt="1"></p><h3 id="自动补全"><a href="#自动补全" class="headerlink" title="自动补全"></a>自动补全</h3><p>快捷键：Ctrl+Enter</p><h3 id="数学模式与文本模式"><a href="#数学模式与文本模式" class="headerlink" title="数学模式与文本模式"></a>数学模式与文本模式</h3><h4 id="行内公式和行间公式"><a href="#行内公式和行间公式" class="headerlink" title="行内公式和行间公式"></a>行内公式和行间公式</h4><p><a href="https://www.cnblogs.com/zsgyx/p/10632696.html" target="_blank" rel="noopener">行内公式和行间公式</a></p><h5 id="行内公式"><a href="#行内公式" class="headerlink" title="行内公式"></a>行内公式</h5><p>我是对行内公式的测试$f(x)=1+x+x^2$</p><p><img src="https://img2018.cnblogs.com/blog/1516317/201903/1516317-20190331201035847-1977809048.png" alt="2"></p><h5 id="行间公式"><a href="#行间公式" class="headerlink" title="行间公式"></a>行间公式</h5><h6 id="单行不编号"><a href="#单行不编号" class="headerlink" title="单行不编号"></a>单行不编号</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">\begin&#123;equation&#125;</span><br><span class="line">  \int_0^1(1+x)dx</span><br><span class="line">\end&#123;equation&#125;</span><br></pre></td></tr></table></figure><p>结果为：</p><p><img src="https://img2018.cnblogs.com/blog/1516317/201903/1516317-20190331201450102-1393430019.png" alt="3"></p><h6 id="单行编号"><a href="#单行编号" class="headerlink" title="单行编号"></a>单行编号</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">\begin&#123;equation&#125;\label&#123;&#125;</span><br><span class="line">    \int_0^1(1+x)dx</span><br><span class="line">\end&#123;equation&#125;</span><br><span class="line">或者：</span><br><span class="line">\[</span><br><span class="line">\int_0^1(1+x)dx</span><br><span class="line">\]</span><br></pre></td></tr></table></figure><p><img src="https://img2018.cnblogs.com/blog/1516317/201903/1516317-20190331202018963-1758441535.png" alt="4"></p><h6 id="多行编号"><a href="#多行编号" class="headerlink" title="多行编号"></a>多行编号</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">\begin&#123;equation&#125;\label&#123;&#125;</span><br><span class="line">   \begin&#123;cases&#125;</span><br><span class="line">    f(x)=1+x+x^2\\</span><br><span class="line">    g(x)=a_nx^n+a_&#123;n-1&#125;x^&#123;n-1&#125;+...+a_1x^1</span><br><span class="line">   \end&#123;cases&#125;</span><br><span class="line">\end&#123;equation&#125;</span><br></pre></td></tr></table></figure><p><img src="https://img2018.cnblogs.com/blog/1516317/201903/1516317-20190331202101231-1626010416.png" alt="5"></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">\begin&#123;equation&#125;\label&#123;&#125;</span><br><span class="line">   \begin&#123;split&#125;</span><br><span class="line">    f(x)=\cos(x+y)+\sin(x+y)=\cos x \cos y- \sin x \sin y \\</span><br><span class="line">    +\sin x \cos y+\cos x \sin y</span><br><span class="line">   \end&#123;split&#125;</span><br><span class="line">\end&#123;equation&#125;</span><br></pre></td></tr></table></figure><p><img src="https://img2018.cnblogs.com/blog/1516317/201903/1516317-20190331203022567-183520171.png" alt="6"></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">\begin&#123;equation&#125;\label&#123;...&#125;</span><br><span class="line">D(x) =</span><br><span class="line">\begin&#123;cases&#125;</span><br><span class="line">1, &amp; \text&#123;if &#125; x \in \mathbb&#123;Q&#125;;\\</span><br><span class="line">0, &amp; \text&#123;if &#125; x \in \mathbb&#123;R&#125;\setminus\mathbb&#123;Q&#125;.</span><br><span class="line">\end&#123;cases&#125;</span><br><span class="line">\end&#123;equation&#125;</span><br></pre></td></tr></table></figure><p><img src="https://img2018.cnblogs.com/blog/1516317/201903/1516317-20190331203410878-1300698317.png" alt="7"></p><h6 id="多行不编号"><a href="#多行不编号" class="headerlink" title="多行不编号"></a>多行不编号</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">\begin&#123;equation&#125;</span><br><span class="line">...</span><br><span class="line">\end&#123;equation&#125;</span><br><span class="line">改成</span><br><span class="line">\begin&#123;equation*&#125;</span><br><span class="line">...</span><br><span class="line">\end&#123;equation*&#125;</span><br><span class="line">或者使用：</span><br><span class="line">\begin&#123;align*&#125;</span><br><span class="line">...</span><br><span class="line">\end&#123;align*&#125;</span><br></pre></td></tr></table></figure><h4 id="数学公式编号"><a href="#数学公式编号" class="headerlink" title="数学公式编号"></a>数学公式编号</h4><h5 id="手动编号"><a href="#手动编号" class="headerlink" title="手动编号"></a>手动编号</h5><p>通过采用\tag来编号，当引用公式时手动输入。缺点是当更改公式里的编号时引用中的编号不能自动更改，其二，不同通过点击引用的编号回到公式</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$$y=1+e^x \tag&#123;1.1&#125;$$</span><br><span class="line">我们今天要讨论这个方程$(1.1)$</span><br></pre></td></tr></table></figure><p>y=1+e x  (1.1)</p><h5 id="Latex"><a href="#Latex" class="headerlink" title="Latex"></a>Latex</h5><p>对于latex而言，不需要$$这样的符号</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">\begin&#123;equation&#125;\label&#123;time_pixel&#125;</span><br><span class="line">  t_\text&#123;pix&#125;=\frac&#123;\Delta T&#125;&#123;N_\text&#123;pix&#125;&#125;\times N_\text&#123;det&#125;.</span><br><span class="line">\end&#123;equation&#125;</span><br><span class="line"></span><br><span class="line">Substituting \autoref&#123;time_pixel&#125;</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20190827180035850.png" alt="8"></p><h5 id="为知笔记"><a href="#为知笔记" class="headerlink" title="为知笔记"></a>为知笔记</h5><h5 id="马克飞象"><a href="#马克飞象" class="headerlink" title="马克飞象"></a>马克飞象</h5><h4 id="数学公式对齐"><a href="#数学公式对齐" class="headerlink" title="数学公式对齐"></a>数学公式对齐</h4><p>采用{aligned}如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">\begin&#123;equation&#125;\label&#123;information gain&#125;</span><br><span class="line">\begin&#123;aligned&#125;</span><br><span class="line">  Gain(X,Y)&amp;=H(Y)-H(Y|X)\\</span><br><span class="line">  &amp;=H(X)-H(X|Y)\\</span><br><span class="line">  &amp;=H(X)+H(Y)-H(X,Y)</span><br><span class="line">\end&#123;aligned&#125;</span><br><span class="line">\end&#123;equation&#125;</span><br></pre></td></tr></table></figure><p>结果为：</p><p><img src="https://img-blog.csdn.net/20180911205521329" alt="9"></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">\begin&#123;equation&#125;\label&#123;lagrangian&#125;</span><br><span class="line">\begin&#123;aligned&#125;</span><br><span class="line">  w_&#123;ij&#125;&amp;=\frac&#123;1&#125;&#123;(N_i+R_i)(N_j+R_j)\frac&#123;1&#125;&#123;2&#125;(1+\delta_&#123;ij&#125;)&#125;\\</span><br><span class="line">  Var[\mathbb&#123;\hat&#123;C&#125;&#125;_\ell]&amp;=\frac&#123;2&#125;&#123;2\ell+1&#125;\left(\sum_&#123;i,j,j\ge i&#125;\frac&#123;1&#125;&#123;(N_i+R_i)(N_j+R_j)\frac&#123;1&#125;&#123;2&#125;(1+\delta_&#123;ij&#125;)&#125;\right)^&#123;-1&#125;</span><br><span class="line">\end&#123;aligned&#125;</span><br><span class="line">\end&#123;equation&#125;</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/2019042820064623." alt="10"></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">\begin&#123;equation&#125;\label&#123;lagrangian&#125;</span><br><span class="line">\begin&#123;aligned&#125;</span><br><span class="line">  w_&#123;ij&#125;&amp;=\frac&#123;1&#125;&#123;(N_i+R_i)(N_j+R_j)\frac&#123;1&#125;&#123;2&#125;(1+\delta_&#123;ij&#125;)&#125;\\</span><br><span class="line">  Var[\mathbb&#123;\hat&#123;C&#125;&#125;_\ell]&amp;=\frac&#123;2&#125;&#123;2\ell+1&#125;\left(\sum_&#123;i,j,j\ge i&#125;\frac&#123;1&#125;&#123;(N_i+R_i)(N_j+R_j)\frac&#123;1&#125;&#123;2&#125;(1+\delta_&#123;ij&#125;)&#125;\right)^&#123;-1&#125;</span><br><span class="line">\end&#123;aligned&#125;</span><br><span class="line">\end&#123;equation&#125;</span><br></pre></td></tr></table></figure><h4 id="公式之间空格"><a href="#公式之间空格" class="headerlink" title="公式之间空格"></a>公式之间空格</h4><p>发现上面的公式之间挨得太近了，想要空格，可以使用第3部分提到的空格方法，将上面的代码增加\quad：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">\begin&#123;equation&#125;\label&#123;add_prior&#125;</span><br><span class="line">  \frac&#123;\sigma(A_s^p)&#125;&#123;A_s^p&#125;=0.17,\quad \sigma(\beta_s)=0.17,\quad \frac&#123;\sigma(A_d^p)&#125;&#123;A_d^p&#125;=0.015,\quad \sigma(\beta_d)=0.02</span><br><span class="line">\end&#123;equation&#125;</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20190624111749377.png" alt="11"></p><h3 id="输入函数"><a href="#输入函数" class="headerlink" title="输入函数"></a>输入函数</h3><h3 id="矩阵和大括号"><a href="#矩阵和大括号" class="headerlink" title="矩阵和大括号"></a>矩阵和大括号</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">\begin&#123;equation&#125;</span><br><span class="line">    \left(</span><br><span class="line">    \begin&#123;array&#125;&#123;ccc&#125;</span><br><span class="line">    a_&#123;11&#125;&amp; a_&#123;12&#125; &amp; a_&#123;13&#125; \\</span><br><span class="line">    a_&#123;21&#125; &amp; a_&#123;22&#125; &amp; a_&#123;23&#125; \\</span><br><span class="line">    a_&#123;31&#125; &amp; a_&#123;32&#125; &amp; a_&#123;33&#125;</span><br><span class="line">    \end&#123;array&#125;</span><br><span class="line">    \right)</span><br><span class="line">  \end&#123;equation&#125;</span><br></pre></td></tr></table></figure><h3 id="分段函数"><a href="#分段函数" class="headerlink" title="分段函数"></a>分段函数</h3><p>分段函数是在矩阵的基础之上的，比如如下的分段函数</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">\begin&#123;equation&#125;</span><br><span class="line">  f(x)=</span><br><span class="line">  \left\&#123;</span><br><span class="line">  \begin&#123;array&#125;&#123;cc&#125;</span><br><span class="line">  \int \mathrm&#123;d&#125;^3p\int_&#123;0&#125;^&#123;\infty&#125;\mathrm&#123;d&#125;x x^2 \frac&#123;\delta(E-\sqrt&#123;p^2+m^2&#125;)&#125;&#123;2E&#125; , &amp; x \geq 0 \\</span><br><span class="line">  0,&amp; x &lt; 0</span><br><span class="line">  \end&#123;array&#125;</span><br><span class="line">  \right.</span><br><span class="line">\end&#123;equation&#125;</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdn.net/2018050621470868" alt="12"></p><h3 id="加载宏包doc文档"><a href="#加载宏包doc文档" class="headerlink" title="加载宏包doc文档"></a>加载宏包doc文档</h3><h3 id="输入中文以及宏包安装"><a href="#输入中文以及宏包安装" class="headerlink" title="输入中文以及宏包安装"></a>输入中文以及宏包安装</h3><p>输入中文需要用到ctex包，这是专门针对中文而设计的包，使用时在前面将</p><p>\document{article}</p><p>改为</p><p>\document[UTF8]{ctexart}</p><p>即可,（有的不需要加方括号中的内容），或者\document{article}不变，在其下加入一个宏包为</p><p>\usepackage[UTF8]{ctex}</p><p>此外，中文包还可以使用</p><p>\usepackage{CJK}</p><h3 id="插入图片"><a href="#插入图片" class="headerlink" title="插入图片"></a>插入图片</h3><h3 id="表格"><a href="#表格" class="headerlink" title="表格"></a>表格</h3><h4 id="普通表格"><a href="#普通表格" class="headerlink" title="普通表格"></a>普通表格</h4><p>表格制作可以使用tabular，简单一个图如下</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">\begin&#123;tabular&#125;&#123;|c|c|&#125;</span><br><span class="line">    \hline</span><br><span class="line">    % after \\: \hline or \cline&#123;col1-col2&#125; \cline&#123;col3-col4&#125; ...</span><br><span class="line">    Name &amp; score \\</span><br><span class="line">    \hline</span><br><span class="line">    小明 &amp; 50 \\</span><br><span class="line">    小华 &amp; 45 \\</span><br><span class="line">    \hline</span><br><span class="line">  \end&#123;tabular&#125;</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdn.net/20180507145926877" alt="13"></p><p>讲解：</p><ul><li>第一句是tabular表格的开始，参数{|c|c|}中的第一个|表示表格中的左边竖，第二、三个分别是中间和右边的竖。而c表示表格中的字体居中，l(left)和r(right)表示表格中字体靠左和靠右。可以尝试将｛|c|c|｝改为{c|c}即不要两边的竖线。</li><li>\hline（horizontal line）表示画一条水平线</li><li>%是注释，\是换行，\hline可以紧接在\后，如下表示：</li></ul><p>\ \hline</p><p>会显得更紧凑。</p><p>当然，这个表格是不浮动的，和图片一样，如果想加入\caption的话，可以构成浮动的图片（但毕竟可以写标题了呀，想想还是赚的）。这个时候需要用到table环境。如下</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">\begin&#123;table&#125;</span><br><span class="line">\centering</span><br><span class="line">\begin&#123;tabular&#125;&#123;|c|c|&#125;</span><br><span class="line">  \hline</span><br><span class="line">  % after \\: \hline or \cline&#123;col1-col2&#125; \cline&#123;col3-col4&#125; ...</span><br><span class="line">  Name &amp; score \\</span><br><span class="line">  \hline</span><br><span class="line">  小明 &amp; 50 \\</span><br><span class="line">  小华 &amp; 45 \\</span><br><span class="line">  \hline</span><br><span class="line">\end&#123;tabular&#125;</span><br><span class="line">  \caption&#123;这是一个表格&#125;</span><br><span class="line">\end&#123;table&#125;</span><br></pre></td></tr></table></figure><p>同样的\centering是表格居中，否则居左。其他都讲过了，很easy.最后可以使用caption宏包，这个需要自行google。</p><p>在表格中换行</p><p>比如两个表格(table)是要构成一个table的，想统一做一个说明，而不是每个table单独说明，此时需要将两个表格分开，这个时候可以用命令：</p><p>\vspace{0.35cm}   #表示上下空0.35cm的空间</p><p>比如</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">\begin&#123;table&#125;</span><br><span class="line">  \centering</span><br><span class="line">  %\footnotesize</span><br><span class="line">  Case 0: 95+150</span><br><span class="line">  </span><br><span class="line">  \begin&#123;tabular&#125;&#123;|c|c|c|c|c|c|&#125;</span><br><span class="line">  \hline</span><br><span class="line">  $r$ &amp; $\sigma_r(\sigma_F=1)$ &amp; $\sigma_r(\sigma_F=0.1)$ &amp; $\sigma_r(\sigma_F=0.01)$ &amp; $N_&#123;95&#125;$ &amp; $N_&#123;150&#125;$\\</span><br><span class="line">  \hline</span><br><span class="line">  0.01 &amp; 0.01094 &amp; 0.00228 &amp; 0.00106 &amp; 8701 &amp; 1299 \\</span><br><span class="line">  0 &amp; 0.01084 &amp; 0.00216 &amp; 0.00091 &amp; 8701 &amp; 1299 \\</span><br><span class="line">  \hline</span><br><span class="line">  \end&#123;tabular&#125; </span><br><span class="line">  \vspace&#123;0.35cm&#125;    #空0.35cm</span><br><span class="line">  </span><br><span class="line"> Case 1: 41+95+150</span><br><span class="line"></span><br><span class="line">  \begin&#123;tabular&#125;&#123;|c|c|c|c|c|c|&#125;</span><br><span class="line">  \hline</span><br><span class="line">  $r$ &amp; $\sigma_r(\sigma_F=1)$ &amp; $\sigma_r(\sigma_F=0.1)$ &amp; $\sigma_r(\sigma_F=0.01)$ &amp; $N_&#123;95&#125;$ &amp; $N_&#123;150&#125;$\\</span><br><span class="line">  \hline</span><br><span class="line">  0.01 &amp; 0.00787 &amp; 0.00203 &amp; 0.00106 &amp; 8701 &amp; 1299 \\</span><br><span class="line">  0 &amp; 0.01084 &amp; 0.00216 &amp; 0.00091 &amp; 8701 &amp; 1299 \\</span><br><span class="line">  \hline</span><br><span class="line">  \end&#123;tabular&#125;</span><br><span class="line">  \caption&#123;table 1&#125;\label&#123;anser1&#125;</span><br><span class="line">\end&#123;table&#125;</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdn.net/20180918172510135" alt="36"></p><p>如果要改变字体大小，只要在第二行即\centering下加入改变字体大小的代码即可，（如我已经注释掉的\footnotesize），更多字体大小的代码见第一部分。</p><h5 id="调整表格和标题-标注的距离"><a href="#调整表格和标题-标注的距离" class="headerlink" title="调整表格和标题/标注的距离"></a>调整表格和标题/标注的距离</h5><p>可以使用以下两个命令，关于调节距离多少，可以尝试调节里面的数字</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">\setlength&#123;\abovecaptionskip&#125;&#123;0.cm&#125;</span><br><span class="line"></span><br><span class="line">\setlength&#123;\belowcaptionskip&#125;&#123;-0.9cm&#125;</span><br></pre></td></tr></table></figure><h5 id="多行"><a href="#多行" class="headerlink" title="多行"></a>多行</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">\begin&#123;table&#125;</span><br><span class="line">  \centering</span><br><span class="line">  \footnotesize</span><br><span class="line">  Case 0: 95+150</span><br><span class="line"></span><br><span class="line">  \begin&#123;tabular&#125;&#123;|c|c|c|c|c|c|c|&#125;</span><br><span class="line">  \hline</span><br><span class="line">  \multirow&#123;2&#125;&#123;0.25cm&#125;&#123;\centering $r$&#125; &amp; \multirow&#123;2&#125;&#123;1.2cm&#125;&#123;\centering $\sigma_r$\\$(\sigma_F=1)$&#125; &amp; \multirow&#123;2&#125;&#123;1.4cm&#125;&#123;\centering $\sigma_r$\\$(\sigma_F=0.1)$&#125; &amp; \multirow&#123;2&#125;&#123;1.6cm&#125;&#123;\centering $\sigma_r$\\$(\sigma_F=0.01)$&#125; &amp; \multirow&#123;2&#125;&#123;1cm&#125;&#123;\centering $N_&#123;95&#125;$&#125; &amp; \multirow&#123;2&#125;&#123;1cm&#125;&#123;\centering $N_&#123;150&#125;$&#125;\\</span><br><span class="line">  &amp; &amp; &amp; &amp; &amp; \\</span><br><span class="line">  \hline</span><br><span class="line">  \multirow&#123;2&#125;*&#123;0.01&#125; &amp; 0.01279 &amp; &amp; &amp; 8601 &amp; 1399 \\</span><br><span class="line">    &amp; &amp; 0.00329 &amp; &amp; 8701 &amp; 1299 \\</span><br><span class="line">    &amp; &amp; &amp; 0.00180 &amp; 9201 &amp; 1299 \\</span><br><span class="line">  \hline</span><br><span class="line">  \multirow&#123;2&#125;*&#123;0&#125; &amp; 0.01268 &amp; &amp; &amp; 8701 &amp; 1299 \\</span><br><span class="line">   &amp; &amp; 0.00315 &amp; &amp;8701 &amp; 1299\\</span><br><span class="line">   &amp; &amp; &amp; 0.00164 &amp; 9201 &amp; 799 \\</span><br><span class="line">   \hline</span><br><span class="line">  \end&#123;tabular&#125;</span><br><span class="line">  \vspace&#123;0.35cm&#125;</span><br><span class="line"></span><br><span class="line">  Case 1: 41+95+150</span><br><span class="line"></span><br><span class="line">  \begin&#123;tabular&#125;&#123;|c|c|c|c|c|c|c|&#125;</span><br><span class="line">  \hline</span><br><span class="line">  $r$ &amp; $\sigma_r(\sigma_F=1)$ &amp; $\sigma_r(\sigma_F=0.1)$ &amp; $\sigma_r(\sigma_F=0.01)$ &amp; $N_&#123;41&#125;$ &amp; $N_&#123;95&#125;$ &amp; $N_&#123;150&#125;$\\</span><br><span class="line">  \hline</span><br><span class="line">   &amp; 0.01057 &amp;  &amp;  &amp; 4001 &amp; 5201 &amp; 798 \\</span><br><span class="line">  0.01 &amp;  &amp; 0.00323 &amp; &amp; 1101 &amp; 7801 &amp; 1098 \\</span><br><span class="line">   &amp; &amp; &amp; 0.00180 &amp; 1 &amp; 9201 &amp; 798 \\</span><br><span class="line">  \hline</span><br><span class="line">   &amp; 0.01045 &amp; &amp; &amp; 4001 &amp; 5201 &amp; 798 \\</span><br><span class="line">   0 &amp; &amp; 0.00310 &amp; &amp; 1201 &amp; 7701 &amp; 1098 \\</span><br><span class="line">    &amp; &amp; &amp; 0.00164 &amp; 1 &amp; 9101 &amp; 898 \\</span><br><span class="line">  \hline</span><br><span class="line">  \end&#123;tabular&#125;</span><br><span class="line">  \caption&#123;table 1&#125;\label&#123;anser1&#125;</span><br><span class="line">\end&#123;table&#125;</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/2019061623022749.?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L01yX0NhdDEyMw==,size_16,color_FFFFFF,t_70" alt="14"></p><h4 id="合并行列"><a href="#合并行列" class="headerlink" title="合并行列"></a>合并行列</h4><h5 id="合并行"><a href="#合并行" class="headerlink" title="合并行"></a>合并行</h5><p>\multirow{n}<em>{text}   #n表示要合并的行数，</em>是必须的，否则无法编译成功，text是此行中要输入的内容</p><p>注意，使用\multirow一定要在导言区，也就是在最开头使用包\usepackage{multirow}</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">% !Mode::&quot;TeX:UTF-8&quot;</span><br><span class="line">\documentclass&#123;article&#125;</span><br><span class="line">\usepackage[UTF8]&#123;ctex&#125;</span><br><span class="line">\usepackage&#123;listings&#125;</span><br><span class="line">\usepackage&#123;amsthm&#125;</span><br><span class="line">\usepackage&#123;amsmath&#125;</span><br><span class="line">\usepackage&#123;amssymb&#125;</span><br><span class="line">\usepackage&#123;graphicx&#125;</span><br><span class="line">\usepackage&#123;hyperref&#125;</span><br><span class="line">\usepackage[table]&#123;xcolor&#125;</span><br><span class="line">\usepackage&#123;fancyhdr&#125;</span><br><span class="line">\usepackage&#123;lastpage&#125;</span><br><span class="line">\usepackage&#123;pythonhighlight&#125;</span><br><span class="line">\pagestyle&#123;fancy&#125;</span><br><span class="line">\usepackage&#123;enumitem&#125;</span><br><span class="line">\setlist[trivlist]&#123;topsep=\baselineskip&#125;</span><br><span class="line">\usepackage&#123;multirow&#125;</span><br><span class="line"></span><br><span class="line">%这里以上都是导言区</span><br><span class="line"></span><br><span class="line">\begin&#123;document&#125;</span><br><span class="line">\begin&#123;tabular&#125;&#123;|c|c|c|&#125;</span><br><span class="line">  \hline</span><br><span class="line">  \multirow&#123;3&#125;*&#123;朕&#125; &amp; 尚书省 &amp; 工部  刑部  兵部  礼部  户部  吏部 \\</span><br><span class="line">  \cline&#123;2-3&#125;</span><br><span class="line">    &amp; 中书省 &amp; ... \\</span><br><span class="line">  \cline&#123;2-3&#125;</span><br><span class="line">    &amp; 门下省 &amp; ... \\ </span><br><span class="line">  \hline</span><br><span class="line">\end&#123;tabular&#125;</span><br><span class="line">\end&#123;document&#125;</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdn.net/20180918205859136" alt="15"></p><p>上面中 \cline{a-b}表示从第a列画一条到第b列的线，与\hline的区别在于可以指定线的起始位置。</p><h5 id="合并列"><a href="#合并列" class="headerlink" title="合并列"></a>合并列</h5><p>\multicolumn{n}{x}{text}  #n为合并列的数量，x为字体的排版样式，比如r,l,c分别表示右对齐，左对齐，居中，text为内容</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">\begin&#123;document&#125;</span><br><span class="line">\begin&#123;tabular&#125;&#123;|c|c|&#125;</span><br><span class="line">  \hline </span><br><span class="line">  \multicolumn&#123;2&#125;&#123;|c|&#125;&#123;成绩&#125; \\</span><br><span class="line">  \hline</span><br><span class="line">  语文 &amp; 数学 \\ </span><br><span class="line">  98 &amp; 100 \\</span><br><span class="line">  \hline</span><br><span class="line">\end&#123;tabular&#125;</span><br><span class="line">\end&#123;document&#125;</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdn.net/20180918210605893" alt="16"></p><h5 id="行列都存在"><a href="#行列都存在" class="headerlink" title="行列都存在"></a>行列都存在</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">\begin&#123;document&#125;</span><br><span class="line">\begin&#123;tabular&#125;&#123;|c|r|r|&#125;</span><br><span class="line">\hline</span><br><span class="line">\multirow&#123;2&#125;*&#123;姓名&#125; &amp; \multicolumn&#123;2&#125;&#123;c|&#125;&#123;成绩&#125;  \\</span><br><span class="line">\cline&#123;2-3&#125;</span><br><span class="line">  &amp; 语文 &amp; 数学 \\</span><br><span class="line">\hline</span><br><span class="line"> 小明 &amp; 60 &amp;  55 \\</span><br><span class="line">\hline</span><br><span class="line">\end&#123;tabular&#125;</span><br><span class="line">\end&#123;document&#125;</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdn.net/20180918210853201" alt="17"></p><h4 id="表格下标注释和字体大小设置"><a href="#表格下标注释和字体大小设置" class="headerlink" title="表格下标注释和字体大小设置"></a>表格下标注释和字体大小设置</h4><p>给定一个表格后，表下可能会有表格的介绍，而介绍的字体通常比文章字体小，可以用</p><p>\small{}</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">\begin&#123;table&#125;</span><br><span class="line">\centering</span><br><span class="line">\rowcolors[\hline]&#123;2&#125;&#123;orange&#125;&#123;red!30!yellow&#125;</span><br><span class="line">\begin&#123;tabular&#125;&#123;|c|c|&#125;</span><br><span class="line">  \rowcolor&#123;red!20&#125;</span><br><span class="line">  Name &amp; score \\</span><br><span class="line">  小明 &amp; 50 \\</span><br><span class="line">  小华 &amp; 45 \\</span><br><span class="line">  \hline</span><br><span class="line">\end&#123;tabular&#125;</span><br><span class="line">  \caption&#123;\small&#123;This is a simple table for testing&#125;&#125;</span><br><span class="line">\end&#123;table&#125;</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdn.net/20180920160812723" alt="18"></p><h5 id="设置表格（字体）大小"><a href="#设置表格（字体）大小" class="headerlink" title="设置表格（字体）大小"></a>设置表格（字体）大小</h5><p>同样，可以通过\small来修改，但是放置的位置和上面不同，而是放在\begin{table}之后，如：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">\begin&#123;table&#125;</span><br><span class="line">\centering</span><br><span class="line">\small    #改变表格字体大小，同时表格大小也会变</span><br><span class="line">\rowcolors[\hline]&#123;2&#125;&#123;orange&#125;&#123;red!30!yellow&#125;</span><br><span class="line">\begin&#123;tabular&#125;&#123;|c|c|&#125;</span><br><span class="line">  \rowcolor&#123;red!20&#125;</span><br><span class="line">  Name &amp; score \\</span><br><span class="line">  小明 &amp; 50 \\</span><br><span class="line">  小华 &amp; 45 \\</span><br><span class="line">  \hline</span><br><span class="line">\end&#123;tabular&#125;</span><br><span class="line">  \caption&#123;\small&#123;This is a simple table for testing&#125;&#125;</span><br><span class="line">\end&#123;table&#125;</span><br></pre></td></tr></table></figure><p>此外还有</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">\tiny</span><br><span class="line">\scriptsize</span><br><span class="line">\footnotesize</span><br><span class="line">\small</span><br><span class="line">\normalsize</span><br><span class="line">\large</span><br><span class="line">\Large</span><br><span class="line">\LARGE</span><br><span class="line">\huge</span><br><span class="line">\Huge</span><br></pre></td></tr></table></figure><h5 id="彩色表格和字体"><a href="#彩色表格和字体" class="headerlink" title="彩色表格和字体"></a>彩色表格和字体</h5><h6 id="彩色表格"><a href="#彩色表格" class="headerlink" title="彩色表格"></a>彩色表格</h6><h6 id="彩色字体"><a href="#彩色字体" class="headerlink" title="彩色字体"></a>彩色字体</h6><h4 id="图片表格并列"><a href="#图片表格并列" class="headerlink" title="图片表格并列"></a>图片表格并列</h4><p><a href="https://tex.stackexchange.com/questions/377998/how-to-make-table-and-figure-side-by-side-appear-at-the-same-height" target="_blank" rel="noopener">https://tex.stackexchange.com/questions/377998/how-to-make-table-and-figure-side-by-side-appear-at-the-same-height</a></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">\begin&#123;figure&#125;   %开始图片（图片和表格合成一个大的图片，这里指的是整体的大图片）</span><br><span class="line">\begin&#123;minipage&#125;[b]&#123;.5\linewidth&#125;     %开辟一个小页面，即用来放第一个图片</span><br><span class="line">\centering</span><br><span class="line">\includegraphics[width=6cm]&#123;Figure_1.eps&#125;</span><br><span class="line">\caption&#123;Image&#125;</span><br><span class="line">\end&#123;minipage&#125;%</span><br><span class="line">\begin&#123;minipage&#125;[b]&#123;.5\linewidth&#125;    %开辟第二个小页面，用来放表格</span><br><span class="line">\centering</span><br><span class="line">\begin&#123;tabular&#125;&#123;|c|c|&#125;</span><br><span class="line">\hline</span><br><span class="line">aa &amp; bb \\ \hline</span><br><span class="line">cc &amp; dd \\ \hline</span><br><span class="line">\end&#123;tabular&#125;</span><br><span class="line">\captionof&#123;table&#125;&#123;Table&#125;</span><br><span class="line">\end&#123;minipage&#125;</span><br><span class="line">%\caption&#123;pic and table side by side&#125;</span><br><span class="line">\end&#123;figure&#125;</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20190618164331769.?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L01yX0NhdDEyMw==,size_16,color_FFFFFF,t_70" alt="19"></p><h4 id="图片和图片并列"><a href="#图片和图片并列" class="headerlink" title="图片和图片并列"></a>图片和图片并列</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">\begin&#123;document&#125;</span><br><span class="line"></span><br><span class="line">\begin&#123;figure&#125;</span><br><span class="line">\begin&#123;minipage&#125;[b]&#123;.5\linewidth&#125;</span><br><span class="line">\centering</span><br><span class="line">\includegraphics[width=6cm]&#123;large_full.eps&#125;</span><br><span class="line">\caption&#123;Image&#125;</span><br><span class="line">\end&#123;minipage&#125;%</span><br><span class="line">\begin&#123;minipage&#125;[b]&#123;.5\linewidth&#125;</span><br><span class="line">\centering</span><br><span class="line">\includegraphics[width=6cm]&#123;large_part&#125;</span><br><span class="line">\caption&#123;image2&#125;</span><br><span class="line">\end&#123;minipage&#125;</span><br><span class="line">\end&#123;figure&#125;</span><br><span class="line"></span><br><span class="line">\end&#123;document&#125;</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20190618174245488.?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L01yX0NhdDEyMw==,size_16,color_FFFFFF,t_70" alt="20"></p><p>除此之外，也可以使用另一种方法，如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">\begin&#123;figure&#125;[htb]</span><br><span class="line">  \centering</span><br><span class="line">  \subfigure[]&#123;\includegraphics[width=6.5cm]&#123;large_part.eps&#125;&#125;  %[ ]里面不填就会默认为(a)</span><br><span class="line">  \quad</span><br><span class="line">  \subfigure[]&#123;\includegraphics[width=6.5cm]&#123;large_full.eps&#125;&#125;    %[ ]里面不填默认为(b)</span><br><span class="line">  \caption&#123;\small&#123;The changing of uncertainty $\sigma_r$ on tensor-to-scalar ratio $r$ with the distribution of detectors on focal plane for different frequency combinations with $r$=0.01 and $\sigma_F$=0.1. Contour (a), (b) and (c) correspond to the case 0, case 1 and case 1*, respectively. &#125;&#125;\label&#123;large_fig1&#125;</span><br><span class="line">\end&#123;figure&#125;</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20190618230533959.?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L01yX0NhdDEyMw==,size_16,color_FFFFFF,t_70" alt="21"></p><h4 id="表格和表格并列"><a href="#表格和表格并列" class="headerlink" title="表格和表格并列"></a>表格和表格并列</h4><h5 id="两个表格并列"><a href="#两个表格并列" class="headerlink" title="两个表格并列"></a>两个表格并列</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">\begin&#123;figure&#125;   %开始图片（表格和表格合成一个大的图片，这里指的是整体的大图片）</span><br><span class="line">\begin&#123;minipage&#125;[b]&#123;.5\linewidth&#125;    %开辟第一个小页面，用来放第一个表格</span><br><span class="line">\centering</span><br><span class="line">  \begin&#123;tabular&#125;&#123;|c|c|c|c|c|&#125;</span><br><span class="line">  \hline</span><br><span class="line">  $r$ &amp; $\sigma_r$ &amp; $N_&#123;95&#125;$ &amp; $N_&#123;150&#125;$ &amp; $N_&#123;220&#125;$\\</span><br><span class="line">  \hline</span><br><span class="line">  \multirow&#123;1&#125;*&#123;0&#125; &amp; 0.00765 &amp; 4200 &amp; 3000 &amp; 2800 \\</span><br><span class="line">  \hline</span><br><span class="line">  \multirow&#123;1&#125;*&#123;0.01&#125; &amp; 0.00778 &amp; 4200 &amp; 3000 &amp; 2800 \\</span><br><span class="line">  \hline</span><br><span class="line">  \end&#123;tabular&#125;</span><br><span class="line">\captionof&#123;table&#125;&#123;Table&#125;</span><br><span class="line">\end&#123;minipage&#125;</span><br><span class="line">\begin&#123;minipage&#125;[b]&#123;.5\linewidth&#125;    %开辟第二个小页面，用来放表格</span><br><span class="line">\centering</span><br><span class="line">\begin&#123;tabular&#125;&#123;|c|c|&#125;</span><br><span class="line">\hline</span><br><span class="line">aa &amp; bb \\ \hline</span><br><span class="line">cc &amp; dd \\ \hline</span><br><span class="line">\end&#123;tabular&#125;</span><br><span class="line">\captionof&#123;table&#125;&#123;Table&#125;</span><br><span class="line">\end&#123;minipage&#125;</span><br><span class="line">\caption&#123;table and table side by side&#125;</span><br><span class="line">\end&#123;figure&#125;</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20190625204957238.png" alt="22"></p><p>可以看到有三个标注，可以通过加%去掉。另外，上面图中最后标注是figure 1 xxx, 然而我们是图表，所以只要将begin{figure}和end{figure}括号改为table即可，我就不再改了。</p><h5 id="多个表格并列"><a href="#多个表格并列" class="headerlink" title="多个表格并列"></a>多个表格并列</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line">\begin&#123;table&#125;   %开始图表</span><br><span class="line">\begin&#123;minipage&#125;[b]&#123;.5\linewidth&#125;    %开辟第一个小页面，用来放第一个表格</span><br><span class="line">\centering</span><br><span class="line">Case I, $f_\text&#123;sky&#125;=0.7$</span><br><span class="line">  \begin&#123;tabular&#125;&#123;|c|c|c|c|c|&#125;</span><br><span class="line">  \hline</span><br><span class="line">  $r$ &amp; $\sigma_r$ &amp; $N_&#123;41&#125;$ &amp; $N_&#123;95&#125;$ &amp; $N_&#123;220&#125;$\\</span><br><span class="line">  \hline</span><br><span class="line">  \multirow&#123;1&#125;*&#123;0&#125; &amp; 0.00405 &amp; 800 &amp; 7200 &amp; 2000 \\</span><br><span class="line">  \hline</span><br><span class="line">  \multirow&#123;1&#125;*&#123;0.01&#125; &amp; 0.00422 &amp; 800 &amp; 7200 &amp; 2000 \\</span><br><span class="line">  \hline</span><br><span class="line">  \end&#123;tabular&#125;</span><br><span class="line">\end&#123;minipage&#125;</span><br><span class="line">\vspace&#123;0.35cm&#125;     %调节表格间距</span><br><span class="line">\begin&#123;minipage&#125;[b]&#123;.5\linewidth&#125;    %开辟第二个小页面，用来放第二个表格</span><br><span class="line">\centering</span><br><span class="line">Case II, $f_\text&#123;sky&#125;=0.7$</span><br><span class="line">  \begin&#123;tabular&#125;&#123;|c|c|c|c|c|c|c|&#125;</span><br><span class="line">  \hline</span><br><span class="line">%  \caption&#123;The first table&#125;</span><br><span class="line">  $r$ &amp; $\sigma_r$ &amp; $N_&#123;30&#125;$ &amp; $N_&#123;41&#125;$ &amp; $N_&#123;95&#125;$ &amp; $N_&#123;220&#125;$ &amp; $N_&#123;270&#125;$\\</span><br><span class="line">  \hline</span><br><span class="line">  \multirow&#123;1&#125;*&#123;0&#125; &amp; 0.00765 &amp; 400 &amp; 400 &amp; 7200 &amp; 1000 &amp; 1000 \\</span><br><span class="line">  \hline</span><br><span class="line">  \multirow&#123;1&#125;*&#123;0.01&#125; &amp; 0.00778 &amp; 400 &amp; 400 &amp; 7200 &amp; 1000 &amp; 1000 \\</span><br><span class="line">  \hline</span><br><span class="line">  \end&#123;tabular&#125;</span><br><span class="line">\end&#123;minipage&#125;</span><br><span class="line">\begin&#123;minipage&#125;[b]&#123;.5\linewidth&#125;    %开辟第三个小页面，用来放第三个表格</span><br><span class="line">\centering</span><br><span class="line">Case III, $f_\text&#123;sky&#125;=0.05$</span><br><span class="line">  \begin&#123;tabular&#125;&#123;|c|c|c|c|c|&#125;</span><br><span class="line">  \hline</span><br><span class="line">  $r$ &amp; $\sigma_r$ &amp; $N_&#123;41&#125;$ &amp; $N_&#123;95&#125;$ &amp; $N_&#123;220&#125;$\\</span><br><span class="line">  \hline</span><br><span class="line">  \multirow&#123;1&#125;*&#123;0&#125; &amp; 0.00256 &amp; 600 &amp; 7400 &amp; 2000 \\</span><br><span class="line">  \hline</span><br><span class="line">  \multirow&#123;1&#125;*&#123;0.01&#125; &amp; 0.00319 &amp; 600 &amp; 7400 &amp; 2000 \\</span><br><span class="line">  \hline</span><br><span class="line">  \end&#123;tabular&#125;</span><br><span class="line">  \end&#123;minipage&#125;</span><br><span class="line">  \vspace&#123;0.35cm&#125;</span><br><span class="line">\begin&#123;minipage&#125;[b]&#123;.5\linewidth&#125;    %开辟第四个小页面，用来放第四个表格</span><br><span class="line">\centering</span><br><span class="line">Case IV, $f_\text&#123;sky&#125;=0.05$</span><br><span class="line">  \begin&#123;tabular&#125;&#123;|c|c|c|c|c|c|c|&#125;</span><br><span class="line">  \hline</span><br><span class="line">%  \caption&#123;The first table&#125;</span><br><span class="line">  $r$ &amp; $\sigma_r$ &amp; $N_&#123;30&#125;$ &amp; $N_&#123;41&#125;$ &amp; $N_&#123;95&#125;$ &amp; $N_&#123;220&#125;$ &amp; $N_&#123;270&#125;$\\</span><br><span class="line">  \hline</span><br><span class="line">  \multirow&#123;1&#125;*&#123;0&#125; &amp; 0.00765 &amp; 400 &amp; 400 &amp; 7200 &amp; 1000 &amp; 1000 \\</span><br><span class="line">  \hline</span><br><span class="line">  \multirow&#123;1&#125;*&#123;0.01&#125; &amp; 0.00778 &amp; 400 &amp; 400 &amp; 7200 &amp; 1000 &amp; 1000 \\</span><br><span class="line">  \hline</span><br><span class="line">  \end&#123;tabular&#125;</span><br><span class="line">\end&#123;minipage&#125;</span><br><span class="line">\caption&#123;table and table side by side&#125;</span><br><span class="line">\end&#123;table&#125;</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20190625212244243.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L01yX0NhdDEyMw==,size_16,color_FFFFFF,t_70" alt="23"></p><h4 id="更多关于表格的举例"><a href="#更多关于表格的举例" class="headerlink" title="更多关于表格的举例"></a>更多关于表格的举例</h4><p>这个内容可以参考<a href="https://blog.csdn.net/ch1209498273/article/details/78848464" target="_blank" rel="noopener">Latex各种表格</a></p><p>先在开始加入两个包</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">\usepackage&#123;xcolor&#125;</span><br><span class="line">\usepackage&#123;colortbl,booktabs&#125;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">\begin&#123;table&#125;</span><br><span class="line">\centering</span><br><span class="line">\caption&#123;long&#125;  </span><br><span class="line">\begin&#123;tabular*&#125;&#123;13cm&#125;&#123;lllllll&#125;</span><br><span class="line">\hline</span><br><span class="line">Parameter &amp; $A_s$ &amp; $\alpha_s$ &amp; $\beta_s$ &amp; $A_d$&amp; $\alpha_d$&amp; $\beta_d$ \\</span><br><span class="line">\hline</span><br><span class="line">95+150 &amp; 0.15302 &amp; 0.86156 &amp; 0.16135 &amp; 2.09115 &amp; 0.01381 &amp; 0.00763\\</span><br><span class="line">41+95+150 &amp; 0.05307 &amp; 0.16478 &amp; 0.06017 &amp; 2.08459 &amp; 0.01368 &amp; 0.00726\\</span><br><span class="line">95+150+220 &amp; 0.14988 &amp; 0.85729 &amp; 0.14835 &amp; 1.66287 &amp; 0.00820 &amp; 0.00435\\</span><br><span class="line">41+95+220 &amp; 0.04459 &amp; 0.14222 &amp;  0.04750 &amp; 1.81426 &amp; 0.01406 &amp; 0.00448\\</span><br><span class="line">85+105+135+155 &amp; 0.15213 &amp; 0.95646 &amp;  0.16026 &amp; 2.06439 &amp; 0.01259 &amp; 0.00756\\</span><br><span class="line">\hline</span><br><span class="line">\end&#123;tabular*&#125;</span><br><span class="line">  \caption&#123;Foreground model parameters. Here only polarized BB spectral parameters are considered.&#125;\label&#123;foreground parameters&#125;</span><br><span class="line">\end&#123;table&#125;</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20191120173603731.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L01yX0NhdDEyMw==,size_16,color_FFFFFF,t_70" alt="24"></p><h3 id="交叉引用"><a href="#交叉引用" class="headerlink" title="交叉引用"></a>交叉引用</h3><p>关于引用部分上面已经提及了一些，上面11的（4）我们用的是\ref {xxx}这个命令。这个命令有一个缺点是它只给出图、定理等的序号，比如“如图2所示”当我们使用\ref时需要写成：</p><p>如图\ref{xxx}所示  </p><p>当我们并不知道这个\ref｛xxx｝是图还是表格还是定理等等的时候就比较麻烦，或者我们不想输入“图”，“表格”这样的字眼，这时可以使用宏包（同样，如果没有宏包先按照上面的方法安装）</p><p>\usepackage{hyperref}</p><p>然后将\ref {xxx}改为\autoref{xxx},e.g.</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">......</span><br><span class="line">  \usepackage&#123;hyperref&#125;</span><br><span class="line">  ...</span><br><span class="line">  ...</span><br><span class="line">  \begin&#123;equation&#125;</span><br><span class="line">    f(x)=</span><br><span class="line">    \left\&#123;</span><br><span class="line">    \begin&#123;array&#125;&#123;cc&#125;</span><br><span class="line">    \int \mathrm&#123;d&#125;^3p\int_&#123;0&#125;^&#123;\infty&#125;\mathrm&#123;d&#125;x x^2 \frac&#123;\delta(E-\sqrt&#123;p^2+m^2&#125;)&#125;&#123;2E&#125; , &amp; x \geq 0 \\</span><br><span class="line">    0,&amp; x &lt; 0</span><br><span class="line">    \end&#123;array&#125;</span><br><span class="line">    \right.</span><br><span class="line">    \label&#123;myequation&#125;</span><br><span class="line">  \end&#123;equation&#125;</span><br><span class="line">  We all know \autoref&#123;myequation&#125; is a important equation</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdn.net/20180507155227958" alt="25"></p><h4 id="文章布局"><a href="#文章布局" class="headerlink" title="文章布局"></a>文章布局</h4><h5 id="页面大小"><a href="#页面大小" class="headerlink" title="页面大小"></a>页面大小</h5><p>使用tex得到的pdf很窄，左右空的地方很大，如果我们想让它跟微软中的word一样的页面，可以在导言部分加入以下命令</p><p>\usepackage[top=2.54cm, bottom=2.54cm, left=3.18cm,right=3.18cm]{geometry}</p><h5 id="页眉页脚"><a href="#页眉页脚" class="headerlink" title="页眉页脚"></a>页眉页脚</h5><p>参考文献见<a href="http://www.ctex.org/documents/packages/layout/fancyhdr.htm" target="_blank" rel="noopener">这里</a></p><p>使用宏包</p><p>\usepackage{fancyhdr}</p><p>在导言部分加入</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">\usepackage&#123;fancyhdr&#125;</span><br><span class="line">\pagestyle&#123;fancy&#125;</span><br><span class="line">\lhead&#123;wudl&#125;</span><br><span class="line">\chead&#123;$wudl&apos;s$ $tutorial article$&#125;</span><br><span class="line">\rhead&#123;\thesection&#125;</span><br><span class="line">\cfoot&#123;\thepage&#125;</span><br></pre></td></tr></table></figure><p>上面的结果是，页眉左上边是wudl，中间是chead中的句子，右上边是章节，页脚是页码。实际还有很多可选参数，自行查找需要的。当然上面的页码是“1”“2”“3”这样的数，如果想要A of B,即第A页共B页，则要使用lastpage宏包。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">\usepackage&#123;fancyhdr&#125;</span><br><span class="line">\usepackage&#123;lastpage&#125;</span><br><span class="line">\pagestyle&#123;fancy&#125;</span><br><span class="line">\lhead&#123;wudl&#125;</span><br><span class="line">\chead&#123;$wudl&apos;s$ $tutorial article$&#125;</span><br><span class="line">\rhead&#123;\thesection&#125;</span><br><span class="line">\cfoot&#123;Page \thepage of \pageref&#123;LastPage&#125;&#125;</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdn.net/20180507181625580" alt="26"></p><h5 id="列举"><a href="#列举" class="headerlink" title="列举"></a>列举</h5><p><img src="https://img-blog.csdn.net/20180507182154780" alt="27"></p><h5 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h5><h6 id="手动输入"><a href="#手动输入" class="headerlink" title="手动输入"></a>手动输入</h6><p>手动输入采用thebibliography环境，手动输入适合参考文献比较少的情况</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">  As is stated in \cite&#123;bibitem1&#125; blahblah\dots</span><br><span class="line">  \begin&#123;thebibliography&#125;&#123;9&#125;</span><br><span class="line"></span><br><span class="line">  \bibitem&#123;bibitem1&#125;</span><br><span class="line">天朝. 朕的江山和子民[M]. 朕的天朝：天朝出版社. 2018</span><br><span class="line"></span><br><span class="line">  \bibitem&#123;bibitem2&#125;</span><br><span class="line">blahblah(ditto)</span><br></pre></td></tr></table></figure><p>这里\bibitem跟上面的列举中\item是一样的，上面的9表示最多可能有9条参考文献。结果为：</p><p><img src="https://img-blog.csdn.net/20180507183908528" alt="28"></p><h6 id="使用Bibtex"><a href="#使用Bibtex" class="headerlink" title="使用Bibtex"></a>使用Bibtex</h6><p>这个比较复杂，以后再补充</p><h3 id="超链接"><a href="#超链接" class="headerlink" title="超链接"></a>超链接</h3><p>使用</p><p>hyperref</p><p>实际上面都用过这个了。</p><h3 id="插入代码"><a href="#插入代码" class="headerlink" title="插入代码"></a>插入代码</h3><p>参考<a href="https://zhidao.baidu.com/question/378313970.html" target="_blank" rel="noopener">百度知道</a></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">%导言部分</span><br><span class="line">...</span><br><span class="line">...</span><br><span class="line">\usepackage&#123;listings&#125;              %加入宏包</span><br><span class="line">\lstset&#123;language=Python&#125;           %Python语言</span><br><span class="line">\lstset&#123;breaklines&#125;                %自动将长的代码换行排版</span><br><span class="line">\lstset&#123;extendedchars=false&#125;       %解决代码跨页时，章节标题，页眉等汉字不显示的问题</span><br><span class="line">...</span><br><span class="line">...</span><br><span class="line">%需要插入代码的地方</span><br><span class="line">\begin&#123;lstlisting&#125;</span><br><span class="line">放入代码</span><br><span class="line">\end&#123;lstlisting&#125;</span><br></pre></td></tr></table></figure><p>这样的方法是代码是没有彩色的，结果如下</p><p><img src="https://img-blog.csdn.net/20180507194004521" alt="29"></p><p>解决彩色问题可以到网上找到已经修改彩色的代码，放入导言部分即可，实际上就是使用上文讲过的xcolor宏包自定义颜色。</p><p>例：自定义颜色（参考<a href="https://blog.csdn.net/u012675539/article/details/49131567" target="_blank" rel="noopener">conding算子</a>）</p><p>自定义颜色使用了listings和color两个宏包</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">\usepackage&#123;listings&#125;</span><br><span class="line">\usepackage&#123;color&#125;</span><br><span class="line"></span><br><span class="line">\definecolor&#123;dkgreen&#125;&#123;rgb&#125;&#123;0,0.6,0&#125;</span><br><span class="line">\definecolor&#123;gray&#125;&#123;rgb&#125;&#123;0.5,0.5,0.5&#125;</span><br><span class="line">\definecolor&#123;mauve&#125;&#123;rgb&#125;&#123;0.58,0,0.82&#125;</span><br><span class="line"></span><br><span class="line">\lstset&#123; %</span><br><span class="line">  language=Octave,                % the language of the code</span><br><span class="line">  basicstyle=\footnotesize,           % the size of the fonts that are used for the code</span><br><span class="line">  numbers=left,                   % where to put the line-numbers</span><br><span class="line">  numberstyle=\tiny\color&#123;gray&#125;,  % the style that is used for the line-numbers</span><br><span class="line">  stepnumber=2,                   % the step between two line-numbers. If it&apos;s 1, each line </span><br><span class="line">                                  % will be numbered</span><br><span class="line">  numbersep=5pt,                  % how far the line-numbers are from the code</span><br><span class="line">  backgroundcolor=\color&#123;white&#125;,      % choose the background color. You must add \usepackage&#123;color&#125;</span><br><span class="line">  showspaces=false,               % show spaces adding particular underscores</span><br><span class="line">  showstringspaces=false,         % underline spaces within strings</span><br><span class="line">  showtabs=false,                 % show tabs within strings adding particular underscores</span><br><span class="line">  frame=single,                   % adds a frame around the code</span><br><span class="line">  rulecolor=\color&#123;black&#125;,        % if not set, the frame-color may be changed on line-breaks within not-black text (e.g. commens (green here))</span><br><span class="line">  tabsize=2,                      % sets default tabsize to 2 spaces</span><br><span class="line">  captionpos=b,                   % sets the caption-position to bottom</span><br><span class="line">  breaklines=true,                % sets automatic line breaking</span><br><span class="line">  breakatwhitespace=false,        % sets if automatic breaks should only happen at whitespace</span><br><span class="line">  title=\lstname,                   % show the filename of files included with \lstinputlisting;</span><br><span class="line">                                  % also try caption instead of title</span><br><span class="line">  keywordstyle=\color&#123;blue&#125;,          % keyword style</span><br><span class="line">  commentstyle=\color&#123;dkgreen&#125;,       % comment style</span><br><span class="line">  stringstyle=\color&#123;mauve&#125;,         % string literal style</span><br><span class="line">  escapeinside=&#123;\%*&#125;&#123;*)&#125;,            % if you want to add LaTeX within your code</span><br><span class="line">  morekeywords=&#123;*,...&#125;               % if you want to add more keywords to the set</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>导入模块</p><p>参考gaojiaxing 和 instant以python为例，下载python版本的hightlighting,地址点这里。下载完成要将pythonhighlight.sty和放在工作目录下。</p><p>可以有两种方法来加载自己写的python代码。其一是将python代码在python自己的编辑器中写完保存为.py文件放到工作目录下（如test.py）,之后加载的时候只需要\inputpython…即可，这种方法可以节省大量的WinEdt书写空间</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line">...</span><br><span class="line">\usepackage&#123;graphicx&#125;</span><br><span class="line">\usepackage&#123;pythonhighlight&#125;</span><br><span class="line">...</span><br><span class="line">...</span><br><span class="line">\inputpython&#123;test.py&#125;&#123;1&#125;&#123;41&#125;#导入python文件test.py第一行到第41行</span><br><span class="line">...</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdn.net/20180507201114149" alt="30"></p><p>其二，可以通过</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">\begin&#123;xxx&#125;</span><br><span class="line">代码</span><br><span class="line">\end&#123;xxx&#125;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">\begin&#123;python&#125;</span><br><span class="line">#</span><br><span class="line">from pyx import *</span><br><span class="line">def f():</span><br><span class="line">g = graph.graphxy(width=8)</span><br><span class="line">g.plot(graph.data.function(&quot;y(x)=sin(x)/x&quot;, min=-15, max=15))</span><br><span class="line">g.writePDFfile(&quot;function&quot;)</span><br><span class="line">print r&apos;\includegraphics&#123;function&#125;&apos;</span><br><span class="line">return f</span><br><span class="line">\end&#123;python&#125;</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdn.net/20180507201357513" alt="31"></p><h3 id="目录生成"><a href="#目录生成" class="headerlink" title="目录生成"></a>目录生成</h3><p>插入目录使用</p><p>\tableofcontents</p><p>注意这句话要在\begin{document}之后，end之前，例如：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">\documentclass&#123;article&#125;</span><br><span class="line">\usepackage&#123;hyperref&#125;</span><br><span class="line">\begin&#123;document&#125;</span><br><span class="line">\tableofcontents</span><br><span class="line">\section&#123;A section&#125;</span><br><span class="line">This is a section</span><br><span class="line">\paragraph&#123;A paragraph&#125;</span><br><span class="line">This is a paragraph</span><br><span class="line">\subsection&#123;A subsection&#125;</span><br><span class="line">This is a subsection</span><br><span class="line">\end&#123;document&#125;</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdn.net/20180507203909395" alt="32"></p><p>注意上面的代码使用了超链接</p><p>\usepackage{hyerref}</p><p>如果没有这个超链接是不会有红色部分的。</p><h3 id="段落空行-换行和首部缩进"><a href="#段落空行-换行和首部缩进" class="headerlink" title="段落空行, 换行和首部缩进"></a>段落空行, 换行和首部缩进</h3><p>在latex中，默认回车是不换行的，比如在latex中输入</p><p>A： Hello, how are you?\<br>B： Hi, i’m fine.</p><p><img src="https://img-blog.csdnimg.cn/20190326111112653." alt="33"></p><p>另外，如果我们希望B换行之后行首缩进，比如写段落的时候希望前面缩进两个字符等，可以直接在latex中空一行</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">A： Hello, how are you?</span><br><span class="line"></span><br><span class="line">B： Hi, i&apos;m fine.</span><br></pre></td></tr></table></figure><p>如果我们希望段落之间空的行数比较多，可以使用如下两种方法<a href="https://tex.stackexchange.com/questions/135134/how-to-add-an-empty-line-between-paragraphs" target="_blank" rel="noopener">https://tex.stackexchange.com/questions/135134/how-to-add-an-empty-line-between-paragraphs</a></p><p>这里需要提到的是：在定义\newcommad的时候，可以将下面的\newcommand{…}…这几行代码放在\begin{document}之前或者之后，但是笔者习惯放之前，看着比较整洁易识别。另外就是newpara是自定义的名字，你可以把它定义成任何你想要的名字。最后，使用\newcommand的时候里面的\vskip 1cm默认单位是cm，而不是inch，而第1种方法是inch.</p><p><img src="https://img-blog.csdnimg.cn/20190326111444636.?x" alt="34"></p><blockquote style="margin: 2em 0 0;padding: 0.5em 1em;border-left: 3px solid #F44336;background-color: #F5F5F5;list-style: none;"><p> <strong>本文使用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/" target="_blank" rel="noopener">CC BY-NC-SA 3.0 中国大陆</a> 协议许可<br>具体请参见 <a href="https://zyhang8.github.io/agree/" target="_blank" rel="noopener">知识共享协议</a></strong><br> <strong>本文链接：</strong><a href="https://zyhang8.github.io/2019/07/18/Ningbo/" target="_blank" rel="noopener">https://zyhang8.github.io/2019/12/02/letex/</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> letex </category>
          
      </categories>
      
      
        <tags>
            
            <tag> LETEX </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>计算机网络-第四章课后习题</title>
      <link href="/2019/11/28/cn-exp5/"/>
      <url>/2019/11/28/cn-exp5/</url>
      
        <content type="html"><![CDATA[<h1 id="计算机网络-第四章课后习题"><a href="#计算机网络-第四章课后习题" class="headerlink" title="计算机网络-第四章课后习题"></a>计算机网络-第四章课后习题</h1><p>课后习题：</p><ol><li>4-20 (3),(4),(5)</li><li>4-30</li><li>4-35</li><li>4-37</li></ol><h2 id="4-20"><a href="#4-20" class="headerlink" title="4-20"></a>4-20</h2><h3 id="3"><a href="#3" class="headerlink" title="(3)"></a>(3)</h3><p>目的地址为128.96.40.151</p><p>网络1，2，3，4做与计算均为192.96.40.0</p><p>与1，2，3，4不匹配，所以下一跳默认接口为R4</p><h3 id="（4）"><a href="#（4）" class="headerlink" title="（4）"></a>（4）</h3><p>目的地址为192.4.153.17</p><p>网络1，2，3，4做与计算均为192.4.153.17</p><p>与1，2，3不匹配，与4匹配，默认接口为R3</p><h3 id="（5）"><a href="#（5）" class="headerlink" title="（5）"></a>（5）</h3><p>目的地址为192.4.153.90</p><p>网络1，2，3做与计算均为192.4.153.0</p><p>网络4做与计算均为192.4.153.64</p><p>与1，2，3，4不匹配，所以下一跳默认接口为R4</p><h2 id="4-30"><a href="#4-30" class="headerlink" title="4-30"></a>4-30</h2><p>50个主机的LAN1需要前缀/26（主机号6位，62个主机号），30个主机的LAN3需要前缀/27（主机号5为，30个主机号），两个10个主机的LAN2和LAN4各需要一个前缀/28（主机号4为，14个主机号）</p><p>LAN6-LAN8（加上路由器）各需要一个前缀/27（主机号5位，30个主机号），3个WAN各有两个端点，各需要一个前缀/30（主机号2为，2个主机号）。LAN5需要前缀/30（主机号2位，2个主机号），但考虑到以太网上可能还要再接几个主机，故留有余地，可分配一个/29（主机号3位，6个主机号）</p><p>LAN1:192.77.33.0/26<br>LAN3:192.77.33.64/27<br>LAN6:192.77.33.96/27<br>LAN7:192.77.33.128/27<br>LAN8:192.77.33.160/27<br>LAN2:192.77.33.192/28<br>LAN4:192.77.33.208/28<br>LAN5:192.77.33.224/29<br>WAN1:192.77.33.232/30<br>WAN2:192.77.33.236/30<br>WAN3:192.77.33.240/30</p><h2 id="4-35"><a href="#4-35" class="headerlink" title="4-35"></a>4-35</h2><p>提取前20位140.120.0101xxx</p><p>最小140.120.80.0/20</p><p>最大140.120.95.255/20</p><p>地址掩码 255.255.240.0</p><p>地址数2的12次方。等于16个C类地址</p><h2 id="4-37"><a href="#4-37" class="headerlink" title="4-37"></a>4-37</h2><p>（1）原来2，现在4</p><p>（2）16</p><p>（3）<br>0100 136.23.12.64/28</p><p>0101 136.23.12.80/28</p><p>0110 136.23.12.96/28</p><p>0111 136.23.12.112/28</p><p>（4）</p><p>136.23.12.65/28；136.23.12.78/28</p><p>136.23.12.81/28；136.23.12.94/28</p><p>136.23.12.97/28；136.23.12.110/28</p><p>136.23.12.113/28；136.23.12.126/28</p><blockquote style="margin: 2em 0 0;padding: 0.5em 1em;border-left: 3px solid #F44336;background-color: #F5F5F5;list-style: none;"><p> <strong>本文使用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/" target="_blank" rel="noopener">CC BY-NC-SA 3.0 中国大陆</a> 协议许可<br>具体请参见 <a href="https://zyhang8.github.io/agree/" target="_blank" rel="noopener">知识共享协议</a></strong><br> <strong>本文链接：</strong><a href="https://zyhang8.github.io/2019/11/28/cn-exp5/" target="_blank" rel="noopener">https://zyhang8.github.io/2019/11/28/cn-exp5/</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 计算机网络 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 计算机网络 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SSM</title>
      <link href="/2019/11/27/ssm/"/>
      <url>/2019/11/27/ssm/</url>
      
        <content type="html"><![CDATA[<h1 id="SSM"><a href="#SSM" class="headerlink" title="SSM"></a>SSM</h1><p>上海海洋大学实验报告</p><p>课程名称：Web程序设计</p><p>实验名称：Web综合程序设计</p><p>学院：信息学院<br>专业：软件工程</p><p>学号：<strong>***</strong><br>姓名：***</p><p>ringMVC：它用于web层，相当于controller（等价于传统的servlet和struts的action），用来处理用户请求。举个例子，用户在地址栏输入http://网站域名/login，那么springmvc就会拦截到这个请求，并且调用controller层中相应的方法，（中间可能包含验证用户名和密码的业务逻辑，以及查询数据库操作，但这些都不是springmvc的职责），最终把结果返回给用户，并且返回相应的页面（当然也可以只返回json/xml等格式数据）。springmvc就是做前面和后面过程的活，与用户打交道！！</p><p>Spring：太强大了，以至于我无法用一个词或一句话来概括它。但与我们平时开发接触最多的估计就是IOC容器，它可以装载bean（也就是我们java中的类，当然也包括service dao里面的），有了这个机制，我们就不用在每次使用这个类的时候为它初始化，很少看到关键字new。另外spring的aop，事务管理等等都是我们经常用到的。</p><p>MyBatis：如果你问我它跟鼎鼎大名的Hibernate有什么区别？我只想说，他更符合我的需求。第一，它能自由控制sql，这会让有数据库经验的人（当然不是说我啦捂脸）编写的代码能搞提升数据库访问的效率。第二，它可以使用xml的方式来组织管理我们的sql，因为一般程序出错很多情况下是sql出错，别人接手代码后能快速找到出错地方，甚至可以优化原来写的sql。</p><h2 id="MyBatis"><a href="#MyBatis" class="headerlink" title="MyBatis"></a>MyBatis</h2><h3 id="Mapper-xml配置文件"><a href="#Mapper-xml配置文件" class="headerlink" title="Mapper.xml配置文件"></a>Mapper.xml配置文件</h3><p>通过parameterType指定输入参数的类型，类型可以是简单类型，pojo，包装类型，hashmap</p><p>使用占位符可以防止sql的注入，在使用时不需要关心参数的类型，mybatis会自动的进行Java与jdbc的转换。#{} 可以接受简单类型和pojo的属性值。如果parameterType中指定的是单个的简单类型，#{}中可以使用value或是其他值。</p><p>通过${}可以将parameterType传入的内容拼接在sql中，并且不进行jdbc类型转换，${}可以接受简单类型和pojo的属性值，若parameterType为单个简单类型时，${}中必须使用value。使用${}不能防止sql注入，但有时会很方便，例如：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">"findUserByUsername"</span> <span class="attr">parameterType</span>=<span class="string">"java.lang.String"</span> <span class="attr">resultType</span>=<span class="string">"User"</span>&gt;</span></span><br><span class="line">SELECT * FROM USER WHERE username LIKE '%$&#123;value&#125;%'</span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure><p>useGeneratedKeys 设置为”true”表明要 MyBatis 获取由数据库自动生成的主键；keyProperty=”id”指定把获取到的主键值注入到 XXX（实体类） 的 id 属性。</p><h2 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h2><ul><li>eclipse与idea机制不同，如果没配置好数据库，jsp引用不了css，idea不管有没有配置好数据库都可以完美引入css。可能idea项目的解藕效果更好？</li><li>出现了js乱码，其他不会，eclipse配置里面默认把jsp为isoXX编码，配置后无出现乱码</li><li>在后端写if判断语句对字符串进行判断时，千万不能写成 if(index ==“XX”)，这么写字符串一样不一样结果都会是false；对于字符串判断要写成if(index.equals(“XX”));</li></ul><h2 id="finalssm"><a href="#finalssm" class="headerlink" title="finalssm"></a>finalssm</h2><h3 id="登录"><a href="#登录" class="headerlink" title="登录"></a>登录</h3><ul><li>自动登录，拦截，cookies登录</li><li>Jquery下拉特效</li><li>图片轮播</li><li>检测输入框</li><li>由于返回的User集合中有密码，setPassword使其为空</li><li>修补秒杀图片</li></ul><h3 id="注册"><a href="#注册" class="headerlink" title="注册"></a>注册</h3><ul><li>重新设计数据库，增加province，city，area，xiangxi替代Address,增加个人简介,取消图像和身份的唯一标识</li><li>设计common共有包，包括const类型，response返回参数，serverresponse 共有pojo</li><li>验证用户名，邮箱是否出现过，并集合到js中</li><li>初始化禁止按钮</li><li>邮箱（真实可以发送验证码）</li><li>md5加密</li><li>增加头像</li></ul><h2 id="修改用户个人信息购物资料（同一个接口）"><a href="#修改用户个人信息购物资料（同一个接口）" class="headerlink" title="修改用户个人信息购物资料（同一个接口）"></a>修改用户个人信息购物资料（同一个接口）</h2><ul><li>MultipartFile获取头像</li><li>uuid随机数命名文件上传到服务器</li><li>检验邮箱电话是否存在，存在修改不了</li></ul><h2 id="用户管理"><a href="#用户管理" class="headerlink" title="用户管理"></a>用户管理</h2><ul><li>显示ip，防黑客</li><li>增加用户，删除用户，修改用户</li><li>查找用户去掉id，新增telephone，email</li><li>增加user列userstate</li><li>前端接收时间时显示一串数字，需要在后段改一下格式后在发送</li></ul><h2 id="订单管理"><a href="#订单管理" class="headerlink" title="订单管理"></a>订单管理</h2><ul><li>第五页改成第一页</li><li>entity定义跟数据库不相符</li><li>map嵌套list实现多对象查询</li><li>增加商品id字段并设为dress表dressid字段的外键，增加商品数量</li><li>admin.js代付款重复，改为代收货</li><li>实现每个类别的数据查询，以及总页面计算</li><li>每个页面分别显示对应的订单信息</li><li>页面无法跳转时会弹出提示</li><li>可实现订单删除</li><li>单个有多的订单只显示10个，不足10个则按实际显示</li></ul><h2 id="商品管理"><a href="#商品管理" class="headerlink" title="商品管理"></a>商品管理</h2><ul><li>商品删除js存在bug，增加按钮点击后事件</li><li>新增商品修改js，查询商品所有信息包括图片并显示</li><li>新增商品修改js，修改商品信息</li></ul><h2 id="添加商品"><a href="#添加商品" class="headerlink" title="添加商品"></a>添加商品</h2><ul><li>jsp书城添加改成服装城添加</li><li>修补预览图片链接</li></ul><blockquote style="margin: 2em 0 0;padding: 0.5em 1em;border-left: 3px solid #F44336;background-color: #F5F5F5;list-style: none;"><p> <strong>本文使用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/" target="_blank" rel="noopener">CC BY-NC-SA 3.0 中国大陆</a> 协议许可<br>具体请参见 <a href="https://zyhang8.github.io/agree/" target="_blank" rel="noopener">知识共享协议</a></strong><br> <strong>本文链接：</strong><a href="https://zyhang8.github.io/2019/11/27/ssm/" target="_blank" rel="noopener">https://zyhang8.github.io/2019/11/27/ssm/</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>频域图像处理</title>
      <link href="/2019/11/24/cv-exp5/"/>
      <url>/2019/11/24/cv-exp5/</url>
      
        <content type="html"><![CDATA[<h1 id="频域图像处理"><a href="#频域图像处理" class="headerlink" title="频域图像处理"></a>频域图像处理</h1><h2 id="实验目的"><a href="#实验目的" class="headerlink" title="实验目的"></a>实验目的</h2><ol><li>掌握图像快速傅里叶变换及其实现</li><li>掌握图像二维频谱的分布特点</li></ol><h2 id="实验原理"><a href="#实验原理" class="headerlink" title="实验原理"></a>实验原理</h2><p>图像的快速傅里叶变换</p><p>傅里叶变换频谱图像</p><h2 id="实验内容或步骤"><a href="#实验内容或步骤" class="headerlink" title="实验内容或步骤"></a>实验内容或步骤</h2><ul><li>对一张图像进行平移，显示原始图像和处理后的图像；</li><li>分别对两幅图像进行傅里叶变换，显示变换后的结果，分析原图傅里叶频谱与平移后图像频谱的对应关系；</li><li>对rectangular.jpg及其旋转图rectangular-rotation.jpg分别进行傅里叶变换，显示变换后的结果，分析原图傅里叶频谱与旋转后图像频谱的对应关系。</li></ul><h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><ul><li><a href="https://blog.csdn.net/Cool2Feel/article/details/90443429" target="_blank" rel="noopener">图像平移</a></li><li>傅里叶变换cv.dft (src, dst, flags = 0, nonzeroRows = 0)</li><li><a href="https://docs.opencv.org/3.4.1/dd/d02/tutorial_js_fourier_transform.html" target="_blank" rel="noopener">https://docs.opencv.org/3.4.1/dd/d02/tutorial_js_fourier_transform.html</a></li><li><a href="https://docs.opencv.org/3.4.1/d2/de8/group__core__array.html#gadd6cf9baf2b8b704a11b5f04aaf4f39d" target="_blank" rel="noopener">https://docs.opencv.org/3.4.1/d2/de8/group__core__array.html#gadd6cf9baf2b8b704a11b5f04aaf4f39d</a></li><li><a href="https://blog.csdn.net/qq_19655645/article/details/77295987" target="_blank" rel="noopener">https://blog.csdn.net/qq_19655645/article/details/77295987</a></li></ul><p>注意几个图像傅里叶变换的步骤：</p><ol><li>需要先获取最佳DFT变换的大小（cv.getOptimalDFTSize），然后以这个大小对原图进行扩充( padding，cv.copyMakeBorder)</li><li>需要DFT变换后的矩阵进行分解（cv.split），从中提取谱分量（cv.magnitude）</li><li>如果谱分量行列为奇数，需要对其进行裁剪成偶数（cv.Rect）</li><li>如果谱分量太大，需要对其进行对数变换（log），以便更好的显示</li><li>将傅里叶变换后图像的原点调整到中心</li></ol><h2 id="实验报告"><a href="#实验报告" class="headerlink" title="实验报告"></a>实验报告</h2><ul><li>描述实验的基本原理和步骤</li><li>用数据和图片给出各个步骤中取得的实验结果 ，包括原始图像及其处理后的图像，并进行必要的讨论</li><li>完整的源代码</li></ul><h2 id="图像平移"><a href="#图像平移" class="headerlink" title="图像平移"></a>图像平移</h2><p>代码流程如下：</p><p>读取图像→显示原图像→调用自定义的函数translateTransform，作平移后图像大小不变的平移处理并显示处理结果→调用自定义的函数translateTransformSize，作平移后图像大小变化的平移处理并显示处理结果。</p><p>dst_window显示的是平移时图像尺寸不变的平移结果，可以看见，损失了部分原图；而dst_wind</p><h2 id="傅里叶变换，分析原图傅里叶频谱与平移后图像频谱的对应关系"><a href="#傅里叶变换，分析原图傅里叶频谱与平移后图像频谱的对应关系" class="headerlink" title="傅里叶变换，分析原图傅里叶频谱与平移后图像频谱的对应关系"></a>傅里叶变换，分析原图傅里叶频谱与平移后图像频谱的对应关系</h2><p>傅立叶变换的步骤</p><p>1．需要先获取最佳DFT变换的大小（cv.getOptimalDFTSize），然后以这个大小对原图进行扩充( padding，cv.copyMakeBorder)<br>2．需要DFT变换后的矩阵进行分解（cv.split），从中提取谱分量（cv.magnitude）<br>3．如果谱分量行列为奇数，需要对其进行裁剪成偶数（cv.Rect）<br>4．如果谱分量太大，需要对其进行对数变换（log），以便更好的显示<br>5．将傅里叶变换后图像的原点调整到中心</p><h3 id="什么是DFT，和傅立叶变换有什么联系"><a href="#什么是DFT，和傅立叶变换有什么联系" class="headerlink" title="什么是DFT，和傅立叶变换有什么联系"></a>什么是DFT，和傅立叶变换有什么联系</h3><p>根据信号的不同类型，可以把傅立叶变换分为四类：</p><p>1) 非周期性连续信号： 傅立叶变换(Fourier Transform，FT)</p><p>2) 周期性连续信号： 傅立叶级数(Fourier Series，FS)</p><p>3) 非周期性离散信号： 离散时域傅立叶变换(Discrete Time Fourier Transform ,DTFT)</p><p>4)周期性离散信号： 离散傅立叶变换(Discrete Fourier Series，DFS)</p><p><img src="https://images2017.cnblogs.com/blog/583428/201712/583428-20171222102648396-227701292.png" alt="3"></p><p>根据时域与频域的对应关系，我们可以知道，周期&lt;—-&gt;离散，是一对对偶关系，即周期信号的傅里叶变换一定是离散的，离散信号的傅里叶变换一定是周期的，反之也成立。</p><p>所以针对上述四种傅里叶变换，我们知道，FT的结果具有连续非周期性质，FS的结果具有离散非周期性质，DTFT结果具有连续周期性质，DFT结果具有离散周期性质。</p><p>非周期连续信号的傅里叶变换(FT)为：</p><p>𝐹(𝜔)=∫−∞∞𝑥(𝑡)𝑒−𝑖𝜔𝑡𝑑𝑡</p><p>非周期离散序列的傅里叶变换(DTFT)为：</p><p>𝐹(𝜔)=∑𝑛=−∞∞𝑥(𝑛)𝑒−𝑖𝜔𝑛𝑇𝑠</p><p>周期连续信号的傅里叶变换(FS)为：</p><p>𝐹(𝜔𝑘)=1𝑇∫0𝑇𝑥(𝑡)𝑒−𝑖𝜔𝑘𝑡𝑑𝑡=1𝑇∫0𝑇𝑥(𝑡)𝑒−𝑖2𝜋𝑘𝑡/𝑇𝑑𝑡</p><p>周期离散信号的傅里叶变换(DFS)为：</p><p>𝐹(𝜔𝑘)=∑𝑛=0𝑁−1𝑥(𝑛)𝑒−𝑖𝜔𝑘𝑛=∑𝑛=0𝑁−1𝑥(𝑛)𝑒−𝑖2𝜋𝑘𝑁𝑛</p><p>假定x(n)为Ts区域上x(t)的均值，且Ts（抽样间隔）足够小，如下图所示：</p><p><img src="http://images2017.cnblogs.com/blog/583428/201712/583428-20171222102648693-2130985384.png" alt="2"></p><p>则有</p><p>𝐹𝐹𝑇(𝜔)=∫−∞∞𝑥(𝑡)𝑒𝑖𝜔𝑡𝑑𝑡=∑𝑛=−∞∞∫(𝑛+1)𝑇𝑠𝑛𝑇𝑠𝑥(𝑡)𝑒𝑖𝜔𝑡𝑑𝑡=𝑇𝑠∑𝑛=−∞∞𝑥(𝑛)𝑒𝑖𝜔𝑛𝑇𝑠=𝑇𝑠𝐹𝐷𝑇𝐹𝑇(𝜔)</p><p>其中</p><p>𝑥(𝑛)=1𝑇𝑠∫(𝑛+1)𝑇𝑠𝑛𝑇𝑠𝑥(𝑡)𝑑𝑡</p><p>所以非周期连续信号与非周期离散信号之间频谱关系为：</p><p>FFT(ω)=Ts·FDTFT(ω) （ω&lt;2πfs）</p><p>同样可以推导周期连续信号与周期离散信号之间频谱关系为：</p><p>FFS(ωk)=Ts/T·FDFS(ωk)=1/N·FDFS(ωk) （k&lt;N）</p><p>上述等式所加的限定是由于离散信号的频谱具有周期性，等价于原连续信号频谱以fs为周期进行平移。这是由于离散信号的傅里叶变换的核函数具有周期性,例如DTFT的核函数为𝑒−𝑖𝜔𝑛𝑇𝑠，当ω增加2πfs时，其值仍然不变。</p><p>假若连续信号为一个波包，最高频率为fH,只在有限时间内幅值不为0，则连续信号按周期T延拓后周期信号的傅里叶级数是原连续信号的频域抽样，抽样周期为1/T，其中T为周期信号的周期。公式表示为：</p><p>FFS(ωk)=1/T·FFT(ω=ωk)</p><p>上述四种傅里叶变换的关系由下图可以对比看出：</p><p><img src="http://images2017.cnblogs.com/blog/583428/201712/583428-20171222102649271-588005997.png" alt="1"></p><p>上图中，离散信号的采样周期fs&gt;2fH；FS变换的频谱分辨率为1/T.</p><p>在实际使用用计算机处理数据时，要求数据都是有限长度，而上述四种傅立叶变换都是针对无穷长度的信号。</p><p>针对有限长度的离散信号，定义了DFT：设x(n)是一个长度为N的有限长序列，则定义x(n)的N点离散傅里叶变换为：</p><p>𝑋(𝑘)=𝐷𝐹𝑇[𝑥(𝑛)]=∑𝑛=0𝑁−1𝑥(𝑛)𝑊𝑘𝑛𝑁, k = 0, 1, …, N - 1</p><p>其中WN=exp(-j2π/N).</p><p><img src="https://s2.ax1x.com/2019/11/24/MOhSsI.png" alt="MOhSsI.png"></p><p>三张图片分别为平移大小不变，平移大小变化，原图，第一张图片把窗口和图片同时增大相应的图片变量，第一张图片只把图片平移导致部分缺失</p><h3 id="void-dft-InputArray-src-OutputArray-dst-int-flags-0-int-nonzeroRows-0"><a href="#void-dft-InputArray-src-OutputArray-dst-int-flags-0-int-nonzeroRows-0" class="headerlink" title="void dft(InputArray src, OutputArray dst, int flags=0, int nonzeroRows=0);"></a>void dft(InputArray src, OutputArray dst, int flags=0, int nonzeroRows=0);</h3><p>参数解释：</p><ul><li>InputArray src: 输入图像，可以是实数或虚数</li><li>OutputArray dst: 输出图像，其大小和类型取决于第三个参数flags</li><li>int flags = 0: 转换的标识符，有默认值0.其可取的值如下所示：</li><li>DFT_INVERSE: 用一维或二维逆变换取代默认的正向变换</li><li>DFT_SCALE: 缩放比例标识符，根据数据元素个数平均求出其缩放结果，如有N个元素，则输出结果以1/N缩放输出，常与DFT_INVERSE搭配使用。</li><li>DFT_ROWS: 对输入矩阵的每行进行正向或反向的傅里叶变换；此标识符可在处理多种适量的的时候用于减小资源的开销，这些处理常常是三维或高维变换等复杂操作。</li><li>DFT_COMPLEX_OUTPUT: 对一维或二维的实数数组进行正向变换，这样的结果虽然是复数阵列，但拥有复数的共轭对称性（CCS），可以以一个和原数组尺寸大小相同的实数数组进行填充，这是最快的选择也是函数默认的方法。你可能想要得到一个全尺寸的复数数组（像简单光谱分析等等），通过设置标志位可以使函数生成一个全尺寸的复数输出数组。</li><li>DFT_REAL_OUTPUT: 对一维二维复数数组进行逆向变换，这样的结果通常是一个尺寸相同的复数矩阵，但是如果输入矩阵有复数的共轭对称性（比如是一个带有DFT_COMPLEX_OUTPUT标识符的正变换结果），便会输出实数矩阵。</li><li>int nonzeroRows = 0: 当这个参数不为0，函数会假设只有输入数组（没有设置DFT_INVERSE）的第一行或第一个输出数组（设置了DFT_INVERSE）包含非零值。这样的话函数就可以对其他的行进行更高效的处理节省一些时间，这项技术尤其是在采用DFT计算矩阵卷积时非常有效。</li></ul><p><img src="https://s2.ax1x.com/2019/11/24/MOfl2d.png" alt="MOfl2d.png"></p><p>从原图傅里叶频谱与平移后图像频谱可以看出，平移后四条线不会特别的明显，原点也不会很明显</p><h3 id="对rectangular-jpg及其旋转图rectangular-rotation-jpg分别进行傅里叶变换"><a href="#对rectangular-jpg及其旋转图rectangular-rotation-jpg分别进行傅里叶变换" class="headerlink" title="对rectangular.jpg及其旋转图rectangular-rotation.jpg分别进行傅里叶变换"></a>对rectangular.jpg及其旋转图rectangular-rotation.jpg分别进行傅里叶变换</h3><p><img src="https://s2.ax1x.com/2019/11/24/MOfQ8H.png" alt="MOfQ8H.png"></p><p>旋转前的图片频谱分布为十字架型，旋转后的图片的频谱与图片旋转的角度相似，但显然旋转后的频谱有些地方模糊，并且有很多噪点，个人觉得频谱还跟图片的形状有关，如果该图片包括白色的部分也一块旋转，那旋转后就不会那么模糊了</p><h2 id="源代码"><a href="#源代码" class="headerlink" title="源代码"></a>源代码</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;opencv2/opencv.hpp&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> cv;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">translateTransform</span><span class="params">(cv::Mat <span class="keyword">const</span>&amp; src, cv::Mat&amp; dst, <span class="keyword">int</span> dx, <span class="keyword">int</span> dy)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">CV_Assert(src.depth() == CV_8U);</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> rows = src.rows;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> cols = src.cols;</span><br><span class="line">dst.create(rows, cols, src.type());</span><br><span class="line">Vec3b* p;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; rows; i++)</span><br><span class="line">&#123;</span><br><span class="line">p = dst.ptr&lt;Vec3b&gt;(i);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; cols; j++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="comment">//平移后坐标映射到原图像  </span></span><br><span class="line"><span class="keyword">int</span> x = j - dx;</span><br><span class="line"><span class="keyword">int</span> y = i - dy;</span><br><span class="line"><span class="comment">//保证映射后的坐标在原图像范围内  </span></span><br><span class="line"><span class="keyword">if</span> (x &gt;= <span class="number">0</span> &amp;&amp; y &gt;= <span class="number">0</span> &amp;&amp; x &lt; cols &amp;&amp; y &lt; rows)</span><br><span class="line">p[j] = src.ptr&lt;Vec3b&gt;(y)[x];</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//平移后大小变化  </span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">translateTransformSize</span><span class="params">(cv::Mat <span class="keyword">const</span>&amp; src, cv::Mat&amp; dst, <span class="keyword">int</span> dx, <span class="keyword">int</span> dy)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">CV_Assert(src.depth() == CV_8U);</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> rows = src.rows + <span class="built_in">abs</span>(dy); <span class="comment">//输出图像的大小  </span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> cols = src.cols + <span class="built_in">abs</span>(dx);</span><br><span class="line">dst.create(rows, cols, src.type());</span><br><span class="line">Vec3b* p;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; rows; i++)</span><br><span class="line">&#123;</span><br><span class="line">p = dst.ptr&lt;Vec3b&gt;(i);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; cols; j++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">int</span> x = j - dx;</span><br><span class="line"><span class="keyword">int</span> y = i - dy;</span><br><span class="line"><span class="keyword">if</span> (x &gt;= <span class="number">0</span> &amp;&amp; y &gt;= <span class="number">0</span> &amp;&amp; x &lt; src.cols &amp;&amp; y &lt; src.rows)</span><br><span class="line">p[j] = src.ptr&lt;Vec3b&gt;(y)[x];</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">Mat <span class="title">my_f</span><span class="params">(Mat&amp; mImage)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> m = getOptimalDFTSize(mImage.rows);<span class="comment">//获取最佳DFT变换的大小</span></span><br><span class="line"><span class="keyword">int</span> n = getOptimalDFTSize(mImage.cols);</span><br><span class="line">copyMakeBorder(mImage, mImage, <span class="number">0</span>, m - mImage.rows, <span class="number">0</span>, n - mImage.cols, BORDER_CONSTANT, Scalar(<span class="number">0</span>));<span class="comment">//扩充</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function">Mat <span class="title">mFourier</span><span class="params">(mImage.rows + m, mImage.cols + n, CV_32FC2, Scalar(<span class="number">0</span>, <span class="number">0</span>))</span></span>;</span><br><span class="line">Mat mForFourier[] = &#123; Mat_&lt;<span class="keyword">float</span>&gt;(mImage), Mat::zeros(mImage.size(), CV_32F) &#125;;</span><br><span class="line">Mat mSrc;</span><br><span class="line">merge(mForFourier, <span class="number">2</span>, mSrc);<span class="comment">//合并</span></span><br><span class="line">dft(mSrc, mFourier);<span class="comment">//傅里叶</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">vector</span>&lt;Mat&gt; channels;</span><br><span class="line">split(mFourier, channels);<span class="comment">//矩阵分解</span></span><br><span class="line">Mat mRe = channels[<span class="number">0</span>];</span><br><span class="line">Mat mIm = channels[<span class="number">1</span>];</span><br><span class="line"></span><br><span class="line">Mat mAmplitude;</span><br><span class="line">magnitude(mRe, mIm, mAmplitude);<span class="comment">//提取谱分量</span></span><br><span class="line"></span><br><span class="line">mAmplitude += Scalar(<span class="number">1</span>);</span><br><span class="line"><span class="built_in">log</span>(mAmplitude, mAmplitude);<span class="comment">//进行对数变换</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//将傅里叶变换后图像的原点调整到中心</span></span><br><span class="line">normalize(mAmplitude, mAmplitude, <span class="number">0</span>, <span class="number">255</span>, NORM_MINMAX);</span><br><span class="line"><span class="comment">//如果谱分量行列为奇数，需要对其进行裁剪成偶数</span></span><br><span class="line"><span class="function">Mat <span class="title">mResult</span><span class="params">(mImage.rows, mImage.cols, CV_8UC1, Scalar(<span class="number">0</span>))</span></span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; mImage.rows; i++)</span><br><span class="line">&#123;</span><br><span class="line">uchar* pResult = mResult.ptr&lt;uchar&gt;(i);</span><br><span class="line"><span class="keyword">float</span>* pAmplitude = mAmplitude.ptr&lt;<span class="keyword">float</span>&gt;(i);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; mImage.cols; j++)</span><br><span class="line">&#123;</span><br><span class="line">pResult[j] = (uchar)pAmplitude[j];</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Mat mQuadrant1 = mResult(Rect(mResult.cols / <span class="number">2</span>, <span class="number">0</span>, mResult.cols / <span class="number">2</span>, mResult.rows / <span class="number">2</span>));</span><br><span class="line">Mat mQuadrant2 = mResult(Rect(<span class="number">0</span>, <span class="number">0</span>, mResult.cols / <span class="number">2</span>, mResult.rows / <span class="number">2</span>));</span><br><span class="line">Mat mQuadrant3 = mResult(Rect(<span class="number">0</span>, mResult.rows / <span class="number">2</span>, mResult.cols / <span class="number">2</span>, mResult.rows / <span class="number">2</span>));</span><br><span class="line">Mat mQuadrant4 = mResult(Rect(mResult.cols / <span class="number">2</span>, mResult.rows / <span class="number">2</span>, mResult.cols / <span class="number">2</span>, mResult.rows / <span class="number">2</span>));</span><br><span class="line"></span><br><span class="line">Mat mChange1 = mQuadrant1.clone();</span><br><span class="line"><span class="comment">//mQuadrant1 = mQuadrant3.clone();</span></span><br><span class="line"><span class="comment">//mQuadrant3 = mChange1.clone();</span></span><br><span class="line">mQuadrant3.copyTo(mQuadrant1);</span><br><span class="line">mChange1.copyTo(mQuadrant3);</span><br><span class="line"></span><br><span class="line">Mat mChange2 = mQuadrant2.clone();</span><br><span class="line"><span class="comment">//mQuadrant2 = mQuadrant4.clone();</span></span><br><span class="line"><span class="comment">//mQuadrant4 = mChange2.clone();</span></span><br><span class="line">mQuadrant4.copyTo(mQuadrant2);</span><br><span class="line">mChange2.copyTo(mQuadrant4);</span><br><span class="line"><span class="keyword">return</span> mResult;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">Mat mImage = imread(<span class="string">"lena_gray.png"</span>, <span class="number">0</span>);</span><br><span class="line">Mat mImage1 = imread(<span class="string">"dst1.png"</span>, <span class="number">0</span>);</span><br><span class="line"><span class="keyword">if</span> (mImage.data == <span class="number">0</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">cerr</span> &lt;&lt; <span class="string">"Image reading error"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">system(<span class="string">"pause"</span>);</span><br><span class="line"><span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">namedWindow(<span class="string">"original"</span>, WINDOW_NORMAL);</span><br><span class="line">imshow(<span class="string">"original"</span>, mImage);</span><br><span class="line">namedWindow(<span class="string">"original1"</span>, WINDOW_NORMAL);</span><br><span class="line">imshow(<span class="string">"original1"</span>, mImage1);</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">Mat dst, dst1;</span></span><br><span class="line"><span class="comment">translateTransform(mImage, dst, 50, 50);</span></span><br><span class="line"><span class="comment">namedWindow("dst_window");</span></span><br><span class="line"><span class="comment">imshow("dst_window", dst);</span></span><br><span class="line"><span class="comment">imwrite("dst.png", dst);</span></span><br><span class="line"><span class="comment">translateTransformSize(mImage, dst1, 50, 50);</span></span><br><span class="line"><span class="comment">namedWindow("dst_window1");</span></span><br><span class="line"><span class="comment">imshow("dst_window1", dst1);</span></span><br><span class="line"><span class="comment">imwrite("dst1.png", dst1);</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line">Mat mresult,mresult1;</span><br><span class="line">mresult = my_f(mImage);</span><br><span class="line">mresult1 = my_f(mImage1);</span><br><span class="line">namedWindow(<span class="string">"Fourier1"</span>, WINDOW_NORMAL);</span><br><span class="line">imshow(<span class="string">"Fourier1"</span>, mresult);</span><br><span class="line">namedWindow(<span class="string">"Fourier"</span>, WINDOW_NORMAL);</span><br><span class="line">imshow(<span class="string">"Fourier"</span>, mresult1);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Mat rImage = imread(<span class="string">"rectangular.jpg"</span>, <span class="number">0</span>);</span><br><span class="line">Mat rrImage = imread(<span class="string">"rectangular-rotation.jpg"</span>, <span class="number">0</span>);</span><br><span class="line">namedWindow(<span class="string">"roriginal"</span>, WINDOW_NORMAL);</span><br><span class="line">imshow(<span class="string">"roriginal"</span>, rImage);</span><br><span class="line">namedWindow(<span class="string">"rroriginal"</span>, WINDOW_NORMAL);</span><br><span class="line">imshow(<span class="string">"rroriginal"</span>, rrImage);</span><br><span class="line">Mat rresult, rrresult;</span><br><span class="line">rresult = my_f(rImage);</span><br><span class="line">rrresult = my_f(rrImage);</span><br><span class="line">namedWindow(<span class="string">"rFourier"</span>, WINDOW_NORMAL);</span><br><span class="line">imshow(<span class="string">"rFourier"</span>, rresult);</span><br><span class="line">namedWindow(<span class="string">"rrFourier"</span>, WINDOW_NORMAL);</span><br><span class="line">imshow(<span class="string">"rrFourier"</span>, rrresult);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">waitKey();</span><br><span class="line">destroyAllWindows();</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote style="margin: 2em 0 0;padding: 0.5em 1em;border-left: 3px solid #F44336;background-color: #F5F5F5;list-style: none;"><p> <strong>本文使用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/" target="_blank" rel="noopener">CC BY-NC-SA 3.0 中国大陆</a> 协议许可<br>具体请参见 <a href="https://zyhang8.github.io/agree/" target="_blank" rel="noopener">知识共享协议</a></strong><br> <strong>本文链接：</strong><a href="https://zyhang8.github.io/2019/11/24/cv-exp5/" target="_blank" rel="noopener">https://zyhang8.github.io/2019/11/24/cv-exp5/</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> opencv </category>
          
      </categories>
      
      
        <tags>
            
            <tag> opencv </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>图像分割</title>
      <link href="/2019/11/21/cv-exp4/"/>
      <url>/2019/11/21/cv-exp4/</url>
      
        <content type="html"><![CDATA[<h1 id="图像分割"><a href="#图像分割" class="headerlink" title="图像分割"></a>图像分割</h1><h2 id="实验目的"><a href="#实验目的" class="headerlink" title="实验目的"></a>实验目的</h2><p>掌握基于openCV的图像分割方法，理解图像分割的处理</p><h2 id="实验原理"><a href="#实验原理" class="headerlink" title="实验原理"></a>实验原理</h2><p>边缘检测方法、霍尔变换</p><h2 id="实验内容或步骤"><a href="#实验内容或步骤" class="headerlink" title="实验内容或步骤"></a>实验内容或步骤</h2><p>对“lena.jpg”及“车牌.jpg” 的灰度图像分别进行如下操作：</p><p>1）先平滑滤波，进行Canny边缘检测[尝试使用不同参数，调试效果]，显示并合并为一张图像保存；</p><p>Canny算法所采用的方法</p><p>在本文实现的Canny算法中所采用的卷积算子比较简单，表达如下：</p><p><img src="http://hi.csdn.net/attachment/201110/20/0_13191191580BUw.gif" alt="1"></p><p>其x向、y向的一阶偏导数矩阵，梯度幅值以及梯度方向的数学表达式为：</p><p><img src="http://hi.csdn.net/attachment/201110/20/0_131911920906FX.gif" alt="2"></p><p>求出这几个矩阵后，就可以进行下一步的检测过程。</p><p>Canny算法介绍-五步：</p><ul><li>高斯模糊</li><li>灰度计算</li><li>计算梯度</li><li>非最大信号抑制</li><li>高低阈值输出二值图像</li></ul><p>首先使用高斯滤波去除一定的噪声，后进行canny边缘检测。</p><p><img src="https://s2.ax1x.com/2019/11/07/MEAAc6.png" alt="MEAAc6.png"></p><blockquote><p>可以看到图像平滑了挺多</p></blockquote><p><img src="https://s2.ax1x.com/2019/11/07/MEAEjK.png" alt="MEAEjK.png"></p><p><img src="https://s2.ax1x.com/2019/11/07/MEAk1x.png" alt="MEAk1x.png"></p><blockquote><p>使用滑动条不断调节得到边缘检测最佳效果，记录参数后把canny参数设置为定值</p></blockquote><p>2）在1）的基础上，进行Hough直线变换（尝试使用不同参数，调试效果） ，描绘显示并合并为一张图像保存。</p><p>参考：</p><p><a href="http://www.opencv.org.cn/opencvdoc/2.3.2/html/doc/tutorials/imgproc/imgtrans/canny_detector/canny_detector.html?highlight=canny" target="_blank" rel="noopener">canny</a></p><p><a href="http://www.opencv.org.cn/opencvdoc/2.3.2/html/doc/tutorials/imgproc/imgtrans/hough_lines/hough_lines.html?highlight=hough" target="_blank" rel="noopener">HoughLines</a></p><h2 id="实验报告"><a href="#实验报告" class="headerlink" title="实验报告"></a>实验报告</h2><p>HoughLines( )函数详解</p><p>此函数可以找出采用标准霍夫变换的二值图像线条。在OpenCV中，我们可以用其来调用标准霍夫变换SHT和多尺度霍夫变换MSHT的OpenCV内建算法。</p><p>C++: void HoughLines(InputArray image, OutputArray lines, double rho, double theta, int threshold, double srn=0, double stn=0 )</p><ul><li>第一个参数，InputArray类型的image，输入图像，即源图像，需为8位的单通道二进制图像，可以将任意的源图载入进来后由函数修改成此格式后，再填在这里。</li><li>第二个参数，InputArray类型的lines，经过调用HoughLines函数后储存了霍夫线变换检测到线条的输出矢量。每一条线由具有两个元素的矢量表示，其中，是离坐标原点((0,0)（也就是图像的左上角）的距离。 是弧度线条旋转角度（0<del>垂直线，π/2</del>水平线）。</li><li>第三个参数，double类型的rho，以像素为单位的距离精度。另一种形容方式是直线搜索时的进步尺寸的单位半径。PS:Latex中/rho就表示 。</li><li>第四个参数，double类型的theta，以弧度为单位的角度精度。另一种形容方式是直线搜索时的进步尺寸的单位角度。</li><li>第五个参数，int类型的threshold，累加平面的阈值参数，即识别某部分为图中的一条直线时它在累加平面中必须达到的值。大于阈值threshold的线段才可以被检测通过并返回到结果中。</li><li>第六个参数，double类型的srn，有默认值0。对于多尺度的霍夫变换，这是第三个参数进步尺寸rho的除数距离。粗略的累加器进步尺寸直接是第三个参数rho，而精确的累加器进步尺寸为rho/srn。</li><li>第七个参数，double类型的stn，有默认值0，对于多尺度霍夫变换，srn表示第四个参数进步尺寸的单位角度theta的除数距离。且如果srn和stn同时为0，就表示使用经典的霍夫变换。否则，这两个参数应该都为正数。</li></ul><p><img src="http://images.cnitblog.com/blog/519499/201306/20184819-2840c20fe67649a98c03a9602ad9d33a.jpg" alt="3"></p><p>1、初始化(θ,p)空间，N(θ,p)=0   （N（θ,p）表示在该参数表示的直线上的像素点的个数）</p><p>2、对于每一个像素点(x,y)，在参数空间中找出令 xcosθ+ysinθ=p 的（θ,p）坐标，N（θ,p）+=1</p><p>3、统计所有N（θ,p）的大小，取出N（θ,p）&gt;threasold的参数  （threadsold是预设的阈值)</p><p><img src="https://s2.ax1x.com/2019/11/07/MEAZnO.png" alt="MEAZnO.png"></p><p><img src="https://s2.ax1x.com/2019/11/07/MEAeBD.png" alt="MEAeBD.png"></p><p><img src="https://s2.ax1x.com/2019/11/07/MEAmHe.png" alt="MEAmHe.png"></p><blockquote><p>当你使用滑动条来改变 阈值 的时候会观察到检测到线的数目的改变. 这是因为: 如果你设置了一个更大的阈值, 能检测到的线的数目将更少 (你需要更多的点来表示一条能检测到的直线).</p></blockquote><blockquote><p>使用滑动条不断调节得到边直线测最佳效果，记录参数后把houghlines参数设置为定值，但一开始没起作用，一片红，可能for循环导致了不能随时更换，后来直接把变量设置为三个定值（80，100，120），得到直线检测的效果</p></blockquote><blockquote><p>这次实验的边缘检测想过不太理想，没有很精确，可能是因为边缘检测的效果设置太严格，亦可能是houghline参数设置得不够精确</p></blockquote><h2 id="源代码"><a href="#源代码" class="headerlink" title="源代码"></a>源代码</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;opencv2/core/core.hpp&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;opencv2/highgui/highgui.hpp&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;fstream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;opencv2/opencv.hpp&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;opencv2/imgproc/types_c.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;opencv2\imgproc\imgproc.hpp&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> cv;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> WindowNameSrc <span class="meta-string">"canny_car"</span><span class="comment">//定义窗口名字的宏</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> WindowNameImg <span class="meta-string">"canny_lena"</span><span class="comment">//定义窗口名字的宏</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> WindowNameHoughSrc <span class="meta-string">"hough_car"</span><span class="comment">//定义窗口名字的宏</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> WindowNameHoughImg <span class="meta-string">"hough_lena"</span><span class="comment">//定义窗口名字的宏</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">char</span> Trackbarname1[<span class="number">50</span>];<span class="comment">//用于存储滑动条1的名称</span></span><br><span class="line"><span class="keyword">char</span> Trackbarname2[<span class="number">50</span>];<span class="comment">//用于存储滑动条2的名称</span></span><br><span class="line"><span class="keyword">char</span> Trackbarname3[<span class="number">50</span>];<span class="comment">//用于存储滑动条3的名称</span></span><br><span class="line"><span class="keyword">char</span> Trackbarname4[<span class="number">50</span>];<span class="comment">//用于存储滑动条4的名称</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> pre_place1, pre_place2;<span class="comment">//滑动条对应的变量，两个阈值变量</span></span><br><span class="line"><span class="keyword">int</span> pre_place3, pre_place4;<span class="comment">//滑动条对应的变量，两个阈值变量</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> max_place = <span class="number">255</span>;<span class="comment">//定义Trackbar的最大值</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> hough_max_place = <span class="number">200</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">Mat src = imread(<span class="string">"car_gray.png"</span>);</span><br><span class="line">Mat img = imread(<span class="string">"lena_gray.png"</span>);</span><br><span class="line">Mat gaosi_src, gaosi_img;</span><br><span class="line">cv::GaussianBlur(src, gaosi_src, cv::Size(<span class="number">5</span>, <span class="number">5</span>), <span class="number">3</span>, <span class="number">3</span>);</span><br><span class="line">cv::GaussianBlur(img, gaosi_img, cv::Size(<span class="number">5</span>, <span class="number">5</span>), <span class="number">3</span>, <span class="number">3</span>);</span><br><span class="line"></span><br><span class="line">namedWindow(<span class="string">"gaosi_src"</span>, WINDOW_AUTOSIZE);</span><br><span class="line">namedWindow(<span class="string">"gaosi_img"</span>, WINDOW_AUTOSIZE);</span><br><span class="line">imshow(<span class="string">"gaosi_src"</span>, gaosi_src);</span><br><span class="line">imshow(<span class="string">"gaosi_img"</span>, gaosi_img);</span><br><span class="line">imwrite(<span class="string">"gaosi_src.png"</span>, gaosi_src);</span><br><span class="line">imwrite(<span class="string">"gaosi_img.png"</span>, gaosi_img);</span><br><span class="line"></span><br><span class="line">Mat canny_src, canny_img;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">namedWindow(WindowNameSrc, WINDOW_AUTOSIZE);    //定义自动适应图片大小的窗口</span></span><br><span class="line"><span class="comment">namedWindow(WindowNameImg, WINDOW_AUTOSIZE);    //定义自动适应图片大小的窗口</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">sprintf(Trackbarname1, "阈值1 %d", max_place);//sprintf函数，格式化赋值</span></span><br><span class="line"><span class="comment">sprintf(Trackbarname2, "阈值2 %d", max_place);//sprintf函数，格式化赋值</span></span><br><span class="line"><span class="comment">sprintf(Trackbarname3, "阈值3 %d", max_place);//sprintf函数，格式化赋值</span></span><br><span class="line"><span class="comment">sprintf(Trackbarname4, "阈值4 %d", max_place);//sprintf函数，格式化赋值</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">createTrackbar(Trackbarname1, WindowNameSrc, &amp;pre_place1, max_place); //创建滑动条</span></span><br><span class="line"><span class="comment">createTrackbar(Trackbarname2, WindowNameSrc, &amp;pre_place2, max_place); //创建滑动条</span></span><br><span class="line"><span class="comment">createTrackbar(Trackbarname3, WindowNameImg, &amp;pre_place3, max_place); //创建滑动条</span></span><br><span class="line"><span class="comment">createTrackbar(Trackbarname4, WindowNameImg, &amp;pre_place4, max_place); //创建滑动条</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">while (1) &#123;</span></span><br><span class="line"><span class="comment">pre_place1 = getTrackbarPos(Trackbarname1, WindowNameSrc);//获取滑动条当前位置</span></span><br><span class="line"><span class="comment">pre_place2 = getTrackbarPos(Trackbarname2, WindowNameSrc);//获取滑动条当前位置</span></span><br><span class="line"><span class="comment">pre_place3 = getTrackbarPos(Trackbarname3, WindowNameImg);//获取滑动条当前位置</span></span><br><span class="line"><span class="comment">pre_place4 = getTrackbarPos(Trackbarname4, WindowNameImg);//获取滑动条当前位置</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">Canny(gaosi_src, canny_src, pre_place1, pre_place2, 3);</span></span><br><span class="line"><span class="comment">Canny(gaosi_img, canny_img, pre_place3, pre_place4, 3);</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">imshow(WindowNameSrc, canny_src);</span></span><br><span class="line"><span class="comment">imshow(WindowNameImg, canny_img);</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">if (waitKey(10) == 27) break;     //按下Esc键退出程序</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line">Canny(gaosi_src, canny_src, <span class="number">246</span>, <span class="number">0</span>, <span class="number">3</span>);</span><br><span class="line">Canny(gaosi_img, canny_img, <span class="number">102</span>, <span class="number">12</span>, <span class="number">3</span>);</span><br><span class="line"></span><br><span class="line">imshow(WindowNameSrc, canny_src);</span><br><span class="line">imshow(WindowNameImg, canny_img);</span><br><span class="line">imwrite(<span class="string">"canny_src.png"</span>, canny_src);</span><br><span class="line">imwrite(<span class="string">"canny_img.png"</span>, canny_img);</span><br><span class="line"></span><br><span class="line"><span class="comment">//进行霍夫线变换</span></span><br><span class="line"><span class="built_in">vector</span>&lt;Vec2f&gt; lines_src;<span class="comment">//用于储存参数空间的交点</span></span><br><span class="line"><span class="built_in">vector</span>&lt;Vec2f&gt; lines_img;<span class="comment">//用于储存参数空间的交点</span></span><br><span class="line">Mat src_result = src.clone();</span><br><span class="line">Mat img_result = img.clone();</span><br><span class="line">imshow(<span class="string">"src_result"</span>, src_result);</span><br><span class="line">imshow(<span class="string">"img_result"</span>, img_result);</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">HoughLines(canny_src, lines, 1, CV_PI / 180, 120, 0, 0);//针对不同像素的图片注意调整阈值</span></span><br><span class="line"><span class="comment">const int alpha = 1000;//alpha取得充分大，保证画出贯穿整个图片的直线</span></span><br><span class="line"><span class="comment">//lines中存储的是边缘直线在极坐标空间下的rho和theta值，在图像空间(直角坐标系下)只能体现出一个点</span></span><br><span class="line"><span class="comment">//以该点为基准，利用theta与斜率之间的关系，找出该直线上的其他两个点(可能不在图像上)，之后以这两点画出直线</span></span><br><span class="line"><span class="comment">for (size_t i = 0; i &lt; lines.size(); i++)</span></span><br><span class="line"><span class="comment">&#123;</span></span><br><span class="line"><span class="comment">float rho = lines[i][0], theta = lines[i][1];</span></span><br><span class="line"><span class="comment">double cs = cos(theta), sn = sin(theta);</span></span><br><span class="line"><span class="comment">double x = rho * cs, y = rho * sn;</span></span><br><span class="line"><span class="comment">Point pt1(cvRound(x + alpha * (-sn)), cvRound(y + alpha * cs));</span></span><br><span class="line"><span class="comment">Point pt2(cvRound(x - alpha * (-sn)), cvRound(y - alpha * cs));</span></span><br><span class="line"><span class="comment">line(mResult, pt1, pt2, Scalar(0, 0, 255), 1, LINE_AA);</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">namedWindow("hough_src", WINDOW_NORMAL);</span></span><br><span class="line"><span class="comment">imshow("hough_src", mResult);</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line">namedWindow(WindowNameHoughSrc, WINDOW_AUTOSIZE);    <span class="comment">//定义自动适应图片大小的窗口</span></span><br><span class="line">namedWindow(WindowNameHoughImg, WINDOW_AUTOSIZE);    <span class="comment">//定义自动适应图片大小的窗口</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">sprintf</span>(Trackbarname1, <span class="string">"阈值1 %d"</span>, hough_max_place);<span class="comment">//sprintf函数，格式化赋值</span></span><br><span class="line"><span class="built_in">sprintf</span>(Trackbarname2, <span class="string">"阈值2 %d"</span>, hough_max_place);<span class="comment">//sprintf函数，格式化赋值</span></span><br><span class="line"></span><br><span class="line">createTrackbar(Trackbarname1, WindowNameHoughSrc, &amp;pre_place1, hough_max_place); <span class="comment">//创建滑动条</span></span><br><span class="line">createTrackbar(Trackbarname2, WindowNameHoughImg, &amp;pre_place2, hough_max_place); <span class="comment">//创建滑动条</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> (<span class="number">1</span>) &#123;</span><br><span class="line">pre_place1 = getTrackbarPos(Trackbarname1, WindowNameHoughSrc);<span class="comment">//获取滑动条当前位置</span></span><br><span class="line">pre_place2 = getTrackbarPos(Trackbarname2, WindowNameHoughImg);<span class="comment">//获取滑动条当前位置</span></span><br><span class="line"></span><br><span class="line">HoughLines(canny_src, lines_src, <span class="number">1</span>, CV_PI / <span class="number">180</span>, <span class="number">100</span>, <span class="number">0</span>, <span class="number">0</span>);<span class="comment">//针对不同像素的图片注意调整阈值</span></span><br><span class="line">HoughLines(canny_img, lines_img, <span class="number">1</span>, CV_PI / <span class="number">180</span>, <span class="number">100</span>, <span class="number">0</span>, <span class="number">0</span>);<span class="comment">//针对不同像素的图片注意调整阈值</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> alpha = <span class="number">1000</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">size_t</span> i = <span class="number">0</span>; i &lt; lines_src.size(); i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">float</span> rho = lines_src[i][<span class="number">0</span>], theta = lines_src[i][<span class="number">1</span>];</span><br><span class="line"><span class="keyword">double</span> cs = <span class="built_in">cos</span>(theta), sn = <span class="built_in">sin</span>(theta);</span><br><span class="line"><span class="keyword">double</span> x = rho * cs, y = rho * sn;</span><br><span class="line"><span class="function">Point <span class="title">pt1</span><span class="params">(cvRound(x + alpha * (-sn)), cvRound(y + alpha * cs))</span></span>;</span><br><span class="line"><span class="function">Point <span class="title">pt2</span><span class="params">(cvRound(x - alpha * (-sn)), cvRound(y - alpha * cs))</span></span>;</span><br><span class="line">line(src_result, pt1, pt2, Scalar(<span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>), <span class="number">1</span>, LINE_AA);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">size_t</span> i = <span class="number">0</span>; i &lt; lines_img.size(); i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">float</span> rho = lines_img[i][<span class="number">0</span>], theta = lines_img[i][<span class="number">1</span>];</span><br><span class="line"><span class="keyword">double</span> cs = <span class="built_in">cos</span>(theta), sn = <span class="built_in">sin</span>(theta);</span><br><span class="line"><span class="keyword">double</span> x = rho * cs, y = rho * sn;</span><br><span class="line"><span class="function">Point <span class="title">pt1</span><span class="params">(cvRound(x + alpha * (-sn)), cvRound(y + alpha * cs))</span></span>;</span><br><span class="line"><span class="function">Point <span class="title">pt2</span><span class="params">(cvRound(x - alpha * (-sn)), cvRound(y - alpha * cs))</span></span>;</span><br><span class="line">line(img_result, pt1, pt2, Scalar(<span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>), <span class="number">1</span>, LINE_AA);</span><br><span class="line">&#125;</span><br><span class="line">imshow(WindowNameHoughSrc, src_result);</span><br><span class="line">imshow(WindowNameHoughImg, img_result);</span><br><span class="line">imwrite(<span class="string">"src_result.png"</span>, src_result);</span><br><span class="line">imwrite(<span class="string">"img_result.png"</span>, img_result);</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (waitKey(<span class="number">10</span>) == <span class="number">27</span>) <span class="keyword">break</span>;     <span class="comment">//按下Esc键退出程序</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//依次在图中绘制出每条线段</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">waitKey(<span class="number">0</span>);</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote style="margin: 2em 0 0;padding: 0.5em 1em;border-left: 3px solid #F44336;background-color: #F5F5F5;list-style: none;"><p> <strong>本文使用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/" target="_blank" rel="noopener">CC BY-NC-SA 3.0 中国大陆</a> 协议许可<br>具体请参见 <a href="https://zyhang8.github.io/agree/" target="_blank" rel="noopener">知识共享协议</a></strong><br> <strong>本文链接：</strong><a href="https://zyhang8.github.io/2019/11/21/cv-exp4/" target="_blank" rel="noopener">https://zyhang8.github.io/2019/11/21/cv-exp4/</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> opencv </category>
          
      </categories>
      
      
        <tags>
            
            <tag> opencv </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>shell编程</title>
      <link href="/2019/11/20/linux-exp5/"/>
      <url>/2019/11/20/linux-exp5/</url>
      
        <content type="html"><![CDATA[<h1 id="shell编程"><a href="#shell编程" class="headerlink" title="shell编程"></a>shell编程</h1><h2 id="1"><a href="#1" class="headerlink" title="1"></a>1</h2><p>第一题在mac(item2)，win(git bash),ubuntu(dash)各做过一次，方法为调用函数，图就懒得凑了，此处有三个系统的截图</p><p><img src="https://s2.ax1x.com/2019/11/21/MoPH7d.png" alt="MoPH7d.png"></p><h2 id="2"><a href="#2" class="headerlink" title="2"></a>2</h2><p>第二题卡了好久，因为shell太严格，格式总是出错，一开始在windows和mac看不到lf等符号，后来在ubuntu里也遇到，ubuntu用的是dash而不是bash，把dash切换成bash后成功</p><p><img src="https://s2.ax1x.com/2019/11/21/MoPxc8.png" alt="MoPxc8.png"></p><p><img src="https://s2.ax1x.com/2019/11/21/MoPv1f.png" alt="MoPv1f.png"></p><h2 id="3"><a href="#3" class="headerlink" title="3"></a>3</h2><p><img src="https://s2.ax1x.com/2019/11/21/MoP70H.png" alt="MoP70H.png"></p><p>斐波那契，之前写过论文来着</p><h2 id="4"><a href="#4" class="headerlink" title="4"></a>4</h2><p>for循环里的循环体里出错</p><p><img src="https://s2.ax1x.com/2019/11/21/Moi9BQ.png" alt="Moi9BQ.png"></p><blockquote style="margin: 2em 0 0;padding: 0.5em 1em;border-left: 3px solid #F44336;background-color: #F5F5F5;list-style: none;"><p> <strong>本文使用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/" target="_blank" rel="noopener">CC BY-NC-SA 3.0 中国大陆</a> 协议许可<br>具体请参见 <a href="https://zyhang8.github.io/agree/" target="_blank" rel="noopener">知识共享协议</a></strong><br> <strong>本文链接：</strong><a href="https://zyhang8.github.io/2019/11/20/linux-exp5/" target="_blank" rel="noopener">https://zyhang8.github.io/2019/11/20/linux-exp5/</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>实验七 Web完整渗透测试</title>
      <link href="/2019/11/19/cipher-exp7/"/>
      <url>/2019/11/19/cipher-exp7/</url>
      
        <content type="html"><![CDATA[<h1 id="实验七-Web完整渗透测试"><a href="#实验七-Web完整渗透测试" class="headerlink" title="实验七 Web完整渗透测试"></a>实验七 Web完整渗透测试</h1><h2 id="实验内容"><a href="#实验内容" class="headerlink" title="实验内容"></a>实验内容</h2><div class="add-member" id="addEval"><h2 id="h2--"><a name="【实验原理】" class="reference-link"></a><span class="header-link octicon octicon-link"></span>【实验原理】</h2><p>首先，黑客通过挖掘网站的注入漏洞，进而通过获得的管理密码进去后台，通过数据库备份，拿到了webshell。<br>然后，黑客登录shell，通过2003服务器的提权exp拿下服务器权限。<br>至此，入侵过程全部完成。</p><blockquote><p>基本概念</p></blockquote><blockquote><p>二次注入<br>黑客通过构造数据的形式，在浏览器或者其他软件中提交HTTP数据报文请求到服务端进行处理，提交的数据报文请求中可能包含了黑客构造的SQL语句或者命令信息。<br>个人理解<br>通过模拟网站的api报文，模拟发送的接口参数，得到成功返回的参数，进行解析解密后得到数据信息</p></blockquote><blockquote><p>webshell<br>webshell就是以asp、php、jsp或者cgi等网页文件形式存在的一种命令执行环境，也可以将其称做为一种网页后门。黑客在入侵了一个网站后，通常会将asp或php后门文件与网站服务器WEB目录下正常的网页文件混在一起，然后就可以使用浏览器来访问asp或者php后门，得到一个命令执行环境，以达到控制网站服务器的目的。</p></blockquote><blockquote><p>注入漏洞<br>注入漏洞是因为字符过滤不严谨所造成的，可以得到管理员的账号密码等相关资料。</p></blockquote><h2 id="h2--"><a name="【实验环境】" class="reference-link"></a><span class="header-link octicon octicon-link"></span>【实验环境】</h2><p><img src="/UploadImage/2016/2/22/20_52224" alt><br>目标机：<code>192.168.1.3</code><br>工具: C:\tools\web完整渗透</p><h2 id="h2--"><a name="【实验步骤】" class="reference-link"></a><span class="header-link octicon octicon-link"></span>【实验步骤】</h2><h3 id="h3--"><a name="一、检测网站安全性" class="reference-link"></a><span class="header-link octicon octicon-link"></span>一、检测网站安全性</h3><p>1.1我们浏览网站<code>http://192.168.1.3</code>页面，寻找漏洞时，一般情况下会通过扫描软件进行扫描，在这里，我们就不演示扫描过程了，我们直接找到个链接来测试，打开<code>【http://192.168.1.3/see.asp?ID=461&amp;titleID=86】</code>这个链接，在后面随便添加个「’」号，发现页面报错。如图1所示</p><center><img src="https://s2.ax1x.com/2019/11/20/Mhe6Z4.png" alt="Mhe6Z4.png" border="0"></center><br><center>图1</center><p>1.2如上图所知，我们输入’后，直接提示数据库错误界面，第一反应是该网站存在注入漏洞，我们用语句来确认该网站是否存在注入，我们输入<code>http://192.168.1.3/see.asp?ID=461&amp;titleID=86and 1=1</code>。如图2所示</p><center><img src="https://s2.ax1x.com/2019/11/20/Mhego9.png" alt="Mhego9.png" border="0"></center><br><center>图2</center><p>1.3我们在网站中输入<code>http://192.168.1.3/see.asp?ID=461&amp;titleID=86and 1=2，</code>返回错误界面，一般来讲，当我们再网站尾部输入and 1=1和and=2 返回页面不同的情况下，且出现数据库报错的话，我们通常认为，该站点必存在SQL注入漏洞。如图3所示</p><center><img src="https://s2.ax1x.com/2019/11/20/MhesLF.png" alt="MhesLF.png" border="0"></center><br><center>图3</center><h3 id="h3--"><a name="二、使用注入工具破解管理员用户、密码" class="reference-link"></a><span class="header-link octicon octicon-link"></span>二、使用注入工具破解管理员用户、密码</h3><p>2.1在c:/tools/web完整渗透测试实验/啊D注入工具文件夹下，打开啊D注入工具。如图4所示</p><center><img src="https://s2.ax1x.com/2019/11/20/MheIsO.png" alt="MheIsO.png" border="0"></center><br><center>图4</center><p>2.2把存在注入点的url复制到啊D注入工具中，选择左侧的SQL注入检测。如图5所示</p><center><img src="https://s2.ax1x.com/2019/11/20/MhersU.png" alt="MhersU.png" border="0"></center><br><center>图5</center><p>2.3我们点击『检测』，如果该网站存在注入，工具的下方会提示我们，并且提示我们该网站的数据库类型。如图6所示</p><center><img src="https://s2.ax1x.com/2019/11/20/MhersU.png" alt="MhersU.png" border="0"></center><br><center>图6</center><p>2.4我们选择『检测表段』，就是探测数据库的所有表段名称。如图7所示</p><center><img src="https://s2.ax1x.com/2019/11/20/MheWJ1.png" alt="MheWJ1.png" border="0"></center><br><center>图7</center><p>2.5我们选择『admin』段，然后开始选择『检测字段』，这里我们选择admin表段的原因在于基本上所有的管理员用户名和密码存放在admin表段。如图8所示</p><center><img src="https://s2.ax1x.com/2019/11/20/Mhehz6.png" alt="Mhehz6.png" border="0"></center><br><center>图8</center><p>2.6我们选择password和admin，然后选择『检测内容』，破解对方的用户名和密码。如图9所示</p><center><img src="https://s2.ax1x.com/2019/11/20/Mhe5QK.png" alt="Mhe5QK.png" border="0"></center><br><center>图9</center><p>2.7至此我们已经破解出来网站的管理员用户名和密码</p><h3 id="h3--md5-"><a name="三、使用工具破解md5密码" class="reference-link"></a><span class="header-link octicon octicon-link"></span>三、使用工具破解md5密码</h3><p>3.1我们得到的管理员密码是通过MD5值加密的，我们可以通过本地的MD5破解软件进行破解，打开C:\tools\web完整渗透\md5破解文件夹，打开md5crack.exe,这个md5crack就是通过字典的形式来破解md5值，所以具有一定的运气性，当然你的字典强大，跑成功密码的概率就高。如图10所示</p><center><img src="https://s2.ax1x.com/2019/11/20/MheoLD.png" alt="MheoLD.png" border="0"></center><br><center>图10</center><p>3.2我们在软件里面输入我们得到的md5值，软件会自动为我们破解出明文密码，这里能破解成功依赖于我们不错的密码字典，不是所有复杂的密码都能够被破解，如果有网络环境的同学，再实地测试时，可以通过访问<code>http://www.cmd5.com</code>来进行对md5值的破解。如图11所示</p><center><img src="https://s2.ax1x.com/2019/11/20/MheHdH.png" alt="MheHdH.png" border="0"></center><br><center>图11</center><p>3.3至此，我们得到网站管理密码的明文，明文为123456.。</p><h3 id="h3--"><a name="四、找寻登录网站管理后台。" class="reference-link"></a><span class="header-link octicon octicon-link"></span>四、找寻登录网站管理后台。</h3><p>4.1我们拿到了管理员的明文用户名和密码，现在需要我们来进入后台了，一般情况下，网站的后台都是<code>xx.com/admin/</code>或者是<code>xx.com/system</code>等，一般情况下，我们可以通过扫描软件来探测网站管理后台，我们打开C:\tools\web完整渗透\御剑后扫描文件夹，打开御剑后台扫描工具.exe。如图12所示</p><center><img src="https://s2.ax1x.com/2019/11/20/Mhebod.png" alt="Mhebod.png" border="0"></center><br><center>图12</center><p>4.2我们打开后，把我们需要探测的网站放进工具中，点击『开始扫描』。如图13所示</p><center><img src="https://s2.ax1x.com/2019/11/20/MhmCwQ.png" alt="MhmCwQ.png" border="0"></center><br><center>图13</center><p>4.3我们通过扫描可以基本判定：<code>http://192.168.1.3/admin/login.asp</code>,我们打开该后台。如图14所示</p><center><img src="https://s2.ax1x.com/2019/11/20/MheLFA.png" alt="MheLFA.png" border="0"></center><br><center>图14</center><p>4.4 我们输入已经破解出来的管理员用户名：linhai 密码:123456，成功登录后台。如图15所示</p><center><img src="https://s2.ax1x.com/2019/11/20/MheLFA.png" alt="MheLFA.png" border="0"></center><br><center>图15</center><h3 id="h3--webshell"><a name="五、拿到网站webshell" class="reference-link"></a><span class="header-link octicon octicon-link"></span>五、拿到网站webshell</h3><p>5.1我们既然已经进入了管理后台，那为了保持网站权限的持久性，我们需要拿到webshell,一般在后台拿shell的方法很多，具体的需要看网站后台的具体情况，就我们的站看，我们先打开『文章管理』，打开图片上传。如图16所示</p><center><img src="https://s2.ax1x.com/2019/11/20/MheOJI.png" alt="MheOJI.png" border="0"></center><br><center>图16</center><p>5.2我们上传asp木马看看，木马在C:\tools\web完整渗透\木马文件夹中，我们直接上传该木马。如图17所示</p><center><img src="https://s2.ax1x.com/2019/11/20/MheXWt.png" alt="MheXWt.png" border="0"></center><br><center>图17</center><p>5.3我们把我们的木马更改下后缀名，原来的木马名称是mm.aspx,我们改为mm.jpg，然后上传，发现可以上传成功。如图18所示</p><center><img src="https://s2.ax1x.com/2019/11/20/MhevSP.png" alt="MhevSP.png" border="0"></center><br><center>图18</center><p>5.4我们上传成功后，右键照片属性，看下它上传的位置，记录下来。如图19所示</p><center><img src="https://s2.ax1x.com/2019/11/20/MhexQf.png" alt="MhexQf.png" border="0"></center><br><center>图19</center><p>5.5我们上传成功后，因为上传的图片，不能解析成木马脚本，正好我们的这个网站有备份数据库功能，我们可以通过备份数据的方式，重新命名脚本文件，使其能够作为木马脚本被执行，我们打开网站左侧的『数据管理』操作项，选择『备份/恢复数据库』。如图20所示</p><center><img src="https://s2.ax1x.com/2019/11/20/Mhezy8.png" alt="Mhezy8.png" border="0"></center><br><center>图20</center><p>5.6在备份数据库中，数据库路径后面，填上我们刚才上传图片的地址，例：刚刚我获得的图片路<code>http://192.168.1.3/admin/Upfiles/201612798623.jpg</code>. 那我们在数据库路径后面填写『../admin/Upfiles/201612798623.jpg』.再备份的数据库路径后面我们填写『../db/1.aspx』.这样做的目的是把我们上传的jPG后缀的木马，重新备份成aspx文件，使我们的木马能够正常运行。如图21所示</p><center><img src="https://s2.ax1x.com/2019/11/20/Mhm9eg.png" alt="Mhm9eg.png" border="0"></center><br><center>图21</center><p>5.7我们点击备份后，我们访问<code>http://192.168.1.3/db/1.aspx</code>就是我们的木马地址了，木马的密码是77169,至此，我们就拿到了这个网站的webshell.。如图22所示</p><center><img src="https://s2.ax1x.com/2019/11/20/MhmPoj.png" alt="MhmPoj.png" border="0"></center><br><center>图22</center><h3 id="h3--"><a name="六、拿到服务器权限" class="reference-link"></a><span class="header-link octicon octicon-link"></span>六、拿到服务器权限</h3><p>6.1进入webshell后，因为我们需要执行dos命令来添加管理员，所以点击webshell上端的『命令行』按钮，进入执行命令模式。如图23所示</p><center><img src="https://s2.ax1x.com/2019/11/20/MhmkYn.png" alt="MhmkYn.png" border="0"></center><br><center>图23</center><p>6.2我们尝试执行whoami命令，查看下我们是什么权限。如图24所示</p><center><img src="https://s2.ax1x.com/2019/11/20/MhmAWq.png" alt="MhmAWq.png" border="0"></center><br><center>图24</center><p>6.3我们发现当我们执行whoami时，回显的是network service 权限，同学们应该清楚，在此权限下，是不能直接添加管理员账户的，我们添加账户是，回显是空白，证明无法添加用户。如图25所示</p><center><img src="https://s2.ax1x.com/2019/11/20/MhmVS0.png" alt="MhmVS0.png" border="0"></center><br><center>图25</center><p>6.4单击”端口扫描”,&gt;”扫描”按钮，发现目标系统开放着43958端口，即server-u服务。 如图26所示</p><center><img src="https://s2.ax1x.com/2019/11/20/Mhm3f1.png" alt="Mhm3f1.png" border="0"></center><br><center>图26</center><p>6.5单击“SU提权”，在cmdshell中输入命令“net user aaa 123456 /add”,然后单击“执行”按钮。如图27所示</p><center><img src="https://s2.ax1x.com/2019/11/20/MhmeyT.png" alt="MhmeyT.png" border="0"></center><br><center>图27</center><p>6.6在cmdshell输入命令“net localgroup administrators aaa /add”,然后单击“执行”按钮。如图28所示</p><center><img src="https://s2.ax1x.com/2019/11/20/MhmeyT.png" alt="MhmeyT.png" border="0"></center><br><center>图28</center><p>6.7 在cmdshell输入命令“net user”,然后单击“执行”按钮，查看用户aaa添加成功。如图29所示</p><center><img src="https://s2.ax1x.com/2019/11/20/MhmeyT.png" alt="MhmeyT.png" border="0"></center><br><center>图29</center><p>6.8在cmdshell输入命令“net user aaa”, ,然后单击“执行”按钮，查看用户aaa属于administrators用户组。如图30所示</p><center><img src="https://s2.ax1x.com/2019/11/20/MhmumF.png" alt="MhmumF.png" border="0"></center><br><center>图30</center><p>6.9单击“开始”-&gt;”运行”-&gt;”mstsc”-&gt;“192.168.1.3”,输入帐号“aaa”和密码“123456”-&gt;单击登陆“按钮”即可。如图31所示</p><center><img src="https://s2.ax1x.com/2019/11/20/MhmMTJ.png" alt="MhmMTJ.png" border="0"></center><br><center>图31</center><h2 id="h2--"><a name="【实验思考】" class="reference-link"></a><span class="header-link octicon octicon-link"></span>【实验思考】</h2><p>1．在WEB入口添加哪些设备有利于防护黑客入侵？</p>Web应用防火墙（WAF）、入侵检测系统（IDS）<form id="form1" class="editform1"><br><h2>题目一  下面关于sql注入语句的解释，不正确的是（）</h2><br><label><input type="radio" name="result" value="A">A:“And 1=1” 配合“and 1=2”常用来判断url中是否存在注入漏洞</label><br><label><input type="radio" name="result" value="B">B:and exists (select * from 表名) 常用来猜解表名</label><br><label><input type="radio" name="result" value="C">C:and exists (select 字段名 from 表名) 常用来猜解数据库表的字段名称</label><br><label><input type="radio" name="result" value="D">D:只要存在SQL注入漏洞，数据库里面的内容就100%能够猜解到</label><br><input type="button" onclick="checkAnswer('form1')" value="提交" class="btn1"><br><div class="tipstext"> </div><br><input type="hidden" name="number" value="1"><br></form></div>D                                <script src="/editor.md-master/lib/marked.min.js"></script><script src="/editor.md-master/lib/prettify.min.js"></script><script src="/editor.md-master/lib/raphael.min.js"></script><script src="/editor.md-master/lib/underscore.min.js"></script><!--                                    <script src="/editor.md-master/lib/sequence-diagram.min.js"></script>                                <script src="/editor.md-master/lib/flowchart.min.js"></script>                                <script src="/editor.md-master/lib/jquery.flowchart.min.js"></script>--><blockquote style="margin: 2em 0 0;padding: 0.5em 1em;border-left: 3px solid #F44336;background-color: #F5F5F5;list-style: none;"><p> <strong>本文使用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/" target="_blank" rel="noopener">CC BY-NC-SA 3.0 中国大陆</a> 协议许可<br>具体请参见 <a href="https://zyhang8.github.io/agree/" target="_blank" rel="noopener">知识共享协议</a></strong><br> <strong>本文链接：</strong><a href="https://zyhang8.github.io/2019/11/19/cipher-exp7/" target="_blank" rel="noopener">https://zyhang8.github.io/2019/11/19/cipher-exp7/</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 信息安全 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 信息安全 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>实验六 SHA-1算法+MD5算法+哈希碰撞</title>
      <link href="/2019/11/18/cipher-exp6/"/>
      <url>/2019/11/18/cipher-exp6/</url>
      
        <content type="html"><![CDATA[<h1 id="实验六-SHA-1算法-MD5算法-哈希碰撞"><a href="#实验六-SHA-1算法-MD5算法-哈希碰撞" class="headerlink" title="实验六 SHA-1算法+MD5算法+哈希碰撞"></a>实验六 SHA-1算法+MD5算法+哈希碰撞</h1><h2 id="SHA-1算法-MD5算法"><a href="#SHA-1算法-MD5算法" class="headerlink" title="SHA-1算法+MD5算法"></a>SHA-1算法+MD5算法</h2><h1 id="h1-sha-1-"><a name="SHA-1算法" class="reference-link"></a><span class="header-link octicon octicon-link"></span>SHA-1算法</h1><h2 id="h2--"><a name="【实验目的】" class="reference-link"></a><span class="header-link octicon octicon-link"></span>【实验目的】</h2><p>1） 学习SHA-1密码算法的原理<br>2） 学习SHA-1密码算法的编程实现</p><h2 id="h2--"><a name="【实验原理】" class="reference-link"></a><span class="header-link octicon octicon-link"></span>【实验原理】</h2><p><strong>算法原理</strong><br>安全散列算法（SHA，Secure Hash Algorithm）是一种常用的数据加密算法，1993年美国国家标准技术研究所（NIST）公布了SHA-0作为联邦信息处理标准，1995年4月17日公布了安全性更高的改进版本SHA-1。SHA-1在设计上很大程度模仿MD4，该算法对长度不超过264的消息产生160 bit的消息摘要输出，输入消息以512 bit分组为单位处理。<br>SHA-1有5个参与运算的32位寄存器字，消息分组和填充方式与MD5相同，主循环也同样是4轮，但每轮进行20词操作，非线性运算、移位和加法运算与MD5类似，但非线性函数、加法常数和循环左移操作的设计有一些区别。<br>1）附加填充位<br>填充一个“1”和若干个“0”使其长度模512与448同余，然后在消息后附加64 bit的无符号整数，其值为原始消息的长度。产生长度为512整数倍的消息串，把消息分成长度为512 bit的消息块M1,M2,…, MN因此填充后的消息程度为512<img src="/UploadImage/2016/4/20/153211936148939101.gif" alt>Nbit。<br>2）初始化链接变量<br>和MD5相似，将5个32 bit 的固定值赋予5个32位的寄存器（A，B，C，D，E）作为第一次迭代的链接变量输入如表1：</p><center><img src="http://shou.shiyanbar.com/UploadImage/2016/4/20/153211933801341801.png" alt></center><p>3）以512 bit 分组处理消息<br>此算法的核心就是称为压缩函数（compression function）的模块，这个模块包括4次循环，每次循环又包含20个处理步骤。每个循环使用的步函数相同，不同的循环中步函数包含不同的非线性函数（Ch、Parity、Maj、Parity），每一步函数的输入也不同，除了寄存器外，还有额外函数Ki和消息分组相关的Wi（0≤i≤79）。<br>4）输出散列值<br>每一次循环以当前正在处理的512 bit 和160bit的缓存值A、B、C、D、E为输入，然后更新缓存的内容。最后一步的输出模232加上上一循环的输入CVj产生CVj+1。全部512 bit 数据块处理完毕后，最后输出160 bit的消息摘要。</p><center><img src="http://shou.shiyanbar.com/UploadImage/2016/4/20/153211939375983701.png" alt></center><br><center>图1 SHA-1对单个512 bit 分组的处理流程</center><p><strong>SHA-1压缩函数</strong><br>SHA-1的压缩函数是最关键的部分，其中每一步Stepi(ABCDE,Yi,Ki)的计算(i=0,2,..,79)如下图所示：</p><center><img src="http://shou.shiyanbar.com/UploadImage/2016/4/20/153211942498798101.jpg" alt></center><br><center>图2单轮SHA-1的运算</center><p>SHA-1压缩函数的每一循环的形式为:</p><center><img src="http://shou.shiyanbar.com/UploadImage/2016/4/20/153211945658118901.gif" alt></center><br><center><img src="http://shou.shiyanbar.com/UploadImage/2016/4/20/153211946925102501.gif" alt></center><br><center><img src="http://shou.shiyanbar.com/UploadImage/2016/4/20/153211948275860201.gif" alt></center><br><center><img src="http://shou.shiyanbar.com/UploadImage/2016/4/20/153211975764504601.gif" alt></center><br><center><img src="http://shou.shiyanbar.com/UploadImage/2016/4/20/153211976980172501.gif" alt></center><p>其中，i是步数，（0≤i≤79）；<code>ROTLn(x)=(x&lt;&lt;n)&lt; span=""&gt;&lt;/n)</code>&lt;&gt;表示对32 bit的变量x循环左移n bit。<br>图中非线性函数均对3个32 bit的变量B、C、D进行操作，结果是产生一个32 bit 的输出；Ki是循环中使用的额外常数，根据步数不同分别取4个不同的值。非线性函数和Ki定义如下表2：</p><center><img src="http://shou.shiyanbar.com/UploadImage/2016/4/20/153211990095806201.png" alt></center><p>32bit的字Wi是从512 bit 的消息分组中导出的，其映射过程如下图所示：</p><center><img src="http://shou.shiyanbar.com/UploadImage/2016/4/20/153211992014696001.gif" alt></center><br><center><img src="http://shou.shiyanbar.com/UploadImage/2016/4/20/153211993345742101.jpg" alt></center><br><center>图3 SHA-1处理单个分组而产生的80个输入序列</center><p>在前16步中Wi值等于消息分组中的相应字，在剩余的64步中，其值是由前面的4个值相异或得到的，上述操作增加了压缩分组的冗余性和相互依赖性，故对于相同分组的消息找出具有相同压缩结果的消息是困难的。</p><p><strong>算法流程</strong></p><center><img src="http://shou.shiyanbar.com/UploadImage/2016/4/20/153211996026408701.jpg" alt></center><br><center>图4 SHA-1的算法流程图</center><h2 id="h2--"><a name="【实验环境】" class="reference-link"></a><span class="header-link octicon octicon-link"></span>【实验环境】</h2><p>Windows Server 2012 R2<br>实验工具在【C:\tools\密码学课程\01密码学算法\06 hash算法\03 SHA-1算法】</p><h2 id="h2--"><a name="【实验步骤】" class="reference-link"></a><span class="header-link octicon octicon-link"></span>【实验步骤】</h2><p>1.运行程序。如图5所示</p><center><img src="http://shou.shiyanbar.com/UploadImage/2018/5/8/159986436637688801.png" alt></center><br><center>图5</center><p>2.源码如下</p><pre class="prettyprint linenums prettyprinted" style><ol class="linenums"><li class="L0"><code><span class="pln">  </span><span class="kwd">int</span><span class="pln"> main</span><span class="pun">()</span></code></li><li class="L1"><code><span class="pun">{</span></code></li><li class="L2"><code><span class="pln">SHA1Context sha</span><span class="pun">;</span></code></li><li class="L3"><code><span class="kwd">int</span><span class="pln"> i</span><span class="pun">,</span><span class="pln"> err</span><span class="pun">;</span></code></li><li class="L4"><code><span class="typ">uint8_t</span><span class="pln"> </span><span class="typ">Message_Digest</span><span class="pun">[</span><span class="lit">20</span><span class="pun">];</span></code></li><li class="L5"><code></code></li><li class="L6"><code><span class="com">// testing SHA1</span></code></li><li class="L7"><code><span class="kwd">char</span><span class="pln">  </span><span class="pun">*</span><span class="pln">test </span><span class="pun">=</span><span class="pln"> </span><span class="str">"信息    2013-4-10    15:59:14    b57w2k    无    11    N/A    XP-201207101943"</span><span class="pun">;</span></code></li><li class="L8"><code></code></li><li class="L9"><code><span class="pln">printf</span><span class="pun">(</span><span class="pln"> </span><span class="str">"\n测试值:\t“%s”\n"</span><span class="pun">,</span><span class="pln">test</span><span class="pun">);</span></code></li><li class="L0"><code><span class="pln">err </span><span class="pun">=</span><span class="pln"> SHA1Reset</span><span class="pun">(&amp;</span><span class="pln">sha</span><span class="pun">);</span><span class="pln">    </span><span class="com">//erro and return 0</span></code></li><li class="L1"><code></code></li><li class="L2"><code><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">err</span><span class="pun">)</span></code></li><li class="L3"><code><span class="pun">{</span></code></li><li class="L4"><code><span class="pln">    fprintf</span><span class="pun">(</span><span class="pln">stderr</span><span class="pun">,</span><span class="pln"> </span><span class="str">"SHA1重置错误 %d.\n"</span><span class="pun">,</span><span class="pln"> err </span><span class="pun">);</span></code></li><li class="L5"><code><span class="pln">    </span><span class="kwd">return</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span></code></li><li class="L6"><code><span class="pun">}</span></code></li><li class="L7"><code></code></li><li class="L8"><code><span class="pln">err </span><span class="pun">=</span><span class="pln"> ISD_SHA1Input</span><span class="pun">(&amp;</span><span class="pln">sha</span><span class="pun">,</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">unsigned</span><span class="pln"> </span><span class="kwd">char</span><span class="pln"> </span><span class="pun">*)</span><span class="pln">test</span><span class="pun">,</span><span class="pln"> strlen</span><span class="pun">(</span><span class="pln">test</span><span class="pun">));</span></code></li><li class="L9"><code></code></li><li class="L0"><code><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">err</span><span class="pun">)</span></code></li><li class="L1"><code><span class="pun">{</span></code></li><li class="L2"><code><span class="pln">    fprintf</span><span class="pun">(</span><span class="pln">stderr</span><span class="pun">,</span><span class="pln"> </span><span class="str">"SHA1输入错误 %d.\n"</span><span class="pun">,</span><span class="pln"> err </span><span class="pun">);</span></code></li><li class="L3"><code><span class="pln">    </span><span class="kwd">return</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span></code></li><li class="L4"><code><span class="pun">}</span></code></li><li class="L5"><code></code></li><li class="L6"><code><span class="pln">err </span><span class="pun">=</span><span class="pln"> ISD_SHA1Result</span><span class="pun">(&amp;</span><span class="pln">sha</span><span class="pun">,</span><span class="pln"> </span><span class="typ">Message_Digest</span><span class="pun">);</span></code></li><li class="L7"><code></code></li><li class="L8"><code><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">err</span><span class="pun">)</span></code></li><li class="L9"><code><span class="pun">{</span></code></li><li class="L0"><code><span class="pln">    fprintf</span><span class="pun">(</span><span class="pln">stderr</span><span class="pun">,</span></code></li><li class="L1"><code><span class="pln">    </span><span class="str">"SHA1结果错误 %d, 不能计算摘要值.\n"</span><span class="pun">,</span></code></li><li class="L2"><code><span class="pln">    err </span><span class="pun">);</span></code></li><li class="L3"><code><span class="pun">}</span></code></li><li class="L4"><code><span class="kwd">else</span></code></li><li class="L5"><code><span class="pun">{</span></code></li><li class="L6"><code><span class="pln">    printf</span><span class="pun">(</span><span class="str">"摘要值:\t"</span><span class="pun">);</span></code></li><li class="L7"><code><span class="pln">    </span><span class="kwd">for</span><span class="pun">(</span><span class="pln">i </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln"> i </span><span class="pun">&lt;</span><span class="pln"> </span><span class="lit">20</span><span class="pln"> </span><span class="pun">;</span><span class="pln"> </span><span class="pun">++</span><span class="pln">i</span><span class="pun">)</span></code></li><li class="L8"><code><span class="pln">    </span><span class="pun">{</span></code></li><li class="L9"><code><span class="pln">        printf</span><span class="pun">(</span><span class="str">"%02X "</span><span class="pun">,</span><span class="pln"> </span><span class="typ">Message_Digest</span><span class="pun">[</span><span class="pln">i</span><span class="pun">]);</span></code></li><li class="L0"><code><span class="pln">    </span><span class="pun">}</span></code></li><li class="L1"><code><span class="pln">    printf</span><span class="pun">(</span><span class="str">"\n"</span><span class="pun">);</span></code></li><li class="L2"><code><span class="pun">}</span></code></li><li class="L3"><code></code></li><li class="L4"><code><span class="kwd">return</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span></code></li><li class="L5"><code><span class="pun">}</span></code></li></ol></pre><h2 id="h2--"><a name="【实验思考】" class="reference-link"></a><span class="header-link octicon octicon-link"></span>【实验思考】</h2><p>2.SAH-1密码算法与MD5算法有什么不同？</p><blockquote><p>SHA-1是一种数据加密算法，该算法的思想是接收一段明文，然后以一种不可逆的方式将它转换成一段（通常更小）密文，也可以简单的理解为取一串输入码（称为预映射或信息），并把它们转化为长度较短、位数固定的输出序列即散列值（也称为信息摘要或信息认证代码）的过程。<br>单向散列函数的安全性在于其产生散列值的操作过程具有较强的单向性。如果在输入序列中嵌入密码，那么任何人在不知道密码的情况下都不能产生正确的散列值，从而保证了其安全性。SHA将输入流按照每块512位（64个字节）进行分块，并产生20个字节的被称为信息认证代码或信息摘要的输出。<br>该算法输入报文的长度不限，产生的输出是一个160位的报文摘要。输入是按512 位的分组进行处理的。SHA-1是不可逆的、防冲突，并具有良好的雪崩效应。<br>通过散列算法可实现数字签名实现，数字签名的原理是将要传送的明文通过一种函数运算（Hash）转换成报文摘要（不同的明文对应不同的报文摘要），报文摘要加密后与明文一起传送给接受方，接受方将接受的明文产生新的报文摘要与发送方的发来报文摘要解密比较，比较结果一致表示明文未被改动，如果不一致表示明文已被篡改。<br>MAC （信息认证代码）就是一个散列结果，其中部分输入信息是密码，只有知道这个密码的参与者才能再次计算和验证MAC码的合法性。</p></blockquote><p>因为二者均由MD4导出，SHA-1和MD5彼此很相似。有以下几点不同：</p><ol><li>对强行攻击的安全性：最显著和最重要的区别是SHA-1摘要比MD5摘要长32 位。使用强行技术，产生任何一个报文使其摘要等于给定报摘要的难度对MD5是2^128数量级的操作，而对SHA-1则是2^160数量级的操作。这样，SHA-1对强行攻击有更大的强度。 </li><li>对密码分析的安全性：由于MD5的设计，易受密码分析的攻击，SHA-1显得不易受这样的攻击。</li><li>速度：在相同的硬件上，SHA-1的运行速度比MD5慢。</li></ol><h2 id="哈希碰撞"><a href="#哈希碰撞" class="headerlink" title="哈希碰撞"></a>哈希碰撞</h2><p>一开始还是一脸懵，只能上网查了。</p><p>碰撞的意思是计算得到的Hash值相同，需要放到同一个bucket中。Hashmap里面的bucket出现了单链表的形式，散列表要解决的一个问题就是散列值的冲突问题，通常是两种方法：链表法和开放地址法。</p><p>bucket 类似为存储空间</p><ul><li>HashMap是一个散列桶（数组和链表），它存储的内容是键值对(key-value)映射</li><li>HashMap采用了数组和链表的数据结构，能在查询和修改方便继承了数组的线性查找和链表的寻址修改</li><li>HashMap是非synchronized，所以HashMap很快</li><li>HashMap可以接受null键和值，而Hashtable则不能（原因就是equlas()方法需要对象，因为HashMap是后出的API经过处理才可以）</li></ul><h3 id="1-开放地址法"><a href="#1-开放地址法" class="headerlink" title="1.开放地址法"></a>1.开放地址法</h3><p>开放地执法有一个公式:Hi=(H(key)+di) MOD m i=1,2,…,k(k&lt;=m-1)</p><p>其中，m为哈希表的表长。di 是产生冲突的时候的增量序列。如果di值可能为1,2,3,…m-1，称线性探测再散列。</p><p>如果di取1，则每次冲突之后，向后移动1个位置.如果di取值可能为1,-1,2,-2,4,-4,9,-9,16,-16,…k<em>k,-k</em>k(k&lt;=m/2)，称二次探测再散列。</p><p>如果di取值可能为伪随机数列。称伪随机探测再散列。</p><h3 id="2-再哈希法"><a href="#2-再哈希法" class="headerlink" title="2.再哈希法"></a>2.再哈希法</h3><p>当发生冲突时，使用第二个、第三个、哈希函数计算地址，直到无冲突时。缺点：计算时间增加。</p><p>比如上面第一次按照姓首字母进行哈希，如果产生冲突可以按照姓字母首字母第二位进行哈希，再冲突，第三位，直到不冲突为止</p><h3 id="3-链地址法（拉链法）"><a href="#3-链地址法（拉链法）" class="headerlink" title="3.链地址法（拉链法）"></a>3.链地址法（拉链法）</h3><p>将所有关键字为同义词的记录存储在同一线性链表中。如下：</p><p><img src="http://img.blog.csdn.net/20160918154444663?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt="a"></p><p>因此这种方法，可以近似的认为是筒子里面套筒子</p><h3 id="4-建立一个公共溢出区"><a href="#4-建立一个公共溢出区" class="headerlink" title="4.建立一个公共溢出区"></a>4.建立一个公共溢出区</h3><p>假设哈希函数的值域为[0,m-1],则设向量HashTable[0..m-1]为基本表，另外设立存储空间向量OverTable[0..v]用以存储发生冲突的记录。</p><h3 id="拉链法的优缺点"><a href="#拉链法的优缺点" class="headerlink" title="拉链法的优缺点"></a>拉链法的优缺点</h3><p>优点：</p><ul><li>拉链法处理冲突简单，且无堆积现象，即非同义词决不会发生冲突，因此平均查找长度较短；</li><li>由于拉链法中各链表上的结点空间是动态申请的，故它更适合于造表前无法确定表长的情况；</li><li>开放定址法为减少冲突，要求装填因子α较小，故当结点规模较大时会浪费很多空间。而拉链法中可取α≥1，且结点较大时，拉链法中增加的指针域可忽略不计，因此节省空间；</li><li>在用拉链法构造的散列表中，删除结点的操作易于实现。只要简单地删去链表上相应的结点即可。而对开放地址法构造的散列表，删除结点不能简单地将被删结 点的空间置为空，否则将截断在它之后填人散列表的同义词结点的查找路径。这是因为各种开放地址法中，空地址单元(即开放地址)都是查找失败的条件。因此在 用开放地址法处理冲突的散列表上执行删除操作，只能在被删结点上做删除标记，而不能真正删除结点。</li></ul><p>缺点：</p><p>指针需要额外的空间，故当结点规模较小时，开放定址法较为节省空间，而若将节省的指针空间用来扩大散列表的规模，可使装填因子变小，这又减少了开放定址法中的冲突，从而提高平均查找速度。</p><blockquote style="margin: 2em 0 0;padding: 0.5em 1em;border-left: 3px solid #F44336;background-color: #F5F5F5;list-style: none;"><p> <strong>本文使用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/" target="_blank" rel="noopener">CC BY-NC-SA 3.0 中国大陆</a> 协议许可<br>具体请参见 <a href="https://zyhang8.github.io/agree/" target="_blank" rel="noopener">知识共享协议</a></strong><br> <strong>本文链接：</strong><a href="https://zyhang8.github.io/2019/11/18/cipher-exp6/" target="_blank" rel="noopener">https://zyhang8.github.io/2019/11/18/cipher-exp6/</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 信息安全 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 信息安全 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>vi+gcc+gdb</title>
      <link href="/2019/11/17/linux-exp4/"/>
      <url>/2019/11/17/linux-exp4/</url>
      
        <content type="html"><![CDATA[<h1 id="vi-gcc-gdb"><a href="#vi-gcc-gdb" class="headerlink" title="vi+gcc+gdb"></a>vi+gcc+gdb</h1><h2 id="实验三-vi-编辑器-（包括PPT内容联系）"><a href="#实验三-vi-编辑器-（包括PPT内容联系）" class="headerlink" title="实验三 vi 编辑器 （包括PPT内容联系）"></a>实验三 vi 编辑器 （包括PPT内容联系）</h2><h3 id="1-4"><a href="#1-4" class="headerlink" title="1-4"></a>1-4</h3><p><img src="https://s2.ax1x.com/2019/11/09/Mm8fDU.png" alt="Mm8fDU.png"><br><img src="https://s2.ax1x.com/2019/11/09/Mm8hbF.png" alt="Mm8hbF.png"><br><img src="https://s2.ax1x.com/2019/11/09/Mm8WuT.png" alt="Mm8WuT.png"><br><img src="https://s2.ax1x.com/2019/11/09/Mm82vV.png" alt="Mm82vV.png"></p><h3 id="5"><a href="#5" class="headerlink" title="5"></a>5</h3><p>删除一行，dd</p><p>删除光标当前的字符，x</p><p>u：如果您误执行一个命令，可以马上按下「u」，回到上一个操作。按多次”u”可以执行多次回复</p><p>「r」：替换光标所在处的字符。</p><p>cw删除一整个词</p><p>删除一个字符且转换成插入模式</p><p><img src="https://s2.ax1x.com/2019/11/09/Mm8IUJ.png" alt="Mm8IUJ.png"></p><h2 id="实验四-C程序的编译和调试（加上PPT两个例子的调试）"><a href="#实验四-C程序的编译和调试（加上PPT两个例子的调试）" class="headerlink" title="实验四 C程序的编译和调试（加上PPT两个例子的调试）"></a>实验四 C程序的编译和调试（加上PPT两个例子的调试）</h2><h3 id="1"><a href="#1" class="headerlink" title="1"></a>1</h3><table><thead><tr><th align="center">参数</th><th align="center">说明</th></tr></thead><tbody><tr><td align="center">-E</td><td align="center">只激活预处理,这个不生成文件, 你需要把它重定向到一个输出文件里面</td></tr><tr><td align="center">-c</td><td align="center">只激活预处理,编译,和汇编,也就是他只把程序做成obj文件</td></tr><tr><td align="center">-o</td><td align="center">制定目标名称, 默认的时候, gcc 编译出来的文件是 a.out, 很难听, 如果你和我有同感，改掉它, 哈哈。</td></tr><tr><td align="center">-I</td><td align="center">指定头文件包含目录</td></tr><tr><td align="center">-D</td><td align="center">定义宏，与源代码中#define指令定义的宏效果一样。</td></tr><tr><td align="center">-l</td><td align="center">库文件目录</td></tr></tbody></table><p>这些参数本来就很少用…………本题知识实例，其中的报错为警告和路径错误</p><h3 id="2、3"><a href="#2、3" class="headerlink" title="2、3"></a>2、3</h3><p><img src="https://s2.ax1x.com/2019/11/09/MmG8qU.png" alt="MmG8qU.png"></p><h2 id="调试第7章例题-例7-1-和例7-2"><a href="#调试第7章例题-例7-1-和例7-2" class="headerlink" title="调试第7章例题 例7.1 和例7.2"></a>调试第7章例题 例7.1 和例7.2</h2><p><img src="https://s2.ax1x.com/2019/11/09/MmG8qU.png" alt="MmG8qU.png"></p><blockquote style="margin: 2em 0 0;padding: 0.5em 1em;border-left: 3px solid #F44336;background-color: #F5F5F5;list-style: none;"><p> <strong>本文使用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/" target="_blank" rel="noopener">CC BY-NC-SA 3.0 中国大陆</a> 协议许可<br>具体请参见 <a href="https://zyhang8.github.io/agree/" target="_blank" rel="noopener">知识共享协议</a></strong><br> <strong>本文链接：</strong><a href="https://zyhang8.github.io/2019/11/17/linux-exp4/" target="_blank" rel="noopener">https://zyhang8.github.io/2019/11/17/linux-exp4/</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Servlet+Filter+MySQL</title>
      <link href="/2019/11/16/javaweb-exp4/"/>
      <url>/2019/11/16/javaweb-exp4/</url>
      
        <content type="html"><![CDATA[<h2 id="实验目的"><a href="#实验目的" class="headerlink" title="实验目的"></a>实验目的</h2><ul><li>理解Servlet和Filter的工作原理</li><li>掌握Servlet和Filter的配置和使用</li><li>掌握使用JDBC理解MySQL数据库</li><li>能够使用JSP+Servlet+Filter+MySQL开发简单的Web</li></ul><h2 id="实验环境"><a href="#实验环境" class="headerlink" title="实验环境"></a>实验环境</h2><ul><li>Chrome</li><li>vscode</li><li>Eclipse</li><li>Tomcat</li><li>MySQL</li></ul><h2 id="实验内容"><a href="#实验内容" class="headerlink" title="实验内容"></a>实验内容</h2><p>在实验1（欧莱雅主页）的基础上，实现欧莱雅网站访问的字符编码过滤器（即支持中文，可设置为utf-8），完善登录和注册功能（使用Servlet实现）。</p><p>（下面给出相应代码和实现的截图）</p><h3 id="源代码"><a href="#源代码" class="headerlink" title="源代码"></a>源代码</h3><p><strong>index.html</strong></p><p><strong>login.jsp</strong></p><p><strong>register.jsp</strong></p><h3 id="截图及其功能介绍"><a href="#截图及其功能介绍" class="headerlink" title="截图及其功能介绍"></a>截图及其功能介绍</h3><p><img src="https://s2.ax1x.com/2019/11/08/MVJV9x.png" alt="MVJV9x.png"></p><p><em>图一 注册界面</em></p><p><img src="https://s2.ax1x.com/2019/11/08/MVJA41.png" alt="MVJA41.png"><br><img src="https://s2.ax1x.com/2019/11/08/MVJkNR.png" alt="MVJkNR.png"><br><img src="https://s2.ax1x.com/2019/11/08/MVJPHJ.png" alt="MVJPHJ.png"><br><img src="https://s2.ax1x.com/2019/11/08/MVJFE9.png" alt="MVJFE9.png"></p><p><em>图二 用户名/密码/确认密码/验证码为空提示错误并清除文本框内容和定位光标到文本框并刷新二维码</em></p><p><img src="https://s2.ax1x.com/2019/11/08/MVJZ36.png" alt="MVJZ36.png"><br><img src="https://s2.ax1x.com/2019/11/08/MVJegK.png" alt="MVJegK.png"></p><p><em>图三 密码不一致/验证码提示错误并清除文本框内容和定位光标到文本框并刷新二维码</em></p><p><img src="https://s2.ax1x.com/2019/11/08/MVJmjO.png" alt="MVJmjO.png"><br><img src="https://s2.ax1x.com/2019/11/08/MVJuuD.png" alt="MVJuuD.png"></p><p><em>图四 注册时存在用户名显示错误并刷新该页面</em></p><p><img src="https://s2.ax1x.com/2019/11/08/MVJKDe.png" alt="MVJKDe.png"><br><img src="https://s2.ax1x.com/2019/11/08/MVJMHH.png" alt="MVJMHH.png"></p><p><em>图四 登录成功并跳转到登录界面</em></p><p><img src="https://s2.ax1x.com/2019/11/08/MVJlEd.png" alt="MVJlEd.png"></p><p><em>图五 登录界面</em></p><p><img src="https://s2.ax1x.com/2019/11/08/MVJ1UA.png" alt="MVJ1UA.png"><br><img src="https://s2.ax1x.com/2019/11/08/MVJ34I.png" alt="MVJ34I.png"><br><img src="https://s2.ax1x.com/2019/11/08/MVJGCt.png" alt="MVJGCt.png"></p><p><em>图六 用户名/密码/验证码为空提示错误并清除文本框内容和定位光标到文本框并刷新二维码</em></p><p><img src="https://s2.ax1x.com/2019/11/08/MVJJ8P.png" alt="MVJJ8P.png"><br><img src="https://s2.ax1x.com/2019/11/08/MVJYgf.png" alt="MVJYgf.png"></p><p><em>图七 用户名/密码错误提示错误并清除文本框内容和定位光标到文本框并刷新二维码</em></p><p><img src="https://s2.ax1x.com/2019/11/08/MVJtv8.png" alt="MVJtv8.png"><br><img src="https://s2.ax1x.com/2019/11/08/MVJUKS.png" alt="MVJUKS.png"></p><p><em>图八 登录成功并跳转到主页面页面</em></p><p><img src="https://s2.ax1x.com/2019/11/08/MVdKDf.png" alt="MVdKDf.png"></p><p><em>图九 项目结构</em></p><p><em>图十 以上所有图片编码都是通过Fliter编码过滤器统一编码为UFT-8</em></p><h4 id="源代码-1"><a href="#源代码-1" class="headerlink" title="源代码"></a>源代码</h4><p><strong>web.xml</strong></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE xml&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">web-app</span> <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span> <span class="attr">xmlns</span>=<span class="string">"http://java.sun.com/xml/ns/javaee"</span> <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd"</span> <span class="attr">version</span>=<span class="string">"2.5"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">welcome-file-list</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">welcome-file</span>&gt;</span>index.html<span class="tag">&lt;/<span class="name">welcome-file</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">welcome-file-list</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>RegisterServlet<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>exp4.servlet.RegisterServlet<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>LoginServlet<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>exp4.servlet.LoginServlet<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>RegisterServlet<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/RegisterServlet<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>LoginServlet<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/LoginServlet<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">filter</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>EncodingFilter<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">filter-class</span>&gt;</span>exp4.servlet.EncodingFilter<span class="tag">&lt;/<span class="name">filter-class</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">filter</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">filter-mapping</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>EncodingFilter<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/*<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">filter-mapping</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">web-app</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>index.html</strong></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">type</span>=<span class="string">"text/css"</span> <span class="attr">href</span>=<span class="string">".\css\test1.css"</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"Content-Type"</span> <span class="attr">content</span>=<span class="string">"text/html; charset=utf-8"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>欧莱雅网站首页<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--HEADED--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"headed"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"top"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"logo"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"images/logo.png"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"top_nav"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"top_right"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"images/man.png"</span> /&gt;</span><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"man"</span>&gt;</span>型男手册<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"images/sina.png"</span> /&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>微博互动<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"images/vidio.png"</span> /&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>视频直播<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"images/Evaluation.png"</span> /&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>测评中心<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"login"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"register.html"</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>注册<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"login.jsp"</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>登录<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"nav"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"navleft"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">ul</span>&gt;</span> </span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>护肤<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>护发<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>彩妆<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>染发<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>男士<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"navright"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"images/buy.png"</span> /&gt;</span><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"buy"</span>&gt;</span>电子商城<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>品牌故事<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>会员专区<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--PRODUCT--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"product"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"images/youthcode.png"</span> /&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"images/shine.png"</span> /&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"images/pure.png"</span> /&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"images/brandnew.png"</span> /&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"images/brand.png"</span> /&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"images/beauty.png"</span> /&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"images/loreal.png"</span> /&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--footer--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"footer"</span>&gt;</span></span><br><span class="line">      <span class="comment">&lt;!--footer_left--&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"footer_left"</span>&gt;</span>  </span><br><span class="line">           <span class="tag">&lt;<span class="name">input</span> <span class="attr">value</span>=<span class="string">"订阅电子期刊"</span>/&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"mail"</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"images/infor.png"</span> /&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="comment">&lt;!--footer_middle--&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"footer_middle"</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"footer_first"</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>联系我们<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>销售网点<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>网站地图<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"footer_vip"</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>2013年会员积分况礼<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>其它国家地区和网站<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"images/sanjiao.png"</span> /&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"footer_phone"</span>&gt;</span></span><br><span class="line">             <span class="tag">&lt;<span class="name">p</span>&gt;</span>巴黎欧莱雅顾客关怀中心：400-821-5098  会员积分兑礼服务热线：400-820-0660<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"footer_copyright"</span>&gt;</span></span><br><span class="line">             <span class="tag">&lt;<span class="name">p</span>&gt;</span>沪ICP备11031739号-1<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="comment">&lt;!--footer_right--&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"footer_right"</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"images/logoparis.png"</span> /&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>login.jsp</strong></p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page language=<span class="string">"java"</span> <span class="keyword">import</span>=<span class="string">"java.util.*"</span> pageEncoding=<span class="string">"utf-8"</span>%&gt;</span><br><span class="line">&lt;%</span><br><span class="line">String path = request.getContextPath();</span><br><span class="line">String basePath = request.getScheme()+<span class="string">"://"</span>+request.getServerName()+<span class="string">":"</span>+request.getServerPort()+path+<span class="string">"/"</span>;</span><br><span class="line">%&gt;</span><br><span class="line"> </span><br><span class="line">&lt;!DOCTYPE HTML PUBLIC <span class="string">"-//W3C//DTD HTML 4.01 Transitional//EN"</span>&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">  &lt;title&gt;登录页面&lt;/title&gt;</span><br><span class="line">  &lt;link rel=<span class="string">"stylesheet"</span> type=<span class="string">"text/css"</span> href=<span class="string">".\css\style.css"</span> /&gt;</span><br><span class="line">  &lt;script language=<span class="string">"javascript"</span>&gt;</span><br><span class="line">  <span class="keyword">var</span> code;</span><br><span class="line"></span><br><span class="line">  <span class="function">function <span class="title">createCode</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> codeLength = <span class="number">4</span>;</span><br><span class="line">  <span class="keyword">var</span> checkCode = document.getElementById(<span class="string">"checkCode"</span>);</span><br><span class="line">  <span class="keyword">var</span> selectChar = <span class="keyword">new</span> Array(<span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="string">'A'</span>, <span class="string">'B'</span>, <span class="string">'C'</span>, <span class="string">'D'</span>, <span class="string">'E'</span>, <span class="string">'F'</span>, <span class="string">'G'</span>, <span class="string">'H'</span>, <span class="string">'J'</span>, <span class="string">'K'</span>, <span class="string">'L'</span>, <span class="string">'M'</span>, <span class="string">'N'</span>, <span class="string">'P'</span>, <span class="string">'Q'</span>, <span class="string">'R'</span>, <span class="string">'S'</span>, <span class="string">'T'</span>, <span class="string">'U'</span>, <span class="string">'V'</span>, <span class="string">'W'</span>, <span class="string">'X'</span>, <span class="string">'Y'</span>, <span class="string">'Z'</span>);</span><br><span class="line">  <span class="keyword">var</span> charIndex = Math.floor(Math.random() * <span class="number">32</span>);</span><br><span class="line">  code = selectChar[charIndex];</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">1</span>; i &lt; codeLength; i++) &#123;</span><br><span class="line">  <span class="keyword">var</span> charIndex = Math.floor(Math.random() * <span class="number">32</span>);</span><br><span class="line">  code += selectChar[charIndex];</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> (code.length != codeLength) &#123;</span><br><span class="line">  createCode();</span><br><span class="line">  &#125;</span><br><span class="line">  document.getElementById(<span class="string">"checkCode"</span>).value = code;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function">function <span class="title">loginValidate</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> inputCode = document.getElementById(<span class="string">"input1"</span>).value.toUpperCase();</span><br><span class="line">  <span class="keyword">var</span> usrName = document.getElementById(<span class="string">"usr"</span>).value;</span><br><span class="line">  <span class="keyword">var</span> passWD = document.getElementById(<span class="string">"pwd"</span>).value;</span><br><span class="line">  <span class="keyword">var</span> passWD = document.getElementById(<span class="string">"pwd"</span>).value;</span><br><span class="line">  <span class="keyword">if</span> (usrName.length &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">      alert(<span class="string">"很抱歉，用户名不能为空!"</span>);</span><br><span class="line">      document.getElementById(<span class="string">"usr"</span>).focus();</span><br><span class="line">      createCode();</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (passWD.length &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">      alert(<span class="string">"很抱歉，密码不能为空!"</span>);</span><br><span class="line">      document.getElementById(<span class="string">"pwd"</span>).focus();</span><br><span class="line">      createCode();</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">  &#125;</span><br><span class="line">    <span class="keyword">if</span> (inputCode.length &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">        alert(<span class="string">"请输入验证码！"</span>);</span><br><span class="line">        createCode();</span><br><span class="line">        document.getElementById(<span class="string">"input1"</span>).focus();</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">      &#125; <span class="keyword">else</span> <span class="keyword">if</span> (inputCode != code) &#123;</span><br><span class="line">        alert(<span class="string">"验证码输入错误！"</span>);</span><br><span class="line">        createCode();</span><br><span class="line">        document.getElementById(<span class="string">"input1"</span>).value=<span class="string">""</span>;</span><br><span class="line">        document.getElementById(<span class="string">"input1"</span>).focus();</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">if</span>( passWD == assertpassWD) &#123;</span><br><span class="line">          &lt;!--alert(<span class="string">"注册成功！"</span>);--&gt;</span><br><span class="line">          &lt;!--jump(<span class="string">"index.html"</span>);--&gt;</span><br><span class="line">          <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">          alert(<span class="string">"输入的密码不一致，请重新输入！"</span>);</span><br><span class="line">          document.getElementById(<span class="string">"assertpwd"</span>).value=<span class="string">""</span>;</span><br><span class="line">          document.getElementById(<span class="string">"assertpwd"</span>).focus();</span><br><span class="line">          createCode();</span><br><span class="line">          <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  &lt;/script&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line"></span><br><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;div  <span class="class"><span class="keyword">class</span></span>=<span class="string">"login1"</span>&gt;</span><br><span class="line">    &lt;span class="login1_1"&gt;Login&lt;/span&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">  </span><br><span class="line">  &lt;form name=<span class="string">"myform"</span> method=<span class="string">"post"</span> action=<span class="string">"LoginServlet"</span> <span class="class"><span class="keyword">class</span></span>=<span class="string">"form-group"</span> onsubmit=<span class="string">"return loginValidate();"</span>&gt; </span><br><span class="line">  &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"login2"</span>&gt;</span><br><span class="line">    &lt;span class="login2_1"&gt;用户名：&lt;/span&gt;</span><br><span class="line">&lt;input type=<span class="string">"text"</span> name=<span class="string">"username"</span> id=<span class="string">"usr"</span> <span class="class"><span class="keyword">class</span></span>=<span class="string">"usr_name"</span>&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">  </span><br><span class="line">  &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"login3"</span>&gt;</span><br><span class="line">    &lt;span class="login3_1"&gt;密&amp;nbsp;码：&lt;/span&gt;</span><br><span class="line">&lt;input type=<span class="string">"password"</span> name=<span class="string">"password"</span> id=<span class="string">"pwd"</span> <span class="class"><span class="keyword">class</span></span>=<span class="string">"pass_word"</span>&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">  </span><br><span class="line">  &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"login4"</span>&gt;</span><br><span class="line">    &lt;span class="login4_1"&gt;验证码：&lt;/span&gt;</span><br><span class="line">&lt;input type=<span class="string">"text"</span> id=<span class="string">"input1"</span> <span class="class"><span class="keyword">class</span></span>=<span class="string">"input_code"</span>&gt;</span><br><span class="line">    &lt;input type=<span class="string">"button"</span> id=<span class="string">"checkCode"</span> <span class="class"><span class="keyword">class</span></span>=<span class="string">"codeJS"</span> value=<span class="string">"生成验证码"</span> onclick=<span class="string">"createCode()"</span>/&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">  </span><br><span class="line">  &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"login5"</span>&gt;</span><br><span class="line">    &lt;input type=<span class="string">"submit"</span> id=<span class="string">"sumbitButton"</span> value=<span class="string">"登录"</span>/&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">  &lt;/form&gt;</span><br><span class="line">  &lt;script&gt;</span><br><span class="line">  <span class="keyword">var</span> errori = <span class="string">'&lt;%=request.getParameter("error")%&gt;'</span>;</span><br><span class="line">  <span class="keyword">if</span>(errori==<span class="string">'yes'</span>)&#123;</span><br><span class="line">    alert(<span class="string">"登陆失败"</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  &lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">  </span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><p><strong>register.jsp</strong></p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page language=<span class="string">"java"</span> <span class="keyword">import</span>=<span class="string">"java.util.*"</span> pageEncoding=<span class="string">"utf-8"</span>%&gt;</span><br><span class="line">&lt;%</span><br><span class="line">String path = request.getContextPath();</span><br><span class="line">String basePath = request.getScheme()+<span class="string">"://"</span>+request.getServerName()+<span class="string">":"</span>+request.getServerPort()+path+<span class="string">"/"</span>;</span><br><span class="line">%&gt;</span><br><span class="line"> </span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">  &lt;title&gt;注册页面&lt;/title&gt;</span><br><span class="line">  &lt;link rel=<span class="string">"stylesheet"</span> type=<span class="string">"text/css"</span> href=<span class="string">".\css\style1.css"</span> /&gt;</span><br><span class="line">  &lt;script language=<span class="string">"javascript"</span>&gt;</span><br><span class="line">  <span class="keyword">var</span> code;</span><br><span class="line"></span><br><span class="line">  <span class="function">function <span class="title">createCode</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> codeLength = <span class="number">4</span>;</span><br><span class="line">  <span class="keyword">var</span> checkCode = document.getElementById(<span class="string">"checkCode"</span>);</span><br><span class="line">  <span class="keyword">var</span> selectChar = <span class="keyword">new</span> Array(<span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="string">'A'</span>, <span class="string">'B'</span>, <span class="string">'C'</span>, <span class="string">'D'</span>, <span class="string">'E'</span>, <span class="string">'F'</span>, <span class="string">'G'</span>, <span class="string">'H'</span>, <span class="string">'J'</span>, <span class="string">'K'</span>, <span class="string">'L'</span>, <span class="string">'M'</span>, <span class="string">'N'</span>, <span class="string">'P'</span>, <span class="string">'Q'</span>, <span class="string">'R'</span>, <span class="string">'S'</span>, <span class="string">'T'</span>, <span class="string">'U'</span>, <span class="string">'V'</span>, <span class="string">'W'</span>, <span class="string">'X'</span>, <span class="string">'Y'</span>, <span class="string">'Z'</span>);</span><br><span class="line">  <span class="keyword">var</span> charIndex = Math.floor(Math.random() * <span class="number">32</span>);</span><br><span class="line">  code = selectChar[charIndex];</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">1</span>; i &lt; codeLength; i++) &#123;</span><br><span class="line">  <span class="keyword">var</span> charIndex = Math.floor(Math.random() * <span class="number">32</span>);</span><br><span class="line">  code += selectChar[charIndex];</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> (code.length != codeLength) &#123;</span><br><span class="line">  createCode();</span><br><span class="line">  &#125;</span><br><span class="line">  document.getElementById(<span class="string">"checkCode"</span>).value = code;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function">function <span class="title">registerValidate</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> inputCode = document.getElementById(<span class="string">"input1"</span>).value.toUpperCase();</span><br><span class="line">  <span class="keyword">var</span> usrName = document.getElementById(<span class="string">"usr"</span>).value;</span><br><span class="line">    <span class="keyword">var</span> passWD = document.getElementById(<span class="string">"pwd"</span>).value;</span><br><span class="line">    <span class="keyword">var</span> assertpassWD = document.getElementById(<span class="string">"assertpwd"</span>).value;</span><br><span class="line">  <span class="keyword">if</span> (usrName.length &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">      alert(<span class="string">"很抱歉，用户名不能为空!"</span>);</span><br><span class="line">      document.getElementById(<span class="string">"usr"</span>).focus();</span><br><span class="line">      createCode();</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (passWD.length &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">      alert(<span class="string">"很抱歉，密码不能为空!"</span>);</span><br><span class="line">      document.getElementById(<span class="string">"pwd"</span>).focus();</span><br><span class="line">      createCode();</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (assertpassWD.length &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">      alert(<span class="string">"很抱歉，确认密码不能为空!"</span>);</span><br><span class="line">      document.getElementById(<span class="string">"assertpwd"</span>).focus();</span><br><span class="line">      createCode();</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (inputCode.length &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">      alert(<span class="string">"请输入验证码！"</span>);</span><br><span class="line">      createCode();</span><br><span class="line">      document.getElementById(<span class="string">"input1"</span>).focus();</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (inputCode != code) &#123;</span><br><span class="line">      alert(<span class="string">"验证码输入错误！"</span>);</span><br><span class="line">      createCode();</span><br><span class="line">      document.getElementById(<span class="string">"input1"</span>).value=<span class="string">""</span>;</span><br><span class="line">      document.getElementById(<span class="string">"input1"</span>).focus();</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="keyword">if</span>( passWD == assertpassWD) &#123;</span><br><span class="line">        &lt;!--alert(<span class="string">"注册成功！"</span>);--&gt;</span><br><span class="line">        &lt;!--jump(<span class="string">"index.html"</span>);--&gt;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">else</span> &#123;</span><br><span class="line">        alert(<span class="string">"输入的密码不一致，请重新输入！"</span>);</span><br><span class="line">        document.getElementById(<span class="string">"assertpwd"</span>).value=<span class="string">""</span>;</span><br><span class="line">        document.getElementById(<span class="string">"assertpwd"</span>).focus();</span><br><span class="line">        createCode();</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;div  <span class="class"><span class="keyword">class</span></span>=<span class="string">"login1"</span>&gt;</span><br><span class="line">    &lt;span class="login1_1"&gt;Register&lt;/span&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">  &lt;form name=<span class="string">"myform"</span> method=<span class="string">"post"</span> action=<span class="string">"RegisterServlet"</span> onsubmit=<span class="string">"return registerValidate();"</span>&gt;</span><br><span class="line">  &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"login2"</span>&gt;</span><br><span class="line">    &lt;span class="login2_1"&gt;&amp;nbsp;请输入用户名：&lt;/span&gt;</span><br><span class="line">&lt;input type=<span class="string">"text"</span> name=<span class="string">"username"</span> id=<span class="string">"usr"</span> <span class="class"><span class="keyword">class</span></span>=<span class="string">"usr_name"</span>&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">  </span><br><span class="line">  &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"login3"</span>&gt;</span><br><span class="line">    &lt;span class="login3_1"&gt;&amp;nbsp;&amp;nbsp;请输入密码：&lt;/span&gt;</span><br><span class="line">&lt;input type=<span class="string">"password"</span> name=<span class="string">"userpwd"</span> id=<span class="string">"pwd"</span> <span class="class"><span class="keyword">class</span></span>=<span class="string">"pass_word"</span>&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">  &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"login6"</span>&gt;</span><br><span class="line">    &lt;span class="login6_1"&gt;请再次输入密码：&lt;/span&gt;</span><br><span class="line">&lt;input type=<span class="string">"password"</span> name=<span class="string">"assertpassword"</span> id=<span class="string">"assertpwd"</span> <span class="class"><span class="keyword">class</span></span>=<span class="string">"pass_word"</span>&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">  </span><br><span class="line">  &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"login4"</span>&gt;</span><br><span class="line">    &lt;span class="login4_1"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;验证码：&lt;/span&gt;</span><br><span class="line">&lt;input type=<span class="string">"text"</span> id=<span class="string">"input1"</span> <span class="class"><span class="keyword">class</span></span>=<span class="string">"input_code"</span>&gt;</span><br><span class="line">    &lt;input type=<span class="string">"button"</span> id=<span class="string">"checkCode"</span> <span class="class"><span class="keyword">class</span></span>=<span class="string">"codeJS"</span> value=<span class="string">"生成验证码"</span> onclick=<span class="string">"createCode()"</span>/&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">  </span><br><span class="line">  &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"login5"</span>&gt;</span><br><span class="line">    &lt;input type=<span class="string">"submit"</span> id=<span class="string">"registerButton"</span> value=<span class="string">"注册"</span>/&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">  &lt;/form&gt;</span><br><span class="line">  &lt;script&gt;</span><br><span class="line">  <span class="keyword">var</span> errori = <span class="string">'&lt;%=request.getParameter("error")%&gt;'</span>;</span><br><span class="line">  <span class="keyword">if</span>(errori==<span class="string">'yes'</span>)&#123;</span><br><span class="line">    alert(<span class="string">"登陆失败"</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  &lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><p><strong>style.css</strong></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br></pre></td><td class="code"><pre><span class="line">*&#123; <span class="attribute">font-size</span>:<span class="number">12px</span>; <span class="attribute">font-family</span>:<span class="string">"瀹嬩綋"</span>; <span class="attribute">color</span>:black;<span class="attribute">margin</span>:<span class="number">0</span> auto;&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">body</span>&#123; <span class="attribute">margin</span>:<span class="number">0</span>; <span class="attribute">background-color</span>:<span class="number">#DCDCDC</span>;&#125;</span><br><span class="line"><span class="selector-tag">input</span>&#123; <span class="attribute">border</span>:none;&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.login1</span> &#123;</span><br><span class="line"><span class="attribute">background-image</span>:<span class="built_in">url</span>(../images/sky.jpg);</span><br><span class="line"><span class="attribute">width</span>:<span class="number">400px</span>;</span><br><span class="line"><span class="attribute">height</span>:<span class="number">120px</span>;</span><br><span class="line"><span class="attribute">overflow</span>:hidden;</span><br><span class="line"><span class="attribute">text-align</span>:center;</span><br><span class="line"><span class="attribute">line-height</span>: <span class="number">120px</span>;</span><br><span class="line"><span class="attribute">letter-spacing</span>:<span class="number">10px</span>;</span><br><span class="line"><span class="attribute">margin-bottom</span>:<span class="number">2px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.login1_1</span> &#123;</span><br><span class="line"><span class="attribute">font-size</span>:<span class="number">60px</span>;</span><br><span class="line"><span class="attribute">font-weight</span>:bold;</span><br><span class="line"><span class="attribute">color</span>:<span class="number">#FFA500</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.login2</span> &#123;</span><br><span class="line"><span class="attribute">background</span>:<span class="number">#7FFFAA</span>;</span><br><span class="line"><span class="attribute">width</span>:<span class="number">400px</span>;</span><br><span class="line"><span class="attribute">height</span>:<span class="number">50px</span>;</span><br><span class="line"><span class="attribute">overflow</span>:hidden;</span><br><span class="line"><span class="attribute">text-align</span>:center;</span><br><span class="line"><span class="attribute">line-height</span>: <span class="number">50px</span>;</span><br><span class="line"><span class="attribute">margin-bottom</span>:<span class="number">1px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.login2_1</span> &#123;</span><br><span class="line"><span class="attribute">font-size</span>:<span class="number">20px</span>;</span><br><span class="line"><span class="attribute">font-weight</span>:bold;</span><br><span class="line"><span class="attribute">color</span>:black;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.usr_name</span> &#123;</span><br><span class="line"><span class="attribute">padding-top</span>:<span class="number">6px</span>;</span><br><span class="line"><span class="attribute">height</span>:<span class="number">20px</span>;</span><br><span class="line"><span class="attribute">width</span>:<span class="number">150px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.login3</span> &#123;</span><br><span class="line"><span class="attribute">background</span>:<span class="number">#7FFFAA</span>;</span><br><span class="line"><span class="attribute">width</span>:<span class="number">400px</span>;</span><br><span class="line"><span class="attribute">height</span>:<span class="number">50px</span>;</span><br><span class="line"><span class="attribute">overflow</span>:hidden;</span><br><span class="line"><span class="attribute">text-align</span>:center;</span><br><span class="line"><span class="attribute">line-height</span>: <span class="number">50px</span>;</span><br><span class="line"><span class="attribute">margin-bottom</span>:<span class="number">1px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.login3_1</span> &#123;</span><br><span class="line"><span class="attribute">font-size</span>:<span class="number">20px</span>;</span><br><span class="line"><span class="attribute">font-weight</span>:bold;</span><br><span class="line"><span class="attribute">color</span>:black;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.pass_word</span> &#123;</span><br><span class="line"><span class="attribute">padding-top</span>:<span class="number">6px</span>;</span><br><span class="line"><span class="attribute">height</span>:<span class="number">20px</span>;</span><br><span class="line"><span class="attribute">width</span>:<span class="number">150px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.login4</span> &#123;</span><br><span class="line"><span class="attribute">background</span>:<span class="number">#7FFFAA</span>;</span><br><span class="line"><span class="attribute">width</span>:<span class="number">400px</span>;</span><br><span class="line"><span class="attribute">height</span>:<span class="number">50px</span>;</span><br><span class="line"><span class="attribute">overflow</span>:hidden;</span><br><span class="line"><span class="attribute">text-align</span>:center;</span><br><span class="line"><span class="attribute">line-height</span>: <span class="number">50px</span>;</span><br><span class="line">//letter-spacing:10px;</span><br><span class="line"><span class="selector-tag">margin-bottom</span><span class="selector-pseudo">:1px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.login4_1</span> &#123;</span><br><span class="line"><span class="attribute">font-size</span>:<span class="number">20px</span>;</span><br><span class="line"><span class="attribute">font-weight</span>:bold;</span><br><span class="line"><span class="attribute">color</span>:black;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.input_code</span> &#123;</span><br><span class="line"><span class="attribute">padding-top</span>:<span class="number">3px</span>;</span><br><span class="line"><span class="attribute">height</span>:<span class="number">20px</span>;</span><br><span class="line"><span class="attribute">width</span>:<span class="number">70px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.codeJS</span> &#123;</span><br><span class="line"><span class="attribute">background-color</span>:<span class="number">#E6E6FA</span>;</span><br><span class="line"><span class="attribute">padding-top</span>:<span class="number">5px</span>;</span><br><span class="line"><span class="attribute">height</span>:<span class="number">24px</span>;</span><br><span class="line"><span class="attribute">width</span>:<span class="number">70px</span>;</span><br><span class="line"><span class="attribute">font-style</span>:italic;</span><br><span class="line"><span class="attribute">font-size</span>:<span class="number">12px</span>;</span><br><span class="line"><span class="attribute">font-weight</span>:bold;</span><br><span class="line"><span class="attribute">color</span>:<span class="number">#D2691E</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.login5</span> &#123;</span><br><span class="line"><span class="attribute">background</span>:<span class="number">#7FFFAA</span>;</span><br><span class="line"><span class="attribute">width</span>:<span class="number">400px</span>;</span><br><span class="line"><span class="attribute">height</span>:<span class="number">50px</span>;</span><br><span class="line"><span class="attribute">overflow</span>:hidden;</span><br><span class="line"><span class="attribute">text-align</span>:center;</span><br><span class="line"><span class="attribute">line-height</span>: <span class="number">50px</span>;</span><br><span class="line"><span class="attribute">letter-spacing</span>:<span class="number">10px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.login5</span> <span class="selector-tag">input</span> &#123;</span><br><span class="line"><span class="attribute">background-color</span>:<span class="number">#6495ED</span>;</span><br><span class="line"><span class="attribute">font-size</span>:<span class="number">18px</span>;</span><br><span class="line"><span class="attribute">padding-left</span>:<span class="number">16px</span>;</span><br><span class="line"><span class="attribute">letter-spacing</span>:<span class="number">10px</span>;</span><br><span class="line"><span class="attribute">font-weight</span>:bold;</span><br><span class="line"><span class="attribute">color</span>:red;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>style1.css</strong></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br></pre></td><td class="code"><pre><span class="line">*&#123; <span class="attribute">font-size</span>:<span class="number">12px</span>; <span class="attribute">font-family</span>:<span class="string">"瀹嬩綋"</span>; <span class="attribute">color</span>:black;<span class="attribute">margin</span>:<span class="number">0</span> auto;&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">body</span>&#123; <span class="attribute">margin</span>:<span class="number">0</span>; <span class="attribute">background-color</span>:<span class="number">#DCDCDC</span>;&#125;</span><br><span class="line"><span class="selector-tag">input</span>&#123; <span class="attribute">border</span>:none;&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.login1</span> &#123;</span><br><span class="line"><span class="attribute">background-image</span>:<span class="built_in">url</span>(../images/sky.jpg);</span><br><span class="line"><span class="attribute">width</span>:<span class="number">400px</span>;</span><br><span class="line"><span class="attribute">height</span>:<span class="number">120px</span>;</span><br><span class="line"><span class="attribute">overflow</span>:hidden;</span><br><span class="line"><span class="attribute">text-align</span>:center;</span><br><span class="line"><span class="attribute">line-height</span>: <span class="number">120px</span>;</span><br><span class="line"><span class="attribute">letter-spacing</span>:<span class="number">10px</span>;</span><br><span class="line"><span class="attribute">margin-bottom</span>:<span class="number">2px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.login1_1</span> &#123;</span><br><span class="line"><span class="attribute">font-size</span>:<span class="number">60px</span>;</span><br><span class="line"><span class="attribute">font-weight</span>:bold;</span><br><span class="line"><span class="attribute">color</span>:<span class="number">#FFA500</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.login2</span> &#123;</span><br><span class="line"><span class="attribute">background</span>:<span class="number">#7FFFAA</span>;</span><br><span class="line"><span class="attribute">width</span>:<span class="number">400px</span>;</span><br><span class="line"><span class="attribute">height</span>:<span class="number">50px</span>;</span><br><span class="line"><span class="attribute">overflow</span>:hidden;</span><br><span class="line"><span class="attribute">text-align</span>:center;</span><br><span class="line"><span class="attribute">line-height</span>: <span class="number">50px</span>;</span><br><span class="line"><span class="attribute">margin-bottom</span>:<span class="number">1px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.login2_1</span> &#123;</span><br><span class="line"><span class="attribute">font-size</span>:<span class="number">20px</span>;</span><br><span class="line"><span class="attribute">font-weight</span>:bold;</span><br><span class="line"><span class="attribute">color</span>:black;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.usr_name</span> &#123;</span><br><span class="line"><span class="attribute">padding-top</span>:<span class="number">6px</span>;</span><br><span class="line"><span class="attribute">height</span>:<span class="number">20px</span>;</span><br><span class="line"><span class="attribute">width</span>:<span class="number">150px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.login3</span> &#123;</span><br><span class="line"><span class="attribute">background</span>:<span class="number">#7FFFAA</span>;</span><br><span class="line"><span class="attribute">width</span>:<span class="number">400px</span>;</span><br><span class="line"><span class="attribute">height</span>:<span class="number">50px</span>;</span><br><span class="line"><span class="attribute">overflow</span>:hidden;</span><br><span class="line"><span class="attribute">text-align</span>:center;</span><br><span class="line"><span class="attribute">line-height</span>: <span class="number">50px</span>;</span><br><span class="line"><span class="attribute">margin-bottom</span>:<span class="number">1px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.login3_1</span> &#123;</span><br><span class="line"><span class="attribute">font-size</span>:<span class="number">20px</span>;</span><br><span class="line"><span class="attribute">font-weight</span>:bold;</span><br><span class="line"><span class="attribute">color</span>:black;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.pass_word</span> &#123;</span><br><span class="line"><span class="attribute">padding-top</span>:<span class="number">6px</span>;</span><br><span class="line"><span class="attribute">height</span>:<span class="number">20px</span>;</span><br><span class="line"><span class="attribute">width</span>:<span class="number">150px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.login6</span> &#123;</span><br><span class="line"><span class="attribute">background</span>:<span class="number">#7FFFAA</span>;</span><br><span class="line"><span class="attribute">width</span>:<span class="number">400px</span>;</span><br><span class="line"><span class="attribute">height</span>:<span class="number">50px</span>;</span><br><span class="line"><span class="attribute">overflow</span>:hidden;</span><br><span class="line"><span class="attribute">text-align</span>:center;</span><br><span class="line"><span class="attribute">line-height</span>: <span class="number">50px</span>;</span><br><span class="line"><span class="attribute">margin-bottom</span>:<span class="number">1px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.login6_1</span> &#123;</span><br><span class="line"><span class="attribute">font-size</span>:<span class="number">20px</span>;</span><br><span class="line"><span class="attribute">font-weight</span>:bold;</span><br><span class="line"><span class="attribute">color</span>:black;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.pass_word</span> &#123;</span><br><span class="line"><span class="attribute">padding-top</span>:<span class="number">6px</span>;</span><br><span class="line"><span class="attribute">height</span>:<span class="number">20px</span>;</span><br><span class="line"><span class="attribute">width</span>:<span class="number">150px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.login4</span> &#123;</span><br><span class="line"><span class="attribute">background</span>:<span class="number">#7FFFAA</span>;</span><br><span class="line"><span class="attribute">width</span>:<span class="number">400px</span>;</span><br><span class="line"><span class="attribute">height</span>:<span class="number">50px</span>;</span><br><span class="line"><span class="attribute">overflow</span>:hidden;</span><br><span class="line"><span class="attribute">text-align</span>:center;</span><br><span class="line"><span class="attribute">line-height</span>: <span class="number">50px</span>;</span><br><span class="line">//letter-spacing:10px;</span><br><span class="line"><span class="selector-tag">margin-bottom</span><span class="selector-pseudo">:1px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.login4_1</span> &#123;</span><br><span class="line"><span class="attribute">font-size</span>:<span class="number">20px</span>;</span><br><span class="line"><span class="attribute">font-weight</span>:bold;</span><br><span class="line"><span class="attribute">color</span>:black;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.input_code</span> &#123;</span><br><span class="line"><span class="attribute">padding-top</span>:<span class="number">3px</span>;</span><br><span class="line"><span class="attribute">height</span>:<span class="number">20px</span>;</span><br><span class="line"><span class="attribute">width</span>:<span class="number">70px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.codeJS</span> &#123;</span><br><span class="line"><span class="attribute">background-color</span>:<span class="number">#E6E6FA</span>;</span><br><span class="line"><span class="attribute">padding-top</span>:<span class="number">3px</span>;</span><br><span class="line"><span class="attribute">height</span>:<span class="number">24px</span>;</span><br><span class="line"><span class="attribute">width</span>:<span class="number">70px</span>;</span><br><span class="line"><span class="attribute">font-style</span>:italic;</span><br><span class="line"><span class="attribute">font-size</span>:<span class="number">12px</span>;</span><br><span class="line"><span class="attribute">font-weight</span>:bold;</span><br><span class="line"><span class="attribute">color</span>:<span class="number">#D2691E</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.login5</span> &#123;</span><br><span class="line"><span class="attribute">background</span>:<span class="number">#7FFFAA</span>;</span><br><span class="line"><span class="attribute">width</span>:<span class="number">400px</span>;</span><br><span class="line"><span class="attribute">height</span>:<span class="number">50px</span>;</span><br><span class="line"><span class="attribute">overflow</span>:hidden;</span><br><span class="line"><span class="attribute">text-align</span>:center;</span><br><span class="line"><span class="attribute">line-height</span>: <span class="number">50px</span>;</span><br><span class="line"><span class="attribute">letter-spacing</span>:<span class="number">10px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.login5</span> <span class="selector-tag">input</span> &#123;</span><br><span class="line"><span class="attribute">background-color</span>:<span class="number">#6495ED</span>;</span><br><span class="line"><span class="attribute">font-size</span>:<span class="number">18px</span>;</span><br><span class="line"><span class="attribute">padding-left</span>:<span class="number">16px</span>;</span><br><span class="line"><span class="attribute">letter-spacing</span>:<span class="number">10px</span>;</span><br><span class="line"><span class="attribute">font-weight</span>:bold;</span><br><span class="line"><span class="attribute">color</span>:red;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>test1.css</strong></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*閲嶇疆锛屼篃灏辨槸娓呯悊涓嶅共鍑�鐨勬爣绛�*/</span></span><br><span class="line">*&#123; <span class="attribute">font-size</span>:<span class="number">12px</span>; <span class="attribute">font-family</span>:<span class="string">"瀹嬩綋"</span>; <span class="attribute">color</span>:<span class="number">#444</span>;<span class="attribute">margin</span>:<span class="number">0</span> auto;&#125;<span class="comment">/*鏄叡鐢ㄧ殑鎰忔��*/</span></span><br><span class="line"></span><br><span class="line"><span class="selector-tag">body</span>&#123; <span class="attribute">margin</span>:<span class="number">0</span>; <span class="attribute">background</span>:<span class="number">#161616</span>;&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">a</span>&#123; <span class="attribute">text-decoration</span>:none; <span class="attribute">display</span>:block; <span class="attribute">color</span>:<span class="number">#FFF</span>;&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">img</span>&#123; <span class="attribute">border</span>:none; <span class="attribute">display</span>:block&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">ul</span> <span class="selector-tag">li</span>&#123;<span class="attribute">list-style</span>:none; <span class="attribute">margin</span>:<span class="number">0</span>; <span class="attribute">padding</span>:<span class="number">0</span>;&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">input</span>&#123; <span class="attribute">border</span>:none;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*椤堕儴*/</span></span><br><span class="line"><span class="selector-class">.headed</span>&#123;<span class="attribute">width</span>:<span class="number">952px</span>;<span class="attribute">height</span>:<span class="number">140px</span>;&#125;  <span class="comment">/*杩欎釜鏄潡鐨勬暣浣撻珮*/</span></span><br><span class="line"><span class="selector-class">.top</span>&#123;<span class="attribute">height</span>:<span class="number">87px</span>;<span class="attribute">overflow</span>:hidden;&#125;  <span class="comment">/*杩欎釜top鏄寚LOGO鍜宼op_nav,overflow鏄孩鍑虹殑鎰忔�濓紝杩欎釜灏辨槸瀛愮骇婧㈠嚭鍚庣埗绾х殑濡備綍鎺у埗婧㈠嚭閮ㄥ垎锛熸敞锛氳鎶妎verflow鍔犵粰鐖剁骇*/</span></span><br><span class="line"><span class="selector-class">.top_nav</span>&#123;<span class="attribute">width</span>:<span class="number">726px</span>;<span class="attribute">height</span>:<span class="number">87px</span>;<span class="attribute">float</span>:right;&#125;<span class="comment">/*杩欎釜鏄浉瀵规祴璇勪腑蹇冿紝瑙嗛鐩存挱绛夛紝鐩稿logo灏辫鍚戝彸娴姩*/</span></span><br><span class="line"><span class="selector-class">.logo</span>&#123;<span class="attribute">float</span>:left;&#125;<span class="comment">/*logo鐩稿灏辫鍚戝乏娴姩*/</span> </span><br><span class="line"><span class="selector-class">.top_right</span>&#123;<span class="attribute">width</span>:<span class="number">726px</span>;</span><br><span class="line">           <span class="attribute">float</span>:right;</span><br><span class="line">           <span class="attribute">margin-left</span>:<span class="number">7px</span>;</span><br><span class="line">           &#125;</span><br><span class="line"><span class="selector-class">.top_right</span> <span class="selector-tag">a</span>&#123;<span class="attribute">float</span>:right;</span><br><span class="line">             <span class="attribute">width</span>:<span class="number">92px</span>;</span><br><span class="line">             <span class="attribute">height</span>:<span class="number">22px</span>;   </span><br><span class="line">             <span class="attribute">color</span>:<span class="number">#FFF</span>;</span><br><span class="line">             <span class="attribute">padding-top</span>:<span class="number">10px</span>;</span><br><span class="line">             &#125;</span><br><span class="line"><span class="selector-class">.top_right</span> <span class="selector-tag">img</span>&#123;<span class="attribute">float</span>:left; <span class="attribute">padding-left</span>:<span class="number">18px</span>;&#125;</span><br><span class="line"><span class="selector-class">.top_right</span> <span class="selector-tag">span</span>&#123; <span class="attribute">color</span>:<span class="number">#FFF</span>;</span><br><span class="line">                 <span class="attribute">float</span>:right;</span><br><span class="line">                 <span class="attribute">width</span>:<span class="number">52px</span>;</span><br><span class="line">                 <span class="attribute">margin-top</span>:<span class="number">4px</span>;&#125;</span><br><span class="line"><span class="selector-class">.top_right</span> <span class="selector-class">.man</span>&#123; <span class="attribute">color</span>:<span class="number">#f88c00</span>;&#125; </span><br><span class="line"><span class="selector-class">.top_right</span> <span class="selector-tag">span</span><span class="selector-pseudo">:hover</span>&#123; <span class="attribute">color</span>:<span class="number">#F93</span>;&#125;</span><br><span class="line"><span class="selector-class">.login</span>&#123;<span class="attribute">float</span>:right;<span class="attribute">height</span>:<span class="number">55px</span>; <span class="attribute">padding-top</span>:<span class="number">20px</span>;<span class="attribute">width</span>:<span class="number">726px</span>;&#125;</span><br><span class="line"><span class="selector-class">.login</span> <span class="selector-tag">a</span>&#123;<span class="attribute">float</span>:right; <span class="attribute">margin-left</span>:<span class="number">5px</span>;&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.nav</span>&#123;<span class="attribute">width</span>:<span class="number">952px</span>;<span class="attribute">height</span>:<span class="number">102px</span>;&#125;</span><br><span class="line"><span class="selector-class">.navleft</span>&#123; <span class="attribute">float</span>:left;<span class="attribute">width</span>:<span class="number">400px</span>; &#125;</span><br><span class="line"><span class="selector-class">.navleft</span> <span class="selector-tag">ul</span>&#123; <span class="attribute">padding-left</span>:<span class="number">0</span>; <span class="attribute">list-style</span>:none; <span class="attribute">margin-left</span>:<span class="number">0</span>;&#125;</span><br><span class="line"><span class="selector-class">.navleft</span> <span class="selector-tag">li</span>&#123;<span class="attribute">float</span>:left; <span class="attribute">padding-right</span>:<span class="number">30px</span>; <span class="attribute">padding-top</span>:<span class="number">20px</span>;&#125;</span><br><span class="line"><span class="selector-class">.navleft</span> <span class="selector-tag">a</span>&#123; <span class="attribute">color</span>:<span class="number">#999</span>;&#125;</span><br><span class="line"><span class="selector-class">.navright</span>&#123;<span class="attribute">float</span>:right;<span class="attribute">width</span>:<span class="number">525px</span>; <span class="attribute">padding-top</span>:<span class="number">20px</span>;&#125;</span><br><span class="line"><span class="selector-class">.navright</span> <span class="selector-tag">a</span>&#123;<span class="attribute">float</span>:right; <span class="attribute">margin-left</span>:<span class="number">50px</span>;&#125;</span><br><span class="line"><span class="selector-class">.navright</span> <span class="selector-tag">img</span>&#123;<span class="attribute">float</span>:left;&#125;</span><br><span class="line"><span class="selector-class">.buy</span>&#123; <span class="attribute">color</span>:<span class="number">#c0973d</span>;&#125;</span><br><span class="line"><span class="comment">/*浜у搧绯诲垪灞曠ず*/</span></span><br><span class="line"><span class="selector-class">.product</span> <span class="selector-tag">a</span>&#123; <span class="attribute">padding-bottom</span>:<span class="number">40px</span>;&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.footer</span>&#123;<span class="attribute">height</span>:<span class="number">154px</span>; <span class="attribute">width</span>:<span class="number">952px</span>; <span class="attribute">margin-top</span>:<span class="number">25px</span>&#125;</span><br><span class="line"><span class="selector-class">.footer_left</span>&#123;<span class="attribute">width</span>:<span class="number">173px</span>; <span class="attribute">height</span>:<span class="number">153px</span>;<span class="attribute">float</span>:left; &#125;</span><br><span class="line"><span class="selector-class">.footer_left</span> <span class="selector-tag">input</span>&#123; <span class="attribute">background</span>:<span class="number">#282828</span>; <span class="attribute">width</span>:<span class="number">147px</span>; <span class="attribute">height</span>:<span class="number">24px</span>;&#125;</span><br><span class="line"><span class="selector-class">.footer_left</span> <span class="selector-class">.mail</span>&#123;<span class="attribute">float</span>:right;&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.footer_middle</span>&#123;  <span class="attribute">float</span>:left; <span class="attribute">width</span>:<span class="number">640px</span>;&#125;</span><br><span class="line"><span class="selector-class">.footer_first</span> &#123;<span class="attribute">width</span>:<span class="number">480px</span>;&#125;</span><br><span class="line"><span class="selector-class">.footer_first</span> <span class="selector-tag">a</span>&#123; <span class="attribute">float</span>:left; <span class="attribute">width</span>:<span class="number">80px</span>; <span class="attribute">border-right</span>:<span class="number">1px</span> solid <span class="number">#FFF</span>;<span class="attribute">color</span>:<span class="number">#FFF</span>;&#125;</span><br><span class="line"><span class="selector-class">.footer_first</span> <span class="selector-tag">span</span>&#123;  <span class="attribute">margin-left</span>:<span class="number">14px</span>;<span class="attribute">color</span>:<span class="number">#FFF</span>;&#125;</span><br><span class="line"><span class="selector-class">.footer_vip</span>&#123; <span class="attribute">float</span>:left;&#125;</span><br><span class="line"><span class="selector-class">.footer_vip</span> <span class="selector-tag">a</span>&#123; <span class="attribute">padding-left</span>:<span class="number">15px</span>; <span class="attribute">float</span>:left;&#125;</span><br><span class="line"><span class="selector-class">.footer_vip</span> <span class="selector-tag">span</span>&#123; <span class="attribute">color</span>:<span class="number">#FFF</span>;&#125;</span><br><span class="line"><span class="selector-class">.footer_vip</span> <span class="selector-tag">img</span>&#123;<span class="attribute">float</span>:right;&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.footer_phone</span> &#123;<span class="attribute">width</span>:<span class="number">480px</span>; <span class="attribute">text-align</span>: center; <span class="attribute">height</span>:<span class="number">12px</span>; <span class="attribute">padding-top</span>:<span class="number">14px</span>;&#125; </span><br><span class="line"><span class="selector-class">.footer_phone</span> &#123;<span class="attribute">margin-top</span>:<span class="number">10px</span>;&#125;</span><br><span class="line"><span class="selector-class">.footer_copyright</span> <span class="selector-tag">p</span>&#123; <span class="attribute">padding-top</span>:<span class="number">24px</span>; <span class="attribute">text-align</span>:center;&#125;</span><br><span class="line"><span class="selector-class">.footer_right</span>&#123; <span class="attribute">float</span>:right;&#125;</span><br></pre></td></tr></table></figure><p><strong>StudentDAO.java</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> exp4.dao;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">import</span> java.sql.Connection;</span><br><span class="line"><span class="keyword">import</span> java.sql.DriverManager;</span><br><span class="line"><span class="keyword">import</span> java.sql.PreparedStatement;</span><br><span class="line"><span class="keyword">import</span> java.sql.ResultSet;</span><br><span class="line"><span class="keyword">import</span> java.sql.SQLException;</span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">StudentDAO</span> </span>&#123;</span><br><span class="line">    <span class="comment">//链接数据库</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Connection <span class="title">getConnection</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="comment">// 数据库连接对象</span></span><br><span class="line">            Connection conn = <span class="keyword">null</span>;</span><br><span class="line">            <span class="comment">//JDBC驱动</span></span><br><span class="line">            String driverName=<span class="string">"com.mysql.jdbc.Driver"</span>;</span><br><span class="line">            <span class="comment">// 数据库连接地址</span></span><br><span class="line">            String connectionString=<span class="string">"jdbc:mysql://localhost:3306/test?"</span>+<span class="string">"user=root&amp;password=Xyt123456&amp;useUnicode=true&amp;characterEncoding=utf-8"</span>;</span><br><span class="line">            <span class="keyword">try</span>&#123;</span><br><span class="line">            <span class="comment">//加载驱动</span></span><br><span class="line">                Class.forName(driverName);</span><br><span class="line">              <span class="comment">//通过DriverManager类的getConenction方法指定三个参数,连接数据库</span></span><br><span class="line">                conn=DriverManager.getConnection(connectionString);</span><br><span class="line">                <span class="comment">//conn.close();</span></span><br><span class="line">            &#125;<span class="keyword">catch</span>(ClassNotFoundException e)&#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">                <span class="comment">// TODO Auto-generated catch block</span></span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> conn;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//用户登录</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> StudentPO <span class="title">doLogin</span><span class="params">(String username,String userpwd)</span> <span class="keyword">throws</span> SQLException</span>&#123;</span><br><span class="line">       <span class="comment">//定义SQL语句</span></span><br><span class="line">    String sql=<span class="string">"select * from test where loginname=? and loginpwd=?"</span>;</span><br><span class="line">        <span class="comment">//获取连接</span></span><br><span class="line">        Connection conn = getConnection();</span><br><span class="line">        </span><br><span class="line">        PreparedStatement ps = <span class="keyword">null</span>;  <span class="comment">//向数据库中发送数据集</span></span><br><span class="line">        ResultSet rs = <span class="keyword">null</span>;          <span class="comment">//接受返回的数据集对象-结果集</span></span><br><span class="line">        StudentPO sp = <span class="keyword">null</span>;          <span class="comment">//将传回的行封装为列对象</span></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            ps=conn.prepareStatement(sql);<span class="comment">//  创建一个Statement对象</span></span><br><span class="line">            ps.setString(<span class="number">1</span>, username); <span class="comment">//向sql语句的问号添加数据</span></span><br><span class="line">            ps.setString(<span class="number">2</span>, userpwd);</span><br><span class="line">            <span class="comment">//返回结果集</span></span><br><span class="line">            rs = ps.executeQuery();</span><br><span class="line">            <span class="comment">/*用Connection接口的createStatement()方法获得Statement对象传递Sql语句</span></span><br><span class="line"><span class="comment">             * 用它的ExecuteQuery()方法获取单个ResultSet对象.</span></span><br><span class="line"><span class="comment">             * String Sql = "select * from login";</span></span><br><span class="line"><span class="comment">             *stt = conn.createStatement();</span></span><br><span class="line"><span class="comment">             *set = stt.executeQuery(Sql);</span></span><br><span class="line"><span class="comment">            */</span></span><br><span class="line">            </span><br><span class="line">            <span class="comment">//获取数据，遍历结果集，将数据封装到集合中</span></span><br><span class="line">            <span class="keyword">while</span>(rs.next())&#123;</span><br><span class="line">                sp = <span class="keyword">new</span> StudentPO();</span><br><span class="line">                sp.setUserName(rs.getString(<span class="string">"loginname"</span>));<span class="comment">/*********/</span></span><br><span class="line">                sp.setUserPwd(rs.getString(<span class="string">"loginpwd"</span>));    </span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">        &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">            <span class="comment">// TODO Auto-generated catch block</span></span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;<span class="keyword">finally</span>&#123;</span><br><span class="line"><span class="comment">//            rs.close();</span></span><br><span class="line">            ps.close();</span><br><span class="line">             conn.close();</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> sp;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">executeNonQuery</span><span class="params">(String sql,Object[]args)</span> <span class="keyword">throws</span> SQLException</span>&#123;</span><br><span class="line">        Connection conn = getConnection();</span><br><span class="line">        PreparedStatement ps=<span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">int</span> result=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            ps = conn.prepareStatement(sql);</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">if</span>(args!=<span class="keyword">null</span>)&#123;</span><br><span class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;args.length;i++)&#123;</span><br><span class="line">                    System.err.println(<span class="string">"2T   "</span>+args[i]);</span><br><span class="line">                    ps.setObject(i+<span class="number">1</span>, args[i]);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            result=ps.executeUpdate();<span class="comment">//返回执行成功的记录的条数 int</span></span><br><span class="line">            </span><br><span class="line">        &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">            <span class="comment">// TODO Auto-generated catch block</span></span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;<span class="keyword">finally</span>&#123;</span><br><span class="line">            ps.close();</span><br><span class="line">            conn.close();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//用户注册</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">add</span><span class="params">(String name,String loginpwd)</span> <span class="keyword">throws</span> SQLException</span>&#123;</span><br><span class="line">        String sql=<span class="string">"insert into test (loginname,loginpwd) values(?,?)"</span>;</span><br><span class="line">        </span><br><span class="line">        Object[] args=&#123;name,loginpwd&#125;;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">1</span>;i++)</span><br><span class="line">        System.err.println(<span class="string">"1T   "</span>+args[i]);</span><br><span class="line">        <span class="keyword">int</span> result=executeNonQuery(sql, args);</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//封装数据集</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;StudentPO&gt; <span class="title">queryAllStudent</span><span class="params">()</span> <span class="keyword">throws</span> SQLException</span>&#123;</span><br><span class="line">        String sql=<span class="string">"select * from test"</span>;</span><br><span class="line">        Connection conn = getConnection();</span><br><span class="line">        </span><br><span class="line">        PreparedStatement ps = <span class="keyword">null</span>;</span><br><span class="line">        ResultSet rs = <span class="keyword">null</span>;</span><br><span class="line">        List&lt;StudentPO&gt; list = <span class="keyword">new</span> ArrayList&lt;StudentPO&gt;();</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            ps=conn.prepareStatement(sql);</span><br><span class="line">            </span><br><span class="line">            rs = ps.executeQuery();</span><br><span class="line">            <span class="comment">//遍历结果集，将数据封装到集合中</span></span><br><span class="line">            </span><br><span class="line">            <span class="keyword">while</span>(rs.next())&#123;</span><br><span class="line">                String username = rs.getString(<span class="string">"loginname"</span>);</span><br><span class="line">                String userpwd = rs.getString(<span class="string">"loginpwd"</span>);</span><br><span class="line">            </span><br><span class="line">                </span><br><span class="line">                StudentPO sp = <span class="keyword">new</span> StudentPO();</span><br><span class="line">                sp.setUserName(username);</span><br><span class="line">                sp.setUserPwd(userpwd);</span><br><span class="line">                </span><br><span class="line">                list.add(sp);</span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">        &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">            <span class="comment">// TODO Auto-generated catch block</span></span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;<span class="keyword">finally</span>&#123;</span><br><span class="line">            rs.close();</span><br><span class="line">            ps.close();</span><br><span class="line">            conn.close();</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> list;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//注册检索</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;StudentPO&gt; <span class="title">queryStudentById</span><span class="params">(String username)</span> <span class="keyword">throws</span> SQLException</span>&#123;</span><br><span class="line">        String sql=<span class="string">"select * from test where loginname="</span>+username;</span><br><span class="line">        Connection conn = getConnection();</span><br><span class="line">        </span><br><span class="line">        PreparedStatement ps = <span class="keyword">null</span>;</span><br><span class="line">        ResultSet rs = <span class="keyword">null</span>;</span><br><span class="line">        List&lt;StudentPO&gt; list = <span class="keyword">new</span> ArrayList&lt;StudentPO&gt;();</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            ps=conn.prepareStatement(sql);</span><br><span class="line">            </span><br><span class="line">            rs = ps.executeQuery();</span><br><span class="line">            <span class="comment">//遍历结果集，将数据封装到集合中</span></span><br><span class="line">            </span><br><span class="line">            <span class="keyword">while</span>(rs.next())&#123;</span><br><span class="line">                String usernames = rs.getString(<span class="string">"loginname"</span>);</span><br><span class="line">                String userpwd = rs.getString(<span class="string">"loginpwd"</span>);</span><br><span class="line">                </span><br><span class="line">                StudentPO sp = <span class="keyword">new</span> StudentPO();</span><br><span class="line">                sp.setUserName(usernames);</span><br><span class="line">                sp.setUserPwd(userpwd);</span><br><span class="line">                </span><br><span class="line">                list.add(sp);</span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">        &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">            <span class="comment">// TODO Auto-generated catch block</span></span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;<span class="keyword">finally</span>&#123;</span><br><span class="line">            rs.close();</span><br><span class="line">            ps.close();</span><br><span class="line">            conn.close();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> list;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>StudentPO.java</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> exp4.dao;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">StudentPO</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String userName;</span><br><span class="line">    <span class="keyword">private</span> String userPwd;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getUserPwd</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> userPwd;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setUserPwd</span><span class="params">(String userpwd)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.userPwd = userpwd;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getUserName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> userName;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setUserName</span><span class="params">(String userName)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.userName = userName;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>EncodingFliter.java</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> exp4.servlet;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.UnsupportedEncodingException;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">import</span> javax.servlet.Filter;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.FilterChain;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.FilterConfig;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletResponse;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequestWrapper;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 统一编码</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> zyh</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">EncodingFilter</span> <span class="keyword">implements</span> <span class="title">Filter</span> </span>&#123;</span><br><span class="line"> </span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">(FilterConfig filterConfig)</span> <span class="keyword">throws</span> ServletException </span>&#123;</span><br><span class="line"><span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line"> </span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doFilter</span><span class="params">(ServletRequest req, ServletResponse resp, FilterChain chain)</span> <span class="keyword">throws</span> IOException, ServletException </span>&#123;</span><br><span class="line"><span class="comment">//1.强转</span></span><br><span class="line">HttpServletRequest request=(HttpServletRequest) req;</span><br><span class="line">HttpServletResponse response=(HttpServletResponse) resp;</span><br><span class="line"></span><br><span class="line"><span class="comment">//2.放行</span></span><br><span class="line">chain.doFilter(<span class="keyword">new</span> MyRequest(request), response);</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">destroy</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line"> </span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyRequest</span> <span class="keyword">extends</span> <span class="title">HttpServletRequestWrapper</span></span>&#123;</span><br><span class="line"><span class="keyword">private</span> HttpServletRequest request;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">boolean</span> flag=<span class="keyword">true</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">MyRequest</span><span class="params">(HttpServletRequest request)</span> </span>&#123;</span><br><span class="line"><span class="keyword">super</span>(request);</span><br><span class="line"><span class="keyword">this</span>.request=request;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">getParameter</span><span class="params">(String name)</span> </span>&#123;  </span><br><span class="line"><span class="keyword">if</span>(name==<span class="keyword">null</span> || name.trim().length()==<span class="number">0</span>)&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">&#125;</span><br><span class="line">String[] values = getParameterValues(name);</span><br><span class="line"><span class="keyword">if</span>(values==<span class="keyword">null</span> || values.length==<span class="number">0</span>)&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> values[<span class="number">0</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * hobby=[eat,drink]</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> String[] getParameterValues(String name) &#123;</span><br><span class="line"><span class="keyword">if</span>(name==<span class="keyword">null</span> || name.trim().length()==<span class="number">0</span>)&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">&#125;</span><br><span class="line">Map&lt;String, String[]&gt; map = getParameterMap();</span><br><span class="line"><span class="keyword">if</span>(map==<span class="keyword">null</span> || map.size()==<span class="number">0</span>)&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> map.get(name);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * map&#123; username=[tom],password=[123],hobby=[eat,drink]&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> Map&lt;String,String[]&gt; getParameterMap() &#123;  </span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 首先判断请求方式</span></span><br><span class="line"><span class="comment"> * 若为post  request.setchar...(utf-8)</span></span><br><span class="line"><span class="comment"> * 若为get 将map中的值遍历编码就可以了</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">String method = request.getMethod();</span><br><span class="line"><span class="keyword">if</span>(<span class="string">"post"</span>.equalsIgnoreCase(method))&#123;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">request.setCharacterEncoding(<span class="string">"utf-8"</span>);</span><br><span class="line"><span class="keyword">return</span> request.getParameterMap();</span><br><span class="line">&#125; <span class="keyword">catch</span> (UnsupportedEncodingException e) &#123;</span><br><span class="line"><span class="comment">// TODO Auto-generated catch block</span></span><br><span class="line">e.printStackTrace();</span><br><span class="line">&#125;</span><br><span class="line">&#125;<span class="keyword">else</span> <span class="keyword">if</span>(<span class="string">"get"</span>.equalsIgnoreCase(method))&#123;</span><br><span class="line">Map&lt;String,String[]&gt; map = request.getParameterMap();</span><br><span class="line"><span class="keyword">if</span>(flag)&#123;</span><br><span class="line"><span class="keyword">for</span> (String key:map.keySet()) &#123;</span><br><span class="line">String[] arr = map.get(key);</span><br><span class="line"><span class="comment">//继续遍历数组</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;arr.length;i++)&#123;</span><br><span class="line"><span class="comment">//编码</span></span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">arr[i]=<span class="keyword">new</span> String(arr[i].getBytes(<span class="string">"iso8859-1"</span>),<span class="string">"utf-8"</span>);</span><br><span class="line">&#125; <span class="keyword">catch</span> (UnsupportedEncodingException e) &#123;</span><br><span class="line">e.printStackTrace();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">flag=<span class="keyword">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//需要遍历map 修改value的每一个数据的编码</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> map;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="keyword">super</span>.getParameterMap();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>LoginServlet.java</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> exp4.servlet;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.PrintWriter;</span><br><span class="line"><span class="keyword">import</span> java.sql.SQLException;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> exp4.dao.StudentDAO;</span><br><span class="line"><span class="keyword">import</span> exp4.dao.StudentPO;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LoginServlet</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span> </span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doGet</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span></span></span><br><span class="line"><span class="function">            <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">     request.setCharacterEncoding(<span class="string">"utf-8"</span>);        </span><br><span class="line">        String username=request.getParameter(<span class="string">"username"</span>);</span><br><span class="line">        String userpwd=request.getParameter(<span class="string">"password"</span>);</span><br><span class="line">        </span><br><span class="line">        StudentDAO sd = <span class="keyword">new</span> StudentDAO();</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">        StudentPO sp=sd.doLogin(username, userpwd);;</span><br><span class="line">            <span class="keyword">if</span>(sp==<span class="keyword">null</span>)&#123;</span><br><span class="line">            response.sendRedirect(<span class="string">"/exp4/login.jsp?error=yes"</span>);</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                request.setAttribute(<span class="string">"student"</span>, sp);</span><br><span class="line">                request.getRequestDispatcher(<span class="string">"/index.html"</span>).forward(request, response);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">            <span class="comment">// TODO Auto-generated catch block</span></span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doPost</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span></span></span><br><span class="line"><span class="function">            <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">        doGet(request, response);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>RegisterServlet.java</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> exp4.servlet;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.PrintWriter;</span><br><span class="line"><span class="keyword">import</span> java.sql.SQLException;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.annotation.WebServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">import</span> exp4.dao.StudentDAO;</span><br><span class="line"><span class="keyword">import</span> exp4.dao.StudentPO;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RegisterServlet</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span></span>&#123;</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">     * HttpServlet中有两个方法需要我们自己重写</span></span><br><span class="line"><span class="comment">     * 需要在web.xml文件中进行注册</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doPost</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span></span></span><br><span class="line"><span class="function">            <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">     System.err.println(<span class="string">"进入POST"</span>);</span><br><span class="line">        req.setCharacterEncoding(<span class="string">"utf-8"</span>);</span><br><span class="line">        resp.setCharacterEncoding(<span class="string">"utf-8"</span>);</span><br><span class="line">        <span class="comment">//1.接受客户端数据</span></span><br><span class="line">        <span class="comment">//按照客户端调教数据的name-value的形式来提取数据</span></span><br><span class="line">        String username = req.getParameter(<span class="string">"username"</span>);</span><br><span class="line">        String userpwd=req.getParameter(<span class="string">"userpwd"</span>);</span><br><span class="line">        <span class="comment">//2.使用JDBC，将数据添加到数据库中</span></span><br><span class="line">        StudentDAO sd = <span class="keyword">new</span> StudentDAO();</span><br><span class="line">        <span class="comment">//3.HttpServletResponse对象</span></span><br><span class="line">        <span class="comment">//将HTML代码以数据流的形式响应给客户端</span></span><br><span class="line">        <span class="comment">//客户端使用IE浏览器来解析响应的HTML数据流</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">//获得一个输出流对象</span></span><br><span class="line"><span class="comment">//        PrintWriter out = resp.getWriter();</span></span><br><span class="line"><span class="comment">//        </span></span><br><span class="line"><span class="comment">//        out.println("&lt;html&gt;");</span></span><br><span class="line"><span class="comment">//        out.println("&lt;head&gt;");</span></span><br><span class="line"><span class="comment">//        out.println("&lt;meta http-equiv='content-type' content='text/html; charset=UTF-8'&gt;");</span></span><br><span class="line"><span class="comment">//        out.println("&lt;/head&gt;");</span></span><br><span class="line"><span class="comment">//        out.println("&lt;body&gt;");</span></span><br><span class="line">        </span><br><span class="line">        </span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">        System.out.print(<span class="string">"username:"</span>+username);</span><br><span class="line">        List&lt;StudentPO&gt; list=sd.queryStudentById(username);</span><br><span class="line">        System.out.print(<span class="string">"list:"</span>+list);</span><br><span class="line">        </span><br><span class="line">            <span class="keyword">int</span> result=sd.add(username,userpwd);</span><br><span class="line">            System.err.println(result);</span><br><span class="line">            <span class="keyword">if</span>(list !=<span class="keyword">null</span> &amp;&amp; !list.isEmpty()) &#123;</span><br><span class="line">            resp.sendRedirect(<span class="string">"/exp4/register.jsp?error=yes"</span>);</span><br><span class="line">                System.out.println(<span class="string">"添加失败2"</span>);</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">if</span>(result&gt;<span class="number">0</span>)&#123;</span><br><span class="line">                    <span class="comment">//1.站内跳转,请求转发</span></span><br><span class="line">                    <span class="comment">//只能转发网站内部的资源</span></span><br><span class="line">                    <span class="comment">//转发的是同一个请求和响应对象</span></span><br><span class="line">                    req.getRequestDispatcher(<span class="string">"/login.jsp"</span>).forward(req, resp);</span><br><span class="line">                    </span><br><span class="line">                    <span class="comment">//2.重定向跳转</span></span><br><span class="line">                    <span class="comment">//可以请求外部资源</span></span><br><span class="line">                    <span class="comment">//由于是客户端重新发起的请求，所以请求和响应对象不是同一个</span></span><br><span class="line">                    <span class="comment">//resp.sendRedirect("/webDemo/success.jsp");</span></span><br><span class="line">                    </span><br><span class="line">                    <span class="comment">//out.println("添加成功");</span></span><br><span class="line">                    &#125;</span><br><span class="line">                <span class="keyword">else</span>&#123;</span><br><span class="line">                    resp.sendRedirect(<span class="string">"/exp4/register.jsp?error=yes"</span>);</span><br><span class="line">                    System.out.println(<span class="string">"添加失败1"</span>);</span><br><span class="line">                    &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">        resp.sendRedirect(<span class="string">"/exp4/register.jsp?error=yes"</span>);</span><br><span class="line">        System.out.println(<span class="string">"添加失败3"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doGet</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span></span></span><br><span class="line"><span class="function">            <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">        doPost(req, resp);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="实验心得"><a href="#实验心得" class="headerlink" title="实验心得"></a>实验心得</h2><p>这次实验花费的时间很长，主要是把实验一的登录注册尽可能做的完整，通过jsp调用servlet，servlet返回参数，以及onsubmit参数使提交表单前进行输入框的检测等，通过fliter对全局url的统一编码过滤。总之这次实验学到了很多。也开始感受到了java的魅力（以前一直用的python）</p><blockquote style="margin: 2em 0 0;padding: 0.5em 1em;border-left: 3px solid #F44336;background-color: #F5F5F5;list-style: none;"><p> <strong>本文使用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/" target="_blank" rel="noopener">CC BY-NC-SA 3.0 中国大陆</a> 协议许可<br>具体请参见 <a href="https://zyhang8.github.io/agree/" target="_blank" rel="noopener">知识共享协议</a></strong><br> <strong>本文链接：</strong><a href="https://zyhang8.github.io/2019/11/16/javaweb-exp4/" target="_blank" rel="noopener">https://zyhang8.github.io/2019/11/16/javaweb-exp4/</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>基本网络服务与应用配置</title>
      <link href="/2019/11/15/cn-exp4/"/>
      <url>/2019/11/15/cn-exp4/</url>
      
        <content type="html"><![CDATA[<h1 id="基本网络服务与应用配置"><a href="#基本网络服务与应用配置" class="headerlink" title="基本网络服务与应用配置"></a>基本网络服务与应用配置</h1><h2 id="实验目的"><a href="#实验目的" class="headerlink" title="实验目的"></a>实验目的</h2><p>理解基本网络服务的原理与应用<br>掌握WEB服务器的基本配置<br>了解DNS服务器的基本配置与应用</p><h2 id="实验条件"><a href="#实验条件" class="headerlink" title="实验条件"></a>实验条件</h2><p>计算机：网络连接正常<br>操作系统：windows 10/macOS Catalina</p><h2 id="实验内容"><a href="#实验内容" class="headerlink" title="实验内容"></a>实验内容</h2><ol><li>WEB服务器(IIS)基本配置</li><li>DNS服务器基本配置</li><li>FTP服务配置（选做）</li></ol><h2 id="实验步骤与结果"><a href="#实验步骤与结果" class="headerlink" title="实验步骤与结果"></a>实验步骤与结果</h2><h3 id="搭建Web服务器"><a href="#搭建Web服务器" class="headerlink" title="搭建Web服务器"></a>搭建Web服务器</h3><p>总感觉之前好像自己搭过</p><p><img src="https://s2.ax1x.com/2019/11/02/KLr1hj.png" alt="KLr1hj.png"></p><p><img src="https://s2.ax1x.com/2019/11/02/KLDqk4.jpg" alt="KLDqk4.jpg"></p><p><img src="https://s2.ax1x.com/2019/11/02/KLr89s.png" alt="KLr89s.png"></p><p><img src="https://s2.ax1x.com/2019/11/02/KLrG3n.png" alt="KLrG3n.png"></p><p><img src="https://s2.ax1x.com/2019/11/02/KLrJcq.png" alt="KLrJcq.png"></p><p><img src="https://s2.ax1x.com/2019/11/02/KLrYj0.png" alt="KLrYj0.png"></p><p>配置后放进我之前写的一个网站，成功运行</p><h3 id="2-DNS基本配置"><a href="#2-DNS基本配置" class="headerlink" title="2 DNS基本配置"></a>2 DNS基本配置</h3><p>这道题必须是server版本才可以做，普通的windows控制面板固化，没有服务器管理这个功能，还是跑去了机房做了一下</p><h4 id="2-1-安装DNS服务"><a href="#2-1-安装DNS服务" class="headerlink" title="2.1 安装DNS服务"></a>2.1 安装DNS服务</h4><p>在windows server 2008 上操作，控制面板-&gt;管理工具-&gt;服务器管理，点击“角色”-&gt;“添加角色”，选择“DNS服务器”,默认选择直至安装完成。</p><p><img src="https://s2.ax1x.com/2019/11/02/KLDH7F.png" alt="KLDH7F.png"></p><p><img src="https://s2.ax1x.com/2019/11/02/KLDIXV.png" alt="KLDIXV.png"></p><h4 id="2-2-配置DNS"><a href="#2-2-配置DNS" class="headerlink" title="2.2 配置DNS"></a>2.2 配置DNS</h4><p>–控制面板-&gt;管理工具-&gt;DNS，打开DNS的配置界面</p><p>–右键点击“正向查找区域”-&gt;“新建区域”：</p><p><img src="https://s2.ax1x.com/2019/11/02/KLDTmT.png" alt="KLDTmT.png"></p><p>–默认选择，设置区域名称 zyh.com</p><p><img src="https://s2.ax1x.com/2019/11/02/KLD4lq.png" alt="KLD4lq.png"></p><p>–然后，默认各选择项，直至新建区域完成。</p><p><img src="https://s2.ax1x.com/2019/11/02/KLD560.png" alt="KLD560.png"></p><p>–右键单击“lzd.com”，然后“新建主机”。 –输入新建主机名称”www”,和对应的IP地址192.168.100.10。表示在DNS中注册了主机<a href="http://www.zyh.com" target="_blank" rel="noopener">www.zyh.com</a>, 该主机IP为192.168.100.10</p><p><img src="https://s2.ax1x.com/2019/11/02/KLDLtJ.png" alt="KLDLtJ.png"></p><p>DNS服务器配置结果：</p><p><img src="https://s2.ax1x.com/2019/11/02/KLDOh9.png" alt="KLDOh9.png"></p><h4 id="2-3-在windows7上指定使用DNS服务的提供者（DNS服务器）地址"><a href="#2-3-在windows7上指定使用DNS服务的提供者（DNS服务器）地址" class="headerlink" title="2.3 在windows7上指定使用DNS服务的提供者（DNS服务器）地址"></a>2.3 在windows7上指定使用DNS服务的提供者（DNS服务器）地址</h4><p><img src="https://s2.ax1x.com/2019/11/02/KLDjpR.png" alt="KLDjpR.png"></p><h4 id="2-4在windows7上使用www-zyh-com访问该网站"><a href="#2-4在windows7上使用www-zyh-com访问该网站" class="headerlink" title="2.4在windows7上使用www.zyh.com访问该网站"></a>2.4在windows7上使用<a href="http://www.zyh.com访问该网站" target="_blank" rel="noopener">www.zyh.com访问该网站</a></h4><p><img src="https://s2.ax1x.com/2019/11/02/KLDv11.png" alt="KLDv11.png"></p><h3 id="3-ftp服务配置（选做）"><a href="#3-ftp服务配置（选做）" class="headerlink" title="3. ftp服务配置（选做）"></a>3. ftp服务配置（选做）</h3><p>（1）匿名ftp</p><p>首先我们创建一个用户账户用于登录FTP进行操作。右键点击桌面的“计算机”点击选择“管理”选项，进入管理界面打开“本地用户和组”选项，我们可以看到列表中的用户选项。</p><p><img src="https://s2.ax1x.com/2019/11/02/KLDx6x.png" alt="KLDx6x.png"></p><p>然后右键用户选项，在下拉菜单中选择新用户，开始建立我们的用户，填写用户名称以及密码。描述可以不填。然后点击创建。创建完成在右边的用户列表中就可以看到我们创建的用户了。</p><p><img src="https://s2.ax1x.com/2019/11/02/KLrpnK.png" alt="KLrpnK.png"></p><p><img src="https://s2.ax1x.com/2019/11/02/KLDzX6.png" alt="KLDzX6.png"></p><p>创建用户完成后我们开始添加IIS程序服务。打开电脑的开始菜单找到控制面板选项，打开进入。进入控制面板界面找到程序选项，点击下方的卸载程序按钮，进入到安装程序列表界面。</p><p><img src="https://s2.ax1x.com/2019/11/02/KLrC7D.png" alt="KLrC7D.png"></p><p><img src="https://s2.ax1x.com/2019/11/02/KLriAe.png" alt="KLriAe.png"></p><p>进入到程序和功能选项栏目，我们可以看到左上方的菜单栏中有一个打开或关闭Windows功能选项，点击进入</p><p><img src="https://s2.ax1x.com/2019/11/02/KLrFtH.png" alt="KLrFtH.png"></p><p>进入到打开或关闭Windows功能界面，我们在好到Internet信息服务，然后点击打开在FTP服务器前面打勾，也就是把其子菜单的FTP服务和FTP扩展性打勾，然后点击下方的确定按钮。</p><p><img src="https://s2.ax1x.com/2019/11/02/KLrkhd.png" alt="KLrkhd.png"></p><p>注意：Web管理工具也要设置，否则后面可能会找不到Internet信息服务管理。</p><p><img src="https://s2.ax1x.com/2019/11/02/KLrE9A.png" alt="KLrE9A.png"></p><p>添加完成 IIS服务之后，开始创建我们的FTP站点，右键点击我的电脑选择管理，然后找到服务和应用程序选项点击打开，接着点击Internet信息服务管理–此时我们可以看到右边出现了一个连接框。</p><p><img src="https://s2.ax1x.com/2019/11/02/KLrV1I.png" alt="KLrV1I.png"></p><p>点击打开连接框下面的本地主机主页，然后可以看到应用程序池和网站选项，我们右键点击网站选择添加网站，然后在弹出的添加网站框里面输入我们的网站名称，物理路径也就是我们的FTP本地文件夹，我们可以在磁盘里面新建好，然后选择添加，IP地址选择我们本机的IP地址。</p><p><img src="https://s2.ax1x.com/2019/11/02/KLrZct.png" alt="KLrZct.png"></p><p>新建完成我们的FTP之后，我们可以看到网站的下方多出了一个我们刚刚建立的网，右键点击网站名称，选择添加FTP站点发布，然后开始绑定和SSL设置，端口号选择2121.IP地址填写本机IP地址</p><p><img src="https://s2.ax1x.com/2019/11/02/KLrejP.png" alt="KLrejP.png"></p><p><img src="https://s2.ax1x.com/2019/11/02/KLruB8.png" alt="KLruB8.png"></p><p>然后进入身份验证设置选项，我们根据个人用途选择身份验证的基本要求，已经用户的相关权限，设置完毕点击完成选项。此时会提醒我们FTP站点发布成功。</p><p><img src="https://s2.ax1x.com/2019/11/02/KLrKHS.png" alt="KLrKHS.png"></p><p><img src="https://s2.ax1x.com/2019/11/02/KLrQAg.png" alt="KLrQAg.png"></p><p>然后我们打开电脑的浏览器在上方的地址栏里面输入FTP://IP地址：2121点击回车就可以看到我们的FTP服务器已经添加成功了我们可以在添加的本地文件夹里面来管理我们FTP服务器文上传与下载。</p><p><img src="https://s2.ax1x.com/2019/11/02/KLrlNQ.png" alt="KLrlNQ.png"></p><h2 id="实验总结"><a href="#实验总结" class="headerlink" title="实验总结"></a>实验总结</h2><p>理解了基本网络服务的原理与应用，并且掌握WEB服务器的基本配置，了解DNS服务器的基本配置与应用，最后学会ftp服务配置。</p><blockquote style="margin: 2em 0 0;padding: 0.5em 1em;border-left: 3px solid #F44336;background-color: #F5F5F5;list-style: none;"><p> <strong>本文使用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/" target="_blank" rel="noopener">CC BY-NC-SA 3.0 中国大陆</a> 协议许可<br>具体请参见 <a href="https://zyhang8.github.io/agree/" target="_blank" rel="noopener">知识共享协议</a></strong><br> <strong>本文链接：</strong><a href="https://zyhang8.github.io/2019/11/15/cn-exp4/" target="_blank" rel="noopener">https://zyhang8.github.io/2019/11/15/cn-exp4/</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 计算机网络 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 计算机网络 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>计算机网络-第三章课后习题</title>
      <link href="/2019/11/14/cn-exp3/"/>
      <url>/2019/11/14/cn-exp3/</url>
      
        <content type="html"><![CDATA[<h1 id="计算机网络-第三章课后习题"><a href="#计算机网络-第三章课后习题" class="headerlink" title="计算机网络-第三章课后习题"></a>计算机网络-第三章课后习题</h1><ul><li>要填写的数据为1101011011，CRC，添加余数</li><li>PPP协议使用同步传输技术传送比特串0110111111111100.试问经过零比特填充后编程怎样的字符串？若接收端收到的PPP帧的数据部分是0001110111110111110110.问删除发送端加入的零比特后变成怎样的字符串？</li><li>3-33填写表格</li></ul><h2 id="Page109-3-07"><a href="#Page109-3-07" class="headerlink" title="Page109,3-07"></a>Page109,3-07</h2><p>根据公式，二进制为10011.共五位</p><p>在二进制序列后添加5-1=4个0，为11010110110000，除法后，商为1100001010，余数为1110，即为检验序列</p><p>第一问，现在最后以为为0，变为11010110101110，除数为10011，得到商为1100001011，余数为0011，因余数不为0，所以有差错，可以发现</p><p>第二问，11010110001110除以10011，商为1100001001，余数为0101，可以发现</p><p>第三问，不是。当接收方进行CRC检验时，如果发现有差错，就简单地丢弃这个帧。数据链路层并不能保证接收方接收到的和发送方发送的完全一致。</p><h2 id="Page110-3-10"><a href="#Page110-3-10" class="headerlink" title="Page110,3-10"></a>Page110,3-10</h2><p>第一问，零比特填充即5个1后加0，为011011111 0 11111 0 00</p><p>第二问，删0.为 000111011111 11111 110</p><h2 id="Page111-3-33"><a href="#Page111-3-33" class="headerlink" title="Page111,3-33"></a>Page111,3-33</h2><table><thead><tr><th align="center">动作</th><th align="center">交换表的状态</th><th align="center">向哪些接口转发帧</th><th align="center">说明</th></tr></thead><tbody><tr><td align="center">A发送帧给D</td><td align="center">写入(A,1)</td><td align="center">所有的接口</td><td align="center">开始时交换表是空的，交换机不知道应向何接口转发帧</td></tr><tr><td align="center">D发送帧给A</td><td align="center">写入(D,4)</td><td align="center">A</td><td align="center">交换机已经知道A连接在接口1</td></tr><tr><td align="center">E发送帧给A</td><td align="center">写入(E,5)</td><td align="center">A</td><td align="center">交换机已经知道A连接在接口1</td></tr><tr><td align="center">A发送帧给E</td><td align="center">不变</td><td align="center">E</td><td align="center">交换机已经知道E连接在接口5</td></tr></tbody></table><blockquote style="margin: 2em 0 0;padding: 0.5em 1em;border-left: 3px solid #F44336;background-color: #F5F5F5;list-style: none;"><p> <strong>本文使用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/" target="_blank" rel="noopener">CC BY-NC-SA 3.0 中国大陆</a> 协议许可<br>具体请参见 <a href="https://zyhang8.github.io/agree/" target="_blank" rel="noopener">知识共享协议</a></strong><br> <strong>本文链接：</strong><a href="https://zyhang8.github.io/2019/11/14/cn-exp3/" target="_blank" rel="noopener">https://zyhang8.github.io/2019/11/14/cn-exp3/</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 计算机网络 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 计算机网络 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C++    PTA-B   1003 我要通过！</title>
      <link href="/2019/11/13/pta-1003/"/>
      <url>/2019/11/13/pta-1003/</url>
      
        <content type="html"><![CDATA[<h2 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h2><p>“答案正确”是自动判题系统给出的最令人欢喜的回复。本题属于 PAT 的“答案正确”大派送 —— 只要读入的字符串满足下列条件，系统就输出“答案正确”，否则输出“答案错误”。<br>得到“答案正确”的条件是：</p><p>字符串中必须仅有 P、 A、 T这三种字符，不可以包含其它字符；<br>任意形如 xPATx 的字符串都可以获得“答案正确”，其中 x 或者是空字符串，或者是仅由字母 A 组成的字符串；<br>如果 aPbTc 是正确的，那么 aPbATca 也是正确的，其中 a、 b、 c 均或者是空字符串，或者是仅由字母 A 组成的字符串。</p><p>现在就请你为 PAT 写一个自动裁判程序，判定哪些字符串是可以获得“答案正确”的。<br>输入格式：<br>每个测试输入包含 1 个测试用例。第 1 行给出一个正整数 n (&lt;10)，是需要检测的字符串个数。接下来每个字符串占一行，字符串长度不超过 100，且不包含空格。<br>输出格式：<br>每个字符串的检测结果占一行，如果该字符串可以获得“答案正确”，则输出 YES，否则输出 NO。</p><font color="blue">**输入样例：8PATPAATAAPATAAAAPAATAAAAxPATxPTWhateverAPAAATAA**  </font><font color="blue">**输出样例：YESYESYESYESNONONONO** </font><h2 id="分析"><a href="#分析" class="headerlink" title="分析"></a>分析</h2><p>一开始一头雾水，后来bing后了解一些规律<br>一句话总结字符串的要求：<br><font color="orange"> <strong>只能有一个P一个T，中间末尾和开头可以随便插入A。<br>但是必须满足开头的A的个数 * 中间的A的个数 = 结尾的A的个数，而且P和T之间不能没有A</strong> </font></p><h2 id="源代码"><a href="#源代码" class="headerlink" title="源代码"></a>源代码</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="keyword">char</span> s[<span class="number">10001</span>];</span><br><span class="line"><span class="keyword">int</span> i,a,b,c,n;</span><br><span class="line"><span class="keyword">char</span> *p;</span><br><span class="line"><span class="built_in">cin</span> &gt;&gt; n;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">cin</span> &gt;&gt; s;</span><br><span class="line"><span class="keyword">if</span>(!<span class="built_in">strcmp</span>(s,<span class="string">"PAT"</span>))&#123;</span><br><span class="line"><span class="built_in">cout</span>&lt;&lt;<span class="string">"YES"</span>&lt;&lt;<span class="built_in">endl</span>;<span class="keyword">continue</span>;</span><br><span class="line">&#125;</span><br><span class="line">a=b=c=<span class="number">0</span>;</span><br><span class="line">p=s;</span><br><span class="line"><span class="keyword">while</span>(*p==<span class="string">'A'</span>)&#123;</span><br><span class="line">        a++;</span><br><span class="line">        p++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(*p==<span class="string">'P'</span>)&#123;</span><br><span class="line">    p++;</span><br><span class="line">    <span class="keyword">while</span>(*p==<span class="string">'A'</span>)&#123;</span><br><span class="line">        b++;</span><br><span class="line">        p++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(*p==<span class="string">'T'</span>) &#123;</span><br><span class="line">        p++;</span><br><span class="line">        <span class="keyword">while</span>(*p==<span class="string">'A'</span>)&#123;</span><br><span class="line">            c++;</span><br><span class="line">            p++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(!(*p)&amp;&amp;b&gt;<span class="number">0</span>&amp;&amp;c==a*b)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">cout</span>&lt;&lt;<span class="string">"YES"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">cout</span>&lt;&lt;<span class="string">"NO"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote style="margin: 2em 0 0;padding: 0.5em 1em;border-left: 3px solid #F44336;background-color: #F5F5F5;list-style: none;"><p> <strong>本文使用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/" target="_blank" rel="noopener">CC BY-NC-SA 3.0 中国大陆</a> 协议许可<br>具体请参见 <a href="https://zyhang8.github.io/agree/" target="_blank" rel="noopener">知识共享协议</a></strong><br> <strong>本文链接：</strong><a href="https://zyhang8.github.io/2019/11/13/pta-1003/" target="_blank" rel="noopener">https://zyhang8.github.io/2019/11/13/pta-1003/</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> c++ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> c++ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>fish-scrapy</title>
      <link href="/2019/11/12/fish-scrapy/"/>
      <url>/2019/11/12/fish-scrapy/</url>
      
        <content type="html"><![CDATA[<ul><li>scrapy.cfg: 项目的配置文件</li><li>hellospider/: 该项目的python模块。之后您将在此加入代码。</li><li>hellospider/items.py:需要提取的数据结构定义文件。</li><li>hellospider/middlewares.py: 是和Scrapy的请求/响应处理相关联的框架。</li><li>hellospider/pipelines.py: 用来对items里面提取的数据做进一步处理，如保存等。</li><li>hellospider/settings.py: 项目的配置文件。</li><li>hellospider/spiders/: 放置spider代码的目录</li></ul><blockquote style="margin: 2em 0 0;padding: 0.5em 1em;border-left: 3px solid #F44336;background-color: #F5F5F5;list-style: none;"><p> <strong>本文使用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/" target="_blank" rel="noopener">CC BY-NC-SA 3.0 中国大陆</a> 协议许可<br>具体请参见 <a href="https://zyhang8.github.io/agree/" target="_blank" rel="noopener">知识共享协议</a></strong><br> <strong>本文链接：</strong><a href="https://zyhang8.github.io/2019/07/18/Ningbo/" target="_blank" rel="noopener">https://zyhang8.github.io/2019/07/18/Ningbo/</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> scrapy </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 爬虫 </tag>
            
            <tag> scrapy </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C++ PTA 1002 写出这个数</title>
      <link href="/2019/11/12/pta-1002/"/>
      <url>/2019/11/12/pta-1002/</url>
      
        <content type="html"><![CDATA[<p>读入一个正整数 n，计算其各位数字之和，用汉语拼音写出和的每一位数字。<br>输入格式：<br>每个测试输入包含 1 个测试用例，即给出自然数 n 的值。这里保证 n 小于 10​100​​。<br>输出格式：<br>在一行内输出 n 的各位数字之和的每一位，拼音数字间有 1 空格，但一行中最后一个拼音数字后没有空格。</p><p>输入样例：<br>1234567890987654321123456789</p><p>输出样例：<br>yi san wu（和为135）</p><p>源代码：</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">english</span><span class="params">(<span class="keyword">int</span> a)</span></span>&#123;</span><br><span class="line">    <span class="keyword">switch</span>(a)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">0</span>:<span class="built_in">cout</span>&lt;&lt;<span class="string">"ling"</span>;<span class="keyword">break</span>;</span><br><span class="line">  <span class="keyword">case</span> <span class="number">1</span>:<span class="built_in">cout</span>&lt;&lt;<span class="string">"yi"</span>;<span class="keyword">break</span>;</span><br><span class="line">  <span class="keyword">case</span> <span class="number">2</span>:<span class="built_in">cout</span>&lt;&lt;<span class="string">"er"</span>;<span class="keyword">break</span>;</span><br><span class="line">  <span class="keyword">case</span> <span class="number">3</span>:<span class="built_in">cout</span>&lt;&lt;<span class="string">"san"</span>;<span class="keyword">break</span>;</span><br><span class="line">  <span class="keyword">case</span> <span class="number">4</span>:<span class="built_in">cout</span>&lt;&lt;<span class="string">"si"</span>;<span class="keyword">break</span>;</span><br><span class="line">  <span class="keyword">case</span> <span class="number">5</span>:<span class="built_in">cout</span>&lt;&lt;<span class="string">"wu"</span>;<span class="keyword">break</span>;</span><br><span class="line">  <span class="keyword">case</span> <span class="number">6</span>:<span class="built_in">cout</span>&lt;&lt;<span class="string">"liu"</span>;<span class="keyword">break</span>;</span><br><span class="line">  <span class="keyword">case</span> <span class="number">7</span>:<span class="built_in">cout</span>&lt;&lt;<span class="string">"qi"</span>;<span class="keyword">break</span>;</span><br><span class="line">  <span class="keyword">case</span> <span class="number">8</span>:<span class="built_in">cout</span>&lt;&lt;<span class="string">"ba"</span>;<span class="keyword">break</span>;</span><br><span class="line">  <span class="keyword">case</span> <span class="number">9</span>:<span class="built_in">cout</span>&lt;&lt;<span class="string">"jiu"</span>;<span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="keyword">char</span> a[<span class="number">101</span>];</span><br><span class="line"><span class="keyword">int</span> i=<span class="number">0</span>,sum=<span class="number">0</span>;</span><br><span class="line"><span class="built_in">cin</span> &gt;&gt; a;</span><br><span class="line"><span class="keyword">while</span>(a[i]!=<span class="string">'\0'</span>)&#123;</span><br><span class="line">        sum+=a[i]-<span class="string">'0'</span>;</span><br><span class="line">        i++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">int</span> b[<span class="number">11</span>],j=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">while</span>(sum)&#123;</span><br><span class="line">    b[j]=sum%<span class="number">10</span>;</span><br><span class="line">    sum=sum/<span class="number">10</span>;</span><br><span class="line">    j++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(i=j<span class="number">-1</span>;i&gt;<span class="number">0</span>;i--)&#123;</span><br><span class="line">    english(b[i]);</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">" "</span>;</span><br><span class="line">&#125;</span><br><span class="line">english(b[<span class="number">0</span>]);</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote style="margin: 2em 0 0;padding: 0.5em 1em;border-left: 3px solid #F44336;background-color: #F5F5F5;list-style: none;"><p> <strong>本文使用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/" target="_blank" rel="noopener">CC BY-NC-SA 3.0 中国大陆</a> 协议许可<br>具体请参见 <a href="https://zyhang8.github.io/agree/" target="_blank" rel="noopener">知识共享协议</a></strong><br> <strong>本文链接：</strong><a href="https://zyhang8.github.io/2019/11/12/pta-1002/" target="_blank" rel="noopener">https://zyhang8.github.io/2019/11/12/pta-1002/</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> c++ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> c++ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>c++ PTA 1001 害死人不偿命的(3n+1)猜想</title>
      <link href="/2019/11/11/pta-1001/"/>
      <url>/2019/11/11/pta-1001/</url>
      
        <content type="html"><![CDATA[<p>1001 害死人不偿命的(3n+1)猜想 （15 分）卡拉兹(Callatz)猜想：</p><p>对任何一个正整数 n，如果它是偶数，那么把它砍掉一半；如果它是奇数，那么把 (3n+1) 砍掉一半。这样一直反复砍下去，最后一定在某一步得到 n=1。卡拉兹在 1950 年的世界数学家大会上公布了这个猜想，传说当时耶鲁大学师生齐动员，拼命想证明这个貌似很傻很天真的命题，结果闹得学生们无心学业，一心只证 (3n+1)，以至于有人说这是一个阴谋，卡拉兹是在蓄意延缓美国数学界教学与科研的进展……</p><p>我们今天的题目不是证明卡拉兹猜想，而是对给定的任一不超过 1000 的正整数 n，简单地数一下，需要多少步（砍几下）才能得到 n=1？</p><p>输入格式：</p><p>每个测试输入包含 1 个测试用例，即给出正整数 n 的值。</p><p>输出格式：</p><p>输出从 n 计算到 1 需要的步数。</p><p>输入样例：<br>3</p><p>输出样例：<br>5</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> n;</span><br><span class="line"><span class="keyword">int</span> j=<span class="number">0</span>;</span><br><span class="line"><span class="built_in">cin</span> &gt;&gt; n;</span><br><span class="line"><span class="keyword">while</span>(n!=<span class="number">1</span>)</span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">if</span>(n%<span class="number">2</span>==<span class="number">0</span>)&#123;</span><br><span class="line">    n=n/<span class="number">2</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">else</span> &#123;</span><br><span class="line">    n=(<span class="number">3</span>*n+<span class="number">1</span>)/<span class="number">2</span>;</span><br><span class="line">  &#125;</span><br><span class="line">j++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; j;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote style="margin: 2em 0 0;padding: 0.5em 1em;border-left: 3px solid #F44336;background-color: #F5F5F5;list-style: none;"><p> <strong>本文使用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/" target="_blank" rel="noopener">CC BY-NC-SA 3.0 中国大陆</a> 协议许可<br>具体请参见 <a href="https://zyhang8.github.io/agree/" target="_blank" rel="noopener">知识共享协议</a></strong><br> <strong>本文链接：</strong><a href="https://zyhang8.github.io/2019/11/11/pta-1001/" target="_blank" rel="noopener">https://zyhang8.github.io/2019/11/11/pta-1001/</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> c++ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> c++ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>迭代器、中介者和工厂模式实验课</title>
      <link href="/2019/11/10/design-exp5/"/>
      <url>/2019/11/10/design-exp5/</url>
      
        <content type="html"><![CDATA[<h1 id="迭代器、中介者和工厂模式实验课"><a href="#迭代器、中介者和工厂模式实验课" class="headerlink" title="迭代器、中介者和工厂模式实验课"></a>迭代器、中介者和工厂模式实验课</h1><h2 id="一-验证第11章迭代器模式，模拟点钞机应用"><a href="#一-验证第11章迭代器模式，模拟点钞机应用" class="headerlink" title="一.验证第11章迭代器模式，模拟点钞机应用"></a>一.验证第11章迭代器模式，模拟点钞机应用</h2><h3 id="1-实验内容和源程序"><a href="#1-实验内容和源程序" class="headerlink" title="1.实验内容和源程序"></a>1.实验内容和源程序</h3><p>Application.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> exe3;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Application</span> </span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> n = <span class="number">20</span>;</span><br><span class="line"><span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line">Collection&lt;RenMinMony&gt; set = <span class="keyword">new</span> HashSet&lt;RenMinMony&gt;();</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line"><span class="keyword">if</span>(i == n/<span class="number">2</span> || i == n/<span class="number">5</span> || i == n/<span class="number">6</span>)</span><br><span class="line">set.add(<span class="keyword">new</span> RenMinMony(<span class="number">100</span>,<span class="keyword">false</span>));</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">set.add(<span class="keyword">new</span> RenMinMony(<span class="number">100</span>,<span class="keyword">true</span>));</span><br><span class="line">&#125;</span><br><span class="line">Iterator&lt;RenMinMony&gt;iterator = set.iterator();</span><br><span class="line"><span class="keyword">int</span> jia = <span class="number">1</span>,zhen = <span class="number">1</span>;</span><br><span class="line">System.out.println(<span class="string">"保险箱共有"</span>+set.size()+<span class="string">"张人民币"</span>);</span><br><span class="line"><span class="keyword">int</span> k = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">while</span>(iterator.hasNext())&#123;</span><br><span class="line">RenMinMony money = iterator.next();</span><br><span class="line">k++;</span><br><span class="line"><span class="keyword">if</span>(money.getIsTrue()==<span class="keyword">false</span>)&#123;</span><br><span class="line">System.out.println(<span class="string">"第"</span>+k+<span class="string">"张是假币,被销毁"</span>);</span><br><span class="line">iterator.remove();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">System.out.println(<span class="string">"保险箱现有真人民币"</span>+set.size()+<span class="string">"张，总价值是:"</span>);</span><br><span class="line">iterator = set.iterator();</span><br><span class="line"><span class="keyword">while</span>(iterator.hasNext())&#123;</span><br><span class="line">RenMinMony money = iterator.next();</span><br><span class="line">sum = sum+money.getValue();</span><br><span class="line">&#125;</span><br><span class="line">System.out.println(sum+<span class="string">"元"</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">RenMinMony</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> value;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">boolean</span> isTrue;</span><br><span class="line">RenMinMony(<span class="keyword">int</span> value,<span class="keyword">boolean</span> b)&#123;</span><br><span class="line"><span class="keyword">this</span>.value = value;</span><br><span class="line">isTrue = b;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">getIsTrue</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="keyword">return</span> isTrue;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getValue</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="keyword">return</span> value;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="2-实验执行结果"><a href="#2-实验执行结果" class="headerlink" title="2.实验执行结果"></a>2.实验执行结果</h3><p><img src="https://s2.ax1x.com/2019/11/02/KqfEJU.png" alt="KqfEJU.png"></p><h3 id="3-本次收获体会"><a href="#3-本次收获体会" class="headerlink" title="3.本次收获体会"></a>3.本次收获体会</h3><p>认识了迭代器模式，并掌握了经典例题的方法和执行过程以及具体设计框架</p><h2 id="二-验证第12章中介者模式，模拟三国交战的停战协议"><a href="#二-验证第12章中介者模式，模拟三国交战的停战协议" class="headerlink" title="二.验证第12章中介者模式，模拟三国交战的停战协议"></a>二.验证第12章中介者模式，模拟三国交战的停战协议</h2><h3 id="1-实验内容和源程序-1"><a href="#1-实验内容和源程序-1" class="headerlink" title="1.实验内容和源程序"></a>1.实验内容和源程序</h3><p>Colleague.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Colleague</span> </span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">giveMess</span><span class="params">(String [] mess)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">receiverMess</span><span class="params">(String mess)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String mess)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ConcreteMediator.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ConcreteMediator</span> </span>&#123;</span><br><span class="line">ColleagueA colleagueA;</span><br><span class="line">ColleagueB colleagueB;</span><br><span class="line">ColleagueC colleagueC;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">registerColleagueA</span><span class="params">(ColleagueA colleagueA)</span></span>&#123;</span><br><span class="line"><span class="keyword">this</span>.colleagueA=colleagueA;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">registerColleagueB</span><span class="params">(ColleagueB colleagueB)</span></span>&#123;</span><br><span class="line"><span class="keyword">this</span>.colleagueB=colleagueB;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">registerColleagueC</span><span class="params">(ColleagueC colleagueC)</span></span>&#123;</span><br><span class="line"><span class="keyword">this</span>.colleagueC=colleagueC;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">deliverMess</span><span class="params">(Colleague colleague,String [] mess)</span></span>&#123;</span><br><span class="line"><span class="keyword">if</span>(colleague==colleagueA)&#123;</span><br><span class="line"><span class="keyword">if</span>(mess.length&gt;=<span class="number">2</span>)&#123;</span><br><span class="line">colleagueB.receiverMess(colleague.getName()+mess[<span class="number">0</span>]);</span><br><span class="line">colleagueC.receiverMess(colleague.getName()+mess[<span class="number">1</span>]);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span>(colleague==colleagueB)&#123;</span><br><span class="line"><span class="keyword">if</span>(mess.length&gt;=<span class="number">2</span>)&#123;</span><br><span class="line">colleagueA.receiverMess(colleague.getName()+mess[<span class="number">0</span>]);</span><br><span class="line">colleagueC.receiverMess(colleague.getName()+mess[<span class="number">1</span>]);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span>(colleague==colleagueC)&#123;</span><br><span class="line"><span class="keyword">if</span>(mess.length&gt;=<span class="number">2</span>)&#123;</span><br><span class="line">colleagueA.receiverMess(colleague.getName()+mess[<span class="number">0</span>]);</span><br><span class="line">colleagueB.receiverMess(colleague.getName()+mess[<span class="number">1</span>]);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ColleagueA.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ColleagueA</span> <span class="keyword">implements</span> <span class="title">Colleague</span></span>&#123;</span><br><span class="line">ConcreteMediator mediator;</span><br><span class="line">String name;</span><br><span class="line">ColleagueA(ConcreteMediator mediator)&#123;</span><br><span class="line"><span class="keyword">this</span>.mediator=mediator;</span><br><span class="line">mediator.registerColleagueA(<span class="keyword">this</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span></span>&#123;</span><br><span class="line"><span class="keyword">this</span>.name=name;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="keyword">return</span> name;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">giveMess</span><span class="params">(String [] mess)</span></span>&#123;</span><br><span class="line">mediator.deliverMess(<span class="keyword">this</span>, mess);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">receiverMess</span><span class="params">(String mess)</span></span>&#123;</span><br><span class="line">System.out.println(name+<span class="string">"收到的消息："</span>);</span><br><span class="line">System.out.println(<span class="string">"\t"</span>+mess);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ColleagueB.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ColleagueB</span> <span class="keyword">implements</span> <span class="title">Colleague</span></span>&#123;</span><br><span class="line">ConcreteMediator mediator;</span><br><span class="line">String name;</span><br><span class="line">ColleagueB(ConcreteMediator mediator)&#123;</span><br><span class="line"><span class="keyword">this</span>.mediator=mediator;</span><br><span class="line">mediator.registerColleagueB(<span class="keyword">this</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span></span>&#123;</span><br><span class="line"><span class="keyword">this</span>.name=name;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="keyword">return</span> name;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">giveMess</span><span class="params">(String [] mess)</span></span>&#123;</span><br><span class="line">mediator.deliverMess(<span class="keyword">this</span>, mess);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">receiverMess</span><span class="params">(String mess)</span></span>&#123;</span><br><span class="line">System.out.println(name+<span class="string">"收到的消息："</span>);</span><br><span class="line">System.out.println(<span class="string">"\t"</span>+mess);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ColleagueC.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ColleagueC</span> <span class="keyword">implements</span> <span class="title">Colleague</span></span>&#123;</span><br><span class="line">ConcreteMediator mediator;</span><br><span class="line">String name;</span><br><span class="line">ColleagueC(ConcreteMediator mediator)&#123;</span><br><span class="line"><span class="keyword">this</span>.mediator=mediator;</span><br><span class="line">mediator.registerColleagueC(<span class="keyword">this</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span></span>&#123;</span><br><span class="line"><span class="keyword">this</span>.name=name;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="keyword">return</span> name;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">giveMess</span><span class="params">(String [] mess)</span></span>&#123;</span><br><span class="line">mediator.deliverMess(<span class="keyword">this</span>, mess);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">receiverMess</span><span class="params">(String mess)</span></span>&#123;</span><br><span class="line">System.out.println(name+<span class="string">"收到的消息："</span>);</span><br><span class="line">System.out.println(<span class="string">"\t"</span>+mess);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Application.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Application</span> </span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span></span>&#123;</span><br><span class="line">ConcreteMediator mediator = <span class="keyword">new</span> ConcreteMediator();</span><br><span class="line">ColleagueA colleagueA = <span class="keyword">new</span> ColleagueA(mediator);</span><br><span class="line">ColleagueB colleagueB = <span class="keyword">new</span> ColleagueB(mediator);</span><br><span class="line">ColleagueC colleagueC = <span class="keyword">new</span> ColleagueC(mediator);</span><br><span class="line">colleagueA.setName(<span class="string">"A国"</span>);</span><br><span class="line">colleagueB.setName(<span class="string">"B国"</span>);</span><br><span class="line">colleagueC.setName(<span class="string">"C国"</span>);</span><br><span class="line">String [] messA = &#123;<span class="string">"要求归还曾抢夺的100斤土豆"</span>,<span class="string">"要求归还曾抢夺的20头牛"</span>&#125;;</span><br><span class="line">colleagueA.giveMess(messA);</span><br><span class="line">String [] messB = &#123;<span class="string">"要求归还曾抢夺的10只公鸡"</span>,<span class="string">"要求归还曾抢夺的15匹马"</span>&#125;;</span><br><span class="line">colleagueB.giveMess(messB);</span><br><span class="line">String [] messC = &#123;<span class="string">"要求归还曾抢夺的300斤小麦"</span>,<span class="string">"要求归还曾抢夺的50头驴"</span>&#125;;</span><br><span class="line">colleagueC.giveMess(messC);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="2-实验执行结果-1"><a href="#2-实验执行结果-1" class="headerlink" title="2.实验执行结果"></a>2.实验执行结果</h3><p><img src="https://s2.ax1x.com/2019/11/02/KqfVWF.png" alt="KqfVWF.png"></p><h3 id="3-本次收获体会-1"><a href="#3-本次收获体会-1" class="headerlink" title="3.本次收获体会"></a>3.本次收获体会</h3><p>掌握了中介者模式的设计模式，和其实现的方法</p><h2 id="三-验证第13章工厂方法模式，模拟生产笔芯的例子"><a href="#三-验证第13章工厂方法模式，模拟生产笔芯的例子" class="headerlink" title="三.验证第13章工厂方法模式，模拟生产笔芯的例子"></a>三.验证第13章工厂方法模式，模拟生产笔芯的例子</h2><h3 id="1-实验内容和源程序-2"><a href="#1-实验内容和源程序-2" class="headerlink" title="1.实验内容和源程序"></a>1.实验内容和源程序</h3><p>PenCore.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">PenCore</span> </span>&#123;</span><br><span class="line">String color;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">writeWord</span><span class="params">(String s)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>RedPenCore.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RedPenCore</span> <span class="keyword">extends</span> <span class="title">PenCore</span></span>&#123;</span><br><span class="line">RedPenCore()&#123;</span><br><span class="line">color = <span class="string">"红色"</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">writeWord</span><span class="params">(String s)</span></span>&#123;</span><br><span class="line">System.out.println(<span class="string">"写出"</span>+color+<span class="string">"的字:"</span>+s);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>BluePenCore.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BluePenCore</span> <span class="keyword">extends</span> <span class="title">PenCore</span></span>&#123;</span><br><span class="line">BluePenCore()&#123;</span><br><span class="line">color = <span class="string">"蓝色"</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">writeWord</span><span class="params">(String s)</span></span>&#123;</span><br><span class="line">System.out.println(<span class="string">"写出"</span>+color+<span class="string">"的字:"</span>+s);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>BlackPenCore.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BlackPenCore</span> <span class="keyword">extends</span> <span class="title">PenCore</span></span>&#123;</span><br><span class="line">BlackPenCore()&#123;</span><br><span class="line">color = <span class="string">"黑色"</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">writeWord</span><span class="params">(String s)</span></span>&#123;</span><br><span class="line">System.out.println(<span class="string">"写出"</span>+color+<span class="string">"的字:"</span>+s);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>BallPen.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">BallPen</span> </span>&#123;</span><br><span class="line">BallPen()&#123;</span><br><span class="line">System.out.println(<span class="string">"生产了一只装有"</span>+getPenCore().color+<span class="string">"笔芯的圆珠笔"</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> PenCore <span class="title">getPenCore</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>RedBallPen.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RedBallPen</span> <span class="keyword">extends</span> <span class="title">BallPen</span></span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> PenCore <span class="title">getPenCore</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">new</span> RedPenCore();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>BlueBallPen.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BlueBallPen</span> <span class="keyword">extends</span> <span class="title">BallPen</span></span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> PenCore <span class="title">getPenCore</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">new</span> BluePenCore();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>BlackBallPen.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BlackBallPen</span> <span class="keyword">extends</span> <span class="title">BallPen</span></span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> PenCore <span class="title">getPenCore</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">new</span> BlackPenCore();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Application.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Application</span> </span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span></span>&#123;</span><br><span class="line">PenCore penCore;</span><br><span class="line">BallPen ballPen = <span class="keyword">new</span> BlueBallPen();</span><br><span class="line">penCore = ballPen.getPenCore();</span><br><span class="line">penCore.writeWord(<span class="string">"你好，很高兴认识你"</span>);</span><br><span class="line"></span><br><span class="line">ballPen = <span class="keyword">new</span> RedBallPen();</span><br><span class="line">penCore = ballPen.getPenCore();</span><br><span class="line">penCore.writeWord(<span class="string">"How are you"</span>);</span><br><span class="line"></span><br><span class="line">ballPen = <span class="keyword">new</span> BlackBallPen();</span><br><span class="line">penCore = ballPen.getPenCore();</span><br><span class="line">penCore.writeWord(<span class="string">"Nice to meet you"</span>);</span><br></pre></td></tr></table></figure><h3 id="2-实验执行结果-2"><a href="#2-实验执行结果-2" class="headerlink" title="2.实验执行结果"></a>2.实验执行结果</h3><p><img src="https://s2.ax1x.com/2019/11/02/KqfZz4.png" alt="KqfZz4.png"></p><h3 id="3-本次收获体会-2"><a href="#3-本次收获体会-2" class="headerlink" title="3.本次收获体会"></a>3.本次收获体会</h3><p>了解和认识了基本的工厂方法模式，对模式的架构和流程有了基本的认识。</p><blockquote style="margin: 2em 0 0;padding: 0.5em 1em;border-left: 3px solid #F44336;background-color: #F5F5F5;list-style: none;"><p> <strong>本文使用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/" target="_blank" rel="noopener">CC BY-NC-SA 3.0 中国大陆</a> 协议许可<br>具体请参见 <a href="https://zyhang8.github.io/agree/" target="_blank" rel="noopener">知识共享协议</a></strong><br> <strong>本文链接：</strong><a href="https://zyhang8.github.io/2019/11/10/design-exp5/" target="_blank" rel="noopener">https://zyhang8.github.io/2019/11/10/design-exp5/</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 设计模式 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 设计模式 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>责任链模式和外观模式</title>
      <link href="/2019/11/09/design-exp4/"/>
      <url>/2019/11/09/design-exp4/</url>
      
        <content type="html"><![CDATA[<h1 id="责任链模式和外观模式"><a href="#责任链模式和外观模式" class="headerlink" title="责任链模式和外观模式"></a>责任链模式和外观模式</h1><h2 id="一-责任链模式，模拟身份证查询"><a href="#一-责任链模式，模拟身份证查询" class="headerlink" title="一.责任链模式，模拟身份证查询"></a>一.责任链模式，模拟身份证查询</h2><h3 id="1-实验内容和源程序"><a href="#1-实验内容和源程序" class="headerlink" title="1.实验内容和源程序"></a>1.实验内容和源程序</h3><p>Application.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Application</span></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Handler beijing,shanghai,tianjin;    <span class="comment">//责任链上的对象</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">createChain</span><span class="params">()</span></span>&#123;       <span class="comment">//建立责任链</span></span><br><span class="line">       beijing=<span class="keyword">new</span> Beijing();</span><br><span class="line">       shanghai=<span class="keyword">new</span> Shanghai();</span><br><span class="line">       tianjin=<span class="keyword">new</span> Tianjin();</span><br><span class="line">       beijing.setNextHandler(shanghai);</span><br><span class="line">       shanghai.setNextHandler(tianjin);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">reponseClient</span><span class="params">(String number)</span></span>&#123;  <span class="comment">//响应用户的请求</span></span><br><span class="line">       beijing.handleRequest(number);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span></span>&#123;</span><br><span class="line">       Application  application=<span class="keyword">new</span>  Application();</span><br><span class="line">       application.createChain();</span><br><span class="line">       application.reponseClient(<span class="string">"30029812340930034"</span>);;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Beijing.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Beijing</span> <span class="keyword">implements</span> <span class="title">Handler</span></span>&#123;</span><br><span class="line">     <span class="keyword">private</span> Handler handler;      <span class="comment">//存放当前处理者后继的Hander接口变量</span></span><br><span class="line">     <span class="keyword">private</span> ArrayList&lt;String&gt; numberList; <span class="comment">//存放身份证号码的数组线性表</span></span><br><span class="line">     Beijing()&#123;</span><br><span class="line">        numberList=<span class="keyword">new</span> ArrayList&lt;String&gt;();</span><br><span class="line">        numberList.add(<span class="string">"11129812340930034"</span>); <span class="comment">//这里使用模拟的身份证号码</span></span><br><span class="line">        numberList.add(<span class="string">"10120810340930632"</span>);</span><br><span class="line">        numberList.add(<span class="string">"22029812340930034"</span>); </span><br><span class="line">        numberList.add(<span class="string">"32620810340930632"</span>);</span><br><span class="line">     &#125;</span><br><span class="line">     <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">handleRequest</span><span class="params">(String number)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(numberList.contains(number))</span><br><span class="line">           System.out.println(<span class="string">"该人在北京居住"</span>);</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">           System.out.println(<span class="string">"该人不在北京居住"</span>);</span><br><span class="line">           <span class="keyword">if</span>(handler!=<span class="keyword">null</span>)</span><br><span class="line">             handler.handleRequest(number);      <span class="comment">//将请求传递给下一个处理者</span></span><br><span class="line">        &#125;</span><br><span class="line">     &#125;</span><br><span class="line">     <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setNextHandler</span><span class="params">(Handler handler)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.handler=handler;</span><br><span class="line">     &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Handler.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Handler</span></span>&#123;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">handleRequest</span><span class="params">(String number)</span></span>;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">setNextHandler</span><span class="params">(Handler handler)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Shanghai.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Shanghai</span> <span class="keyword">implements</span> <span class="title">Handler</span></span>&#123;</span><br><span class="line">     <span class="keyword">private</span> Handler handler;              <span class="comment">//存放当前处理者后继的Hander接口变量</span></span><br><span class="line">     <span class="keyword">private</span> ArrayList&lt;String&gt; numberList; <span class="comment">//存放身份证号码的数组线性表</span></span><br><span class="line">     Shanghai()&#123;</span><br><span class="line">        numberList=<span class="keyword">new</span> ArrayList&lt;String&gt;();</span><br><span class="line">        numberList.add(<span class="string">"34529812340930034"</span>); <span class="comment">//这里使用模拟的身份证号码</span></span><br><span class="line">        numberList.add(<span class="string">"98720810340430632"</span>);</span><br><span class="line">        numberList.add(<span class="string">"36529812340930034"</span>); </span><br><span class="line">        numberList.add(<span class="string">"77720810340930632"</span>);</span><br><span class="line">     &#125;</span><br><span class="line">     <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">handleRequest</span><span class="params">(String number)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(numberList.contains(number))</span><br><span class="line">           System.out.println(<span class="string">"该人在上海居住"</span>);</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">           System.out.println(<span class="string">"该人不在上海居住"</span>);</span><br><span class="line">           <span class="keyword">if</span>(handler!=<span class="keyword">null</span>)</span><br><span class="line">              handler.handleRequest(number);      <span class="comment">//将请求传递给下一个处理者</span></span><br><span class="line">        &#125;</span><br><span class="line">     &#125;</span><br><span class="line">     <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setNextHandler</span><span class="params">(Handler handler)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.handler=handler;</span><br><span class="line">     &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Tianjin.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Tianjin</span> <span class="keyword">implements</span> <span class="title">Handler</span></span>&#123;</span><br><span class="line">     <span class="keyword">private</span> Handler handler;              <span class="comment">//存放当前处理者后继的Hander接口变量</span></span><br><span class="line">     <span class="keyword">private</span> ArrayList&lt;String&gt; numberList; <span class="comment">//存放身份证号码的数组线性表</span></span><br><span class="line">     Tianjin()&#123;</span><br><span class="line">        numberList=<span class="keyword">new</span> ArrayList&lt;String&gt;();</span><br><span class="line">        numberList.add(<span class="string">"10029812340930034"</span>); <span class="comment">//这里使用模拟的身份证号码</span></span><br><span class="line">        numberList.add(<span class="string">"20020810340430632"</span>);</span><br><span class="line">        numberList.add(<span class="string">"30029812340930034"</span>); </span><br><span class="line">        numberList.add(<span class="string">"50020810340930632"</span>);</span><br><span class="line">     &#125;</span><br><span class="line">     <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">handleRequest</span><span class="params">(String number)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(numberList.contains(number))</span><br><span class="line">           System.out.println(<span class="string">"该人在天津居住"</span>);</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">           System.out.println(<span class="string">"该人不在天津居住"</span>);</span><br><span class="line">           <span class="keyword">if</span>(handler!=<span class="keyword">null</span>)</span><br><span class="line">              handler.handleRequest(number);      <span class="comment">//将请求传递给下一个处理者</span></span><br><span class="line">        &#125;</span><br><span class="line">     &#125;</span><br><span class="line">     <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setNextHandler</span><span class="params">(Handler handler)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.handler=handler;</span><br><span class="line">     &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="2-实验执行结果"><a href="#2-实验执行结果" class="headerlink" title="2.实验执行结果"></a>2.实验执行结果</h3><p><img src="https://s2.ax1x.com/2019/11/02/KqRc4S.png" alt="KqRc4S.png"></p><h3 id="3-本次收获体会"><a href="#3-本次收获体会" class="headerlink" title="3.本次收获体会"></a>3.本次收获体会</h3><p>责任链模式可以使多个对象都有机会处理请求，从而避免请求的发送者和接受者之间的耦合关系， 将这个对象连成一条链，并沿着这条链传递该请求，直到有一个对象处理他为止</p><h2 id="二-责任链模式上，设计循环责任链模式，查询起点可以任意设定"><a href="#二-责任链模式上，设计循环责任链模式，查询起点可以任意设定" class="headerlink" title="二.责任链模式上，设计循环责任链模式，查询起点可以任意设定"></a>二.责任链模式上，设计循环责任链模式，查询起点可以任意设定</h2><h3 id="1-实验内容和源程序-1"><a href="#1-实验内容和源程序-1" class="headerlink" title="1.实验内容和源程序"></a>1.实验内容和源程序</h3><p>循环模式只是更改了Application.java里面的内容，其余与第一题一样</p><p>Application.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Application</span></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Handler beijing,shanghai,tianjin;    <span class="comment">//责任链上的对象</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">createChain</span><span class="params">()</span></span>&#123;       <span class="comment">//建立责任链</span></span><br><span class="line">       beijing=<span class="keyword">new</span> Beijing();</span><br><span class="line">       shanghai=<span class="keyword">new</span> Shanghai();</span><br><span class="line">       tianjin=<span class="keyword">new</span> Tianjin();</span><br><span class="line">       beijing.setNextHandler(shanghai);</span><br><span class="line">       shanghai.setNextHandler(tianjin);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">reponseClient</span><span class="params">(String number)</span></span>&#123;  <span class="comment">//响应用户的请求</span></span><br><span class="line">       beijing.handleRequest(number);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span></span>&#123;</span><br><span class="line">       Application  application=<span class="keyword">new</span>  Application();</span><br><span class="line">       application.createChain();</span><br><span class="line">       <span class="keyword">while</span> (<span class="keyword">true</span>) &#123;</span><br><span class="line">       Scanner input = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">       System.out.println(<span class="string">"请输入身份证号:"</span>);</span><br><span class="line">       String name = input.next();</span><br><span class="line">       application.reponseClient(name);</span><br><span class="line">       &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="2-实验执行结果-1"><a href="#2-实验执行结果-1" class="headerlink" title="2.实验执行结果"></a>2.实验执行结果</h3><p><img src="https://s2.ax1x.com/2019/11/02/KqR29g.png" alt="KqR29g.png"></p><h2 id="三-外观模式，模拟广告社排版"><a href="#三-外观模式，模拟广告社排版" class="headerlink" title="三.外观模式，模拟广告社排版"></a>三.外观模式，模拟广告社排版</h2><h3 id="1-实验内容和源程序-2"><a href="#1-实验内容和源程序-2" class="headerlink" title="1.实验内容和源程序"></a>1.实验内容和源程序</h3><p>Application.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Application</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span></span>&#123;</span><br><span class="line">       ClientServerFacade clientFacade;</span><br><span class="line">       String clientAdvertisement=<span class="string">"月光电脑，价格6356元，联系电话：1234567"</span>;</span><br><span class="line">       clientFacade=<span class="keyword">new</span> ClientServerFacade(clientAdvertisement);</span><br><span class="line">       clientFacade.doAdvertisement();</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Charge.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Charge</span></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">int</span> basicCharge=<span class="number">12</span>;</span><br><span class="line">    CheckWord checkWord;</span><br><span class="line">    Charge(CheckWord checkWord)&#123;</span><br><span class="line">       <span class="keyword">this</span>.checkWord=checkWord;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">giveCharge</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> charge=checkWord.getAmount()*basicCharge;</span><br><span class="line">        System.out.println(<span class="string">"广告费用:"</span>+charge+<span class="string">"元"</span>);</span><br><span class="line">    &#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>CheckWord.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CheckWord</span></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">int</span> basicAmount=<span class="number">85</span>;</span><br><span class="line">    String advertisement;</span><br><span class="line">    <span class="keyword">int</span> amount;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">CheckWord</span><span class="params">(String advertisement)</span></span>&#123;</span><br><span class="line">       <span class="keyword">this</span>.advertisement=advertisement;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setChargeAmount</span><span class="params">()</span></span>&#123;  </span><br><span class="line">       amount=advertisement.length()+basicAmount; <span class="comment">//计算出计费字符数目</span></span><br><span class="line">    &#125; </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getAmount</span><span class="params">()</span></span>&#123;</span><br><span class="line">       <span class="keyword">return</span> amount;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ClientServerFacade.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ClientServerFacade</span></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> CheckWord checkWord;</span><br><span class="line">    <span class="keyword">private</span> Charge charge;</span><br><span class="line">    <span class="keyword">private</span> TypeSeting typeSeting;</span><br><span class="line">    String advertisement;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">ClientServerFacade</span><span class="params">(String advertisement)</span></span>&#123;</span><br><span class="line">       <span class="keyword">this</span>.advertisement=advertisement;</span><br><span class="line">       checkWord=<span class="keyword">new</span> CheckWord(advertisement);</span><br><span class="line">       charge=<span class="keyword">new</span> Charge(checkWord);</span><br><span class="line">       typeSeting=<span class="keyword">new</span> TypeSeting(advertisement); </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doAdvertisement</span><span class="params">()</span></span>&#123; </span><br><span class="line">       checkWord.setChargeAmount();</span><br><span class="line">       charge.giveCharge();</span><br><span class="line">       typeSeting.typeSeting();</span><br><span class="line">    &#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>SafetyCheck.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SafetyCheck</span></span>&#123;</span><br><span class="line">    String clientPacket;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">SafetyCheck</span><span class="params">(String clientPacket)</span></span>&#123;</span><br><span class="line">       <span class="keyword">this</span>.clientPacket=clientPacket;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isSave</span><span class="params">()</span></span>&#123;</span><br><span class="line">       <span class="keyword">if</span>(clientPacket.contains(<span class="string">"汽油"</span>))</span><br><span class="line">          <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">       <span class="keyword">else</span></span><br><span class="line">          <span class="keyword">return</span> <span class="keyword">true</span>; </span><br><span class="line">    &#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>TypeSeting.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TypeSeting</span></span>&#123;</span><br><span class="line">    String advertisement;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">TypeSeting</span><span class="params">(String advertisement)</span></span>&#123;</span><br><span class="line">       <span class="keyword">this</span>.advertisement=advertisement;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">typeSeting</span><span class="params">()</span></span>&#123; </span><br><span class="line">       System.out.println(<span class="string">"广告排版格式:"</span>);</span><br><span class="line">       System.out.println(<span class="string">"********"</span>);</span><br><span class="line">       System.out.println(advertisement);</span><br><span class="line">       System.out.println(<span class="string">"********"</span>);  </span><br><span class="line">    &#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="2-实验执行结果-2"><a href="#2-实验执行结果-2" class="headerlink" title="2.实验执行结果"></a>2.实验执行结果</h3><p><img src="https://s2.ax1x.com/2019/11/02/KqR6N8.png" alt="KqR6N8.png"></p><h3 id="3-本次收获体会-1"><a href="#3-本次收获体会-1" class="headerlink" title="3.本次收获体会"></a>3.本次收获体会</h3><p>外观模式（Facade）,他隐藏了系统的复杂性，并向客户端提供了一个可以访问系统的接口。这种类型的设计模式属于结构性模式。为子系统中的一组接口提供了一个统一的访问接口，这个接口使得子系统更容易被访问或者使用。</p><blockquote style="margin: 2em 0 0;padding: 0.5em 1em;border-left: 3px solid #F44336;background-color: #F5F5F5;list-style: none;"><p> <strong>本文使用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/" target="_blank" rel="noopener">CC BY-NC-SA 3.0 中国大陆</a> 协议许可<br>具体请参见 <a href="https://zyhang8.github.io/agree/" target="_blank" rel="noopener">知识共享协议</a></strong><br> <strong>本文链接：</strong><a href="https://zyhang8.github.io/2019/11/09/design-exp4/" target="_blank" rel="noopener">https://zyhang8.github.io/2019/11/09/design-exp4/</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 设计模式 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 设计模式 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>策略模式和适配器模式</title>
      <link href="/2019/11/08/design-exp3/"/>
      <url>/2019/11/08/design-exp3/</url>
      
        <content type="html"><![CDATA[<h1 id="策略模式和适配器模式"><a href="#策略模式和适配器模式" class="headerlink" title="策略模式和适配器模式"></a>策略模式和适配器模式</h1><h2 id="一-策略模式"><a href="#一-策略模式" class="headerlink" title="一.策略模式"></a>一.策略模式</h2><h3 id="1-实验内容和源程序"><a href="#1-实验内容和源程序" class="headerlink" title="1.实验内容和源程序"></a>1.实验内容和源程序</h3><p>Application.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Application</span></span>&#123;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span></span>&#123;</span><br><span class="line">     GymnasticsGame game=<span class="keyword">new</span> GymnasticsGame();  <span class="comment">//上下文对象</span></span><br><span class="line">     game.setStrategy(<span class="keyword">new</span> StrategyOne());       <span class="comment">//上下文对象使用策略一</span></span><br><span class="line">     Person zhang=<span class="keyword">new</span> Person();</span><br><span class="line">     zhang.setName(<span class="string">"张三"</span>);</span><br><span class="line">     <span class="keyword">double</span> [] a=&#123;<span class="number">9.12</span>,<span class="number">9.25</span>,<span class="number">8.87</span>,<span class="number">9.99</span>,<span class="number">6.99</span>,<span class="number">7.88</span>&#125;;</span><br><span class="line">     Person li=<span class="keyword">new</span> Person();</span><br><span class="line">     li.setName(<span class="string">"李四"</span>);</span><br><span class="line">     <span class="keyword">double</span> [] b=&#123;<span class="number">9.15</span>,<span class="number">9.26</span>,<span class="number">8.97</span>,<span class="number">9.89</span>,<span class="number">6.97</span>,<span class="number">7.89</span>&#125;;   </span><br><span class="line">     zhang.setScore(game.getPersonScore(a));</span><br><span class="line">     li.setScore(game.getPersonScore(b));</span><br><span class="line">     System.out.println(<span class="string">"使用算术平均值方案:"</span>);</span><br><span class="line">     System.out.printf(<span class="string">"%s最后得分:%5.3f%n"</span>,zhang.getName(),zhang.getScore());</span><br><span class="line">     System.out.printf(<span class="string">"%s最后得分:%5.3f%n"</span>,li.getName(),li.getScore());</span><br><span class="line">     game.setStrategy(<span class="keyword">new</span> StrategyTwo());   <span class="comment">//上下文对象使用策略二</span></span><br><span class="line">     zhang.setScore(game.getPersonScore(a));</span><br><span class="line">     li.setScore(game.getPersonScore(b));</span><br><span class="line">     System.out.println(<span class="string">"使用几何平均值方案:"</span>);</span><br><span class="line">     System.out.printf(<span class="string">"%s最后得分:%5.3f%n"</span>,zhang.getName(),zhang.getScore());</span><br><span class="line">     System.out.printf(<span class="string">"%s最后得分:%5.3f%n"</span>,li.getName(),li.getScore());  </span><br><span class="line">     game.setStrategy(<span class="keyword">new</span> StrategyThree());   <span class="comment">//上下文对象使用策略三</span></span><br><span class="line">     zhang.setScore(game.getPersonScore(a));</span><br><span class="line">     li.setScore(game.getPersonScore(b));</span><br><span class="line">     System.out.println(<span class="string">"使用（去掉最高、最底）算术平均值方案:"</span>);</span><br><span class="line">     System.out.printf(<span class="string">"%s最后得分:%5.3f%n"</span>,zhang.getName(),zhang.getScore());</span><br><span class="line">     System.out.printf(<span class="string">"%s最后得分:%5.3f%n"</span>,li.getName(),li.getScore());            </span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span></span>&#123;</span><br><span class="line">   String name;</span><br><span class="line">   <span class="keyword">double</span> score;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setScore</span><span class="params">(<span class="keyword">double</span> t)</span></span>&#123;</span><br><span class="line">      score=t;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String s)</span></span>&#123;</span><br><span class="line">      name=s;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">double</span> <span class="title">getScore</span><span class="params">()</span></span>&#123;</span><br><span class="line">      <span class="keyword">return</span> score;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span></span>&#123;</span><br><span class="line">      <span class="keyword">return</span> name;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ComputableStrategy.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">ComputableStrategy</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">double</span> <span class="title">computeScore</span><span class="params">(<span class="keyword">double</span> [] a)</span></span>;</span><br><span class="line">&#125;</span><br><span class="line">GymnasticsGame.java</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span>  <span class="title">GymnasticsGame</span></span>&#123;</span><br><span class="line">     ComputableStrategy strategy;</span><br><span class="line">     <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setStrategy</span><span class="params">(ComputableStrategy strategy)</span></span>&#123;</span><br><span class="line">         <span class="keyword">this</span>.strategy=strategy;</span><br><span class="line">     &#125; </span><br><span class="line">     <span class="function"><span class="keyword">public</span> <span class="keyword">double</span> <span class="title">getPersonScore</span><span class="params">(<span class="keyword">double</span> [] a)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(strategy!=<span class="keyword">null</span>)</span><br><span class="line">          <span class="keyword">return</span> strategy.computeScore(a); </span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">          <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">     &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>StrategyOne.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">StrategyOne</span> <span class="keyword">implements</span> <span class="title">ComputableStrategy</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">double</span> <span class="title">computeScore</span><span class="params">(<span class="keyword">double</span> [] a)</span></span>&#123;</span><br><span class="line">        <span class="keyword">double</span> score=<span class="number">0</span>,sum=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;a.length;i++)&#123;</span><br><span class="line">            sum=sum+a[i];</span><br><span class="line">        &#125;</span><br><span class="line">        score=sum/a.length;</span><br><span class="line">        <span class="keyword">return</span> score; </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>StrategyThree.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">StrategyThree</span> <span class="keyword">implements</span> <span class="title">ComputableStrategy</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">double</span> <span class="title">computeScore</span><span class="params">(<span class="keyword">double</span> [] a)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(a.length&lt;=<span class="number">2</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">double</span> score=<span class="number">0</span>,sum=<span class="number">0</span>;</span><br><span class="line">        Arrays.sort(a);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;a.length-<span class="number">1</span>;i++)&#123;</span><br><span class="line">           sum=sum+a[i]; </span><br><span class="line">        &#125;</span><br><span class="line">        score=sum/(a.length-<span class="number">2</span>);</span><br><span class="line">        <span class="keyword">return</span> score; </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>StrategyTwo.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">StrategyTwo</span> <span class="keyword">implements</span> <span class="title">ComputableStrategy</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">double</span> <span class="title">computeScore</span><span class="params">(<span class="keyword">double</span> [] a)</span></span>&#123;</span><br><span class="line">        <span class="keyword">double</span> score=<span class="number">0</span>,multi=<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">int</span> n=a.length;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;a.length;i++)&#123;</span><br><span class="line">            multi=multi*a[i];</span><br><span class="line">        &#125;</span><br><span class="line">        score=Math.pow(multi,<span class="number">1.0</span>/n);</span><br><span class="line">        <span class="keyword">return</span> score; </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="2-实验执行结果"><a href="#2-实验执行结果" class="headerlink" title="2.实验执行结果"></a>2.实验执行结果</h3><p><img src="https://s2.ax1x.com/2019/11/02/Kq2lo8.png" alt="Kq2lo8.png"></p><h3 id="3-本次收获体会"><a href="#3-本次收获体会" class="headerlink" title="3.本次收获体会"></a>3.本次收获体会</h3><p>创建一个能够根据所传递对象的不同而具有不同行为的方法被称为策略设计模式；这类方法包含所要执行的算法中固定不变的部分，而“策略”包含变化的部分。策略就是传递进去的参数对象，它包含要执行的代码。</p><h2 id="二-适配器模式"><a href="#二-适配器模式" class="headerlink" title="二.适配器模式"></a>二.适配器模式</h2><h3 id="1-实验内容和源程序-1"><a href="#1-实验内容和源程序-1" class="headerlink" title="1.实验内容和源程序"></a>1.实验内容和源程序</h3><p>Application.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Application</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span></span>&#123;</span><br><span class="line">       ThreeElectricOutlet outlet;        <span class="comment">//目标接口（三相插座）</span></span><br><span class="line">       Wash wash=<span class="keyword">new</span> Wash();              <span class="comment">//洗衣机</span></span><br><span class="line">       outlet=wash;                       <span class="comment">//洗衣机插在三相插座上</span></span><br><span class="line">       System.out.println(<span class="string">"使用三相插座接通电流："</span>);</span><br><span class="line">       outlet.connectElectricCurrent();   <span class="comment">//接通电流，开始洗衣服</span></span><br><span class="line">       TV tv=<span class="keyword">new</span> TV();                     <span class="comment">//电视机</span></span><br><span class="line">       TreeElectricAdapter adapter=<span class="keyword">new</span>  TreeElectricAdapter(tv);<span class="comment">//把电视插在适配器上</span></span><br><span class="line">       outlet=adapter;                    <span class="comment">//适配器插在三相插座上</span></span><br><span class="line">       System.out.println(<span class="string">"使用三相插座接通电流："</span>);</span><br><span class="line">       outlet.connectElectricCurrent();   <span class="comment">//接通电流，开始播放电视节目</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Wash</span> <span class="keyword">implements</span> <span class="title">ThreeElectricOutlet</span></span>&#123; <span class="comment">//洗衣机使用三相插座</span></span><br><span class="line">    String name;</span><br><span class="line">    Wash()&#123;</span><br><span class="line">       name=<span class="string">"黄河洗衣机"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    Wash(String s)&#123;</span><br><span class="line">       name=s;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">connectElectricCurrent</span><span class="params">()</span></span>&#123;</span><br><span class="line">       turnOn();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">turnOn</span><span class="params">()</span></span>&#123;</span><br><span class="line">       System.out.println(name+<span class="string">"开始洗衣物。"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TV</span> <span class="keyword">implements</span> <span class="title">TwoElectricOutlet</span></span>&#123;    <span class="comment">//电视机使用两相插座</span></span><br><span class="line">    String name;</span><br><span class="line">    TV()&#123;</span><br><span class="line">       name=<span class="string">"长江电视机"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    TV(String s)&#123;</span><br><span class="line">       name=s;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">connectElectricCurrent</span><span class="params">()</span></span>&#123;</span><br><span class="line">       turnOn();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">turnOn</span><span class="params">()</span></span>&#123;</span><br><span class="line">       System.out.println(name+<span class="string">"开始播放节目。"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ThreeElectricOutlet.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">ThreeElectricOutlet</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">connectElectricCurrent</span><span class="params">()</span></span>; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>TreeElectricAdapter.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TreeElectricAdapter</span> <span class="keyword">implements</span> <span class="title">ThreeElectricOutlet</span></span>&#123;</span><br><span class="line">   TwoElectricOutlet outlet;</span><br><span class="line">   TreeElectricAdapter(TwoElectricOutlet outlet)&#123;</span><br><span class="line">       <span class="keyword">this</span>.outlet=outlet;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">connectElectricCurrent</span><span class="params">()</span></span>&#123;</span><br><span class="line">       outlet.connectElectricCurrent();</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>TwoElectricOutlet.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">TwoElectricOutlet</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">connectElectricCurrent</span><span class="params">()</span></span>; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="2-实验执行结果-1"><a href="#2-实验执行结果-1" class="headerlink" title="2.实验执行结果"></a>2.实验执行结果</h3><p><img src="https://s2.ax1x.com/2019/11/02/Kq2Qdf.png" alt="Kq2Qdf.png"></p><h3 id="3-本次收获体会-1"><a href="#3-本次收获体会-1" class="headerlink" title="3.本次收获体会"></a>3.本次收获体会</h3><p>适配器可以将一个类的接口转换成客户希望的另外一个接口。适配器模式使得原本由于接口不兼容而不能一起工作的那些类可以一起工作。</p><h2 id="三-双向适配器模式"><a href="#三-双向适配器模式" class="headerlink" title="三.双向适配器模式"></a>三.双向适配器模式</h2><h3 id="1-实验内容和源程序-2"><a href="#1-实验内容和源程序-2" class="headerlink" title="1.实验内容和源程序"></a>1.实验内容和源程序</h3><p>Application.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Application</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span></span>&#123;</span><br><span class="line">       ElectricOutlet outlet;        <span class="comment">//目标接口（三相+双相插座）</span></span><br><span class="line">       Wash wash=<span class="keyword">new</span> Wash();              <span class="comment">//洗衣机</span></span><br><span class="line">       outlet=wash;                       <span class="comment">//洗衣机插在插座上</span></span><br><span class="line">       System.out.println(<span class="string">"使用多功能插座接通电流："</span>);</span><br><span class="line">       outlet.connectElectricCurrent();   <span class="comment">//接通电流，开始洗衣服</span></span><br><span class="line">       TV tv=<span class="keyword">new</span> TV();                     <span class="comment">//电视机</span></span><br><span class="line">       outlet=tv;                    <span class="comment">//电视自己插在插座上</span></span><br><span class="line">       System.out.println(<span class="string">"使用多功能插座接通电流："</span>);</span><br><span class="line">       outlet.connectElectricCurrent();   <span class="comment">//接通电流，开始播放电视节目</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Wash</span> <span class="keyword">implements</span> <span class="title">ElectricOutlet</span></span>&#123; <span class="comment">//洗衣机使用三相插座</span></span><br><span class="line">    String name;</span><br><span class="line">    Wash()&#123;</span><br><span class="line">       name=<span class="string">"黄河洗衣机"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    Wash(String s)&#123;</span><br><span class="line">       name=s;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">connectElectricCurrent</span><span class="params">()</span></span>&#123;</span><br><span class="line">       turnOn();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">turnOn</span><span class="params">()</span></span>&#123;</span><br><span class="line">       System.out.println(name+<span class="string">"开始洗衣物。"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TV</span> <span class="keyword">implements</span> <span class="title">ElectricOutlet</span></span>&#123;    <span class="comment">//电视机使用两相插座</span></span><br><span class="line">    String name;</span><br><span class="line">    TV()&#123;</span><br><span class="line">       name=<span class="string">"长江电视机"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    TV(String s)&#123;</span><br><span class="line">       name=s;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">connectElectricCurrent</span><span class="params">()</span></span>&#123;</span><br><span class="line">       turnOn();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">turnOn</span><span class="params">()</span></span>&#123;</span><br><span class="line">       System.out.println(name+<span class="string">"开始播放节目。"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ElectricAdapter.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ElectricAdapter</span> <span class="keyword">implements</span> <span class="title">ThreeElectricOutlet</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    ElectricOutlet outlet;</span><br><span class="line">    ElectricAdapter(ElectricOutlet outlet)&#123;</span><br><span class="line">        <span class="keyword">this</span>.outlet=outlet;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">connectElectricCurrent</span><span class="params">()</span></span>&#123;</span><br><span class="line">        outlet.connectElectricCurrent();</span><br><span class="line">    &#125;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure><p>ElectricOutlet.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">ElectricOutlet</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">connectElectricCurrent</span><span class="params">()</span></span>; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ThreeElectricOutlet.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">ThreeElectricOutlet</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">connectElectricCurrent</span><span class="params">()</span></span>; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="2-实验执行结果-2"><a href="#2-实验执行结果-2" class="headerlink" title="2.实验执行结果"></a>2.实验执行结果</h3><p><img src="https://s2.ax1x.com/2019/11/02/Kq2MeP.png" alt="Kq2MeP.png"></p><h3 id="3-本次收获体会-2"><a href="#3-本次收获体会-2" class="headerlink" title="3.本次收获体会"></a>3.本次收获体会</h3><p>掌握了双向适配器</p><blockquote style="margin: 2em 0 0;padding: 0.5em 1em;border-left: 3px solid #F44336;background-color: #F5F5F5;list-style: none;"><p> <strong>本文使用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/" target="_blank" rel="noopener">CC BY-NC-SA 3.0 中国大陆</a> 协议许可<br>具体请参见 <a href="https://zyhang8.github.io/agree/" target="_blank" rel="noopener">知识共享协议</a></strong><br> <strong>本文链接：</strong><a href="https://zyhang8.github.io/2019/11/08/design-exp3/" target="_blank" rel="noopener">https://zyhang8.github.io/2019/11/08/design-exp3/</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 设计模式 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 设计模式 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>观察者模式和装饰模式</title>
      <link href="/2019/11/07/design-exp2/"/>
      <url>/2019/11/07/design-exp2/</url>
      
        <content type="html"><![CDATA[<h1 id="观察者模式和装饰模式"><a href="#观察者模式和装饰模式" class="headerlink" title="观察者模式和装饰模式"></a>观察者模式和装饰模式</h1><h2 id="一-验证观察者模式一，实现求职中心的模拟"><a href="#一-验证观察者模式一，实现求职中心的模拟" class="headerlink" title="一.验证观察者模式一，实现求职中心的模拟"></a>一.验证观察者模式一，实现求职中心的模拟</h2><h3 id="1-实验内容和源程序"><a href="#1-实验内容和源程序" class="headerlink" title="1.实验内容和源程序"></a>1.实验内容和源程序</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line">Subject.java</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Subject</span></span>&#123;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addObserver</span><span class="params">(Observer o)</span></span>;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">deleteObserver</span><span class="params">(Observer o)</span></span>;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">notifyObservers</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line">Observer.java</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Observer</span></span>&#123;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">hearTelephone</span><span class="params">(String heardMess)</span></span>;</span><br><span class="line">&#125;</span><br><span class="line">SeekJobCenter.java</span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;                      </span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SeekJobCenter</span> <span class="keyword">implements</span> <span class="title">Subject</span></span>&#123;</span><br><span class="line">    String mess;</span><br><span class="line">    <span class="keyword">boolean</span> changed;</span><br><span class="line">    ArrayList&lt;Observer&gt; personList;             </span><br><span class="line">    SeekJobCenter()&#123;</span><br><span class="line">       personList=<span class="keyword">new</span> ArrayList&lt;Observer&gt;();</span><br><span class="line">       mess=<span class="string">""</span>; </span><br><span class="line">       changed=<span class="keyword">false</span>; </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addObserver</span><span class="params">(Observer o)</span></span>&#123;</span><br><span class="line">       <span class="keyword">if</span>(!(personList.contains(o)))</span><br><span class="line">         personList.add(o);                    </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">deleteObserver</span><span class="params">(Observer o)</span></span>&#123;</span><br><span class="line">       <span class="keyword">if</span>(personList.contains(o))</span><br><span class="line">         personList.remove(o); </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">notifyObservers</span><span class="params">()</span></span>&#123; </span><br><span class="line">       <span class="keyword">if</span>(changed)&#123;             </span><br><span class="line">          <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;personList.size();i++)&#123;</span><br><span class="line">            Observer observer=personList.get(i);</span><br><span class="line">            observer.hearTelephone(mess);         </span><br><span class="line">          &#125;</span><br><span class="line">          changed=<span class="keyword">false</span>; </span><br><span class="line">       &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">giveNewMess</span><span class="params">(String str)</span></span>&#123;</span><br><span class="line">       <span class="keyword">if</span>(str.equals(mess))</span><br><span class="line">             changed=<span class="keyword">false</span>;</span><br><span class="line">       <span class="keyword">else</span>&#123;</span><br><span class="line">             mess=str;</span><br><span class="line">             changed=<span class="keyword">true</span>;</span><br><span class="line">       &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">UniverStudent.java</span><br><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UniverStudent</span> <span class="keyword">implements</span> <span class="title">Observer</span></span>&#123;</span><br><span class="line">   Subject subject;</span><br><span class="line">   File myFile;  </span><br><span class="line">   UniverStudent(Subject subject,String fileName)&#123;</span><br><span class="line">      <span class="keyword">this</span>.subject=subject;</span><br><span class="line">      subject.addObserver(<span class="keyword">this</span>);     <span class="comment">//使当前实例成为subject所引用的具体主题的观察者</span></span><br><span class="line">      myFile=<span class="keyword">new</span> File(fileName);</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">hearTelephone</span><span class="params">(String heardMess)</span></span>&#123;</span><br><span class="line">      <span class="keyword">try</span>&#123; RandomAccessFile out=<span class="keyword">new</span> RandomAccessFile(myFile,<span class="string">"rw"</span>);  </span><br><span class="line">           out.seek(out.length());</span><br><span class="line">           <span class="keyword">byte</span> [] b=heardMess.getBytes();</span><br><span class="line">           out.write(b);                               <span class="comment">//更新文件中的内容</span></span><br><span class="line">           System.out.print(<span class="string">"我是一个大学生,"</span>); </span><br><span class="line">           System.out.println(<span class="string">"我向文件"</span>+myFile.getName()+<span class="string">"写入如下内容:"</span>);</span><br><span class="line">           System.out.println(heardMess); </span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">catch</span>(IOException exp)&#123;</span><br><span class="line">          System.out.println(exp.toString());</span><br><span class="line">      &#125;</span><br><span class="line">  &#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Haigui.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"><span class="keyword">import</span> java.util.regex.*;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HaiGui</span> <span class="keyword">implements</span> <span class="title">Observer</span></span>&#123;</span><br><span class="line">   Subject subject;</span><br><span class="line">   File myFile;  </span><br><span class="line">   HaiGui(Subject subject,String fileName)&#123;</span><br><span class="line">      <span class="keyword">this</span>.subject=subject;</span><br><span class="line">      subject.addObserver(<span class="keyword">this</span>);    </span><br><span class="line">      myFile=<span class="keyword">new</span> File(fileName);</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">hearTelephone</span><span class="params">(String heardMess)</span></span>&#123;</span><br><span class="line">      <span class="keyword">try</span>&#123; <span class="keyword">boolean</span> boo=heardMess.contains(<span class="string">"java程序员"</span>)||heardMess.contains(<span class="string">"软件"</span>);</span><br><span class="line">           <span class="keyword">if</span>(boo)&#123; </span><br><span class="line">             RandomAccessFile out=<span class="keyword">new</span> RandomAccessFile(myFile,<span class="string">"rw"</span>);  </span><br><span class="line">             out.seek(out.length());</span><br><span class="line">             <span class="keyword">byte</span> [] b=heardMess.getBytes();</span><br><span class="line">             out.write(b); </span><br><span class="line">             System.out.print(<span class="string">"我是一个海归,"</span>); </span><br><span class="line">             System.out.println(<span class="string">"我向文件"</span>+myFile.getName()+<span class="string">"写入如下内容:"</span>);</span><br><span class="line">             System.out.println(heardMess);</span><br><span class="line">           &#125;</span><br><span class="line">           <span class="keyword">else</span>&#123;</span><br><span class="line">              System.out.println(<span class="string">"我是海归,这次的信息中没有我需要的信息"</span>);</span><br><span class="line">           &#125; </span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">catch</span>(IOException exp)&#123;</span><br><span class="line">          System.out.println(exp.toString());</span><br><span class="line">      &#125;</span><br><span class="line">  &#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Application.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Application</span></span>&#123;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span></span>&#123;</span><br><span class="line">      SeekJobCenter center=<span class="keyword">new</span> SeekJobCenter();                </span><br><span class="line">      UniverStudent zhangLin=<span class="keyword">new</span> UniverStudent(center,<span class="string">"A.txt"</span>);</span><br><span class="line">      HaiGui wangHao=<span class="keyword">new</span> HaiGui(center,<span class="string">"B.txt"</span>);               </span><br><span class="line">      center.giveNewMess(<span class="string">"腾辉公司需要10个java程序员。"</span>);    </span><br><span class="line">      center.notifyObservers();                                </span><br><span class="line">      center.giveNewMess(<span class="string">"海景公司需要8个动画设计师。"</span>);</span><br><span class="line">      center.notifyObservers();</span><br><span class="line">      center.giveNewMess(<span class="string">"仁海公司需要9个电工。"</span>);</span><br><span class="line">      center.notifyObservers();</span><br><span class="line">      center.giveNewMess(<span class="string">"仁海公司需要9个电工。"</span>);      </span><br><span class="line">      center.notifyObservers();                          </span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="2-实验执行结果"><a href="#2-实验执行结果" class="headerlink" title="2.实验执行结果"></a>2.实验执行结果</h3><p><img src="https://s2.ax1x.com/2019/11/02/Kq6FIg.png" alt="Kq6FIg.png"></p><h3 id="3-本次收获体会"><a href="#3-本次收获体会" class="headerlink" title="3.本次收获体会"></a>3.本次收获体会</h3><p>本问题实现观察者接口Observer的类有两个：一个是UniversityStudent的类，另一个是Haigui。UniversityStudent类的调用方法是会见参数引用的字符串保存到一个文件中。</p><h2 id="二-验证装饰模式程序二，实现鸟类飞翔的模拟"><a href="#二-验证装饰模式程序二，实现鸟类飞翔的模拟" class="headerlink" title="二.验证装饰模式程序二，实现鸟类飞翔的模拟"></a>二.验证装饰模式程序二，实现鸟类飞翔的模拟</h2><h3 id="1-实验内容和源程序-1"><a href="#1-实验内容和源程序-1" class="headerlink" title="1.实验内容和源程序"></a>1.实验内容和源程序</h3><p>Bird.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">Bird</span></span>&#123;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">int</span> <span class="title">fly</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Sparrow.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Sparrow</span> <span class="keyword">extends</span> <span class="title">Bird</span></span>&#123;</span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">int</span> DISTANCE=<span class="number">100</span>;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">fly</span><span class="params">()</span></span>&#123;</span><br><span class="line">      <span class="keyword">return</span> DISTANCE;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Decorator.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span>  <span class="title">Decorator</span> <span class="keyword">extends</span> <span class="title">Bird</span></span>&#123;</span><br><span class="line">    <span class="keyword">protected</span> Bird bird;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Decorator</span><span class="params">()</span></span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Decorator</span><span class="params">(Bird bird)</span></span>&#123;</span><br><span class="line">       <span class="keyword">this</span>.bird=bird; </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>SparrowDecorator.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span>  <span class="title">Decorator</span> <span class="keyword">extends</span> <span class="title">Bird</span></span>&#123;</span><br><span class="line">    <span class="keyword">protected</span> Bird bird;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Decorator</span><span class="params">()</span></span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Decorator</span><span class="params">(Bird bird)</span></span>&#123;</span><br><span class="line">       <span class="keyword">this</span>.bird=bird; </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Application.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Application</span></span>&#123;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">needBird</span><span class="params">(Bird bird)</span></span>&#123;</span><br><span class="line">       <span class="keyword">int</span> flyDistance=bird.fly();</span><br><span class="line">       System.out.println(<span class="string">"这只鸟能飞行"</span>+flyDistance+<span class="string">"米"</span>);  </span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span></span>&#123;</span><br><span class="line">      Application client=<span class="keyword">new</span> Application();    </span><br><span class="line">      Sparrow sparrow=<span class="keyword">new</span> Sparrow();            </span><br><span class="line">      SparrowDecorator sparrowDecorator1=</span><br><span class="line">      <span class="keyword">new</span> SparrowDecorator(sparrow);            </span><br><span class="line">      SparrowDecorator sparrowDecorator2=</span><br><span class="line">      <span class="keyword">new</span> SparrowDecorator(sparrowDecorator1);  </span><br><span class="line">      client.needBird(sparrowDecorator1); </span><br><span class="line">      client.needBird(sparrowDecorator2);                </span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="2-实验执行结果-1"><a href="#2-实验执行结果-1" class="headerlink" title="2.实验执行结果"></a>2.实验执行结果</h3><p><img src="https://s2.ax1x.com/2019/11/02/Kq6PZ8.png" alt="Kq6PZ8.png"></p><h3 id="3-本次收获体会-1"><a href="#3-本次收获体会-1" class="headerlink" title="3.本次收获体会"></a>3.本次收获体会</h3><p>装饰模式中非常重要的一点就是“具体组件”和“装饰”都是“抽象组件”的子类。用户如果需要电泳“被装饰者”源氏的方法就让“抽象组件”声明的对象存放装饰者的作用。</p><h2 id="三-设计使用多个装饰者的鸟类飞翔程序"><a href="#三-设计使用多个装饰者的鸟类飞翔程序" class="headerlink" title="三.设计使用多个装饰者的鸟类飞翔程序"></a>三.设计使用多个装饰者的鸟类飞翔程序</h2><h3 id="1-实验内容和源程序-2"><a href="#1-实验内容和源程序-2" class="headerlink" title="1.实验内容和源程序"></a>1.实验内容和源程序</h3><p>Bird.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">Bird</span></span>&#123;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">int</span> <span class="title">fly</span><span class="params">()</span></span>;</span><br><span class="line">&#125;``</span><br></pre></td></tr></table></figure><p>Sparrow.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Sparrow</span> <span class="keyword">extends</span> <span class="title">Bird</span></span>&#123;</span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">int</span> DISTANCE=<span class="number">60</span>;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">fly</span><span class="params">()</span></span>&#123;</span><br><span class="line">      <span class="keyword">return</span> DISTANCE;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Decorator.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span>  <span class="title">Decorator</span> <span class="keyword">extends</span> <span class="title">Bird</span></span>&#123;</span><br><span class="line">    <span class="keyword">protected</span> Bird bird;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Decorator</span><span class="params">()</span></span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Decorator</span><span class="params">(Bird bird)</span></span>&#123;</span><br><span class="line">       <span class="keyword">this</span>.bird=bird; </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>SparrowDecorator.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span>  <span class="title">SparrowDecorator</span> <span class="keyword">extends</span> <span class="title">Decorator</span></span>&#123;</span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">int</span> DISTANCE=<span class="number">40</span>;        <span class="comment">//eleFly方法能飞50米</span></span><br><span class="line">   SparrowDecorator(Bird bird)&#123;</span><br><span class="line">      <span class="keyword">super</span>(bird);</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">fly</span><span class="params">()</span></span>&#123;</span><br><span class="line">      <span class="keyword">int</span> distance=<span class="number">0</span>;</span><br><span class="line">      distance=bird.fly()+eleFly();  <span class="comment">//委托被装饰者bird调用fly()，然后再调用eleFly()</span></span><br><span class="line">      <span class="keyword">return</span> distance; </span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">eleFly</span><span class="params">()</span></span>&#123;              <span class="comment">//装饰者新添加的方法</span></span><br><span class="line">      <span class="keyword">return</span> DISTANCE;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>SparrowDecoratorTwo.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span>  <span class="title">SparrowDecoratorTwo</span> <span class="keyword">extends</span> <span class="title">Decorator</span></span>&#123;</span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">int</span> DISTANCE=<span class="number">20</span>;</span><br><span class="line">   SparrowDecoratorTwo(Bird bird)&#123;</span><br><span class="line">      <span class="keyword">super</span>(bird);</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">fly</span><span class="params">()</span></span>&#123;</span><br><span class="line">      <span class="keyword">int</span> distance=<span class="number">0</span>;</span><br><span class="line">      distance=bird.fly()+eleFly();</span><br><span class="line">      <span class="keyword">return</span> distance; </span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">eleFly</span><span class="params">()</span></span>&#123;</span><br><span class="line">      <span class="keyword">return</span> DISTANCE;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Application.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Application</span></span>&#123;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">needBird</span><span class="params">(Bird bird)</span></span>&#123;</span><br><span class="line">       <span class="keyword">int</span> flyDistance=bird.fly();</span><br><span class="line">       System.out.println(<span class="string">"这只鸟能飞行"</span>+flyDistance+<span class="string">"米"</span>);  </span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span></span>&#123;</span><br><span class="line">      Application client=<span class="keyword">new</span> Application();              </span><br><span class="line">      Bird bird1=<span class="keyword">new</span> SparrowDecoratorTwo(<span class="keyword">new</span> Sparrow());            </span><br><span class="line">      Bird bird2=<span class="keyword">new</span> SparrowDecorator(bird1);  </span><br><span class="line">      Bird bird3=<span class="keyword">new</span> SparrowDecorator(bird2);  </span><br><span class="line">      Bird bird4=<span class="keyword">new</span> SparrowDecoratorTwo(bird3);</span><br><span class="line">      client.needBird(bird1); </span><br><span class="line">      client.needBird(bird2);</span><br><span class="line">      client.needBird(bird3);</span><br><span class="line">      client.needBird(bird4);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="2-实验执行结果-2"><a href="#2-实验执行结果-2" class="headerlink" title="2.实验执行结果"></a>2.实验执行结果</h3><p><img src="https://s2.ax1x.com/2019/11/02/Kq6idS.png" alt="Kq6idS.png"></p><h3 id="3-本次收获体会-2"><a href="#3-本次收获体会-2" class="headerlink" title="3.本次收获体会"></a>3.本次收获体会</h3><p>由于装饰是抽象组件的一个子类，因此“装饰者”本身也可以作为一个“被装饰者”，这意味着可以使用多个具体装饰类来装饰具体组件的实例。</p><blockquote style="margin: 2em 0 0;padding: 0.5em 1em;border-left: 3px solid #F44336;background-color: #F5F5F5;list-style: none;"><p> <strong>本文使用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/" target="_blank" rel="noopener">CC BY-NC-SA 3.0 中国大陆</a> 协议许可<br>具体请参见 <a href="https://zyhang8.github.io/agree/" target="_blank" rel="noopener">知识共享协议</a></strong><br> <strong>本文链接：</strong><a href="https://zyhang8.github.io/2019/11/07/design-exp2/" target="_blank" rel="noopener">https://zyhang8.github.io/2019/11/07/design-exp2/</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 设计模式 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 设计模式 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>UML图和命令模式</title>
      <link href="/2019/11/06/design-exp1/"/>
      <url>/2019/11/06/design-exp1/</url>
      
        <content type="html"><![CDATA[<h1 id="UML图和命令模式"><a href="#UML图和命令模式" class="headerlink" title="UML图和命令模式"></a>UML图和命令模式</h1><h2 id="一-验证命令模式程序一，实现作战场景命令传达的模拟"><a href="#一-验证命令模式程序一，实现作战场景命令传达的模拟" class="headerlink" title="一.验证命令模式程序一，实现作战场景命令传达的模拟"></a>一.验证命令模式程序一，实现作战场景命令传达的模拟</h2><h3 id="1-实验内容和源程序"><a href="#1-实验内容和源程序" class="headerlink" title="1.实验内容和源程序"></a>1.实验内容和源程序</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">CompanyArmy.java</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CompanyArmy</span></span>&#123;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">sneakAttack</span><span class="params">()</span></span>&#123; </span><br><span class="line">      System.out.println(<span class="string">"我们知道如何偷袭敌人,保证完成任务"</span>); </span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br><span class="line">Command.java</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Command</span> </span>&#123;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">execute</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line">ConcreteCommand.java</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ConcreteCommand</span> <span class="keyword">implements</span> <span class="title">Command</span></span>&#123;</span><br><span class="line">   CompanyArmy army;           <span class="comment">//含有接收者的引用</span></span><br><span class="line">   ConcreteCommand(CompanyArmy army)&#123;</span><br><span class="line">      <span class="keyword">this</span>.army=army;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="keyword">public</span>  <span class="keyword">void</span> <span class="title">execute</span><span class="params">()</span></span>&#123;    <span class="comment">//封装着指挥官的请求</span></span><br><span class="line">      army.sneakAttack();     <span class="comment">//偷袭敌人  </span></span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br><span class="line">ArmySuperior.java</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ArmySuperior</span></span>&#123;</span><br><span class="line">  Command command;                     <span class="comment">//用来存放具体命令的引用</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setCommand</span><span class="params">(Command command)</span></span>&#123;</span><br><span class="line">     <span class="keyword">this</span>.command=command;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">startExecuteCommand</span><span class="params">()</span></span>&#123;   <span class="comment">//让具体命令执行execute()方法</span></span><br><span class="line">     command.execute();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">Application.java</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Application</span></span>&#123;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span></span>&#123;</span><br><span class="line">      CompanyArmy 三连=<span class="keyword">new</span> CompanyArmy();         <span class="comment">//创建接收者</span></span><br><span class="line">      Command command=<span class="keyword">new</span> ConcreteCommand(三连);  <span class="comment">//创建具体命令并指定接收者</span></span><br><span class="line">      ArmySuperior 指挥官=<span class="keyword">new</span> ArmySuperior();     <span class="comment">//创建请求者</span></span><br><span class="line">      指挥官.setCommand(command);                 </span><br><span class="line">      指挥官.startExecuteCommand();</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="2-实验执行结果"><a href="#2-实验执行结果" class="headerlink" title="2.实验执行结果"></a>2.实验执行结果</h3><p><img src="https://s2.ax1x.com/2019/11/02/KqyNVS.png" alt="KqyNVS.png"></p><h3 id="3-本次收获体会"><a href="#3-本次收获体会" class="headerlink" title="3.本次收获体会"></a>3.本次收获体会</h3><p>明白了接受者，命令接口，具体命令，请求者的关系，用过三者可以构成一个小框架，然后使用这个小框架中的类编写应用程序</p><h2 id="二-验证命令模式程序二，实现目录建立与撤销的模拟。（第二个实验内容）"><a href="#二-验证命令模式程序二，实现目录建立与撤销的模拟。（第二个实验内容）" class="headerlink" title="二.验证命令模式程序二，实现目录建立与撤销的模拟。（第二个实验内容）"></a>二.验证命令模式程序二，实现目录建立与撤销的模拟。（第二个实验内容）</h2><h3 id="1-实验内容和源程序-1"><a href="#1-实验内容和源程序-1" class="headerlink" title="1. 实验内容和源程序"></a>1. 实验内容和源程序</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line">MakeDir.java</span><br><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MakeDir</span></span>&#123;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">createDir</span><span class="params">(String name)</span></span>&#123;</span><br><span class="line">      File dir=<span class="keyword">new</span> File(name);</span><br><span class="line">      dir.mkdir();   </span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">deleteDir</span><span class="params">(String name)</span></span>&#123;</span><br><span class="line">      File dir=<span class="keyword">new</span> File(name);</span><br><span class="line">      dir.delete();   </span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br><span class="line">Command.java</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Command</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">execute</span><span class="params">(String name)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">undo</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line">ConcreteCommand.java</span><br><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ConcreteCommand</span> <span class="keyword">implements</span> <span class="title">Command</span></span>&#123;</span><br><span class="line">    ArrayList&lt;String&gt; dirNameList;</span><br><span class="line">    MakeDir makeDir;</span><br><span class="line">    ConcreteCommand(MakeDir makeDir)&#123;</span><br><span class="line">        dirNameList=<span class="keyword">new</span> ArrayList&lt;String&gt;();</span><br><span class="line">        <span class="keyword">this</span>.makeDir=makeDir;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span>  <span class="keyword">void</span> <span class="title">execute</span><span class="params">(String name)</span></span>&#123;</span><br><span class="line">       makeDir.createDir(name);</span><br><span class="line">       dirNameList.add(name);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">undo</span><span class="params">()</span></span>&#123;</span><br><span class="line">       <span class="keyword">if</span>(dirNameList.size()&gt;<span class="number">0</span>)&#123;</span><br><span class="line">          <span class="keyword">int</span> m=dirNameList.size();</span><br><span class="line">          String str=dirNameList.get(m-<span class="number">1</span>); </span><br><span class="line">          makeDir.deleteDir(str);</span><br><span class="line">          dirNameList.remove(m-<span class="number">1</span>); </span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">else</span></span><br><span class="line">          System.out.println(<span class="string">"没有需要撤消的操作"</span>);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br><span class="line">RequestMakedir.java</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RequestMakedir</span></span>&#123;</span><br><span class="line">   Command command;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setCommand</span><span class="params">(Command command)</span></span>&#123;</span><br><span class="line">      <span class="keyword">this</span>.command=command;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">startExecuteCommand</span><span class="params">(String name)</span></span>&#123;</span><br><span class="line">      command.execute(name);</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">undoCommand</span><span class="params">()</span></span>&#123;</span><br><span class="line">      command.undo();</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br><span class="line">Application.java</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Application</span></span>&#123;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span></span>&#123;</span><br><span class="line">      MakeDir makeDir=<span class="keyword">new</span> MakeDir();                </span><br><span class="line">      Command command=<span class="keyword">new</span> ConcreteCommand(makeDir); </span><br><span class="line">      RequestMakedir askMakedir=<span class="keyword">new</span> RequestMakedir();</span><br><span class="line">      askMakedir.setCommand(command); </span><br><span class="line">      askMakedir.startExecuteCommand(<span class="string">"jiafei"</span>);      </span><br><span class="line">      askMakedir.startExecuteCommand(<span class="string">"jerry"</span>);     </span><br><span class="line">      askMakedir.startExecuteCommand(<span class="string">"tom"</span>);       </span><br><span class="line">      askMakedir.undoCommand();                 </span><br><span class="line">      askMakedir.undoCommand();                   </span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="2-实验执行结果-1"><a href="#2-实验执行结果-1" class="headerlink" title="2.实验执行结果"></a>2.实验执行结果</h3><p><img src="https://s2.ax1x.com/2019/11/02/KqyUUg.png" alt="KqyUUg.png"></p><h3 id="3-本次收获体会-1"><a href="#3-本次收获体会-1" class="headerlink" title="3.本次收获体会"></a>3.本次收获体会</h3><p>明白了命令接口中的撤销方法，可以用来封装“请求”的办法，请求者请求在硬盘建立目录，请求成功后，还可以撤销请求。这要求接受者不仅可以在硬盘上建立目录，也可删除上一次请求所建立的目录。</p><h2 id="三、下载安装Rational-Rose，并用它画UML类图"><a href="#三、下载安装Rational-Rose，并用它画UML类图" class="headerlink" title="三、下载安装Rational Rose，并用它画UML类图"></a>三、下载安装Rational Rose，并用它画UML类图</h2><p><img src="https://s2.ax1x.com/2019/11/02/Kqya5Q.png" alt="Kqya5Q.png"></p><blockquote style="margin: 2em 0 0;padding: 0.5em 1em;border-left: 3px solid #F44336;background-color: #F5F5F5;list-style: none;"><p> <strong>本文使用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/" target="_blank" rel="noopener">CC BY-NC-SA 3.0 中国大陆</a> 协议许可<br>具体请参见 <a href="https://zyhang8.github.io/agree/" target="_blank" rel="noopener">知识共享协议</a></strong><br> <strong>本文链接：</strong><a href="https://zyhang8.github.io/2019/11/06/design-exp1/" target="_blank" rel="noopener">https://zyhang8.github.io/2019/11/06/design-exp1/</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 设计模式 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 设计模式 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JSP</title>
      <link href="/2019/11/05/javaweb-exp3/"/>
      <url>/2019/11/05/javaweb-exp3/</url>
      
        <content type="html"><![CDATA[<h2 id="实验目的"><a href="#实验目的" class="headerlink" title="实验目的"></a>实验目的</h2><p>•掌握JSP的基本构成<br>•掌握JSP的指令、动作标签<br>•掌握J SP内置对象的使用等</p><h2 id="实验环境"><a href="#实验环境" class="headerlink" title="实验环境"></a>实验环境</h2><p>•Chrome<br>•vscode<br>•Eclipse<br>•Tomcat</p><h2 id="实验内容"><a href="#实验内容" class="headerlink" title="实验内容"></a>实验内容</h2><ol><li>利用JSP全部变量和JSP的内置对象分别为某一网站编写一个JSP程序，统计该网站的访问次数。重点理解JSP内置对象的作用域范围。（可参考如下的运行结果）</li></ol><p>图1. 统计网站访问次数的举例<br>（下面给出相应代码和实现的截图）<br>如index.jsp: ***</p><p><img src="pic_1.png" alt="a"></p><ol start="2"><li>编写一个JSP登录页面，可输入用户名和密码，提交请求到另一个JSP页面，该JSP页面获取请求的相关数据并显示出来。请求的相关数据包括用户输入的请求数据和请求本身的一些信息（请求使用的协议getProtocol()、请求的URIrequest.getServletPath()、请求方法request.getMethod()、远程地址request.getRemoteAddr()）。同时将用户名信息添加到浏览器的cookie中，一旦再次访问登录页面将在用户名框中自动填写cookie中的用户名。（可参考如下的运行结果）</li></ol><p><img src="pic_3.png" alt="a2"></p><p>图2. 第一次访问登录页面的情况（cookie中无信息）</p><p><img src="pic_2.png" alt="a1"></p><p>图3. 登录页面提交信息后跳转到的新页面显示的情况</p><p><img src="pic_4.png" alt="a3"></p><p>图4. 再次访问登录页面的情况（由cookie中读取保存的用户名）</p><p>（下面给出相应代码和实现的截图）<br>如login.jsp: ***</p><p>Loginsuccess.jsp: ***</p><h2 id="实验步骤"><a href="#实验步骤" class="headerlink" title="实验步骤"></a>实验步骤</h2><p>1.之前在自己博客用过百度统计的网站分析工具,其中就有网页访问次数，这个实验应该也是做相似的内容。</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page language=<span class="string">"java"</span> contentType=<span class="string">"text/html; charset=UFT-8"</span></span><br><span class="line">    pageEncoding=<span class="string">"UFT-8"</span>%&gt;</span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset=<span class="string">"UFT-8"</span>&gt;</span><br><span class="line">&lt;title&gt;Insert title here&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;%</span><br><span class="line">        <span class="keyword">if</span> (application.getAttribute(<span class="string">"count"</span>) == <span class="keyword">null</span>) &#123;</span><br><span class="line">            application.setAttribute(<span class="string">"count"</span>, <span class="keyword">new</span> Integer(<span class="number">0</span>));</span><br><span class="line">        &#125;</span><br><span class="line">        Integer count = (Integer) application.getAttribute(<span class="string">"count"</span>);</span><br><span class="line">        application</span><br><span class="line">                .setAttribute(<span class="string">"count"</span>, <span class="keyword">new</span> Integer(count.intValue() + <span class="number">1</span>));</span><br><span class="line">        count = (Integer) application.getAttribute(<span class="string">"count"</span>);</span><br><span class="line">    %&gt;</span><br><span class="line">&lt;div&gt;</span><br><span class="line">        这是第&lt;%=count.intValue()%&gt;个访问者!</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><p>statistic.jsp</p><p><img src="https://s2.ax1x.com/2019/10/23/KtgHw8.png" alt="KtgHw8.png"></p><p>2.登录注册</p><p>index.jsp</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page language=<span class="string">"java"</span> contentType=<span class="string">"text/html; charset=UTF-8"</span></span><br><span class="line">    pageEncoding=<span class="string">"UTF-8"</span>%&gt;</span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset=<span class="string">"UTF-8"</span>&gt;</span><br><span class="line">&lt;title&gt;登录&lt;/title&gt;</span><br><span class="line"></span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;        </span><br><span class="line">&lt;%</span><br><span class="line"></span><br><span class="line"> String account=<span class="string">""</span>;</span><br><span class="line"> String pwd=<span class="string">""</span>;</span><br><span class="line">Cookie[] cookies=request.getCookies();</span><br><span class="line"><span class="keyword">if</span>(cookies!=<span class="keyword">null</span>&amp;&amp;cookies.length&gt;<span class="number">0</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">for</span>(Cookie c:cookies)&#123;</span><br><span class="line"><span class="keyword">if</span>(c.getName().equals(<span class="string">"account"</span>))&#123;</span><br><span class="line">account=c.getValue();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(c.getName().equals(<span class="string">"pwd"</span>))&#123;</span><br><span class="line">pwd=c.getValue();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(c.getName().equals(<span class="string">"account"</span>))&#123;</span><br><span class="line">request.setAttribute(<span class="string">"flag"</span>, <span class="number">1</span>);</span><br><span class="line">request.getRequestDispatcher(<span class="string">"show.jsp"</span>).forward(request, response);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">%&gt;</span><br><span class="line"></span><br><span class="line">&lt;form name=<span class="string">"logmes"</span> action=<span class="string">"show.jsp"</span> method=<span class="string">"post"</span>&gt;</span><br><span class="line">账号&lt;input type=<span class="string">"text"</span> name=<span class="string">"account"</span> value=<span class="string">"&lt;%=account%&gt;"</span>&gt;&lt;br&gt;</span><br><span class="line">密码&lt;input type=<span class="string">"password"</span> name=<span class="string">"pwd"</span> value=<span class="string">"&lt;%=pwd%&gt;"</span>&gt;&lt;br&gt;</span><br><span class="line">&lt;input type=<span class="string">"submit"</span> value=<span class="string">"登录"</span>&gt;</span><br><span class="line">是否保存登录状态&lt;input name=<span class="string">"log"</span> type=<span class="string">"radio"</span> value=<span class="string">"yes"</span>&gt;是</span><br><span class="line">&lt;input name=<span class="string">"log"</span> type=<span class="string">"radio"</span> value=<span class="string">"no"</span>&gt;否</span><br><span class="line"></span><br><span class="line">&lt;/form&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><p>show.jsp</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page language=<span class="string">"java"</span> contentType=<span class="string">"text/html; charset=UTF-8"</span></span><br><span class="line">    pageEncoding=<span class="string">"UTF-8"</span>%&gt;</span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset=<span class="string">"UTF-8"</span>&gt;</span><br><span class="line">&lt;title&gt;欢迎页面&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;%</span><br><span class="line"></span><br><span class="line">Integer f=(Integer)request.getAttribute(<span class="string">"flag"</span>);</span><br><span class="line">String log=<span class="string">" "</span>;</span><br><span class="line"> log=request.getParameter(<span class="string">"log"</span>);</span><br><span class="line"><span class="keyword">if</span>(log!=<span class="keyword">null</span>&amp;&amp;log.equals(<span class="string">"yes"</span>))&#123;</span><br><span class="line">String account=request.getParameter(<span class="string">"account"</span>);</span><br><span class="line">String pwd=request.getParameter(<span class="string">"pwd"</span>);</span><br><span class="line">Cookie cookie1=<span class="keyword">new</span> Cookie(<span class="string">"account"</span>,account);</span><br><span class="line">Cookie cookie2=<span class="keyword">new</span> Cookie(<span class="string">"pwd"</span>,pwd);</span><br><span class="line">cookie1.setMaxAge(<span class="number">600</span>*<span class="number">24</span>);</span><br><span class="line">cookie2.setMaxAge(<span class="number">600</span>*<span class="number">24</span>);</span><br><span class="line">response.addCookie(cookie1);</span><br><span class="line">response.addCookie(cookie2);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(f==<span class="keyword">null</span>)&#123;</span><br><span class="line">System.out.println(<span class="string">"123"</span>);</span><br><span class="line">Cookie cookies[]=request.getCookies();</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;cookies.length;i++)</span><br><span class="line">&#123;</span><br><span class="line">cookies[i].setMaxAge(<span class="number">0</span>);</span><br><span class="line">response.addCookie(cookies[i]);</span><br><span class="line">&#125;</span><br><span class="line">response.sendRedirect(<span class="string">"index.jsp"</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">%&gt;</span><br><span class="line">&lt;div&gt;</span><br><span class="line">       登录成功</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;%</span><br><span class="line">        <span class="keyword">if</span> (application.getAttribute(<span class="string">"count"</span>) == <span class="keyword">null</span>) &#123;</span><br><span class="line">            application.setAttribute(<span class="string">"count"</span>, <span class="keyword">new</span> Integer(<span class="number">0</span>));</span><br><span class="line">        &#125;</span><br><span class="line">        Integer count = (Integer) application.getAttribute(<span class="string">"count"</span>);</span><br><span class="line">        application</span><br><span class="line">                .setAttribute(<span class="string">"count"</span>, <span class="keyword">new</span> Integer(count.intValue() + <span class="number">1</span>));</span><br><span class="line">        count = (Integer) application.getAttribute(<span class="string">"count"</span>);</span><br><span class="line">    %&gt;</span><br><span class="line">&lt;div&gt;</span><br><span class="line">        这是第&lt;%=count.intValue()%&gt;个访问者!</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><p><img src="https://s2.ax1x.com/2019/10/23/KtgoOP.png" alt="KtgoOP.png"></p><p><img src="https://s2.ax1x.com/2019/10/23/Ktg7ef.png" alt="Ktg7ef.png"></p><p>清除cookies<br><img src="https://s2.ax1x.com/2019/10/23/KtgLFg.png" alt="KtgLFg.png"></p><p>集成前两个题目<br><img src="https://s2.ax1x.com/2019/10/23/KtgbTS.png" alt="KtgbTS.png"></p><h2 id="实验心得"><a href="#实验心得" class="headerlink" title="实验心得"></a>实验心得</h2><p>Cookies是存储在客户机的文本文件，它们保存了大量轨迹信息。在servlet技术基础上，JSP显然能够提供对HTTP cookies的支持。</p><p>通常有三个步骤来识别回头客：</p><p>服务器脚本发送一系列cookies至浏览器。比如名字，年龄，ID号码等等。<br>浏览器在本地机中存储这些信息，以备不时之需。<br>当下一次浏览器发送任何请求至服务器时，它会同时将这些cookies信息发送给服务器，然后服务器使用这些信息来识别用户或者干些其它事情。</p><p>之前都是用django搭配vue写得前后台交互，没接触过java后台，这个实验也让我对cookies有了更好的了解，为后面的数据池Durid做了铺垫</p><blockquote style="margin: 2em 0 0;padding: 0.5em 1em;border-left: 3px solid #F44336;background-color: #F5F5F5;list-style: none;"><p> <strong>本文使用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/" target="_blank" rel="noopener">CC BY-NC-SA 3.0 中国大陆</a> 协议许可<br>具体请参见 <a href="https://zyhang8.github.io/agree/" target="_blank" rel="noopener">知识共享协议</a></strong><br> <strong>本文链接：</strong><a href="https://zyhang8.github.io/2019/11/05/javaweb-exp3/" target="_blank" rel="noopener">https://zyhang8.github.io/2019/11/05/javaweb-exp3/</a></p></blockquote>]]></content>
      
      
      
        <tags>
            
            <tag> j2ee </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>登录和注册功能（JS）</title>
      <link href="/2019/11/04/javaweb-exp2/"/>
      <url>/2019/11/04/javaweb-exp2/</url>
      
        <content type="html"><![CDATA[<h2 id="实验目的"><a href="#实验目的" class="headerlink" title="实验目的"></a>实验目的</h2><p>•掌握HTML5、CSS3和JavaScript的使用<br>•能够使用JavaScript在Web前端实现简单的用户互动（登录、注册、验证码等）</p><h2 id="实验环境"><a href="#实验环境" class="headerlink" title="实验环境"></a>实验环境</h2><p>•Chrome<br>•vscode</p><h2 id="实验内容"><a href="#实验内容" class="headerlink" title="实验内容"></a>实验内容</h2><ol><li>根据课堂内容，对JavaScript脚本语言中的内容进行掌握（见“第3章JavaScript脚本语言.pdf”中的内容）</li><li>根据附件中的欧莱雅网站首页（index.html），完善“登录”（login.html）和“注册”（register.html）页面的功能。</li></ol><h3 id="要求"><a href="#要求" class="headerlink" title="要求"></a>要求</h3><p>（1）登录（login.html）和注册（register.html）页面是采用HTML+CSS进行实现的，可参考图1。<br>（2）设计一个登录页面（login.html）：包含“输入用户名”、“密码”，并添加一个“验证码生成框”和“登录按钮”；输入用户名和密码后，如果能够已给定的用户名和密码匹配（用户名:zyh，密码：1759116），并且验证码输入正确，则弹出登录成功的对话框并跳转到index.html页面，否则弹出错误框提示是哪部分输入的内容不正确。如用户名和密码错误则弹出“用户名或密码错误，请重新输入！”，并返回登录页面；验证码输入错误提示“验证码输入错误！”，验证码未输入提示错误提示“请输入验证码！”，并返回登录页面。<br>（3）设计一个注册页面（register.html）：包含“请输入用户名”、“请输入密码”、“请再次输入密码”，并添加一个“验证码生成框”和“注册按钮”；点击注册按钮后，先检查用户名框、密码框、验证码框是否为空，如果为空则弹出对话框提示“很抱歉，用户名不能为空!”、“很抱歉，密码不能为空!”、“请输入验证码！”，并将输入光标聚焦到相应的输入框中；再判断输入的用户名是否与已有的用户名重复（“zyh”），如重复返回“很抱歉，该用户名已注册，请更换注册用户名!”，并将输入光标聚焦到“请输入用户名”的输入框中；再判断两次用户密码输入是否一致，如果不一致，弹出对话框提示“输入的密码不一致，请重新输入！”，并删除密码框中的内容，将输入光标聚焦到“请输入密码”的输入框中；验证码输入错误提示“验证码输入错误！”。全部输入正确，则弹出对话框提示“恭喜<strong><em>注册成功！”，其中“</em></strong>”中是新注册的用户名，并跳转到index.html页面。</p><p>（下面给出相应代码和实现的截图）</p><h3 id="登录"><a href="#登录" class="headerlink" title="登录"></a>登录</h3><h4 id="源代码"><a href="#源代码" class="headerlink" title="源代码"></a>源代码</h4><p><strong>login.html</strong></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>登录页面<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">type</span>=<span class="string">"text/css"</span> <span class="attr">href</span>=<span class="string">".\css\style.css"</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">".\js\myscript.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>  <span class="attr">class</span>=<span class="string">"login1"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"login1_1"</span>&gt;</span>用户登录<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"login2"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"login2_1"</span>&gt;</span>用户名：<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"username"</span> <span class="attr">id</span>=<span class="string">"usr"</span> <span class="attr">class</span>=<span class="string">"usr_name"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  </span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"login3"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"login3_1"</span>&gt;</span>密&amp;nbsp;码：<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"password"</span> <span class="attr">name</span>=<span class="string">"password"</span> <span class="attr">id</span>=<span class="string">"pwd"</span> <span class="attr">class</span>=<span class="string">"pass_word"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  </span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"login4"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"login4_1"</span>&gt;</span>验证码：<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">id</span>=<span class="string">"input1"</span> <span class="attr">class</span>=<span class="string">"input_code"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">id</span>=<span class="string">"checkCode"</span> <span class="attr">class</span>=<span class="string">"codeJS"</span> <span class="attr">value</span>=<span class="string">"生成验证码"</span> <span class="attr">onclick</span>=<span class="string">"createCode()"</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  </span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"login5"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">id</span>=<span class="string">"sumbitButton"</span> <span class="attr">value</span>=<span class="string">"登录"</span> <span class="attr">onclick</span>=<span class="string">"loginValidate()"</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>style.css</strong></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br></pre></td><td class="code"><pre><span class="line">*&#123; <span class="attribute">font-size</span>:<span class="number">12px</span>; <span class="attribute">font-family</span>:<span class="string">"宋体"</span>; <span class="attribute">color</span>:black;<span class="attribute">margin</span>:<span class="number">0</span> auto;&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">body</span>&#123; <span class="attribute">margin</span>:<span class="number">0</span>; <span class="attribute">background-color</span>:<span class="number">#DCDCDC</span>;&#125;</span><br><span class="line"><span class="selector-tag">input</span>&#123; <span class="attribute">border</span>:none;&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.login1</span> &#123;</span><br><span class="line"><span class="attribute">background-image</span>:<span class="built_in">url</span>(../images/sky.jpg);</span><br><span class="line"><span class="attribute">width</span>:<span class="number">400px</span>;</span><br><span class="line"><span class="attribute">height</span>:<span class="number">120px</span>;</span><br><span class="line"><span class="attribute">overflow</span>:hidden;</span><br><span class="line"><span class="attribute">text-align</span>:center;</span><br><span class="line"><span class="attribute">line-height</span>: <span class="number">120px</span>;</span><br><span class="line"><span class="attribute">letter-spacing</span>:<span class="number">10px</span>;</span><br><span class="line"><span class="attribute">margin-bottom</span>:<span class="number">2px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.login1_1</span> &#123;</span><br><span class="line"><span class="attribute">font-size</span>:<span class="number">60px</span>;</span><br><span class="line"><span class="attribute">font-weight</span>:bold;</span><br><span class="line"><span class="attribute">color</span>:<span class="number">#FFA500</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.login2</span> &#123;</span><br><span class="line"><span class="attribute">background</span>:<span class="number">#7FFFAA</span>;</span><br><span class="line"><span class="attribute">width</span>:<span class="number">400px</span>;</span><br><span class="line"><span class="attribute">height</span>:<span class="number">50px</span>;</span><br><span class="line"><span class="attribute">overflow</span>:hidden;</span><br><span class="line"><span class="attribute">text-align</span>:center;</span><br><span class="line"><span class="attribute">line-height</span>: <span class="number">50px</span>;</span><br><span class="line"><span class="attribute">margin-bottom</span>:<span class="number">1px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.login2_1</span> &#123;</span><br><span class="line"><span class="attribute">font-size</span>:<span class="number">20px</span>;</span><br><span class="line"><span class="attribute">font-weight</span>:bold;</span><br><span class="line"><span class="attribute">color</span>:black;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.usr_name</span> &#123;</span><br><span class="line"><span class="attribute">padding-top</span>:<span class="number">6px</span>;</span><br><span class="line"><span class="attribute">height</span>:<span class="number">20px</span>;</span><br><span class="line"><span class="attribute">width</span>:<span class="number">150px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.login3</span> &#123;</span><br><span class="line"><span class="attribute">background</span>:<span class="number">#7FFFAA</span>;</span><br><span class="line"><span class="attribute">width</span>:<span class="number">400px</span>;</span><br><span class="line"><span class="attribute">height</span>:<span class="number">50px</span>;</span><br><span class="line"><span class="attribute">overflow</span>:hidden;</span><br><span class="line"><span class="attribute">text-align</span>:center;</span><br><span class="line"><span class="attribute">line-height</span>: <span class="number">50px</span>;</span><br><span class="line"><span class="attribute">margin-bottom</span>:<span class="number">1px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.login3_1</span> &#123;</span><br><span class="line"><span class="attribute">font-size</span>:<span class="number">20px</span>;</span><br><span class="line"><span class="attribute">font-weight</span>:bold;</span><br><span class="line"><span class="attribute">color</span>:black;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.pass_word</span> &#123;</span><br><span class="line"><span class="attribute">padding-top</span>:<span class="number">6px</span>;</span><br><span class="line"><span class="attribute">height</span>:<span class="number">20px</span>;</span><br><span class="line"><span class="attribute">width</span>:<span class="number">150px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.login4</span> &#123;</span><br><span class="line"><span class="attribute">background</span>:<span class="number">#7FFFAA</span>;</span><br><span class="line"><span class="attribute">width</span>:<span class="number">400px</span>;</span><br><span class="line"><span class="attribute">height</span>:<span class="number">50px</span>;</span><br><span class="line"><span class="attribute">overflow</span>:hidden;</span><br><span class="line"><span class="attribute">text-align</span>:center;</span><br><span class="line"><span class="attribute">line-height</span>: <span class="number">50px</span>;</span><br><span class="line">//letter-spacing:10px;</span><br><span class="line"><span class="selector-tag">margin-bottom</span><span class="selector-pseudo">:1px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.login4_1</span> &#123;</span><br><span class="line"><span class="attribute">font-size</span>:<span class="number">20px</span>;</span><br><span class="line"><span class="attribute">font-weight</span>:bold;</span><br><span class="line"><span class="attribute">color</span>:black;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.input_code</span> &#123;</span><br><span class="line"><span class="attribute">padding-top</span>:<span class="number">3px</span>;</span><br><span class="line"><span class="attribute">height</span>:<span class="number">20px</span>;</span><br><span class="line"><span class="attribute">width</span>:<span class="number">70px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.codeJS</span> &#123;</span><br><span class="line"><span class="attribute">background-color</span>:<span class="number">#E6E6FA</span>;</span><br><span class="line"><span class="attribute">padding-top</span>:<span class="number">3px</span>;</span><br><span class="line"><span class="attribute">height</span>:<span class="number">24px</span>;</span><br><span class="line"><span class="attribute">width</span>:<span class="number">70px</span>;</span><br><span class="line"><span class="attribute">font-style</span>:italic;</span><br><span class="line"><span class="attribute">font-size</span>:<span class="number">12px</span>;</span><br><span class="line"><span class="attribute">font-weight</span>:bold;</span><br><span class="line"><span class="attribute">color</span>:<span class="number">#D2691E</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.login5</span> &#123;</span><br><span class="line"><span class="attribute">background</span>:<span class="number">#7FFFAA</span>;</span><br><span class="line"><span class="attribute">width</span>:<span class="number">400px</span>;</span><br><span class="line"><span class="attribute">height</span>:<span class="number">50px</span>;</span><br><span class="line"><span class="attribute">overflow</span>:hidden;</span><br><span class="line"><span class="attribute">text-align</span>:center;</span><br><span class="line"><span class="attribute">line-height</span>: <span class="number">50px</span>;</span><br><span class="line"><span class="attribute">letter-spacing</span>:<span class="number">10px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.login5</span> <span class="selector-tag">input</span> &#123;</span><br><span class="line"><span class="attribute">background-color</span>:<span class="number">#6495ED</span>;</span><br><span class="line"><span class="attribute">font-size</span>:<span class="number">18px</span>;</span><br><span class="line"><span class="attribute">padding-left</span>:<span class="number">16px</span>;</span><br><span class="line"><span class="attribute">letter-spacing</span>:<span class="number">10px</span>;</span><br><span class="line"><span class="attribute">font-weight</span>:bold;</span><br><span class="line"><span class="attribute">color</span>:red;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>myscript.js</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> code;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createCode</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"><span class="keyword">var</span> codeLength = <span class="number">4</span>;</span><br><span class="line"><span class="keyword">var</span> checkCode = <span class="built_in">document</span>.getElementById(<span class="string">"checkCode"</span>);</span><br><span class="line"><span class="keyword">var</span> selectChar = <span class="keyword">new</span> <span class="built_in">Array</span>(<span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="string">'A'</span>, <span class="string">'B'</span>, <span class="string">'C'</span>, <span class="string">'D'</span>, <span class="string">'E'</span>, <span class="string">'F'</span>, <span class="string">'G'</span>, <span class="string">'H'</span>, <span class="string">'J'</span>, <span class="string">'K'</span>, <span class="string">'L'</span>, <span class="string">'M'</span>, <span class="string">'N'</span>, <span class="string">'P'</span>, <span class="string">'Q'</span>, <span class="string">'R'</span>, <span class="string">'S'</span>, <span class="string">'T'</span>, <span class="string">'U'</span>, <span class="string">'V'</span>, <span class="string">'W'</span>, <span class="string">'X'</span>, <span class="string">'Y'</span>, <span class="string">'Z'</span>);</span><br><span class="line"><span class="keyword">var</span> charIndex = <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random() * <span class="number">32</span>);</span><br><span class="line">code = selectChar[charIndex];</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">1</span>; i &lt; codeLength; i++) &#123;</span><br><span class="line"><span class="keyword">var</span> charIndex = <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random() * <span class="number">32</span>);</span><br><span class="line">code += selectChar[charIndex];</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (code.length != codeLength) &#123;</span><br><span class="line">createCode();</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">document</span>.getElementById(<span class="string">"checkCode"</span>).value = code;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">loginValidate</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"><span class="keyword">var</span> inputCode = <span class="built_in">document</span>.getElementById(<span class="string">"input1"</span>).value.toUpperCase();</span><br><span class="line"><span class="keyword">var</span> usrName = <span class="built_in">document</span>.getElementById(<span class="string">"usr"</span>).value;</span><br><span class="line"><span class="keyword">var</span> passWD = <span class="built_in">document</span>.getElementById(<span class="string">"pwd"</span>).value;</span><br><span class="line"><span class="keyword">var</span> passWD = <span class="built_in">document</span>.getElementById(<span class="string">"pwd"</span>).value;</span><br><span class="line"><span class="keyword">if</span> (usrName.length &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">    alert(<span class="string">"很抱歉，用户名不能为空!"</span>);</span><br><span class="line">    <span class="built_in">document</span>.getElementById(<span class="string">"usr"</span>).focus();</span><br><span class="line">    createCode();</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> (passWD.length &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">    alert(<span class="string">"很抱歉，密码不能为空!"</span>);</span><br><span class="line">    <span class="built_in">document</span>.getElementById(<span class="string">"pwd"</span>).focus();</span><br><span class="line">    createCode();</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (inputCode.length &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">alert(<span class="string">"请输入验证码！"</span>);</span><br><span class="line">createCode();</span><br><span class="line"><span class="built_in">document</span>.getElementById(<span class="string">"input"</span>).focus();</span><br><span class="line"><span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (inputCode != code) &#123;</span><br><span class="line">alert(<span class="string">"验证码输入错误！"</span>);</span><br><span class="line">createCode();</span><br><span class="line"><span class="built_in">document</span>.getElementById(<span class="string">"input1"</span>).value=<span class="string">""</span>;</span><br><span class="line"><span class="built_in">document</span>.getElementById(<span class="string">"input1"</span>).focus();</span><br><span class="line"><span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line"><span class="keyword">if</span> ( (usrName == <span class="string">"zyh"</span>) &amp;&amp; (passWD == <span class="string">"1759116"</span>)) &#123;</span><br><span class="line">alert(<span class="string">"登录成功！"</span>);</span><br><span class="line">jump(<span class="string">"index.html"</span>);</span><br><span class="line"><span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line">alert(<span class="string">"用户名或密码错误，请重新输入！"</span>);</span><br><span class="line">jump(<span class="string">"login.html"</span>);</span><br><span class="line"><span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">jump</span>(<span class="params">address</span>) </span>&#123;</span><br><span class="line"><span class="keyword">if</span> (address == <span class="literal">null</span>)</span><br><span class="line"><span class="built_in">window</span>.location.href=<span class="string">"http://www.sina.com.cn"</span>;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line"><span class="built_in">window</span>.location.href=address;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="截图"><a href="#截图" class="headerlink" title="截图"></a>截图</h4><p><img src="https://s2.ax1x.com/2019/10/09/u4HaJf.jpg" alt="u4HaJf.jpg"></p><p><em>图一 登录界面</em></p><p><img src="https://s2.ax1x.com/2019/10/09/u4Hyes.jpg" alt="u4Hyes.jpg"><br><img src="https://s2.ax1x.com/2019/10/09/u4HdW8.jpg" alt="u4HdW8.jpg"><br><img src="https://s2.ax1x.com/2019/10/09/u4HDyQ.jpg" alt="u4HDyQ.jpg"></p><p><em>图二 用户名/密码/验证码为空并清除文本框内容和定位光标到文本框并刷新二维码</em></p><p><img src="https://s2.ax1x.com/2019/10/09/u4HrLj.jpg" alt="u4HrLj.jpg"><br><img src="https://s2.ax1x.com/2019/10/09/u4H0SS.jpg" alt="u4H0SS.jpg"></p><p><em>图三 用户名/密码/验证码错误并清除文本框内容和定位光标到文本框并刷新二维码</em></p><p><img src="https://s2.ax1x.com/2019/10/09/u4HBQg.jpg" alt="u4HBQg.jpg"></p><p><em>图四 登录成功并刷新该页面</em></p><h3 id="注冊"><a href="#注冊" class="headerlink" title="注冊"></a>注冊</h3><h4 id="源代码-1"><a href="#源代码-1" class="headerlink" title="源代码"></a>源代码</h4><p><strong>register.html</strong></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>注册页面<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">type</span>=<span class="string">"text/css"</span> <span class="attr">href</span>=<span class="string">".\css\style1.css"</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">".\js\myscript1.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>  <span class="attr">class</span>=<span class="string">"login1"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"login1_1"</span>&gt;</span>用户注册<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"login2"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"login2_1"</span>&gt;</span>&amp;nbsp;请输入用户名：<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"username"</span> <span class="attr">id</span>=<span class="string">"usr"</span> <span class="attr">class</span>=<span class="string">"usr_name"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  </span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"login3"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"login3_1"</span>&gt;</span>&amp;nbsp;&amp;nbsp;请输入密码：<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"password"</span> <span class="attr">name</span>=<span class="string">"password"</span> <span class="attr">id</span>=<span class="string">"pwd"</span> <span class="attr">class</span>=<span class="string">"pass_word"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"login6"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"login6_1"</span>&gt;</span>请再次输入密码：<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"password"</span> <span class="attr">name</span>=<span class="string">"assertpassword"</span> <span class="attr">id</span>=<span class="string">"assertpwd"</span> <span class="attr">class</span>=<span class="string">"pass_word"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  </span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"login4"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"login4_1"</span>&gt;</span>&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;验证码：<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">id</span>=<span class="string">"input1"</span> <span class="attr">class</span>=<span class="string">"input_code"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">id</span>=<span class="string">"checkCode"</span> <span class="attr">class</span>=<span class="string">"codeJS"</span> <span class="attr">value</span>=<span class="string">"生成验证码"</span> <span class="attr">onclick</span>=<span class="string">"createCode()"</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  </span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"login5"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">id</span>=<span class="string">"registerButton"</span> <span class="attr">value</span>=<span class="string">"注册"</span> <span class="attr">onclick</span>=<span class="string">"registerValidate()"</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>style1.css</strong></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br></pre></td><td class="code"><pre><span class="line">*&#123; <span class="attribute">font-size</span>:<span class="number">12px</span>; <span class="attribute">font-family</span>:<span class="string">"宋体"</span>; <span class="attribute">color</span>:black;<span class="attribute">margin</span>:<span class="number">0</span> auto;&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">body</span>&#123; <span class="attribute">margin</span>:<span class="number">0</span>; <span class="attribute">background-color</span>:<span class="number">#DCDCDC</span>;&#125;</span><br><span class="line"><span class="selector-tag">input</span>&#123; <span class="attribute">border</span>:none;&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.login1</span> &#123;</span><br><span class="line"><span class="attribute">background-image</span>:<span class="built_in">url</span>(../images/sky.jpg);</span><br><span class="line"><span class="attribute">width</span>:<span class="number">400px</span>;</span><br><span class="line"><span class="attribute">height</span>:<span class="number">120px</span>;</span><br><span class="line"><span class="attribute">overflow</span>:hidden;</span><br><span class="line"><span class="attribute">text-align</span>:center;</span><br><span class="line"><span class="attribute">line-height</span>: <span class="number">120px</span>;</span><br><span class="line"><span class="attribute">letter-spacing</span>:<span class="number">10px</span>;</span><br><span class="line"><span class="attribute">margin-bottom</span>:<span class="number">2px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.login1_1</span> &#123;</span><br><span class="line"><span class="attribute">font-size</span>:<span class="number">60px</span>;</span><br><span class="line"><span class="attribute">font-weight</span>:bold;</span><br><span class="line"><span class="attribute">color</span>:<span class="number">#FFA500</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.login2</span> &#123;</span><br><span class="line"><span class="attribute">background</span>:<span class="number">#7FFFAA</span>;</span><br><span class="line"><span class="attribute">width</span>:<span class="number">400px</span>;</span><br><span class="line"><span class="attribute">height</span>:<span class="number">50px</span>;</span><br><span class="line"><span class="attribute">overflow</span>:hidden;</span><br><span class="line"><span class="attribute">text-align</span>:center;</span><br><span class="line"><span class="attribute">line-height</span>: <span class="number">50px</span>;</span><br><span class="line"><span class="attribute">margin-bottom</span>:<span class="number">1px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.login2_1</span> &#123;</span><br><span class="line"><span class="attribute">font-size</span>:<span class="number">20px</span>;</span><br><span class="line"><span class="attribute">font-weight</span>:bold;</span><br><span class="line"><span class="attribute">color</span>:black;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.usr_name</span> &#123;</span><br><span class="line"><span class="attribute">padding-top</span>:<span class="number">6px</span>;</span><br><span class="line"><span class="attribute">height</span>:<span class="number">20px</span>;</span><br><span class="line"><span class="attribute">width</span>:<span class="number">150px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.login3</span> &#123;</span><br><span class="line"><span class="attribute">background</span>:<span class="number">#7FFFAA</span>;</span><br><span class="line"><span class="attribute">width</span>:<span class="number">400px</span>;</span><br><span class="line"><span class="attribute">height</span>:<span class="number">50px</span>;</span><br><span class="line"><span class="attribute">overflow</span>:hidden;</span><br><span class="line"><span class="attribute">text-align</span>:center;</span><br><span class="line"><span class="attribute">line-height</span>: <span class="number">50px</span>;</span><br><span class="line"><span class="attribute">margin-bottom</span>:<span class="number">1px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.login3_1</span> &#123;</span><br><span class="line"><span class="attribute">font-size</span>:<span class="number">20px</span>;</span><br><span class="line"><span class="attribute">font-weight</span>:bold;</span><br><span class="line"><span class="attribute">color</span>:black;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.pass_word</span> &#123;</span><br><span class="line"><span class="attribute">padding-top</span>:<span class="number">6px</span>;</span><br><span class="line"><span class="attribute">height</span>:<span class="number">20px</span>;</span><br><span class="line"><span class="attribute">width</span>:<span class="number">150px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.login6</span> &#123;</span><br><span class="line"><span class="attribute">background</span>:<span class="number">#7FFFAA</span>;</span><br><span class="line"><span class="attribute">width</span>:<span class="number">400px</span>;</span><br><span class="line"><span class="attribute">height</span>:<span class="number">50px</span>;</span><br><span class="line"><span class="attribute">overflow</span>:hidden;</span><br><span class="line"><span class="attribute">text-align</span>:center;</span><br><span class="line"><span class="attribute">line-height</span>: <span class="number">50px</span>;</span><br><span class="line"><span class="attribute">margin-bottom</span>:<span class="number">1px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.login6_1</span> &#123;</span><br><span class="line"><span class="attribute">font-size</span>:<span class="number">20px</span>;</span><br><span class="line"><span class="attribute">font-weight</span>:bold;</span><br><span class="line"><span class="attribute">color</span>:black;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.pass_word</span> &#123;</span><br><span class="line"><span class="attribute">padding-top</span>:<span class="number">6px</span>;</span><br><span class="line"><span class="attribute">height</span>:<span class="number">20px</span>;</span><br><span class="line"><span class="attribute">width</span>:<span class="number">150px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.login4</span> &#123;</span><br><span class="line"><span class="attribute">background</span>:<span class="number">#7FFFAA</span>;</span><br><span class="line"><span class="attribute">width</span>:<span class="number">400px</span>;</span><br><span class="line"><span class="attribute">height</span>:<span class="number">50px</span>;</span><br><span class="line"><span class="attribute">overflow</span>:hidden;</span><br><span class="line"><span class="attribute">text-align</span>:center;</span><br><span class="line"><span class="attribute">line-height</span>: <span class="number">50px</span>;</span><br><span class="line">//letter-spacing:10px;</span><br><span class="line"><span class="selector-tag">margin-bottom</span><span class="selector-pseudo">:1px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.login4_1</span> &#123;</span><br><span class="line"><span class="attribute">font-size</span>:<span class="number">20px</span>;</span><br><span class="line"><span class="attribute">font-weight</span>:bold;</span><br><span class="line"><span class="attribute">color</span>:black;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.input_code</span> &#123;</span><br><span class="line"><span class="attribute">padding-top</span>:<span class="number">3px</span>;</span><br><span class="line"><span class="attribute">height</span>:<span class="number">20px</span>;</span><br><span class="line"><span class="attribute">width</span>:<span class="number">70px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.codeJS</span> &#123;</span><br><span class="line"><span class="attribute">background-color</span>:<span class="number">#E6E6FA</span>;</span><br><span class="line"><span class="attribute">padding-top</span>:<span class="number">3px</span>;</span><br><span class="line"><span class="attribute">height</span>:<span class="number">24px</span>;</span><br><span class="line"><span class="attribute">width</span>:<span class="number">70px</span>;</span><br><span class="line"><span class="attribute">font-style</span>:italic;</span><br><span class="line"><span class="attribute">font-size</span>:<span class="number">12px</span>;</span><br><span class="line"><span class="attribute">font-weight</span>:bold;</span><br><span class="line"><span class="attribute">color</span>:<span class="number">#D2691E</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.login5</span> &#123;</span><br><span class="line"><span class="attribute">background</span>:<span class="number">#7FFFAA</span>;</span><br><span class="line"><span class="attribute">width</span>:<span class="number">400px</span>;</span><br><span class="line"><span class="attribute">height</span>:<span class="number">50px</span>;</span><br><span class="line"><span class="attribute">overflow</span>:hidden;</span><br><span class="line"><span class="attribute">text-align</span>:center;</span><br><span class="line"><span class="attribute">line-height</span>: <span class="number">50px</span>;</span><br><span class="line"><span class="attribute">letter-spacing</span>:<span class="number">10px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.login5</span> <span class="selector-tag">input</span> &#123;</span><br><span class="line"><span class="attribute">background-color</span>:<span class="number">#6495ED</span>;</span><br><span class="line"><span class="attribute">font-size</span>:<span class="number">18px</span>;</span><br><span class="line"><span class="attribute">padding-left</span>:<span class="number">16px</span>;</span><br><span class="line"><span class="attribute">letter-spacing</span>:<span class="number">10px</span>;</span><br><span class="line"><span class="attribute">font-weight</span>:bold;</span><br><span class="line"><span class="attribute">color</span>:red;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>myscript1.js</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> code;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createCode</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"><span class="keyword">var</span> codeLength = <span class="number">4</span>;</span><br><span class="line"><span class="keyword">var</span> checkCode = <span class="built_in">document</span>.getElementById(<span class="string">"checkCode"</span>);</span><br><span class="line"><span class="keyword">var</span> selectChar = <span class="keyword">new</span> <span class="built_in">Array</span>(<span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="string">'A'</span>, <span class="string">'B'</span>, <span class="string">'C'</span>, <span class="string">'D'</span>, <span class="string">'E'</span>, <span class="string">'F'</span>, <span class="string">'G'</span>, <span class="string">'H'</span>, <span class="string">'J'</span>, <span class="string">'K'</span>, <span class="string">'L'</span>, <span class="string">'M'</span>, <span class="string">'N'</span>, <span class="string">'P'</span>, <span class="string">'Q'</span>, <span class="string">'R'</span>, <span class="string">'S'</span>, <span class="string">'T'</span>, <span class="string">'U'</span>, <span class="string">'V'</span>, <span class="string">'W'</span>, <span class="string">'X'</span>, <span class="string">'Y'</span>, <span class="string">'Z'</span>);</span><br><span class="line"><span class="keyword">var</span> charIndex = <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random() * <span class="number">32</span>);</span><br><span class="line">code = selectChar[charIndex];</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">1</span>; i &lt; codeLength; i++) &#123;</span><br><span class="line"><span class="keyword">var</span> charIndex = <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random() * <span class="number">32</span>);</span><br><span class="line">code += selectChar[charIndex];</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (code.length != codeLength) &#123;</span><br><span class="line">createCode();</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">document</span>.getElementById(<span class="string">"checkCode"</span>).value = code;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">registerValidate</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"><span class="keyword">var</span> inputCode = <span class="built_in">document</span>.getElementById(<span class="string">"input1"</span>).value.toUpperCase();</span><br><span class="line"><span class="keyword">var</span> usrName = <span class="built_in">document</span>.getElementById(<span class="string">"usr"</span>).value;</span><br><span class="line">  <span class="keyword">var</span> passWD = <span class="built_in">document</span>.getElementById(<span class="string">"pwd"</span>).value;</span><br><span class="line">  <span class="keyword">var</span> assertpassWD = <span class="built_in">document</span>.getElementById(<span class="string">"assertpwd"</span>).value;</span><br><span class="line"><span class="keyword">if</span> (usrName.length &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">    alert(<span class="string">"很抱歉，用户名不能为空!"</span>);</span><br><span class="line">    <span class="built_in">document</span>.getElementById(<span class="string">"usr"</span>).focus();</span><br><span class="line">    createCode();</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> (passWD.length &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">    alert(<span class="string">"很抱歉，密码不能为空!"</span>);</span><br><span class="line">    <span class="built_in">document</span>.getElementById(<span class="string">"pwd"</span>).focus();</span><br><span class="line">    createCode();</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (assertpassWD.length &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">    alert(<span class="string">"很抱歉，确认密码不能为空!"</span>);</span><br><span class="line">    <span class="built_in">document</span>.getElementById(<span class="string">"assertpwd"</span>).focus();</span><br><span class="line">    createCode();</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">if</span> (inputCode.length &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">    alert(<span class="string">"请输入验证码！"</span>);</span><br><span class="line">    createCode();</span><br><span class="line">    <span class="built_in">document</span>.getElementById(<span class="string">"input1"</span>).focus();</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (inputCode != code) &#123;</span><br><span class="line">    alert(<span class="string">"验证码输入错误！"</span>);</span><br><span class="line">    createCode();</span><br><span class="line">    <span class="built_in">document</span>.getElementById(<span class="string">"input1"</span>).value=<span class="string">""</span>;</span><br><span class="line">    <span class="built_in">document</span>.getElementById(<span class="string">"input1"</span>).focus();</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (usrName == <span class="string">"zyh"</span>) &#123;</span><br><span class="line">    alert(<span class="string">"很抱歉，该用户名已注册，请更换注册用户名!"</span>);</span><br><span class="line">    <span class="built_in">document</span>.getElementById(<span class="string">"usr"</span>).value=<span class="string">""</span>;</span><br><span class="line">    <span class="built_in">document</span>.getElementById(<span class="string">"usr"</span>).focus();</span><br><span class="line">    createCode();</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">else</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>( passWD == assertpassWD) &#123;</span><br><span class="line">      alert(<span class="string">"注册成功！"</span>);</span><br><span class="line">      jump(<span class="string">"index.html"</span>);</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">      alert(<span class="string">"输入的密码不一致，请重新输入！"</span>);</span><br><span class="line">      <span class="built_in">document</span>.getElementById(<span class="string">"assertpwd"</span>).value=<span class="string">""</span>;</span><br><span class="line">      <span class="built_in">document</span>.getElementById(<span class="string">"assertpwd"</span>).focus();</span><br><span class="line">      createCode();</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    &#125; </span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">jump</span>(<span class="params">address</span>) </span>&#123;</span><br><span class="line"><span class="keyword">if</span> (address == <span class="literal">null</span>)</span><br><span class="line"><span class="built_in">window</span>.location.href=<span class="string">"http://www.sina.com.cn"</span>;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line"><span class="built_in">window</span>.location.href=address;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="截图-1"><a href="#截图-1" class="headerlink" title="截图"></a>截图</h4><p><img src="https://s2.ax1x.com/2019/10/09/u5Pxe0.jpg" alt="u5Pxe0.jpg"></p><p><em>图一 登录界面</em></p><p><img src="https://s2.ax1x.com/2019/10/09/u5PXyn.jpg" alt="u5PXyn.jpg"><br><img src="https://s2.ax1x.com/2019/10/09/u5Poo8.jpg" alt="u5Poo8.jpg"><br><img src="https://s2.ax1x.com/2019/10/09/u5P7FS.jpg" alt="u5P7FS.jpg"></p><p><em>图二 用户名/密码/确认密码/验证码为空并清除文本框内容和定位光标到文本框并刷新二维码</em></p><p><img src="https://s2.ax1x.com/2019/10/09/u5PjLq.jpg" alt="u5PjLq.jpg"><br><img src="https://s2.ax1x.com/2019/10/09/u5Pqzj.jpg" alt="u5Pqzj.jpg"><br><img src="https://s2.ax1x.com/2019/10/09/u5PHJg.jpg" alt="u5PHJg.jpg"></p><p><em>图三 用户名已重复/密码不一致/验证码错误并清除文本框内容和定位光标到文本框并刷新二维码</em></p><p><img src="https://s2.ax1x.com/2019/10/09/u5POQs.jpg" alt="u5POQs.jpg"></p><p><em>图四 注册成功并刷新该页面</em></p><h2 id="实验心得"><a href="#实验心得" class="headerlink" title="实验心得"></a>实验心得</h2><p>重构了一下登录的代码，使得程序更有逻辑性，比如密码验证前需要填写验证码，验证码实时多次刷新等，界面也挺丑的，不过既然做前端，ui也是前端一项很重要的技能……这点和老师的观点有点不一样，因为前端报错vue，echart，d3.js都是很好的画图工具，如果ui都不行给你工具也发挥不了。包括现在的课程，我觉得老师也没必要叫我们写这种很low的网站，放在20年前，不但有前途还有钱途。现在到处到时CMS，部署一个，改下css主题就行，已经没有任何技术含量和技术价值了。</p><blockquote style="margin: 2em 0 0;padding: 0.5em 1em;border-left: 3px solid #F44336;background-color: #F5F5F5;list-style: none;"><p> <strong>本文使用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/" target="_blank" rel="noopener">CC BY-NC-SA 3.0 中国大陆</a> 协议许可<br>具体请参见 <a href="https://zyhang8.github.io/agree/" target="_blank" rel="noopener">知识共享协议</a></strong><br> <strong>本文链接：</strong><a href="https://zyhang8.github.io/2019/11/04/javaweb-exp2/" target="_blank" rel="noopener">https://zyhang8.github.io/2019/11/04/javaweb-exp2/</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 前端 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>适配器模式</title>
      <link href="/2019/11/03/adapter/"/>
      <url>/2019/11/03/adapter/</url>
      
        <content type="html"><![CDATA[<h1 id="适配器模式"><a href="#适配器模式" class="headerlink" title="适配器模式"></a>适配器模式</h1><h2 id="扩展坞（程序一）"><a href="#扩展坞（程序一）" class="headerlink" title="扩展坞（程序一）"></a>扩展坞（程序一）</h2><h3 id="一、应用场景与案例描述"><a href="#一、应用场景与案例描述" class="headerlink" title="一、应用场景与案例描述"></a>一、应用场景与案例描述</h3><p>新款Macbook那就是只有一个USB-C接口，对于需要同时进行充电、传输数据或连接打印机、投影仪等外设的用户来说实在不方便。则需要使用扩展坞进行接口的转换。则使用适配器的原理对接口进行转换。</p><h3 id="二、案例分析与解决问题"><a href="#二、案例分析与解决问题" class="headerlink" title="二、案例分析与解决问题"></a>二、案例分析与解决问题</h3><p>在上面的场景中，接口的转换使用了适配器的模式。<br>适配器的适配程度：由于扩展坞的目标接口中的方法只有两个雷神3的Type-C接口，而被适配的接口有HDMI接口，雷电3接口，Type-c 3接口，TF/SD卡槽，两个USB3.0接口，所以为不完全适配。<br>实现原理：将接口协议A、B进行统一，将所有端的协议全部替换成新协议，使用一套新协议；</p><h3 id="三、各种角色描述与UML"><a href="#三、各种角色描述与UML" class="headerlink" title="三、各种角色描述与UML"></a>三、各种角色描述与UML</h3><p><img src="https://s2.ax1x.com/2019/05/29/VuaFBQ.png" alt="VuaFBQ.png"></p><h4 id="1-目标（Target）"><a href="#1-目标（Target）" class="headerlink" title="1.目标（Target）"></a>1.目标（Target）</h4><p>LCD（显示器），Earphone（耳机），Phone（手机），TF（TF卡），SD（SD卡），UsbDisk（U盘），HardDisk（移动硬盘）等设备</p><h4 id="2-被适配者"><a href="#2-被适配者" class="headerlink" title="2.被适配者"></a>2.被适配者</h4><p>多功能扩展坞的各种接口</p><h4 id="3-适配器"><a href="#3-适配器" class="headerlink" title="3.适配器"></a>3.适配器</h4><p>TreatyAdapter（多功能扩展坞）</p><h3 id="四、附录"><a href="#四、附录" class="headerlink" title="四、附录"></a>四、附录</h3><h4 id="源代码"><a href="#源代码" class="headerlink" title="源代码"></a>源代码</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">//HDMI接口</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">HDMI</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">connectMacbook</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//VGA接口</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">VGA</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">connectMacbook</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//Thunder接口</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Thunder</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">connectMacbook</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//Micro接口</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Micro</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">connectMacbook</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//TypeC接口</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">TypeC</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">connectMacbook</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//OMTP接口</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">OMTP</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">connectMacbook</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//TF卡槽</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">TFCard</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">connectMacbook</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//CF卡槽</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">CFCard</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">connectMacbook</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//SD卡槽</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">SDCard</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">connectMacbook</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//miniSD卡槽</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">miniSDCard</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">connectMacbook</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//USB3One接口</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">USB3One</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">connectMacbook</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//Lightning接口</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Lightning</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">connectMacbook</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//USB3Two接口</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">USB3Two</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">connectMacbook</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//RJ45接口</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">RJ45</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">connectMacbook</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//十四向适配器模式</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FourteenAdapter</span> <span class="keyword">implements</span> <span class="title">HDMI</span>, <span class="title">VGA</span>, <span class="title">Thunder</span>, <span class="title">Micro</span>, <span class="title">TypeC</span>, <span class="title">OMTP</span>, <span class="title">TFCard</span>, <span class="title">CFCard</span>, <span class="title">SDCard</span>, <span class="title">miniSDCard</span>, <span class="title">USB3One</span>, <span class="title">Lightning</span>, <span class="title">USB3Two</span>, <span class="title">RJ45</span></span>&#123;</span><br><span class="line">    HDMI hdmi;</span><br><span class="line">VGA vga;</span><br><span class="line">    Thunder thunder;</span><br><span class="line">    Micro micro;</span><br><span class="line">    TypeC typec;</span><br><span class="line">    OMTP omtp;</span><br><span class="line">    TFCard tfcard;</span><br><span class="line">    CFCard cfcard;</span><br><span class="line">    SDCard sdcard;</span><br><span class="line">    miniSDCard minisdcard;</span><br><span class="line">    USB3One usb3one;</span><br><span class="line">    Lightning lightning;</span><br><span class="line">    USB3Two usb3two;</span><br><span class="line">    RJ45 rj45;</span><br><span class="line">    FourteenAdapter(HDMI hdmi, VGA vga, Thunder thunder, Micro micro, TypeC typec, OMTP omtp, TFCard tfcard, CFCard cfcard, SDCard sdcard, miniSDCard minisdcard, USB3One usb3one, Lightning lightning, USB3Two usb3two, RJ45 rj45)&#123;</span><br><span class="line">       <span class="keyword">this</span>.hdmi=hdmi;</span><br><span class="line">       <span class="keyword">this</span>.vga=vga;</span><br><span class="line">       <span class="keyword">this</span>.thunder=thunder;</span><br><span class="line">       <span class="keyword">this</span>.micro=micro;</span><br><span class="line">       <span class="keyword">this</span>.typec=typec;</span><br><span class="line">       <span class="keyword">this</span>.omtp=omtp;</span><br><span class="line">       <span class="keyword">this</span>.tfcard=tfcard;</span><br><span class="line">       <span class="keyword">this</span>.cfcard=cfcard;</span><br><span class="line">       <span class="keyword">this</span>.sdcard=sdcard;</span><br><span class="line">       <span class="keyword">this</span>.minisdcard=minisdcard;</span><br><span class="line">       <span class="keyword">this</span>.usb3one=usb3one;</span><br><span class="line">       <span class="keyword">this</span>.lightning=lightning;</span><br><span class="line">       <span class="keyword">this</span>.usb3two=usb3two;</span><br><span class="line">       <span class="keyword">this</span>.rj45=rj45;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">connectMacbook</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="keyword">this</span> <span class="keyword">instanceof</span> HDMI) &#123;</span><br><span class="line">        System.out.println(<span class="string">"\t转换成HDMI接口:"</span>);</span><br><span class="line">        vga.connectMacbook();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(<span class="keyword">this</span> <span class="keyword">instanceof</span> VGA) &#123;</span><br><span class="line">        System.out.println(<span class="string">"\t转换成VGA接口:"</span>);</span><br><span class="line">        hdmi.connectMacbook()</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(<span class="keyword">this</span> <span class="keyword">instanceof</span> Thunder) &#123;</span><br><span class="line">        System.out.println(<span class="string">"\t转换成雷电接口:"</span>);</span><br><span class="line">        micro.connectMacbook();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(<span class="keyword">this</span> <span class="keyword">instanceof</span> Micro) &#123;</span><br><span class="line">        System.out.println(<span class="string">"\t转换成安卓接口:"</span>);</span><br><span class="line">        thunder.connectMacbook();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(<span class="keyword">this</span> <span class="keyword">instanceof</span> TypeC) &#123;</span><br><span class="line">        System.out.println(<span class="string">"\t转换成TypeC接口:"</span>);</span><br><span class="line">        omtp.connectMacbook();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(<span class="keyword">this</span> <span class="keyword">instanceof</span> OMTP) &#123;</span><br><span class="line">        System.out.println(<span class="string">"\t转换成VGA接口:"</span>);</span><br><span class="line">        typec.connectMacbook();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(<span class="keyword">this</span> <span class="keyword">instanceof</span> TFCard) &#123;</span><br><span class="line">        System.out.println(<span class="string">"\t转换成TF卡槽:"</span>);</span><br><span class="line">        cfcard.connectMacbook();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(<span class="keyword">this</span> <span class="keyword">instanceof</span> CFCard) &#123;</span><br><span class="line">        System.out.println(<span class="string">"\t转换成CF卡槽:"</span>);</span><br><span class="line">        tfcard.connectMacbook();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(<span class="keyword">this</span> <span class="keyword">instanceof</span> SDCard) &#123;</span><br><span class="line">        System.out.println(<span class="string">"\t转换成SDCard卡槽:"</span>);</span><br><span class="line">        minisdcard.connectMacbook();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(<span class="keyword">this</span> <span class="keyword">instanceof</span> miniSDCard) &#123;</span><br><span class="line">        System.out.println(<span class="string">"\t转换成miniSDCard卡槽:"</span>);</span><br><span class="line">        sdcard.connectMacbook();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(<span class="keyword">this</span> <span class="keyword">instanceof</span> USB3One) &#123;</span><br><span class="line">        System.out.println(<span class="string">"\t转换成HDMI接口:"</span>);</span><br><span class="line">        lightning.connectMacbook();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(<span class="keyword">this</span> <span class="keyword">instanceof</span> Lightning) &#123;</span><br><span class="line">        System.out.println(<span class="string">"\t转换成VGA接口:"</span>);</span><br><span class="line">        usb3one.connectMacbook();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(<span class="keyword">this</span> <span class="keyword">instanceof</span> USB3Two) &#123;</span><br><span class="line">        System.out.println(<span class="string">"\t转换成HDMI接口:"</span>);</span><br><span class="line">        rj45.connectMacbook();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(<span class="keyword">this</span> <span class="keyword">instanceof</span> RJ45) &#123;</span><br><span class="line">        System.out.println(<span class="string">"\t转换成VGA接口:"</span>);</span><br><span class="line">        usb3two.connectMacbook();</span><br><span class="line">    &#125;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Application</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span></span>&#123;</span><br><span class="line">       HDMI hdmi;</span><br><span class="line">       Thunder thunder;</span><br><span class="line">       TypeC typec;</span><br><span class="line">       TFCard tfcard;</span><br><span class="line">       SDCard sdcard;</span><br><span class="line">       USB3One usb3one;</span><br><span class="line">       USB3Two usb3two;</span><br><span class="line">       LCD lcd=<span class="keyword">new</span> LCD(); <span class="comment">//显示器</span></span><br><span class="line">       ThundeRobot thunderobot=<span class="keyword">new</span> ThundeRobot();<span class="comment">//主机</span></span><br><span class="line">       Watch watch=<span class="keyword">new</span> Watch();<span class="comment">//手表</span></span><br><span class="line">       XiaoMi xiaomi=<span class="keyword">new</span> XiaoMi();<span class="comment">//安卓手机</span></span><br><span class="line">       Pixel pixel=<span class="keyword">new</span> Pixel(); <span class="comment">//TypeC手机</span></span><br><span class="line">       Sony sony=<span class="keyword">new</span> Sony(); <span class="comment">//耳机</span></span><br><span class="line">       TF tf=<span class="keyword">new</span> TF();  <span class="comment">//TF卡</span></span><br><span class="line">       CF cf=<span class="keyword">new</span> CF();  <span class="comment">//CF卡</span></span><br><span class="line">       SD sd=<span class="keyword">new</span> SD();  <span class="comment">//SD卡</span></span><br><span class="line">       miniSD minisd=<span class="keyword">new</span> miniSD();  <span class="comment">//miniSD卡</span></span><br><span class="line">       UsbDisk usbdisk=<span class="keyword">new</span> UsbDisk();   <span class="comment">//U盘</span></span><br><span class="line">       iPad ipad=<span class="keyword">new</span> iPad();    <span class="comment">//平板</span></span><br><span class="line">       HardDisk harddisk=<span class="keyword">new</span> HardDisk();    <span class="comment">//移动硬盘</span></span><br><span class="line">       WIFI wifi=<span class="keyword">new</span> WIFI();    <span class="comment">//路由</span></span><br><span class="line">       FourteenAdapter adapter = <span class="keyword">new</span> FourteenAdapter(lcd, thunderobot, watch, xiaomi, pixel, sony, tf, cf, sd, minisd, usbdisk, ipad, harddisk, wifi);</span><br><span class="line">       System.out.println(<span class="string">"扩展坞连接："</span>);</span><br><span class="line">       adapter.connectMacbook();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">LCD</span> <span class="keyword">implements</span> <span class="title">HDMI</span></span>&#123;</span><br><span class="line">    String name;</span><br><span class="line">    LCD ()&#123;</span><br><span class="line">        name = <span class="string">"LCD显示屏"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    LCD (String name)&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">connectMacbook</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"\t"</span> + name + <span class="string">"连接成功"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ThundeRobot</span> <span class="keyword">implements</span> <span class="title">VGA</span></span>&#123;</span><br><span class="line">    String name;</span><br><span class="line">    ThundeRobot ()&#123;</span><br><span class="line">        name = <span class="string">"雷神RTX"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    ThundeRobot (String name)&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">connectMacbook</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"\t"</span> + name + <span class="string">"连接成功"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Watch</span> <span class="keyword">implements</span> <span class="title">Thunder</span></span>&#123;</span><br><span class="line">    String name;</span><br><span class="line">    Watch ()&#123;</span><br><span class="line">        name = <span class="string">"HUAWEI WATCH 2"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    Watch (String name)&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">connectMacbook</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"\t"</span> + name + <span class="string">"连接成功"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">XiaoMi</span> <span class="keyword">implements</span> <span class="title">Micro</span></span>&#123;</span><br><span class="line">    String name;</span><br><span class="line">    XiaoMi ()&#123;</span><br><span class="line">        name = <span class="string">"小米8"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    XiaoMi (String name)&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">connectMacbook</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"\t"</span> + name + <span class="string">"连接成功"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Pixel</span> <span class="keyword">implements</span> <span class="title">TypeC</span></span>&#123;</span><br><span class="line">    String name;</span><br><span class="line">    Pixel ()&#123;</span><br><span class="line">        name = <span class="string">"Google Pixel3 XL"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    Pixel (String name)&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">connectMacbook</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"\t"</span> + name + <span class="string">"连接成功"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Sony</span> <span class="keyword">implements</span> <span class="title">OMTP</span></span>&#123;</span><br><span class="line">    String name;</span><br><span class="line">    Sony ()&#123;</span><br><span class="line">        name = <span class="string">"Sony WH-1000XM3"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    Sony (String name)&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">connectMacbook</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"\t"</span> + name + <span class="string">"连接成功"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TF</span> <span class="keyword">implements</span> <span class="title">TFCard</span></span>&#123;</span><br><span class="line">    String name;</span><br><span class="line">    TF ()&#123;</span><br><span class="line">        name = <span class="string">"Kingstom TF卡"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    TF (String name)&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">connectMacbook</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"\t"</span> + name + <span class="string">"连接成功"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">CF</span> <span class="keyword">implements</span> <span class="title">CFCard</span></span>&#123;</span><br><span class="line">    String name;</span><br><span class="line">    CF ()&#123;</span><br><span class="line">        name = <span class="string">"Lenovo CF卡"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    CF (String name)&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">connectMacbook</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"\t"</span> + name + <span class="string">"连接成功"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SD</span> <span class="keyword">implements</span> <span class="title">SDCard</span></span>&#123;</span><br><span class="line">    String name;</span><br><span class="line">    SD ()&#123;</span><br><span class="line">        name = <span class="string">"Sumsung SD卡"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    SD (String name)&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">connectMacbook</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"\t"</span> + name + <span class="string">"连接成功"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">miniSD</span> <span class="keyword">implements</span> <span class="title">miniSDCard</span></span>&#123;</span><br><span class="line">    String name;</span><br><span class="line">    miniSD ()&#123;</span><br><span class="line">        name = <span class="string">"SanDisk 迷你SD卡"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    miniSD (String name)&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">connectMacbook</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"\t"</span> + name + <span class="string">"连接成功"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">UsbDisk</span> <span class="keyword">implements</span> <span class="title">USB3One</span></span>&#123;</span><br><span class="line">    String name;</span><br><span class="line">    UsbDisk ()&#123;</span><br><span class="line">        name = <span class="string">"Dell U盘"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    UsbDisk (String name)&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">connectMacbook</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"\t"</span> + name + <span class="string">"连接成功"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">iPad</span> <span class="keyword">implements</span> <span class="title">Lightning</span></span>&#123;</span><br><span class="line">    String name;</span><br><span class="line">    iPad ()&#123;</span><br><span class="line">        name = <span class="string">"iPad 3"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    iPad (String name)&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">connectMacbook</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"\t"</span> + name + <span class="string">"连接成功"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">HardDisk</span> <span class="keyword">implements</span> <span class="title">USB3Two</span></span>&#123;</span><br><span class="line">    String name;</span><br><span class="line">    HardDisk ()&#123;</span><br><span class="line">        name = <span class="string">"Toshiba数据线"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    HardDisk (String name)&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">connectMacbook</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"\t"</span> + name + <span class="string">"连接成功"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">WIFI</span> <span class="keyword">implements</span> <span class="title">RJ45</span></span>&#123;</span><br><span class="line">    String name;</span><br><span class="line">    WIFI ()&#123;</span><br><span class="line">        name = <span class="string">"TP-LINK路由器"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    WIFI (String name)&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">connectMacbook</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"\t"</span> + name + <span class="string">"连接成功"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="运行截图"><a href="#运行截图" class="headerlink" title="运行截图"></a>运行截图</h4><p><img src="https://s2.ax1x.com/2019/05/29/VuUqne.png" alt="VuUqne.png"></p><h2 id="菜单栏（程序二）"><a href="#菜单栏（程序二）" class="headerlink" title="菜单栏（程序二）"></a>菜单栏（程序二）</h2><h3 id="一-应用场景与案例描述"><a href="#一-应用场景与案例描述" class="headerlink" title="一 应用场景与案例描述"></a>一 应用场景与案例描述</h3><p>现在人们的生活离不开App，而稍微复杂一点的App都会有一个最基础的组件-菜单栏，菜单栏各式各样，而现在的菜单栏按钮文本和图片至少设置其一，而现在很多菜单项都是两者兼具。使用适配器将图片和文字进行适配。</p><h3 id="二-案例分析与解决问题"><a href="#二-案例分析与解决问题" class="headerlink" title="二 案例分析与解决问题"></a>二 案例分析与解决问题</h3><p>在上面的场景中，菜单项的转换使用了适配器的模式。<br>适配器的适配程度：同时拥有图片和文字，为完全适配。<br>实现原理：将函数逻辑进行统一，将所有函数全部替换成新函数；</p><h3 id="三-各种角色描述与UML"><a href="#三-各种角色描述与UML" class="headerlink" title="三 各种角色描述与UML"></a>三 各种角色描述与UML</h3><p><img src="https://s2.ax1x.com/2019/05/29/VuwxhR.png" alt="VuwxhR.png"></p><h4 id="1-目标（Target）-1"><a href="#1-目标（Target）-1" class="headerlink" title="1 目标（Target）"></a>1 目标（Target）</h4><p>mItemImgs(安全中心,特色服务, 投资理财,转账汇款, 我的账户, 信用卡),resIds（图片），texts（文本）</p><h4 id="2-被适配者-1"><a href="#2-被适配者-1" class="headerlink" title="2 被适配者"></a>2 被适配者</h4><p>多功能菜单栏函数</p><h4 id="3-适配器-1"><a href="#3-适配器-1" class="headerlink" title="3 适配器"></a>3 适配器</h4><p>etMenuItemIconsAndTexts（多功能菜单栏）</p><h3 id="四-附录"><a href="#四-附录" class="headerlink" title="四 附录"></a>四 附录</h3><h4 id="4-1源代码"><a href="#4-1源代码" class="headerlink" title="4.1源代码"></a>4.1源代码</h4><p><img src="https://s2.ax1x.com/2019/05/29/VudMGt.png" alt="VudMGt.png"></p><h5 id="CircleMenuLayout-java"><a href="#CircleMenuLayout-java" class="headerlink" title="CircleMenuLayout.java"></a>CircleMenuLayout.java</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.content.Context;</span><br><span class="line"><span class="keyword">import</span> android.util.AttributeSet;</span><br><span class="line"><span class="keyword">import</span> android.util.DisplayMetrics;</span><br><span class="line"><span class="keyword">import</span> android.view.LayoutInflater;</span><br><span class="line"><span class="keyword">import</span> android.view.MotionEvent;</span><br><span class="line"><span class="keyword">import</span> android.view.View;</span><br><span class="line"><span class="keyword">import</span> android.view.ViewGroup;</span><br><span class="line"><span class="keyword">import</span> android.view.WindowManager;</span><br><span class="line"><span class="keyword">import</span> android.widget.ImageView;</span><br><span class="line"><span class="keyword">import</span> android.widget.TextView;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Package: example</span></span><br><span class="line"><span class="comment"> * Created by zyh</span></span><br><span class="line"><span class="comment"> * on 2019/5/26</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CircleMenuLayout</span> <span class="keyword">extends</span> <span class="title">ViewGroup</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//变量</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> mRadius;<span class="comment">//直径</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">float</span> RADIO_DEFAULT_CHILD_DIMENSION = <span class="number">1</span> / <span class="number">4f</span>;<span class="comment">//默认child item尺寸</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">float</span> RADIO＿PADDING_LAYOUT = <span class="number">1</span> / <span class="number">12f</span>;  <span class="comment">//内边距</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">float</span> mPadding;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">double</span> mStartAngle = <span class="number">0</span>;<span class="comment">//开始角度</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String[] mItemTexts;<span class="comment">//菜单项文本</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span>[] mItemImgs;<span class="comment">//菜单项图片</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> mMenuItemCount;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * MenuItem的点击事件接口</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> OnMenuItemClickListener mOnItemClickListener;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 检测按下到抬起时旋转的角度</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">float</span> mTmpAngle;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 检测按下到抬起时使用的时间</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">long</span> mDownTime;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 判断是否正在自动滚动</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">boolean</span> isFling;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 当每秒移动角度达到该值时，认为是快速移动</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> FLINGABLE_VALUE = <span class="number">300</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> mFlingableValue = FLINGABLE_VALUE;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 如果移动角度达到该值，则屏蔽点击</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> NOCLICK_VALUE = <span class="number">3</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> mMenuItemLayoutId = R.layout.circle_menu_item;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">CircleMenuLayout</span><span class="params">(Context context)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(context);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">CircleMenuLayout</span><span class="params">(Context context, AttributeSet attrs)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">super</span>(context, attrs);</span><br><span class="line">        <span class="comment">// 无视padding</span></span><br><span class="line">        setPadding(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">CircleMenuLayout</span><span class="params">(Context context, AttributeSet attrs, <span class="keyword">int</span> defStyleAttr)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(context, attrs, defStyleAttr);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">CircleMenuLayout</span><span class="params">(Context context, AttributeSet attrs, <span class="keyword">int</span> defStyleAttr, <span class="keyword">int</span> defStyleRes)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(context, attrs, defStyleAttr, defStyleRes);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onMeasure</span><span class="params">(<span class="keyword">int</span> widthMeasureSpec, <span class="keyword">int</span> heightMeasureSpec)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//测量布局</span></span><br><span class="line">        measureLayoutView(widthMeasureSpec, heightMeasureSpec);</span><br><span class="line">        <span class="comment">//测量子控件</span></span><br><span class="line">        measureChildViews();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">measureLayoutView</span><span class="params">(<span class="keyword">int</span> widthMeasureSpec, <span class="keyword">int</span> heightMeasureSpec)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> resWidth = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> resHeight = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//根据传入参数，获得测量值和模式</span></span><br><span class="line">        <span class="keyword">int</span> width = MeasureSpec.getSize(widthMeasureSpec);</span><br><span class="line">        <span class="keyword">int</span> widthMode = MeasureSpec.getMode(widthMeasureSpec);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> height = MeasureSpec.getSize(heightMeasureSpec);</span><br><span class="line">        <span class="keyword">int</span> heightMode = MeasureSpec.getMode(heightMeasureSpec);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//是否设置精确值</span></span><br><span class="line">        <span class="keyword">if</span> (widthMode != MeasureSpec.EXACTLY || heightMode != MeasureSpec.EXACTLY) &#123;</span><br><span class="line">            resWidth = getSuggestedMinimumWidth();</span><br><span class="line">            resWidth = (resWidth == <span class="number">0</span> ? getDefaultWidth() : resWidth);</span><br><span class="line"></span><br><span class="line">            resHeight = getSuggestedMinimumHeight();</span><br><span class="line">            resHeight = (resHeight == <span class="number">0</span> ? getDefaultWidth() : resHeight);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            resWidth = resHeight = Math.min(width, height);</span><br><span class="line">        &#125;</span><br><span class="line">        setMeasuredDimension(resWidth, resHeight);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 获得默认该layout的尺寸</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">getDefaultWidth</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        WindowManager wm = (WindowManager) getContext().getSystemService(</span><br><span class="line">                Context.WINDOW_SERVICE);</span><br><span class="line">        DisplayMetrics outMetrics = <span class="keyword">new</span> DisplayMetrics();</span><br><span class="line">        wm.getDefaultDisplay().getMetrics(outMetrics);</span><br><span class="line">        <span class="keyword">return</span> Math.min(outMetrics.widthPixels, outMetrics.heightPixels);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">measureChildViews</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        mRadius = Math.max(getMeasuredWidth(), getMeasuredHeight());<span class="comment">//获取半径</span></span><br><span class="line">        <span class="keyword">final</span> <span class="keyword">int</span> count = getChildCount();<span class="comment">//获取menu item个数</span></span><br><span class="line">        <span class="keyword">int</span> childSize = (<span class="keyword">int</span>) (mRadius * RADIO_DEFAULT_CHILD_DIMENSION);<span class="comment">//menu item 尺寸</span></span><br><span class="line">        <span class="keyword">int</span> childMode = MeasureSpec.EXACTLY;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; count; i++) &#123;</span><br><span class="line">            <span class="keyword">final</span> View child = getChildAt(i);</span><br><span class="line">            <span class="keyword">if</span> (child.getVisibility() == GONE) &#123;</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="comment">//计算menu item 的尺寸，模式，去对item测量</span></span><br><span class="line">            <span class="keyword">int</span> makeMeasureSpec = -<span class="number">1</span>;</span><br><span class="line">            makeMeasureSpec = MeasureSpec.makeMeasureSpec(childSize, childMode);</span><br><span class="line">            child.measure(makeMeasureSpec, makeMeasureSpec);</span><br><span class="line">        &#125;</span><br><span class="line">        mPadding = RADIO＿PADDING_LAYOUT * mRadius;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//设置menu item监听</span></span><br><span class="line">    <span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">OnMenuItemClickListener</span> </span>&#123;</span><br><span class="line">        <span class="function"><span class="keyword">void</span> <span class="title">itemClick</span><span class="params">(View view, <span class="keyword">int</span> position)</span></span>;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">void</span> <span class="title">itemCenterClick</span><span class="params">(View view)</span></span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setOnItemclickListener</span><span class="params">(OnMenuItemClickListener listener)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.mOnItemClickListener = listener;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 布局view item的位置</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> changed</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> l</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> t</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> r</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> b</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onLayout</span><span class="params">(<span class="keyword">boolean</span> changed, <span class="keyword">int</span> l, <span class="keyword">int</span> t, <span class="keyword">int</span> r, <span class="keyword">int</span> b)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> layoutRadius = mRadius;</span><br><span class="line">        <span class="keyword">final</span> <span class="keyword">int</span> childCount = getChildCount();</span><br><span class="line">        <span class="keyword">int</span> left, top;</span><br><span class="line">        <span class="keyword">int</span> itemwidth = (<span class="keyword">int</span>) (layoutRadius * RADIO_DEFAULT_CHILD_DIMENSION); <span class="comment">//item尺寸</span></span><br><span class="line">        <span class="comment">// 根据menu item的个数，计算角度</span></span><br><span class="line">        <span class="keyword">float</span> angleDelay = <span class="number">360</span> / (getChildCount() - <span class="number">1</span>);</span><br><span class="line">        <span class="comment">//遍历布局item</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; childCount; i++) &#123;</span><br><span class="line">            <span class="keyword">final</span> View child = getChildAt(i);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (child.getId() == R.id.id_circle_menu_item_center)</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (child.getVisibility() == GONE) &#123;</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            mStartAngle %= <span class="number">360</span>;<span class="comment">//菜单的起始角度</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">//中心到menu item的距离</span></span><br><span class="line">            <span class="keyword">float</span> distanceeFromCenter = layoutRadius / <span class="number">2f</span> - itemwidth / <span class="number">2</span> - mPadding;</span><br><span class="line">            <span class="comment">//left坐标</span></span><br><span class="line">            left = layoutRadius / <span class="number">2</span> + (<span class="keyword">int</span>) Math.round(distanceeFromCenter * Math.cos(Math.toRadians(mStartAngle)) - <span class="number">1</span> / <span class="number">2f</span> * itemwidth);</span><br><span class="line">            <span class="comment">//top坐标</span></span><br><span class="line">            top = layoutRadius / <span class="number">2</span> + (<span class="keyword">int</span>) Math.round(distanceeFromCenter * Math.sin(Math.toRadians(mStartAngle)) - <span class="number">1</span> / <span class="number">2f</span> * itemwidth);</span><br><span class="line"></span><br><span class="line">            <span class="comment">//布局 child view</span></span><br><span class="line">            child.layout(left, top, left + itemwidth, top + itemwidth);</span><br><span class="line">            <span class="comment">//</span></span><br><span class="line">            mStartAngle += angleDelay;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 找到中心的view，如果存在设置onclick事件</span></span><br><span class="line">        <span class="keyword">final</span> View centerView = findViewById(R.id.id_circle_menu_item_center);</span><br><span class="line">        <span class="keyword">if</span> (centerView != <span class="keyword">null</span>) &#123;</span><br><span class="line">            centerView.setOnClickListener(<span class="keyword">new</span> OnClickListener() &#123;</span><br><span class="line">                <span class="meta">@Override</span></span><br><span class="line">                <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View v)</span> </span>&#123;</span><br><span class="line">                    <span class="keyword">if</span> (mOnItemClickListener != <span class="keyword">null</span>) &#123;</span><br><span class="line">                        mOnItemClickListener.itemCenterClick(v);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;);</span><br><span class="line"></span><br><span class="line">            <span class="comment">//设置center item位置</span></span><br><span class="line">            <span class="keyword">int</span> cl = layoutRadius / <span class="number">2</span> - centerView.getMeasuredWidth() / <span class="number">2</span>;</span><br><span class="line">            <span class="keyword">int</span> cr = cl + centerView.getMeasuredWidth();</span><br><span class="line">            centerView.layout(cl, cl, cr, cr);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 设置adpater</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line"><span class="comment">//    public void setAdapter(ListAdapter adapter) &#123;</span></span><br><span class="line"><span class="comment">//        this.mAdapter = adapter;</span></span><br><span class="line"><span class="comment">//    &#125;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 设置菜单条目的图标和文本</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> resIds</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setMenuItemIconsAndTexts</span><span class="params">(<span class="keyword">int</span>[] resIds, String[] texts)</span> </span>&#123;</span><br><span class="line">        mItemImgs = resIds;</span><br><span class="line">        mItemTexts = texts;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 参数检查</span></span><br><span class="line">        <span class="keyword">if</span> (resIds == <span class="keyword">null</span> &amp;&amp; texts == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">"菜单项文本和图片至少设置其一"</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 初始化mMenuCount</span></span><br><span class="line">        mMenuItemCount = resIds == <span class="keyword">null</span> ? texts.length : resIds.length;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (resIds != <span class="keyword">null</span> &amp;&amp; texts != <span class="keyword">null</span>) &#123;</span><br><span class="line">            mMenuItemCount = Math.min(resIds.length, texts.length);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        addMenuItems();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 设置MenuItem的布局文件，必须在setMenuItemIconsAndTexts之前调用</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> mMenuItemLayoutId</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setMenuItemLayoutId</span><span class="params">(<span class="keyword">int</span> mMenuItemLayoutId)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.mMenuItemLayoutId = mMenuItemLayoutId;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 构建菜单项</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">addMenuItems</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        LayoutInflater mInflater = LayoutInflater.from(getContext());</span><br><span class="line"></span><br><span class="line">        <span class="comment">//        // 根据用户的参数，初始化menu item</span></span><br><span class="line">        <span class="comment">//        for (int i = 0; i &lt; mAdapter.getCount(); i++) &#123;</span></span><br><span class="line">        <span class="comment">//            final View itemView = mAdapter.getView(i, null, this);</span></span><br><span class="line">        <span class="comment">//            final int position = i;</span></span><br><span class="line">        <span class="comment">//            itemView.setOnClickListener(new OnClickListener() &#123;</span></span><br><span class="line">        <span class="comment">//                @Override</span></span><br><span class="line">        <span class="comment">//                public void onClick(View v) &#123;</span></span><br><span class="line">        <span class="comment">//                    if (mOnItemClickListener != null) &#123;</span></span><br><span class="line">        <span class="comment">//                        mOnItemClickListener.onClick(itemView, position);</span></span><br><span class="line">        <span class="comment">//                    &#125;</span></span><br><span class="line">        <span class="comment">//                &#125;</span></span><br><span class="line">        <span class="comment">//            &#125;);</span></span><br><span class="line">        <span class="comment">//            addView(itemView);</span></span><br><span class="line">        <span class="comment">//</span></span><br><span class="line">        <span class="comment">//        &#125;</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; mMenuItemCount; i++) &#123;</span><br><span class="line">            <span class="keyword">final</span> <span class="keyword">int</span> j = i;</span><br><span class="line">            View view = mInflater.inflate(mMenuItemLayoutId, <span class="keyword">this</span>, <span class="keyword">false</span>);</span><br><span class="line">            ImageView img = (ImageView) view.findViewById(R.id.id_circle_menu_item_image);</span><br><span class="line">            TextView tv = (TextView) view.findViewById(R.id.id_circle_menu_item_text);</span><br><span class="line">            <span class="keyword">if</span> (img != <span class="keyword">null</span>) &#123;</span><br><span class="line">                img.setVisibility(View.VISIBLE);</span><br><span class="line">                img.setImageResource(mItemImgs[i]);</span><br><span class="line">                img.setOnClickListener(<span class="keyword">new</span> OnClickListener() &#123;</span><br><span class="line">                    <span class="meta">@Override</span></span><br><span class="line">                    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View v)</span> </span>&#123;</span><br><span class="line">                        <span class="keyword">if</span> (mOnItemClickListener != <span class="keyword">null</span>) &#123;</span><br><span class="line">                            mOnItemClickListener.itemClick(v, j);</span><br><span class="line">                        &#125;</span><br><span class="line"></span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (tv != <span class="keyword">null</span>) &#123;</span><br><span class="line">                tv.setVisibility(View.VISIBLE);</span><br><span class="line">                tv.setText(mItemTexts[i]);</span><br><span class="line">            &#125;</span><br><span class="line">            addView(view);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 设置内边距的比例</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> mPadding</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setPadding</span><span class="params">(<span class="keyword">float</span> mPadding)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.mPadding = mPadding;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 记录上一次的x，y坐标</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">float</span> mLastX;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">float</span> mLastY;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 自动滚动的Runnable</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> AutoFlingRunnable mFlingRunnable;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 自动滚动的任务</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@author</span> zhy</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="class"><span class="keyword">class</span> <span class="title">AutoFlingRunnable</span> <span class="keyword">implements</span> <span class="title">Runnable</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">float</span> angelPerSecond;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">AutoFlingRunnable</span><span class="params">(<span class="keyword">float</span> velocity)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.angelPerSecond = velocity;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            <span class="comment">// 如果小于20,则停止</span></span><br><span class="line">            <span class="keyword">if</span> ((<span class="keyword">int</span>) Math.abs(angelPerSecond) &lt; <span class="number">20</span>) &#123;</span><br><span class="line">                isFling = <span class="keyword">false</span>;</span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            isFling = <span class="keyword">true</span>;</span><br><span class="line">            <span class="comment">// 不断改变mStartAngle，让其滚动，/30为了避免滚动太快</span></span><br><span class="line">            mStartAngle += (angelPerSecond / <span class="number">30</span>);</span><br><span class="line">            <span class="comment">// 逐渐减小这个值</span></span><br><span class="line">            angelPerSecond /= <span class="number">1.0666F</span>;</span><br><span class="line">            postDelayed(<span class="keyword">this</span>, <span class="number">30</span>);</span><br><span class="line">            <span class="comment">// 重新布局</span></span><br><span class="line">            requestLayout();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">dispatchTouchEvent</span><span class="params">(MotionEvent event)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">float</span> x = event.getX();</span><br><span class="line">        <span class="keyword">float</span> y = event.getY();</span><br><span class="line">        <span class="keyword">switch</span> (event.getAction()) &#123;</span><br><span class="line">            <span class="keyword">case</span> MotionEvent.ACTION_DOWN:</span><br><span class="line">                mLastX = x;</span><br><span class="line">                mLastY = y;</span><br><span class="line">                mDownTime = System.currentTimeMillis();</span><br><span class="line">                mTmpAngle = <span class="number">0</span>;</span><br><span class="line">                <span class="comment">// 如果当前已经在快速滚动</span></span><br><span class="line">                <span class="keyword">if</span> (isFling) &#123;</span><br><span class="line">                    <span class="comment">// 移除快速滚动的回调</span></span><br><span class="line">                    removeCallbacks(mFlingRunnable);</span><br><span class="line">                    isFling = <span class="keyword">false</span>;</span><br><span class="line">                    <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> MotionEvent.ACTION_MOVE:</span><br><span class="line">                <span class="comment">/**</span></span><br><span class="line"><span class="comment">                 * 获得开始的角度</span></span><br><span class="line"><span class="comment">                 */</span></span><br><span class="line">                <span class="keyword">float</span> start = getAngle(mLastX, mLastY);</span><br><span class="line">                <span class="comment">/**</span></span><br><span class="line"><span class="comment">                 * 获得当前的角度</span></span><br><span class="line"><span class="comment">                 */</span></span><br><span class="line">                <span class="keyword">float</span> end = getAngle(x, y);</span><br><span class="line">                <span class="comment">// 如果是一、四象限，则直接end-start，角度值都是正值</span></span><br><span class="line">                <span class="keyword">if</span> (getQuadrant(x, y) == <span class="number">1</span> || getQuadrant(x, y) == <span class="number">4</span>) &#123;</span><br><span class="line">                    mStartAngle += end - start;</span><br><span class="line">                    mTmpAngle += end - start;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123; <span class="comment">// 二、三象限，色角度值是付值</span></span><br><span class="line">                    mStartAngle += start - end;</span><br><span class="line">                    mTmpAngle += start - end;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">// 重新布局</span></span><br><span class="line">                requestLayout();</span><br><span class="line">                mLastX = x;</span><br><span class="line">                mLastY = y;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">case</span> MotionEvent.ACTION_UP:</span><br><span class="line">                <span class="comment">// 计算，每秒移动的角度</span></span><br><span class="line">                <span class="keyword">float</span> anglePerSecond = mTmpAngle * <span class="number">1000</span> / (System.currentTimeMillis() - mDownTime);</span><br><span class="line">                <span class="comment">// 如果达到该值认为是快速移动</span></span><br><span class="line">                <span class="keyword">if</span> (Math.abs(anglePerSecond) &gt; mFlingableValue &amp;&amp; !isFling) &#123;</span><br><span class="line">                    <span class="comment">// post一个任务，去自动滚动</span></span><br><span class="line">                    post(mFlingRunnable = <span class="keyword">new</span> AutoFlingRunnable(anglePerSecond));</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">// 如果当前旋转角度超过NOCLICK_VALUE屏蔽点击</span></span><br><span class="line">                <span class="keyword">if</span> (Math.abs(mTmpAngle) &gt; NOCLICK_VALUE) &#123;</span><br><span class="line">                    <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">super</span>.dispatchTouchEvent(event);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 主要为了action_down时，返回true</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">onTouchEvent</span><span class="params">(MotionEvent event)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 根据触摸的位置，计算角度</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> xTouch</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> yTouch</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">float</span> <span class="title">getAngle</span><span class="params">(<span class="keyword">float</span> xTouch, <span class="keyword">float</span> yTouch)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">double</span> x = xTouch - (mRadius / <span class="number">2</span>d);</span><br><span class="line">        <span class="keyword">double</span> y = yTouch - (mRadius / <span class="number">2</span>d);</span><br><span class="line">        <span class="keyword">return</span> (<span class="keyword">float</span>) (Math.asin(y / Math.hypot(x, y)) * <span class="number">180</span> / Math.PI);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 根据当前位置计算象限</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> x</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> y</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">getQuadrant</span><span class="params">(<span class="keyword">float</span> x, <span class="keyword">float</span> y)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> tmpX = (<span class="keyword">int</span>) (x - mRadius / <span class="number">2</span>);</span><br><span class="line">        <span class="keyword">int</span> tmpY = (<span class="keyword">int</span>) (y - mRadius / <span class="number">2</span>);</span><br><span class="line">        <span class="keyword">if</span> (tmpX &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> tmpY &gt;= <span class="number">0</span> ? <span class="number">4</span> : <span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> tmpY &gt;= <span class="number">0</span> ? <span class="number">3</span> : <span class="number">2</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="MainActivity-java"><a href="#MainActivity-java" class="headerlink" title="MainActivity.java"></a>MainActivity.java</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Package: example</span></span><br><span class="line"><span class="comment"> * Created by zyh</span></span><br><span class="line"><span class="comment"> * on 2019/5/26</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.os.Bundle;</span><br><span class="line"><span class="keyword">import</span> android.support.v7.app.AppCompatActivity;</span><br><span class="line"><span class="keyword">import</span> android.view.View;</span><br><span class="line"><span class="keyword">import</span> android.widget.Toast;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">AppCompatActivity</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> CircleMenuLayout circleMenuLayout;</span><br><span class="line">    <span class="keyword">private</span> String[] mItemTexts = <span class="keyword">new</span> String[]&#123; <span class="string">"安全中心 "</span>, <span class="string">"特色服务"</span>, <span class="string">"投资理财"</span>,</span><br><span class="line">            <span class="string">"转账汇款"</span>, <span class="string">"我的账户"</span>, <span class="string">"信用卡"</span> &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span>[] mItemImgs = <span class="keyword">new</span> <span class="keyword">int</span>[]&#123;R.mipmap.home_mbank_1_normal,</span><br><span class="line">            R.mipmap.home_mbank_2_normal, R.mipmap.home_mbank_3_normal,</span><br><span class="line">            R.mipmap.home_mbank_4_normal, R.mipmap.home_mbank_5_normal,</span><br><span class="line">            R.mipmap.home_mbank_6_normal &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">        setContentView(R.layout.activity_main);</span><br><span class="line">        circleMenuLayout = (CircleMenuLayout) findViewById(R.id.id_cirlceMenu);</span><br><span class="line">        circleMenuLayout.setMenuItemIconsAndTexts(mItemImgs, mItemTexts);</span><br><span class="line">        circleMenuLayout.setOnItemclickListener(<span class="keyword">new</span> CircleMenuLayout.OnMenuItemClickListener() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">itemClick</span><span class="params">(View view, <span class="keyword">int</span> position)</span> </span>&#123;</span><br><span class="line">                Toast.makeText(MainActivity.<span class="keyword">this</span>, <span class="string">"选中："</span>+mItemTexts[position], Toast.LENGTH_SHORT).show();</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">itemCenterClick</span><span class="params">(View view)</span> </span>&#123;</span><br><span class="line">                Toast.makeText(MainActivity.<span class="keyword">this</span>, <span class="string">"选中：中间view"</span>, Toast.LENGTH_SHORT);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="activity-main-xml"><a href="#activity-main-xml" class="headerlink" title="activity_main.xml"></a>activity_main.xml</h5><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">android.support.constraint.ConstraintLayout</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:app</span>=<span class="string">"http://schemas.android.com/apk/res-auto"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:tools</span>=<span class="string">"http://schemas.android.com/tools"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:background</span>=<span class="string">"@mipmap/bg"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">tools:context</span>=<span class="string">"com.example.MainActivity"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">com.example.CircleMenuLayout</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">"@+id/id_cirlceMenu"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:background</span>=<span class="string">"@mipmap/circle_bg"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">app:layout_constraintBottom_toBottomOf</span>=<span class="string">"parent"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">app:layout_constraintLeft_toLeftOf</span>=<span class="string">"parent"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">app:layout_constraintRight_toRightOf</span>=<span class="string">"parent"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">app:layout_constraintTop_toTopOf</span>=<span class="string">"parent"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">RelativeLayout</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:id</span>=<span class="string">"@id/id_circle_menu_item_center"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="tag">&lt;<span class="name">ImageView</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_width</span>=<span class="string">"104.0dip"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_height</span>=<span class="string">"104.0dip"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_centerInParent</span>=<span class="string">"true"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:background</span>=<span class="string">"@mipmap/turnplate_center_unlogin"</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="tag">&lt;<span class="name">ImageView</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_width</span>=<span class="string">"116.0dip"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_height</span>=<span class="string">"116.0dip"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_centerInParent</span>=<span class="string">"true"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:background</span>=<span class="string">"@mipmap/turnplate_mask_unlogin_normal"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">RelativeLayout</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">com.example.CircleMenuLayout</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">android.support.constraint.ConstraintLayout</span>&gt;</span></span><br></pre></td></tr></table></figure><h5 id="circle-menu-item-xml"><a href="#circle-menu-item-xml" class="headerlink" title="circle_menu_item.xml"></a>circle_menu_item.xml</h5><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">LinearLayout</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:gravity</span>=<span class="string">"center"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:orientation</span>=<span class="string">"vertical"</span> &gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">ImageView</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">"@id/id_circle_menu_item_image"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:visibility</span>=<span class="string">"gone"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">"@id/id_circle_menu_item_text"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:visibility</span>=<span class="string">"gone"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:textColor</span>=<span class="string">"@android:color/white"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:text</span>=<span class="string">"保险"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:textSize</span>=<span class="string">"14.0dip"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="4-2运行截图"><a href="#4-2运行截图" class="headerlink" title="4.2运行截图"></a>4.2运行截图</h4><p><img src="https://s2.ax1x.com/2019/05/29/VudnIA.png" alt="VudnIA.png"><br><img src="https://s2.ax1x.com/2019/05/29/Vudmad.png" alt="Vudmad.png"></p><blockquote style="margin: 2em 0 0;padding: 0.5em 1em;border-left: 3px solid #F44336;background-color: #F5F5F5;list-style: none;"><p> <strong>本文使用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/" target="_blank" rel="noopener">CC BY-NC-SA 3.0 中国大陆</a> 协议许可<br>具体请参见 <a href="https://zyhang8.github.io/agree/" target="_blank" rel="noopener">知识共享协议</a></strong><br> <strong>本文链接：</strong><a href="https://zyhang8.github.io/2019/11/03/adapter/" target="_blank" rel="noopener">https://zyhang8.github.io/2019/11/03/adapter/</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 设计模式 </tag>
            
            <tag> java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>游记·杭州</title>
      <link href="/2019/11/02/hangzhou/"/>
      <url>/2019/11/02/hangzhou/</url>
      
        <content type="html"><![CDATA[<h1 id="杭州"><a href="#杭州" class="headerlink" title="杭州"></a>杭州</h1><blockquote><p>这应该是我第三次去杭州了，杭州给我的印象就是到处很美很干净</p></blockquote><h2 id="出行准备"><a href="#出行准备" class="headerlink" title="出行准备"></a>出行准备</h2><p>支付宝(公交/地铁)<br>马蜂窝(本地菜景点)<br>高德(导航/实时公交)<br>电影/书籍(路上消磨时间)<br>身份证/学生证 随身(景点必备)</p><h2 id="出行-2019-10-25-2019-10-27"><a href="#出行-2019-10-25-2019-10-27" class="headerlink" title="出行(2019.10.25-2019.10.27)"></a>出行(2019.10.25-2019.10.27)</h2><h3 id="第一天"><a href="#第一天" class="headerlink" title="第一天"></a>第一天</h3><p>下午出发到了杭州东站，去了君尚大酒店。到了之后就开始赶东西了（心好累）。晚上听了培训</p><h3 id="第二天"><a href="#第二天" class="headerlink" title="第二天"></a>第二天</h3><p>包车去了浙江大学求是大讲堂，貌似这个讲堂是浙大的起始点。也看到互联网+的牌子依旧在这里摆着。中午吃了浙大的食堂。食堂的餐具收拾都是自动化了，虽然浙大的菜也不会便宜，但口味还是不错滴。下午去了考了工程师证书，虽然差了点，不过感觉自己也就是2小时的抱佛脚，足矣，后来逛了逛浙大的校园，好大好漂亮，听说有8000亩地，这羡慕，自己学校才1600，发现学校有医院，邮局，营业厅，啥服务都可以找到的（嘿嘿嘿）。晚饭在君尚吃了自助餐后去了河坊街，买了大兴糕点和老杭邦。感觉这个街也没啥，环境也差……后来刚上地铁，坐上最后一班公交车回到了酒店</p><h3 id="第三天"><a href="#第三天" class="headerlink" title="第三天"></a>第三天</h3><p>继续去浙大。比赛颁奖后坐着队友爸爸的车回到了学校。然后和老师，队友，队友爹地一块吃了饭。结束！</p><h2 id="感受"><a href="#感受" class="headerlink" title="感受"></a>感受</h2><p>浙大好美，高大上！</p><h2 id="感悟"><a href="#感悟" class="headerlink" title="感悟"></a>感悟</h2><ul><li>和老师说了很多真心话，了解了社会上的凶恶，好好做人！后面也计划写论文。</li><li>大咖的话颇有收获，Apple生态实在很好</li><li>对于AppUI设计，架构有了清晰的认识</li><li>视频也懂了许多</li></ul><blockquote style="margin: 2em 0 0;padding: 0.5em 1em;border-left: 3px solid #F44336;background-color: #F5F5F5;list-style: none;"><p> <strong>本文使用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/" target="_blank" rel="noopener">CC BY-NC-SA 3.0 中国大陆</a> 协议许可<br>具体请参见 <a href="https://zyhang8.github.io/agree/" target="_blank" rel="noopener">知识共享协议</a></strong><br> <strong>本文链接：</strong><a href="https://zyhang8.github.io/2019/11/02/hangzhou/" target="_blank" rel="noopener">https://zyhang8.github.io/2019/11/02/hangzhou/</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 游记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 游行 </tag>
            
            <tag> 杭州 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>数据存储一：临时存储和文件存储</title>
      <link href="/2019/11/01/android-exp6/"/>
      <url>/2019/11/01/android-exp6/</url>
      
        <content type="html"><![CDATA[<h1 id="数据存储一：临时存储和文件存储"><a href="#数据存储一：临时存储和文件存储" class="headerlink" title="数据存储一：临时存储和文件存储"></a>数据存储一：临时存储和文件存储</h1><h2 id="实验目的"><a href="#实验目的" class="headerlink" title="实验目的"></a>实验目的</h2><p>1.了解Android数据存储的基本方法<br>2.掌握SharedPreferences、内部文件存储、外部存储的技术<br>实验内容：<br>（1）尝试使用SharedPreferences在程序关闭时保存用户输入的信息，并在程序重新启动时自动恢复这些信息。（2）以INI文件的形式，将数据保存在内部或外部存储器上，实现相同的功能<br>实验原理：</p><h2 id="一、SharedPreferences"><a href="#一、SharedPreferences" class="headerlink" title="一、SharedPreferences"></a>一、SharedPreferences</h2><h3 id="1、SharedPreferences-简介"><a href="#1、SharedPreferences-简介" class="headerlink" title="1、SharedPreferences 简介"></a>1、SharedPreferences 简介</h3><p>SharedPreferences是一种轻量级的永久性的数据保存方式。通过SharedPreferences开发人员可以将NVP（Name/Value Pair，名称/值对）保存在Android内部存储器的文件系统中，而不需关心文件系统的操作过程。<br>一般用于：保存应用程序的配置信息和个性化内容。<br>也可用于：不同应用程序间的数据共享。</p><h3 id="2、SharedPreferences支持三种访问模式"><a href="#2、SharedPreferences支持三种访问模式" class="headerlink" title="2、SharedPreferences支持三种访问模式"></a>2、SharedPreferences支持三种访问模式</h3><p> 私有（MODE_PRIVATE）：仅创建SharedPreferences的程序有权限对其进行读取或写入<br> 全局读（MODE_WORLD_READABLE）：不仅创建程序可以对其进行读取或写入，其它应用程序也具有读取操作的权限，但没有写入操作的权限<br> 全局写（MODE_WORLD_WRITEABLE）：所有程序都可以对其进行写入操作，但没有读取操作的权限</p><h3 id="3、使用过程"><a href="#3、使用过程" class="headerlink" title="3、使用过程"></a>3、使用过程</h3><h4 id="1）定义常量"><a href="#1）定义常量" class="headerlink" title="1）定义常量"></a>1）定义常量</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*定义访问模式*/</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> MODE = MODE_PRIVATE;</span><br><span class="line"><span class="comment">/*定义一个SharedPreferences名。之后将以这个名字保存在Android文件系统中*/</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String PREFERENCE_NAME = <span class="string">"SaveSetting"</span>;</span><br></pre></td></tr></table></figure><h4 id="2）往SharedPreferences中写数据"><a href="#2）往SharedPreferences中写数据" class="headerlink" title="2）往SharedPreferences中写数据"></a>2）往SharedPreferences中写数据</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">              <span class="comment">/*获取SharedPreferences实例  */</span></span><br><span class="line">SharedPreferences sharedPreferences = getSharedPreferences(PREFERENCE_NAME, MODE);</span><br><span class="line"> <span class="comment">/*通过SharedPreferences.Editor类向SharedPreferences中写键值，调用commit()保存修改内容*/</span></span><br><span class="line">    SharedPreferences.Editor editor = sharedPreferences.edit();</span><br><span class="line">    editor.putString(<span class="string">"Name"</span>, <span class="string">"Tom"</span>);</span><br><span class="line">    editor.putInt(<span class="string">"Age"</span>, <span class="number">20</span>);</span><br><span class="line">    editor.putFloat(<span class="string">"Height"</span>, <span class="number">1.81f</span>);</span><br><span class="line">editor.commit();</span><br></pre></td></tr></table></figure><h4 id="3）从SharedPreferences中读数据"><a href="#3）从SharedPreferences中读数据" class="headerlink" title="3）从SharedPreferences中读数据"></a>3）从SharedPreferences中读数据</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*获取SharedPreferences实例。如果不存在将新建一个  */</span></span><br><span class="line">SharedPreferences sharedPreferences = getSharedPreferences(PREFERENCE_NAME, MODE);</span><br><span class="line"><span class="comment">/*读取SharedPreferences中保存的键值:如果文件或键值不在，则用缺省值 */</span></span><br><span class="line">    String name = sharedPreferences.getString(<span class="string">"Name"</span>,<span class="string">"Default Name"</span>);</span><br><span class="line">    <span class="keyword">int</span> age = sharedPreferences.getInt(<span class="string">"Age"</span>, <span class="number">20</span>);</span><br><span class="line">    <span class="keyword">float</span> height = sharedPreferences.getFloat(<span class="string">"Height"</span>,<span class="number">1.81f</span>);</span><br></pre></td></tr></table></figure><h3 id="4、查看SharedPreferences文件"><a href="#4、查看SharedPreferences文件" class="headerlink" title="4、查看SharedPreferences文件"></a>4、查看SharedPreferences文件</h3><p>通过eclipse 的菜单window-&gt;show view-&gt; other-&gt;android-&gt;file explorer可以查看模拟器上的文件。<br>SharedPreferences产生的文件就保存在/data/data/<package name>/shared_prefs目录下<br>选中文件，点击右上角：pull a file from a device可另存该文件。</package></p><h2 id="二、内部存储-直接使用文件保存数据"><a href="#二、内部存储-直接使用文件保存数据" class="headerlink" title="二、内部存储:直接使用文件保存数据"></a>二、内部存储:直接使用文件保存数据</h2><h3 id="1、简介"><a href="#1、简介" class="headerlink" title="1、简介"></a>1、简介</h3><p>Android系统允许应用程序创建仅能够自身访问的私有文件，文件保存在设备的内部存储器上，即Android系统下的/data/data/<package name>/files目录中<br>可通过文件访问权限的控制保证文件的私密性<br>四种文件操作模式</package></p><table><thead><tr><th align="center">模式</th><th align="center">说明</th></tr></thead><tbody><tr><td align="center">MODE_PRIVATE</td><td align="center">私有模式，文件仅能被创建文件的程序访问，或具有相同UID的程序访问。</td></tr><tr><td align="center">MODE_APPEND</td><td align="center">追加模式，如果文件已经存在，则在文件的结尾处添加新数据。</td></tr><tr><td align="center">MODE_WORLD_READABLE</td><td align="center">全局读模式，允许任何程序读取私有文件。</td></tr><tr><td align="center">MODE_WORLD_WRITEABLE</td><td align="center">全局写模式，允许任何程序写入私有文件。</td></tr></tbody></table><p>因为流文件操作可能会遇到各种问题而最终导致操作失败，在实际操作过程中会遇到错误提示，因此代码应该使用try/catch捕获可能产生的异常</p><h3 id="2、文件输出基本过程：将字符串写入文件，文件作为输出"><a href="#2、文件输出基本过程：将字符串写入文件，文件作为输出" class="headerlink" title="2、文件输出基本过程：将字符串写入文件，文件作为输出"></a>2、文件输出基本过程：将字符串写入文件，文件作为输出</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">FileOutputStream fos = <span class="keyword">null</span>;</span><br><span class="line"> <span class="keyword">try</span> &#123;</span><br><span class="line">       fos = openFileOutput(fileName,Context.MODE_PRIVATE);</span><br><span class="line">fos.write(text.getBytes());    <span class="comment">//String类型变量text：保存了需要写入文件的内容</span></span><br><span class="line">    &#125;</span><br><span class="line"> <span class="keyword">catch</span> (FileNotFoundException e) &#123;</span><br><span class="line">     e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line"><span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line"><span class="keyword">finally</span>&#123;</span><br><span class="line">   <span class="keyword">if</span> (fos != <span class="keyword">null</span>)&#123;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">      fos.flush();</span><br><span class="line">          fos.close();</span><br><span class="line">        &#125;</span><br><span class="line"> <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                 e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><p>说明：<br>1）行3中fileName不可以包含描述路径的斜杠<br>2）调用close()之前务必调用flush()将缓冲中的所有数据写入文件<br>3）openFileOutput打开应用的私有文件，如果文件不存在则创建。<br>4）FileOutputStream是写到文件的字节流</p><h3 id="3、文件输入基本过程：读取文件内容到字符串，文件作为输入"><a href="#3、文件输入基本过程：读取文件内容到字符串，文件作为输入" class="headerlink" title="3、文件输入基本过程：读取文件内容到字符串，文件作为输入"></a>3、文件输入基本过程：读取文件内容到字符串，文件作为输入</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">FileInputStream fis = <span class="keyword">null</span>;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                fis = openFileInput(fileName);</span><br><span class="line">                    <span class="keyword">if</span> (fis.available() == <span class="number">0</span>)&#123;</span><br><span class="line">                    <span class="keyword">return</span>;</span><br><span class="line">                        &#125;</span><br><span class="line">                <span class="keyword">byte</span>[] readBytes = <span class="keyword">new</span> <span class="keyword">byte</span>[fis.available()];</span><br><span class="line">                    <span class="keyword">while</span>(fis.read(readBytes) != -<span class="number">1</span>);</span><br><span class="line">                    String text = <span class="keyword">new</span> String(readBytes);  <span class="comment">//String类型变量text：保存从文件中读取的内容</span></span><br><span class="line">                    &#125;</span><br><span class="line">    <span class="keyword">catch</span> (FileNotFoundException e) &#123;</span><br><span class="line">                        e.printStackTrace();</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                        e.printStackTrace();</span><br><span class="line">                    &#125;</span><br><span class="line">                <span class="keyword">finally</span>&#123;</span><br><span class="line">                        <span class="keyword">if</span> (fis != <span class="keyword">null</span>)&#123;</span><br><span class="line">                        <span class="keyword">try</span> &#123;</span><br><span class="line">                        fis.close();</span><br><span class="line">                &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                        e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure><p>说明：<br>1）FileInputStream 的方法available() 返回估计可读的字节数.<br>2）public int read (byte[] buffer, int byteOffset, int byteCount)<br>最多从字节流中读byteCount个字节，并存储在字节数组缓冲buffer中，存放时放在byteOffset指定的在buffer的位置。返回实际读的字节数，或者如果读到流的末尾了就返回-1.<br>运行程序后，在文件浏览器中可查看：</p><p><img src="https://s2.ax1x.com/2019/06/02/VGmiLj.png" alt="VGmiLj.png"></p><p>导出输出的流文件，可查看内容。<br>另外，注意只有当应用在模拟器上运行起来后，才能使用File Explore看到保存的文件。</p><h2 id="三、外部存储"><a href="#三、外部存储" class="headerlink" title="三、外部存储"></a>三、外部存储</h2><h3 id="1、外部存储应用场合"><a href="#1、外部存储应用场合" class="headerlink" title="1、外部存储应用场合"></a>1、外部存储应用场合</h3><p>Micro SD卡适用于保存大尺寸的文件或者是一些无需设置访问权限的文件<br>如果用户希望保存录制的视频文件和音频文件，因为Android设备的内部存储空间有限，所以使用Micro SD卡则是非常适合的选择<br>但如果需要设置文件的访问权限，则不能够使用Micro SD卡，因为Micro SD卡使用FAT（File Allocation Table）文件系统，不支持访问模式和权限控制</p><h3 id="2、使用外部存储的前提条件"><a href="#2、使用外部存储的前提条件" class="headerlink" title="2、使用外部存储的前提条件"></a>2、使用外部存储的前提条件</h3><p>正确加载SD卡后，SD卡中的目录和文件被映射到/mnt/sdcard目录下<br>因为用户可以加载或卸载SD卡，所以在编程访问SD卡前首先需要检测/mnt/sdcard目录是否可用<br>如果不可用，说明设备中的SD卡已经被卸载。如果可用，则直接通过使用标准的java.io.File类进行访问</p><h3 id="3、编码时与内部存储的区别"><a href="#3、编码时与内部存储的区别" class="headerlink" title="3、编码时与内部存储的区别"></a>3、编码时与内部存储的区别</h3><h4 id="1-与内部存储的核心代码比较相似，不同之处在于代码中添加了-mnt-sdcard目录存在性检查，并使用“绝对目录-文件名”的形式表示新建立的文件，并在写入文件前对文件的存在性和可写入性进行检查"><a href="#1-与内部存储的核心代码比较相似，不同之处在于代码中添加了-mnt-sdcard目录存在性检查，并使用“绝对目录-文件名”的形式表示新建立的文件，并在写入文件前对文件的存在性和可写入性进行检查" class="headerlink" title="1.与内部存储的核心代码比较相似，不同之处在于代码中添加了/mnt/sdcard目录存在性检查，并使用“绝对目录+文件名”的形式表示新建立的文件，并在写入文件前对文件的存在性和可写入性进行检查"></a>1.与内部存储的核心代码比较相似，不同之处在于代码中添加了/mnt/sdcard目录存在性检查，并使用“绝对目录+文件名”的形式表示新建立的文件，并在写入文件前对文件的存在性和可写入性进行检查</h4><h4 id="4、程序运行时，若发生“SD-卡不存在或不可写”的错误，"><a href="#4、程序运行时，若发生“SD-卡不存在或不可写”的错误，" class="headerlink" title="4、程序运行时，若发生“SD 卡不存在或不可写”的错误，"></a>4、程序运行时，若发生“SD 卡不存在或不可写”的错误，</h4><h5 id="1）检查是否在manifest-xml文件中增加使用许可；"><a href="#1）检查是否在manifest-xml文件中增加使用许可；" class="headerlink" title="1）检查是否在manifest.xml文件中增加使用许可；"></a>1）检查是否在manifest.xml文件中增加使用许可；</h5><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">uses-permission</span> <span class="attr">android:name</span>=<span class="string">"android.permission.MOUNT_UNMOUNT_FILESYSTEMS"</span>&gt;</span> <span class="tag">&lt;/<span class="name">uses-permission</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">uses-permission</span> <span class="attr">android:name</span>=<span class="string">"android.permission.WRITE_EXTERNAL_STORAGE"</span>&gt;</span> <span class="tag">&lt;/<span class="name">uses-permission</span>&gt;</span></span><br></pre></td></tr></table></figure><h5 id="2）检查模拟器中对SD卡的设置是否正确，比如，需要设置SD卡的存储容量。"><a href="#2）检查模拟器中对SD卡的设置是否正确，比如，需要设置SD卡的存储容量。" class="headerlink" title="2）检查模拟器中对SD卡的设置是否正确，比如，需要设置SD卡的存储容量。"></a>2）检查模拟器中对SD卡的设置是否正确，比如，需要设置SD卡的存储容量。</h5><h2 id="实验步骤："><a href="#实验步骤：" class="headerlink" title="实验步骤："></a>实验步骤：</h2><h3 id="要求："><a href="#要求：" class="headerlink" title="要求："></a>要求：</h3><p>1）可以参考教材上的例子，但一定不要直接拷贝；<br>2）将实验代码和运行效果截图放在实验报告中提交。</p><h4 id="1-使用SharedPreferences保存用户输入的信息"><a href="#1-使用SharedPreferences保存用户输入的信息" class="headerlink" title="1.使用SharedPreferences保存用户输入的信息"></a>1.使用SharedPreferences保存用户输入的信息</h4><p>1）建立一个项目“SharedPreferencesDemo”<br>2）自行设计该应用的用户界面（注意：在界面里要有接受用户输入的控件，比如，可以设计一个“设置”Activity，用户打开这个Activity时，从配置文件里读取用户设置，当用户修改设置后将更改后的设置保存到配置文件中），参考界面如下：</p><p><img src="https://s2.ax1x.com/2019/06/02/VGmkes.png" alt="VGmkes.png"></p><p>3）为用户界面添加事件处理函数，在适当的事件里添加读取和保存配置文件的代码。</p><h4 id="2-以INI文件的形式，将数据保存在内部或外部存储器上，实现相同的功能"><a href="#2-以INI文件的形式，将数据保存在内部或外部存储器上，实现相同的功能" class="headerlink" title="2.以INI文件的形式，将数据保存在内部或外部存储器上，实现相同的功能"></a>2.以INI文件的形式，将数据保存在内部或外部存储器上，实现相同的功能</h4><p>1）建立一个项目“FileStoreDemo”<br>2）用户界面可以与前面相同<br>3）可使用内部存储或外部存储保存配置到ini文件（字段格式自定），可参考”实验原理”部分内容实现。</p><h2 id="程序一（使用SharedPreferences保存用户输入的信息）源代码"><a href="#程序一（使用SharedPreferences保存用户输入的信息）源代码" class="headerlink" title="程序一（使用SharedPreferences保存用户输入的信息）源代码"></a>程序一（使用SharedPreferences保存用户输入的信息）源代码</h2><p>ActivityA.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.self.user.sharedpreferencesdemo;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.content.Context;</span><br><span class="line"><span class="keyword">import</span> android.content.Intent;</span><br><span class="line"><span class="keyword">import</span> android.content.SharedPreferences;</span><br><span class="line"><span class="keyword">import</span> android.support.v7.app.AppCompatActivity;</span><br><span class="line"><span class="keyword">import</span> android.os.Bundle;</span><br><span class="line"><span class="keyword">import</span> android.text.TextUtils;</span><br><span class="line"><span class="keyword">import</span> android.view.View;</span><br><span class="line"><span class="keyword">import</span> android.widget.Button;</span><br><span class="line"><span class="keyword">import</span> android.widget.EditText;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Package: com.self.user.sharedpreferencesdemo</span></span><br><span class="line"><span class="comment"> * Created by zyh</span></span><br><span class="line"><span class="comment"> * on 2019/6/2</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ActivityA</span> <span class="keyword">extends</span> <span class="title">AppCompatActivity</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> SharedPreferences preferences;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String PREF_NAME = <span class="string">"MyApp_pref"</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*Views*/</span></span><br><span class="line">    <span class="keyword">private</span> EditText et_username = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">private</span> EditText et_password = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">private</span> Button loginBtn = <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*String values*/</span></span><br><span class="line">    String enteredUsername = <span class="string">""</span>, enteredPassword = <span class="string">""</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">        setContentView(R.layout.activity_a);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// initialize SharedPreference</span></span><br><span class="line">        preferences = getApplicationContext().getSharedPreferences(PREF_NAME, Context.MODE_PRIVATE);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// initialize views</span></span><br><span class="line">        et_username = findViewById(R.id.et_userName);</span><br><span class="line">        et_password = findViewById(R.id.et_password);</span><br><span class="line">        loginBtn = findViewById(R.id.login_button);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(existingUser()) &#123;</span><br><span class="line">            startActivity(<span class="keyword">new</span> Intent(ActivityA.<span class="keyword">this</span>, ActivityB.class));</span><br><span class="line">            finish();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        loginBtn.setOnClickListener(<span class="keyword">new</span> View.OnClickListener() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View v)</span> </span>&#123;</span><br><span class="line">                <span class="keyword">if</span>(isValid()) &#123;</span><br><span class="line">                    AppSharedPreferences.setPreference(getApplicationContext(), AppSharedPreferences.Pref_UserName, enteredUsername);</span><br><span class="line">                    AppSharedPreferences.setPreference(getApplicationContext(), AppSharedPreferences.Pref_Password, enteredPassword);</span><br><span class="line">                    startActivity(<span class="keyword">new</span> Intent(ActivityA.<span class="keyword">this</span>, ActivityB.class));</span><br><span class="line">                    finish();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">isValid</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        enteredUsername = et_username.getText().toString();</span><br><span class="line">        enteredPassword = et_password.getText().toString();</span><br><span class="line">        <span class="keyword">if</span>(TextUtils.isEmpty(enteredUsername)) &#123;</span><br><span class="line">            et_username.setError(<span class="string">"Please enter a username"</span>);</span><br><span class="line">            et_username.requestFocus();</span><br><span class="line">           <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span>(TextUtils.isEmpty(enteredPassword)) &#123;</span><br><span class="line">            et_password.setError(<span class="string">"Please enter a password"</span>);</span><br><span class="line">            et_password.requestFocus();</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">existingUser</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> !TextUtils.isEmpty(AppSharedPreferences.getPreferences(getApplicationContext(), AppSharedPreferences.Pref_UserName));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ActivityB.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.self.user.sharedpreferencesdemo;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.content.Context;</span><br><span class="line"><span class="keyword">import</span> android.content.Intent;</span><br><span class="line"><span class="keyword">import</span> android.content.SharedPreferences;</span><br><span class="line"><span class="keyword">import</span> android.support.v7.app.AppCompatActivity;</span><br><span class="line"><span class="keyword">import</span> android.os.Bundle;</span><br><span class="line"><span class="keyword">import</span> android.text.TextUtils;</span><br><span class="line"><span class="keyword">import</span> android.view.View;</span><br><span class="line"><span class="keyword">import</span> android.widget.Button;</span><br><span class="line"><span class="keyword">import</span> android.widget.EditText;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Package: com.self.user.sharedpreferencesdemo</span></span><br><span class="line"><span class="comment"> * Created by zyh</span></span><br><span class="line"><span class="comment"> * on 2019/6/2</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ActivityA</span> <span class="keyword">extends</span> <span class="title">AppCompatActivity</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> SharedPreferences preferences;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String PREF_NAME = <span class="string">"MyApp_pref"</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*Views*/</span></span><br><span class="line">    <span class="keyword">private</span> EditText et_username = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">private</span> EditText et_password = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">private</span> Button loginBtn = <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*String values*/</span></span><br><span class="line">    String enteredUsername = <span class="string">""</span>, enteredPassword = <span class="string">""</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">        setContentView(R.layout.activity_a);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// initialize SharedPreference</span></span><br><span class="line">        preferences = getApplicationContext().getSharedPreferences(PREF_NAME, Context.MODE_PRIVATE);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// initialize views</span></span><br><span class="line">        et_username = findViewById(R.id.et_userName);</span><br><span class="line">        et_password = findViewById(R.id.et_password);</span><br><span class="line">        loginBtn = findViewById(R.id.login_button);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(existingUser()) &#123;</span><br><span class="line">            startActivity(<span class="keyword">new</span> Intent(ActivityA.<span class="keyword">this</span>, ActivityB.class));</span><br><span class="line">            finish();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        loginBtn.setOnClickListener(<span class="keyword">new</span> View.OnClickListener() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View v)</span> </span>&#123;</span><br><span class="line">                <span class="keyword">if</span>(isValid()) &#123;</span><br><span class="line">                    AppSharedPreferences.setPreference(getApplicationContext(), AppSharedPreferences.Pref_UserName, enteredUsername);</span><br><span class="line">                    AppSharedPreferences.setPreference(getApplicationContext(), AppSharedPreferences.Pref_Password, enteredPassword);</span><br><span class="line">                    startActivity(<span class="keyword">new</span> Intent(ActivityA.<span class="keyword">this</span>, ActivityB.class));</span><br><span class="line">                    finish();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">isValid</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        enteredUsername = et_username.getText().toString();</span><br><span class="line">        enteredPassword = et_password.getText().toString();</span><br><span class="line">        <span class="keyword">if</span>(TextUtils.isEmpty(enteredUsername)) &#123;</span><br><span class="line">            et_username.setError(<span class="string">"Please enter a username"</span>);</span><br><span class="line">            et_username.requestFocus();</span><br><span class="line">           <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span>(TextUtils.isEmpty(enteredPassword)) &#123;</span><br><span class="line">            et_password.setError(<span class="string">"Please enter a password"</span>);</span><br><span class="line">            et_password.requestFocus();</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">existingUser</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> !TextUtils.isEmpty(AppSharedPreferences.getPreferences(getApplicationContext(), AppSharedPreferences.Pref_UserName));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>AppSharedPreferences.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.self.user.sharedpreferencesdemo;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.content.Context;</span><br><span class="line"><span class="keyword">import</span> android.content.SharedPreferences;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Package: com.self.user.sharedpreferencesdemo</span></span><br><span class="line"><span class="comment"> * Created by zyh</span></span><br><span class="line"><span class="comment"> * on 2019/6/2</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AppSharedPreferences</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String Pref_UserName = <span class="string">"UserName"</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String Pref_Password = <span class="string">"Password"</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/******** set shared preferences ***************/</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">setPreference</span><span class="params">(Context context, String key, String value)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// save the data</span></span><br><span class="line">        SharedPreferences.Editor editor = ActivityA.preferences.edit();</span><br><span class="line">        editor.putString(key, value);</span><br><span class="line">        editor.apply();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * ******** get shared preferences ****************</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">getPreferences</span><span class="params">(Context context, String key)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> ActivityA.preferences.getString(key, <span class="string">""</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * ******** set boolean preferences ****************</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">setBooleanPreferences</span><span class="params">(Context context, String key, <span class="keyword">boolean</span> value)</span> </span>&#123;</span><br><span class="line">        SharedPreferences.Editor mSharedPrefsEditor = ActivityA.preferences.edit();</span><br><span class="line">        mSharedPrefsEditor.putBoolean(key, value);</span><br><span class="line">        mSharedPrefsEditor.apply();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * ******** get boolean preferences ****************</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">getBooleanPreferences</span><span class="params">(Context context, String key)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> ActivityA.preferences.getBoolean(key, <span class="keyword">false</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * *******clear all data from shared preference*********</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">clearPreference</span><span class="params">(Context context)</span> </span>&#123;</span><br><span class="line">        SharedPreferences.Editor editor = ActivityA.preferences.edit();</span><br><span class="line">        editor.clear();</span><br><span class="line">        editor.apply();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * *******remove perticular key value*********</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">removeKeyValue</span><span class="params">(Context context, String key)</span> </span>&#123;</span><br><span class="line">        SharedPreferences.Editor editor = ActivityA.preferences.edit();</span><br><span class="line">        editor.remove(key);</span><br><span class="line">        editor.apply();</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>activity_a.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">LinearLayout</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:tools</span>=<span class="string">"http://schemas.android.com/tools"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:orientation</span>=<span class="string">"vertical"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:padding</span>=<span class="string">"20dp"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">tools:context</span>=<span class="string">".ActivityA"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">EditText</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">"@+id/et_userName"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_marginTop</span>=<span class="string">"50dp"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:hint</span>=<span class="string">"Username"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:imeOptions</span>=<span class="string">"actionNext"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:inputType</span>=<span class="string">"text"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:maxLength</span>=<span class="string">"15"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:maxLines</span>=<span class="string">"1"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:text</span>=<span class="string">""</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:textColor</span>=<span class="string">"@android:color/black"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:textSize</span>=<span class="string">"16sp"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">tools:ignore</span>=<span class="string">"HardcodedText"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">EditText</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">"@+id/et_password"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_marginTop</span>=<span class="string">"20dp"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:hint</span>=<span class="string">"Password"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:imeOptions</span>=<span class="string">"actionDone"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:inputType</span>=<span class="string">"textPassword"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:maxLength</span>=<span class="string">"15"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:maxLines</span>=<span class="string">"1"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:text</span>=<span class="string">""</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:textColor</span>=<span class="string">"@android:color/black"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:textSize</span>=<span class="string">"16sp"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">tools:ignore</span>=<span class="string">"HardcodedText"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">"@+id/login_button"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_marginTop</span>=<span class="string">"50dp"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:background</span>=<span class="string">"@color/colorPrimary"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:text</span>=<span class="string">"Login"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:textColor</span>=<span class="string">"@android:color/white"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:textSize</span>=<span class="string">"20sp"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">tools:ignore</span>=<span class="string">"HardcodedText"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br></pre></td></tr></table></figure><p>activity_b.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">LinearLayout</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:tools</span>=<span class="string">"http://schemas.android.com/tools"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:orientation</span>=<span class="string">"vertical"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:gravity</span>=<span class="string">"center"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:padding</span>=<span class="string">"20dp"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">tools:context</span>=<span class="string">".ActivityB"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">"@+id/tv_greeting"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:gravity</span>=<span class="string">"center"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_gravity</span>=<span class="string">"center_horizontal"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:text</span>=<span class="string">"Welcome"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:textColor</span>=<span class="string">"@android:color/black"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:textSize</span>=<span class="string">"25sp"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">tools:ignore</span>=<span class="string">"HardcodedText"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">"@+id/logout_button"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_margin</span>=<span class="string">"50dp"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:background</span>=<span class="string">"@color/colorPrimary"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:text</span>=<span class="string">"Logout"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:textColor</span>=<span class="string">"@android:color/white"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:textSize</span>=<span class="string">"20sp"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">tools:ignore</span>=<span class="string">"HardcodedText"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="程序一（使用SharedPreferences保存用户输入的信息）功能简介"><a href="#程序一（使用SharedPreferences保存用户输入的信息）功能简介" class="headerlink" title="程序一（使用SharedPreferences保存用户输入的信息）功能简介"></a>程序一（使用SharedPreferences保存用户输入的信息）功能简介</h2><p>密码检查模块（与实验五相同）不再说明<br><img src="https://s2.ax1x.com/2019/06/02/VGDE7R.png" alt="VGDE7R.png"><br><img src="https://s2.ax1x.com/2019/06/02/VGDZA1.png" alt="VGDZA1.png"></p><p>案例一：<br>登陆前<br><img src="https://s2.ax1x.com/2019/06/02/VGDetx.png" alt="VGDetx.png"></p><p>登陆后，保留账号信息并且显示欢迎界面<br><img src="https://s2.ax1x.com/2019/06/02/VGDAB9.png" alt="VGDAB9.png"></p><p>案例二：<br>登陆前<br><img src="https://s2.ax1x.com/2019/06/02/VGDTER.png" alt="VGDTER.png"></p><p>登陆后，保留账号信息并且显示欢迎界面<br><img src="https://s2.ax1x.com/2019/06/02/VGD7U1.png" alt="VGD7U1.png"></p><p>文件内容<br><img src="https://s2.ax1x.com/2019/06/02/VG57O1.png" alt="VG57O1.png"></p><h2 id="程序二（以INI文件的形式-内部存储）源代码"><a href="#程序二（以INI文件的形式-内部存储）源代码" class="headerlink" title="程序二（以INI文件的形式/内部存储）源代码"></a>程序二（以INI文件的形式/内部存储）源代码</h2><p>MainActivity.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.codeteenageer.filestoredemo;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Package: com.codeteenageer.filestoredemo</span></span><br><span class="line"><span class="comment"> * Created by zyh</span></span><br><span class="line"><span class="comment"> * on 2019/5/27</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">import</span> android.support.v7.app.AppCompatActivity;</span><br><span class="line"><span class="keyword">import</span> android.os.Bundle;</span><br><span class="line"><span class="keyword">import</span> android.view.View;</span><br><span class="line"><span class="keyword">import</span> android.widget.EditText;</span><br><span class="line"><span class="keyword">import</span> android.widget.TextView;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.BufferedReader;</span><br><span class="line"><span class="keyword">import</span> java.io.BufferedWriter;</span><br><span class="line"><span class="keyword">import</span> java.io.FileInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.FileNotFoundException;</span><br><span class="line"><span class="keyword">import</span> java.io.FileOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStreamReader;</span><br><span class="line"><span class="keyword">import</span> java.io.OutputStreamWriter;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">AppCompatActivity</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> EditText et;</span><br><span class="line">    <span class="keyword">private</span> TextView tv;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">        setContentView(R.layout.activity_main);</span><br><span class="line">        et = (EditText) findViewById(R.id.et);</span><br><span class="line">        tv = (TextView) findViewById(R.id.tv);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">save</span><span class="params">(View view)</span> </span>&#123;</span><br><span class="line">        save(et.getText().toString());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">get</span><span class="params">(View view)</span> </span>&#123;</span><br><span class="line">        tv.setText(getData());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">save</span><span class="params">(String data)</span> </span>&#123;</span><br><span class="line">        FileOutputStream out = <span class="keyword">null</span>;</span><br><span class="line">        BufferedWriter writer = <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            out = openFileOutput(<span class="string">"data.ini"</span>, MODE_PRIVATE);</span><br><span class="line">            writer = <span class="keyword">new</span> BufferedWriter(<span class="keyword">new</span> OutputStreamWriter(out));</span><br><span class="line">            writer.write(data);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="keyword">if</span> (writer != <span class="keyword">null</span>) &#123;</span><br><span class="line">                    writer.close();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> String <span class="title">getData</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        FileInputStream in = <span class="keyword">null</span>;</span><br><span class="line">        BufferedReader reader = <span class="keyword">null</span>;</span><br><span class="line">        StringBuilder content = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            in = openFileInput(<span class="string">"data.ini"</span>);</span><br><span class="line">            reader = <span class="keyword">new</span> BufferedReader(<span class="keyword">new</span> InputStreamReader(in));</span><br><span class="line">            String line = <span class="string">""</span>;</span><br><span class="line">            <span class="keyword">while</span> ((line = reader.readLine()) != <span class="keyword">null</span>) &#123;</span><br><span class="line">                content.append(line);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (reader != <span class="keyword">null</span>) &#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    reader.close();</span><br><span class="line">                &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> content.toString();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>activity_main.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">LinearLayout</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:app</span>=<span class="string">"http://schemas.android.com/apk/res-auto"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:tools</span>=<span class="string">"http://schemas.android.com/tools"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:orientation</span>=<span class="string">"vertical"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">tools:context</span>=<span class="string">"com.codeteenageer.filestoredemo.MainActivity"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">EditText</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">"@+id/et"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:onClick</span>=<span class="string">"save"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:text</span>=<span class="string">"保存"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">"@+id/tv"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:text</span>=<span class="string">"数据显示"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:onClick</span>=<span class="string">"get"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:text</span>=<span class="string">"获取"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="程序二（以INI文件的形式-内部存储）功能简介"><a href="#程序二（以INI文件的形式-内部存储）功能简介" class="headerlink" title="程序二（以INI文件的形式/内部存储）功能简介"></a>程序二（以INI文件的形式/内部存储）功能简介</h2><p>点击保存，后自动保存到ini文件<br>获取即显示数字<br><img src="https://s2.ax1x.com/2019/06/02/VG47a8.png" alt="VG47a8.png"></p><p>ini文件<br><img src="https://s2.ax1x.com/2019/06/02/VG4IqP.png" alt="VG4IqP.png"></p><h2 id="程序三（以INI文件的形式-外部存储）源代码"><a href="#程序三（以INI文件的形式-外部存储）源代码" class="headerlink" title="程序三（以INI文件的形式/外部存储）源代码"></a>程序三（以INI文件的形式/外部存储）源代码</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.crazyit.io;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Package: com.codeteenageer.filestoredemo</span></span><br><span class="line"><span class="comment"> * Created by zyh</span></span><br><span class="line"><span class="comment"> * on 2019/5/27</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.app.Activity;</span><br><span class="line"><span class="keyword">import</span> android.os.Bundle;</span><br><span class="line"><span class="keyword">import</span> android.os.Environment;</span><br><span class="line"><span class="keyword">import</span> android.view.View;</span><br><span class="line"><span class="keyword">import</span> android.view.View.OnClickListener;</span><br><span class="line"><span class="keyword">import</span> android.widget.Button;</span><br><span class="line"><span class="keyword">import</span> android.widget.EditText;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.BufferedReader;</span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.FileInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStreamReader;</span><br><span class="line"><span class="keyword">import</span> java.io.RandomAccessFile;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">Activity</span> </span>&#123;</span><br><span class="line">    <span class="keyword">final</span> String FILE_NAME = <span class="string">"/zyh.ini"</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">        setContentView(R.layout.main);</span><br><span class="line">        <span class="comment">// 获取两个按钮</span></span><br><span class="line">        Button read = (Button) findViewById(R.id.read);</span><br><span class="line">        Button write = (Button) findViewById(R.id.write);</span><br><span class="line">        <span class="comment">// 获取两个文本框</span></span><br><span class="line">        <span class="keyword">final</span> EditText edit1 = (EditText) findViewById(R.id.edit1);</span><br><span class="line">        <span class="keyword">final</span> EditText edit2 = (EditText) findViewById(R.id.edit2);</span><br><span class="line">        <span class="comment">// 为write按钮绑定事件监听器</span></span><br><span class="line">        write.setOnClickListener(<span class="keyword">new</span> OnClickListener() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View source)</span> </span>&#123;</span><br><span class="line">                <span class="comment">// 将edit1中的内容写入文件中</span></span><br><span class="line">                write(edit1.getText().toString());</span><br><span class="line">                edit1.setText(<span class="string">""</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        read.setOnClickListener(<span class="keyword">new</span> OnClickListener() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View v)</span> </span>&#123;</span><br><span class="line">                <span class="comment">// 读取指定文件中的内容，并显示出来</span></span><br><span class="line">                edit2.setText(read());</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> String <span class="title">read</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">// 如果手机插入了SD卡，而且应用程序具有访问SD的权限</span></span><br><span class="line">            <span class="keyword">if</span> (Environment.getExternalStorageState().equals(</span><br><span class="line">                    Environment.MEDIA_MOUNTED)) &#123;</span><br><span class="line">                <span class="comment">// 获取SD卡对应的存储目录</span></span><br><span class="line">                File sdCardDir = Environment.getExternalStorageDirectory();</span><br><span class="line">                System.out.println(<span class="string">"----------------"</span> + sdCardDir);</span><br><span class="line">                <span class="comment">// 获取指定文件对应的输入流</span></span><br><span class="line">                FileInputStream fis = <span class="keyword">new</span> FileInputStream(</span><br><span class="line">                        sdCardDir.getCanonicalPath() + FILE_NAME);</span><br><span class="line">                <span class="comment">// 将指定输入流包装成BufferedReader</span></span><br><span class="line">                BufferedReader br = <span class="keyword">new</span> BufferedReader(<span class="keyword">new</span></span><br><span class="line">                        InputStreamReader(fis));</span><br><span class="line">                StringBuilder sb = <span class="keyword">new</span> StringBuilder(<span class="string">""</span>);</span><br><span class="line">                String line = <span class="keyword">null</span>;</span><br><span class="line">                <span class="comment">// 循环读取文件内容</span></span><br><span class="line">                <span class="keyword">while</span> ((line = br.readLine()) != <span class="keyword">null</span>) &#123;</span><br><span class="line">                    sb.append(line);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">// 关闭资源</span></span><br><span class="line">                br.close();</span><br><span class="line">                <span class="keyword">return</span> sb.toString();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">write</span><span class="params">(String content)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">// 如果手机插入了SD卡，而且应用程序具有访问SD的权限</span></span><br><span class="line">            <span class="keyword">if</span> (Environment.getExternalStorageState().equals(</span><br><span class="line">                    Environment.MEDIA_MOUNTED)) &#123;</span><br><span class="line">                <span class="comment">// 获取SD卡的目录</span></span><br><span class="line">                File sdCardDir = Environment.getExternalStorageDirectory();</span><br><span class="line">                File targetFile = <span class="keyword">new</span> File(sdCardDir</span><br><span class="line">                        .getCanonicalPath() + FILE_NAME);</span><br><span class="line">                <span class="comment">// 以指定文件创建 RandomAccessFile对象</span></span><br><span class="line">                RandomAccessFile raf = <span class="keyword">new</span> RandomAccessFile(</span><br><span class="line">                        targetFile, <span class="string">"rw"</span>);</span><br><span class="line">                <span class="comment">// 将文件记录指针移动到最后</span></span><br><span class="line">                raf.seek(targetFile.length());</span><br><span class="line">                <span class="comment">// 输出文件内容</span></span><br><span class="line">                raf.write(content.getBytes());</span><br><span class="line">                <span class="comment">// 关闭RandomAccessFile</span></span><br><span class="line">                raf.close();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">LinearLayout</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:orientation</span>=<span class="string">"vertical"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">EditText</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">"@+id/edit1"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:lines</span>=<span class="string">"4"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">"@+id/write"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:text</span>=<span class="string">"@string/write"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">EditText</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">"@+id/edit2"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:cursorVisible</span>=<span class="string">"false"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:lines</span>=<span class="string">"4"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">"@+id/read"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:text</span>=<span class="string">"@string/read"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="程序三（以INI文件的形式-外部存储）功能简介"><a href="#程序三（以INI文件的形式-外部存储）功能简介" class="headerlink" title="程序三（以INI文件的形式/外部存储）功能简介"></a>程序三（以INI文件的形式/外部存储）功能简介</h2><p>输入文本，保存，读取，设置为wr，往文件后面继续写<br><img src="https://s2.ax1x.com/2019/06/02/VG5TyR.png" alt="VG5TyR.png"></p><p>文件位置<br><img src="https://s2.ax1x.com/2019/06/02/VG5bex.png" alt="VG5bex.png"></p><blockquote style="margin: 2em 0 0;padding: 0.5em 1em;border-left: 3px solid #F44336;background-color: #F5F5F5;list-style: none;"><p> <strong>本文使用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/" target="_blank" rel="noopener">CC BY-NC-SA 3.0 中国大陆</a> 协议许可<br>具体请参见 <a href="https://zyhang8.github.io/agree/" target="_blank" rel="noopener">知识共享协议</a></strong><br> <strong>本文链接：</strong><a href="https://zyhang8.github.io/2019/11/01/android-exp6/" target="_blank" rel="noopener">https://zyhang8.github.io/2019/11/01/android-exp6/</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> android </category>
          
      </categories>
      
      
        <tags>
            
            <tag> android </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Oracle数据库对象管理（2）</title>
      <link href="/2019/11/01/oracle-exp3/"/>
      <url>/2019/11/01/oracle-exp3/</url>
      
        <content type="html"><![CDATA[<h1 id="Oracle数据库对象管理（2）"><a href="#Oracle数据库对象管理（2）" class="headerlink" title="Oracle数据库对象管理（2）"></a>Oracle数据库对象管理（2）</h1><h2 id="一、实验目的"><a href="#一、实验目的" class="headerlink" title="一、实验目的"></a>一、实验目的</h2><p>1掌握Oracle数据库序列管理；</p><p>2掌握Oracle数据库视图的管理；</p><h2 id="二、实验要求（具体步骤进行截屏展示并配以文字说明）"><a href="#二、实验要求（具体步骤进行截屏展示并配以文字说明）" class="headerlink" title="二、实验要求（具体步骤进行截屏展示并配以文字说明）"></a>二、实验要求（具体步骤进行截屏展示并配以文字说明）</h2><p>1序列SEQUENCE</p><p>（1）创建序列testsequence,初始值为100，每次增加2。</p><p>SQL&gt; CREATE SEQUENCE testsequence</p><p>2  START WITH 100</p><p>3  INCREMENT BY 2;</p><p><img src="https://s2.ax1x.com/2019/11/01/K7G1TU.png" alt="K7G1TU.png"></p><p>通过查询系统视图显示该序列的相关信息；</p><p>SQL&gt; select * from all_sequences WHERE sequence_owner=’sys’;</p><p><img src="https://s2.ax1x.com/2019/11/01/K7GJfJ.png" alt="K7GJfJ.png"></p><p>原因是由于没大小写</p><p>SQL&gt; select * from user_sequences where sequence_name=’TESTSEQUENCE’;</p><p><img src="https://s2.ax1x.com/2019/11/01/K7Gtp9.png" alt="K7Gtp9.png"></p><p>（2）创建测试表：create table test( id number(10) primary key，name varchar(10))</p><p>SQL&gt; create table test( id number(10) primary key，name varchar(10));</p><p><img src="https://s2.ax1x.com/2019/11/01/K7GGY4.png" alt="K7GGY4.png"></p><p>利用序列testsequence作为id添加3条记录（insert 语句）</p><p>SQL&gt; INSERT INTO test(id) values(TESTSEQUENCE. NEXTVAL);</p><p>SQL&gt; INSERT INTO test(id) values(TESTSEQUENCE. NEXTVAL);</p><p>SQL&gt; INSERT INTO test(id) values(TESTSEQUENCE. NEXTVAL);</p><p><img src="https://s2.ax1x.com/2019/11/01/K7G8kF.png" alt="K7G8kF.png"></p><p>并在添加完成后显示test表内容</p><p>SQL&gt; select * from test;</p><p><img src="https://s2.ax1x.com/2019/11/01/K7GNlR.png" alt="K7GNlR.png"></p><p>（3）查询testsequence的currval</p><p>SQL&gt; select TESTSEQUENCE.currval from dual;</p><p><img src="https://s2.ax1x.com/2019/11/01/K7GU61.png" alt="K7GU61.png"></p><p>修改序列testsequence的步长为3</p><p>SQL&gt; alter sequence TESTSEQUENCE INCREMENT BY 3;</p><p><img src="https://s2.ax1x.com/2019/11/01/K7GaOx.png" alt="K7GaOx.png"></p><p>MAXVALUE为currval的3倍</p><p>SQL&gt; alter sequence TESTSEQUENCE MAXVALUE 312;</p><p><img src="https://s2.ax1x.com/2019/11/01/K7Gwm6.png" alt="K7Gwm6.png"></p><p>利用序列testsequence，插入4条记录</p><p>SQL&gt; INSERT INTO test(id) values(TESTSEQUENCE. NEXTVAL);</p><p>SQL&gt; INSERT INTO test(id) values(TESTSEQUENCE. NEXTVAL);</p><p>SQL&gt; INSERT INTO test(id) values(TESTSEQUENCE. NEXTVAL);</p><p>SQL&gt; INSERT INTO test(id) values(TESTSEQUENCE. NEXTVAL);</p><p><img src="https://s2.ax1x.com/2019/11/01/K7G00K.png" alt="K7G00K.png"></p><p>完成后显示test表内容</p><p>SQL&gt; select * from test;</p><p><img src="https://s2.ax1x.com/2019/11/01/K7GBTO.png" alt="K7GBTO.png"></p><p>显示序列testsequence的currval；</p><p>SQL&gt; select TESTSEQUENCE.currval from dual;</p><p><img src="https://s2.ax1x.com/2019/11/01/K7GrkD.png" alt="K7GrkD.png"></p><p>2视图 VIEW</p><p>（1）创建一个名为“EDV”的只读视图完成员工信息的综合查询，包括员工编号，员工名、薪水，职位编号、职位名称、部门编号、部门名称、部门所在地信息、国家信息。（以上各信息存于案例数据库中HR模式下的基本表EMPLOYEES、DEPARTMENTS、LOCATIONS、COUNTRIES、REGIONS中）</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">SQL&gt; CREATE OR REPLACE VIEW EDV (employee_id,job_id,manager_id, department_id,location_id, country_id,first_name,last_na</span><br><span class="line">me,salary,commission_pct,department_name,job_title,city,state_province,country_name,region_name)</span><br><span class="line">AS</span><br><span class="line"><span class="keyword">SELECT</span> e.employee_id,e.job_id,e.manager_id, e.department_id, d.location_id, l.country_id, e.first_name,e.last_name,</span><br><span class="line">e.salary,e.commission_pct,d.department_name,j.job_title,l.city, l.state_province,c.country_name,r.region_name <span class="keyword">FROM</span> emplo</span><br><span class="line">yees e,departments d,jobs j, locations l,countries c,regions r <span class="keyword">WHERE</span> e.department_id = d.department_id <span class="keyword">AND</span> d.location_id</span><br><span class="line"> = l.location_id <span class="keyword">AND</span> l.country_id = c.country_id <span class="keyword">AND</span> c.region_id = r.region_id <span class="keyword">AND</span> j.job_id = e.job_id <span class="keyword">WITH</span> <span class="keyword">READ</span> <span class="keyword">ONLY</span>;</span><br></pre></td></tr></table></figure><p><img src="https://s2.ax1x.com/2019/11/01/K7Gste.png" alt="K7Gste.png"></p><p>（2）显示视图EDV查询到的信息；</p><p>SQL&gt; select * from user_views WHERE view_name=’EDV’;</p><p><img src="https://s2.ax1x.com/2019/11/01/K7GyfH.png" alt="K7GyfH.png"></p><p><img src="https://s2.ax1x.com/2019/11/01/K7Gcpd.png" alt="K7Gcpd.png"></p><p><img src="https://s2.ax1x.com/2019/11/01/K7Gg1A.png" alt="K7Gg1A.png"></p><p>（3）利用系统提供的视图查询EDV视图的定义信息；</p><p>select view_name,text FROM dba_views where view_name=’EDV’;</p><p><img src="https://s2.ax1x.com/2019/11/01/K7G26I.png" alt="K7G26I.png"></p><p>通过查询数据字典视图DBA_VIEWS,ALL_VIEWS和USER_VIEWS可以获取视图的信息。这里我通过查询视图USER_VIEWS获取了当前用户所有视图的名称以及视图定义的信息</p><blockquote style="margin: 2em 0 0;padding: 0.5em 1em;border-left: 3px solid #F44336;background-color: #F5F5F5;list-style: none;"><p> <strong>本文使用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/" target="_blank" rel="noopener">CC BY-NC-SA 3.0 中国大陆</a> 协议许可<br>具体请参见 <a href="https://zyhang8.github.io/agree/" target="_blank" rel="noopener">知识共享协议</a></strong><br> <strong>本文链接：</strong><a href="https://zyhang8.github.io/2019/09/30/oracle-exp3/" target="_blank" rel="noopener">https://zyhang8.github.io/2019/09/30/oracle-exp3/</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> oracle </category>
          
      </categories>
      
      
        <tags>
            
            <tag> oracle </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Android后台服务</title>
      <link href="/2019/10/31/android-exp5/"/>
      <url>/2019/10/31/android-exp5/</url>
      
        <content type="html"><![CDATA[<h1 id="实验5-Android后台服务"><a href="#实验5-Android后台服务" class="headerlink" title="实验5 Android后台服务"></a>实验5 Android后台服务</h1><h2 id="实验目的"><a href="#实验目的" class="headerlink" title="实验目的"></a>实验目的</h2><p>1.了解Android系统下Service的基本含义</p><p>2.掌握Android系统下Service的使用方法</p><h2 id="实验内容"><a href="#实验内容" class="headerlink" title="实验内容"></a>实验内容</h2><p>&#160; &#160; &#160; &#160;<br>实验要求使用Service，提供比较两个整数大小的功能，提供int<br>Compare(int, int)函数，输入两个整数，输出较大的整数。具体要求如下：（1）实现进程内的服务；（2）使用AIDL语言，实现相同功能的跨进程服务；（3）设计用户界面，在界面上允许用户输入两个整数，并分别通过调用进程内和跨进程服务，将较大的数字显示在界面上。</p><h2 id="实验原理"><a href="#实验原理" class="headerlink" title="实验原理"></a>实验原理</h2><p>&#160; &#160; &#160; &#160;<br>Service是Android系统提供的四种组件之一，它的地位和Activity是并列的，只不过没有Activity的使用频率高。顾名思义Service就是运行在后台的一种服务程序，一般很少和用户交互，因此没有可视化界面。</p><p>&#160; &#160; &#160; &#160;<br>创建一个Service类比较简单，只要定义一个类继承Service，覆盖该类中相应的方法就可以了。Service中定义了一系列和自身生命周期相关的方法，这些方法有：</p><p>&#160; &#160; &#160; &#160;<br>●  onBind（Intent intent）：是必须实现的一个方法，返回一个绑定的接口给Service；</p><p>&#160; &#160; &#160; &#160;<br>●  onCreate（）：当Service第一次被创建时，由系统调用；</p><p>&#160; &#160; &#160; &#160;<br>●  onStart（Intent intent，int startId）：当通过startService（）方法启动Service时，该方法被调用；</p><p>&#160; &#160; &#160; &#160;<br>●  onDestroy（）：当 Service不再使用时，系统调用该方法。</p><p>&#160; &#160; &#160; &#160;<br>一旦定义好一个Service，就可以在其他组件中启动该Service来使用它了。启动一个Service使用Context.startService（Intent intent）方法，你会发现这和启动一个Activity非常相似，也是传递一个Intent对象。当我们调用startService（）方法时，被调用的Service会调用它的onCreate（）方法（如果该Service还未创建），接着调用onStart（）方法。一旦Service启动后将一直运行直到调用了Context.stopService（）或者stopSelf（）。</p><p>&#160; &#160; &#160; &#160;<br>我们可以调用startService（）方法来启动一个Service，也可以通过bindService（）方法来绑定一个Service。和调用startService（）方法一样，Service会调用onCreate（）方法来创建Service（如果它还未创建），但是它不会调用onStart（）方法而是调用onBind()返回客户端一个IBinder接口。绑定Service一般使用在远程Service调用。</p><p>&#160; &#160; &#160; &#160;<br>绑定Service需要三个参数：bindService（Intent intent，ServiceConnection conn，Service.BIND_AUTO_CREATE）；其中第二个参数是ServiceConnection，我们创建该对象实现其onServiceConnected（）和onServiceDisconnected（）来判断连接成功或断开连接；第三个参数是如何创建Service,一般指定绑定时自动创建。</p><h2 id="实验步骤："><a href="#实验步骤：" class="headerlink" title="实验步骤："></a>实验步骤：</h2><h3 id="要求："><a href="#要求：" class="headerlink" title="要求："></a>要求：</h3><p>&#160; &#160; &#160; &#160;<br>1）可以参考教材上的例子，但一定不要直接拷贝；</p><p>&#160; &#160; &#160; &#160;<br>2）需要在AndroidManifest.xml文件中声明服务；</p><p>&#160; &#160; &#160; &#160;<br>3）将实验代码和运行效果截图放在实验报告中提交。</p><h2 id="1-实现进程内服务调用"><a href="#1-实现进程内服务调用" class="headerlink" title="1.实现进程内服务调用"></a>1.实现进程内服务调用</h2><h3 id="1）建立一个项目“LocalServiceDemo”"><a href="#1）建立一个项目“LocalServiceDemo”" class="headerlink" title="1）建立一个项目“LocalServiceDemo”"></a>1）建立一个项目“LocalServiceDemo”</h3><p><img src="https://s2.ax1x.com/2019/06/02/V8r81S.png" alt="V8r81S.png"><br><img src="https://s2.ax1x.com/2019/06/02/V8rlff.png" alt="V8rlff.png"></p><h3 id="2）实现一个“MyLocalService”服务"><a href="#2）实现一个“MyLocalService”服务" class="headerlink" title="2）实现一个“MyLocalService”服务"></a>2）实现一个“MyLocalService”服务</h3><p>在项目上右键，选择”New”-&gt;”Other”，然后选择Android文件夹下的“Android Object”，单击”Next”，选择”Service”</p><p><img src="https://s2.ax1x.com/2019/06/02/V8rMkt.png" alt="V8rMkt.png"><br><img src="https://s2.ax1x.com/2019/06/02/V8rQtP.png" alt="V8rQtP.png"><br><img src="https://s2.ax1x.com/2019/06/02/V8ruTI.png" alt="V8ruTI.png"><br><img src="https://s2.ax1x.com/2019/06/02/V8r3p8.png" alt="V8r3p8.png"></p><p>完成以上步骤后会创建一个名为：“MyLocalService.java”的文件，这样一个基本的服务就创建成功了。接下去可以再服务里面添加代码了。</p><h3 id="3）在LocalServiceDemo中调用“MyLocalService”的Compare方法，并将结果显示在界面上"><a href="#3）在LocalServiceDemo中调用“MyLocalService”的Compare方法，并将结果显示在界面上" class="headerlink" title="3）在LocalServiceDemo中调用“MyLocalService”的Compare方法，并将结果显示在界面上"></a>3）在LocalServiceDemo中调用“MyLocalService”的Compare方法，并将结果显示在界面上</h3><p>在<img src="https://s2.ax1x.com/2019/06/02/V8rG6g.png" alt="V8rG6g.png">上单击右键，选择”New”-&gt;”File”，输入“IMyLocalService.aidl”。在新建立的文件中输入一行“package com.example.localservicedemo;”，然后就可以写相关的接口了（接口名为” MyLocalService”, Compare方法请自行设计）。写好接口并保存后，系统会自动生成”IMyLocalService.java”文件。</p><p><img src="https://s2.ax1x.com/2019/06/02/V8rJXQ.png" alt="V8rJXQ.png"><br><img src="https://s2.ax1x.com/2019/06/02/V8rtmj.png" alt="V8rtmj.png"></p><h3 id="4）后续步骤："><a href="#4）后续步骤：" class="headerlink" title="4）后续步骤："></a>4）后续步骤：</h3><p>添加一个新的Activity（”New”-&gt;“Other”），并在其中添加用户界面，绑定事件后调用“MyLocalService”。</p><p><img src="https://s2.ax1x.com/2019/06/02/V8rN0s.png" alt="V8rN0s.png"></p><p>2.实现跨进程调用（选做）<br>可以模仿教材例子修改。具体过程略。</p><h2 id="程序一（实现进程内服务调用）源代码"><a href="#程序一（实现进程内服务调用）源代码" class="headerlink" title="程序一（实现进程内服务调用）源代码"></a>程序一（实现进程内服务调用）源代码</h2><p>BindService.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.crazyit.service;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Package: org.crazyit.service</span></span><br><span class="line"><span class="comment"> * Created by zyh</span></span><br><span class="line"><span class="comment"> * on 2019/6/2</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">import</span> android.app.Service;</span><br><span class="line"><span class="keyword">import</span> android.content.Intent;</span><br><span class="line"><span class="keyword">import</span> android.os.Binder;</span><br><span class="line"><span class="keyword">import</span> android.os.IBinder;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BindService</span> <span class="keyword">extends</span> <span class="title">Service</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">float</span> max;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">boolean</span> quit;</span><br><span class="line">    <span class="comment">// 定义onBinder方法所返回的对象</span></span><br><span class="line">    <span class="keyword">private</span> MyBinder binder = <span class="keyword">new</span> MyBinder();</span><br><span class="line">    <span class="comment">// 通过继承Binder来实现IBinder类</span></span><br><span class="line">    <span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyBinder</span> <span class="keyword">extends</span> <span class="title">Binder</span>  // ①</span></span><br><span class="line"><span class="class">    </span>&#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">float</span> <span class="title">getCount</span><span class="params">()</span></span></span><br><span class="line"><span class="function">        </span>&#123;</span><br><span class="line">            <span class="comment">// 获取Service的运行状态：count</span></span><br><span class="line">            <span class="keyword">return</span> max;</span><br><span class="line">            &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 必须实现的方法，绑定该Service时回调该方法</span></span><br><span class="line">    <span class="keyword">float</span> data1;</span><br><span class="line">    <span class="keyword">float</span> data2;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> IBinder <span class="title">onBind</span><span class="params">(Intent intent)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"Service is Binded"</span>);</span><br><span class="line">        <span class="comment">// 返回IBinder对象</span></span><br><span class="line">        <span class="keyword">return</span> binder;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">onStartCommand</span><span class="params">(Intent intent, <span class="keyword">int</span> flags, <span class="keyword">int</span> startId)</span> </span>&#123;</span><br><span class="line">        data1 = Float.parseFloat(intent.getStringExtra(<span class="string">"data1"</span>));</span><br><span class="line">        data2 = Float.parseFloat(intent.getStringExtra(<span class="string">"data2"</span>));</span><br><span class="line">        max=data1&gt;data2?data1:data2;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">super</span>.onStartCommand(intent, flags, startId);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// Service被创建时回调该方法</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onCreate();</span><br><span class="line">        System.out.println(<span class="string">"Service is Created"</span>);</span><br><span class="line">        <span class="comment">// 启动一条线程，动态地修改count状态值</span></span><br><span class="line">        <span class="keyword">new</span> Thread()</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span></span></span><br><span class="line"><span class="function">            </span>&#123;</span><br><span class="line">                <span class="keyword">while</span> (!quit)</span><br><span class="line">                &#123;</span><br><span class="line">                    System.out.println(<span class="string">"Service中获取到的数据："</span> + max);</span><br><span class="line">                    <span class="keyword">try</span></span><br><span class="line">                    &#123;</span><br><span class="line">                        Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">catch</span> (InterruptedException e)</span><br><span class="line">                    &#123;</span><br><span class="line">                        e.printStackTrace();</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="comment">//发送广播</span></span><br><span class="line">                    Intent intent_max=<span class="keyword">new</span> Intent();</span><br><span class="line">                    intent_max.putExtra(<span class="string">"max"</span>, max);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;.start();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// Service被断开连接时回调该方法</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">onUnbind</span><span class="params">(Intent intent)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"Service is Unbinded"</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// Service被关闭之前回调该方法</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onDestroy</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onDestroy();</span><br><span class="line">        <span class="keyword">this</span>.quit = <span class="keyword">true</span>;</span><br><span class="line">        System.out.println(<span class="string">"Service is Destroyed"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>MainActivity.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.crazyit.service;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Package: org.crazyit.service</span></span><br><span class="line"><span class="comment"> * Created by zyh</span></span><br><span class="line"><span class="comment"> * on 2019/6/2</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">import</span> android.app.Activity;</span><br><span class="line"><span class="keyword">import</span> android.app.Service;</span><br><span class="line"><span class="keyword">import</span> android.content.ComponentName;</span><br><span class="line"><span class="keyword">import</span> android.content.Intent;</span><br><span class="line"><span class="keyword">import</span> android.content.ServiceConnection;</span><br><span class="line"><span class="keyword">import</span> android.os.Bundle;</span><br><span class="line"><span class="keyword">import</span> android.widget.EditText;</span><br><span class="line"><span class="keyword">import</span> android.os.IBinder;</span><br><span class="line"><span class="keyword">import</span> android.view.View;</span><br><span class="line"><span class="keyword">import</span> android.view.View.OnClickListener;</span><br><span class="line"><span class="keyword">import</span> android.widget.Button;</span><br><span class="line"><span class="keyword">import</span> android.widget.Toast;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">Activity</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    Button bind, unbind, getServiceStatus;</span><br><span class="line">    <span class="keyword">private</span> EditText edit_num1, edit_num2;</span><br><span class="line">    <span class="comment">// 保持所启动的Service的IBinder对象</span></span><br><span class="line">    BindService.MyBinder binder;</span><br><span class="line">    <span class="comment">// 定义一个ServiceConnection对象</span></span><br><span class="line">    <span class="keyword">private</span> ServiceConnection conn = <span class="keyword">new</span> ServiceConnection()</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// 当该Activity与Service连接成功时回调该方法</span></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onServiceConnected</span><span class="params">(ComponentName name</span></span></span><br><span class="line"><span class="function"><span class="params">                , IBinder service)</span></span></span><br><span class="line"><span class="function">        </span>&#123;</span><br><span class="line">            System.out.println(<span class="string">"--Service Connected--"</span>);</span><br><span class="line">            <span class="comment">// 获取Service的onBind方法所返回的MyBinder对象</span></span><br><span class="line">            binder = (BindService.MyBinder) service;  <span class="comment">// ①</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 当该Activity与Service断开连接时回调该方法</span></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onServiceDisconnected</span><span class="params">(ComponentName name)</span></span></span><br><span class="line"><span class="function">        </span>&#123;</span><br><span class="line">            System.out.println(<span class="string">"--Service Disconnected--"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">        setContentView(R.layout.main);</span><br><span class="line">        <span class="comment">// 获取程序界面中的start、stop、getServiceStatus按钮</span></span><br><span class="line">        bind = (Button) findViewById(R.id.bind);</span><br><span class="line">            unbind = (Button) findViewById(R.id.unbind);</span><br><span class="line">            edit_num1 = (EditText) findViewById(R.id.number_one);</span><br><span class="line">            edit_num2 = (EditText) findViewById(R.id.number_two);</span><br><span class="line">            getServiceStatus = (Button) findViewById(R.id.getServiceStatus);</span><br><span class="line">            <span class="comment">// 创建启动Service的Intent</span></span><br><span class="line">            <span class="keyword">final</span> Intent intent = <span class="keyword">new</span> Intent(<span class="keyword">this</span>, BindService.class);</span><br><span class="line">            bind.setOnClickListener(<span class="keyword">new</span> OnClickListener()</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="meta">@Override</span></span><br><span class="line">                <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View source)</span></span></span><br><span class="line"><span class="function">                </span>&#123;</span><br><span class="line">                    <span class="keyword">if</span> (edit_num1.getText().toString().trim().equals(<span class="string">""</span>)) &#123;</span><br><span class="line">                        Toast.makeText(MainActivity.<span class="keyword">this</span>, getString(R.string.number1_empty),</span><br><span class="line">                                Toast.LENGTH_SHORT).show();</span><br><span class="line">                        intent.putExtra(<span class="string">"data1"</span>,<span class="string">"0"</span>);</span><br><span class="line">                        intent.putExtra(<span class="string">"data2"</span>,<span class="string">"0"</span>);</span><br><span class="line">                &#125; <span class="keyword">else</span> <span class="keyword">if</span> (edit_num2.getText().toString().trim().equals(<span class="string">""</span>)) &#123;</span><br><span class="line">                    Toast.makeText(MainActivity.<span class="keyword">this</span>, getString(R.string.number2_empty),</span><br><span class="line">                            Toast.LENGTH_SHORT).show();</span><br><span class="line">                    intent.putExtra(<span class="string">"data1"</span>,<span class="string">"0"</span>);</span><br><span class="line">                    intent.putExtra(<span class="string">"data2"</span>,<span class="string">"0"</span>);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span>&#123;</span><br><span class="line">                    intent.putExtra(<span class="string">"data1"</span>,edit_num1.getText().toString());</span><br><span class="line">                    intent.putExtra(<span class="string">"data2"</span>,edit_num2.getText().toString());&#125;</span><br><span class="line"><span class="comment">//                System.out.println("Service中获取到的数据1：" + edit_num1.getText().toString());</span></span><br><span class="line"><span class="comment">//                System.out.println("Service中获取到的数据1：" + edit_num2.getText().toString());</span></span><br><span class="line">                    <span class="comment">// 绑定指定Service</span></span><br><span class="line">                    startService(intent);</span><br><span class="line">                    bindService(intent, conn, Service.BIND_AUTO_CREATE);</span><br><span class="line"></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;);</span><br><span class="line">            unbind.setOnClickListener(<span class="keyword">new</span> OnClickListener()</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="meta">@Override</span></span><br><span class="line">                <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View source)</span></span></span><br><span class="line"><span class="function">                </span>&#123;</span><br><span class="line">                    <span class="comment">// 解除绑定Service</span></span><br><span class="line">                    unbindService(conn);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;);</span><br><span class="line">            getServiceStatus.setOnClickListener(<span class="keyword">new</span> OnClickListener()</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="meta">@Override</span></span><br><span class="line">                <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View source)</span></span></span><br><span class="line"><span class="function">                </span>&#123;</span><br><span class="line">                    <span class="comment">// 获取、并显示Service的count值</span></span><br><span class="line">                    Toast.makeText(MainActivity.<span class="keyword">this</span>,</span><br><span class="line">                            <span class="string">"Service的max值为："</span> + binder.getCount(),</span><br><span class="line">                            Toast.LENGTH_SHORT).show();  <span class="comment">// ②</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>main.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">TableLayout</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:gravity</span>=<span class="string">"center_horizontal"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:orientation</span>=<span class="string">"vertical"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:stretchColumns</span>=<span class="string">"1"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">TableRow</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:text</span>=<span class="string">"@string/number_one"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:textSize</span>=<span class="string">"16sp"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">EditText</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:id</span>=<span class="string">"@+id/number_two"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:hint</span>=<span class="string">"@string/input_number_one"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:inputType</span>=<span class="string">"number"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:selectAllOnFocus</span>=<span class="string">"true"</span></span></span><br><span class="line"><span class="tag">            /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">TableRow</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">TableRow</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:text</span>=<span class="string">"@string/number_two"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:textSize</span>=<span class="string">"16sp"</span>/&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- android:inputType="number"表明只能数字 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">EditText</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:id</span>=<span class="string">"@+id/number_one"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:hint</span>=<span class="string">"@string/input_number_two"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:inputType</span>=<span class="string">"number"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:selectAllOnFocus</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">TableRow</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">"@+id/bind"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:text</span>=<span class="string">"@string/bind"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:textSize</span>=<span class="string">"14sp"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">"@+id/getServiceStatus"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:text</span>=<span class="string">"@string/getServiceStatus"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:textSize</span>=<span class="string">"14sp"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">"@+id/unbind"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:text</span>=<span class="string">"@string/unbind"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:textSize</span>=<span class="string">"14sp"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">TableLayout</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="程序一（实现进程内服务调用）功能简介"><a href="#程序一（实现进程内服务调用）功能简介" class="headerlink" title="程序一（实现进程内服务调用）功能简介"></a>程序一（实现进程内服务调用）功能简介</h2><p>当只输入一个数时显示继续输入</p><p><img src="https://s2.ax1x.com/2019/06/02/V8yeII.png" alt="V8yeII.png"><br><img src="https://s2.ax1x.com/2019/06/02/V8yMz8.png" alt="V8yMz8.png"></p><p>EditText只允许输入数字</p><p><img src="https://s2.ax1x.com/2019/06/02/V8yuJP.png" alt="V8yuJP.png"></p><p>输入两个数字</p><p>点击绑定Service</p><p><img src="https://s2.ax1x.com/2019/06/02/V8yuJP.png" alt="V8yuJP.png"></p><p>日志输出</p><p><img src="https://s2.ax1x.com/2019/06/02/V8yZdA.png" alt="V8yZdA.png"></p><p>结果显示</p><p><img src="https://s2.ax1x.com/2019/06/02/V8yKRf.png" alt="V8yKRf.png"></p><p>最后解除绑定</p><h2 id="程序二（实现跨进程调用）源代码-aidlclient"><a href="#程序二（实现跨进程调用）源代码-aidlclient" class="headerlink" title="程序二（实现跨进程调用）源代码(aidlclient)"></a>程序二（实现跨进程调用）源代码(aidlclient)</h2><p>MainActivity.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.bignerdranch.android.aidlclient;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.content.ComponentName;</span><br><span class="line"><span class="keyword">import</span> android.content.Context;</span><br><span class="line"><span class="keyword">import</span> android.content.Intent;</span><br><span class="line"><span class="keyword">import</span> android.content.ServiceConnection;</span><br><span class="line"><span class="keyword">import</span> android.os.IBinder;</span><br><span class="line"><span class="keyword">import</span> android.os.RemoteException;</span><br><span class="line"><span class="keyword">import</span> android.support.v7.app.AppCompatActivity;</span><br><span class="line"><span class="keyword">import</span> android.os.Bundle;</span><br><span class="line"><span class="keyword">import</span> android.view.View;</span><br><span class="line"><span class="keyword">import</span> android.widget.Button;</span><br><span class="line"><span class="keyword">import</span> android.widget.EditText;</span><br><span class="line"><span class="keyword">import</span> android.widget.Toast;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.bignerdranch.android.aidl.IMyAidlInterface;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Package: org.crazyit.service</span></span><br><span class="line"><span class="comment"> * Created by zyh</span></span><br><span class="line"><span class="comment"> * on 2019/6/2</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">AppCompatActivity</span> <span class="keyword">implements</span> <span class="title">View</span>.<span class="title">OnClickListener</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> EditText edit_num1;</span><br><span class="line">    <span class="keyword">private</span> EditText edit_num2;</span><br><span class="line">    <span class="keyword">private</span> EditText edit_max;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Button btnMax;</span><br><span class="line">    <span class="keyword">private</span> IMyAidlInterface iMyAidlInterface;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> ServiceConnection conn = <span class="keyword">new</span> ServiceConnection() &#123;</span><br><span class="line">        <span class="comment">//绑定服务时</span></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onServiceConnected</span><span class="params">(ComponentName name, IBinder service)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">            iMyAidlInterface = IMyAidlInterface.Stub.asInterface(service);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//断开服务时</span></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onServiceDisconnected</span><span class="params">(ComponentName name)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">            <span class="comment">//回收资源</span></span><br><span class="line">            iMyAidlInterface = <span class="keyword">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">        setContentView(R.layout.activity_main);</span><br><span class="line"></span><br><span class="line">        initView();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//当程序启动时就绑定服务</span></span><br><span class="line">        bindService();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">initView</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        edit_num1 = (EditText) findViewById(R.id.number_one);</span><br><span class="line">        edit_num2 = (EditText) findViewById(R.id.number_two);</span><br><span class="line">        edit_max = (EditText) findViewById(R.id.number_max);</span><br><span class="line"></span><br><span class="line">        btnMax = (Button) findViewById(R.id.btn_max);</span><br><span class="line"></span><br><span class="line">        btnMax.setOnClickListener(<span class="keyword">this</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View v)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (edit_num1.getText().toString().trim().equals(<span class="string">""</span>)) &#123;</span><br><span class="line">            Toast.makeText(MainActivity.<span class="keyword">this</span>, getString(R.string.number1_empty),</span><br><span class="line">                    Toast.LENGTH_SHORT).show();</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (edit_num2.getText().toString().trim().equals(<span class="string">""</span>)) &#123;</span><br><span class="line">            Toast.makeText(MainActivity.<span class="keyword">this</span>, getString(R.string.number2_empty),</span><br><span class="line">                    Toast.LENGTH_SHORT).show();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">int</span> num1 = Integer.parseInt(edit_num1.getText().toString());</span><br><span class="line">            <span class="keyword">int</span> num2 = Integer.parseInt(edit_num2.getText().toString());</span><br><span class="line">            <span class="keyword">int</span> minnum = num1&lt;num2?num1:num2;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="comment">//调用远程服务</span></span><br><span class="line">                <span class="keyword">int</span> res = iMyAidlInterface.Compare(num1, num2) - minnum;</span><br><span class="line">                edit_max.setText(res + <span class="string">""</span>);</span><br><span class="line">            &#125; <span class="keyword">catch</span> (RemoteException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">                edit_max.setText(<span class="string">"错误了"</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">bindService</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="comment">//获取服务端</span></span><br><span class="line">        Intent intent = <span class="keyword">new</span> Intent();</span><br><span class="line">        intent.setComponent(<span class="keyword">new</span> ComponentName(<span class="string">"com.bignerdranch.android.aidl"</span>, <span class="string">"com.bignerdranch.android.aidl.IRemoteService"</span>));</span><br><span class="line"></span><br><span class="line">        bindService(intent, conn, Context.BIND_AUTO_CREATE);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onDestroy</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onDestroy();</span><br><span class="line">        unbindService(conn);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>IMyAidlInterface.aidl</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">// IMyAidlInterface.aidl</span><br><span class="line">package com.bignerdranch.android.aidl;</span><br><span class="line"></span><br><span class="line">// Declare any non-default types here with import statements</span><br><span class="line"></span><br><span class="line">interface IMyAidlInterface &#123;</span><br><span class="line"></span><br><span class="line">    int Compare(int num1, int num2);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="程序二（实现跨进程调用）功能简介"><a href="#程序二（实现跨进程调用）功能简介" class="headerlink" title="程序二（实现跨进程调用）功能简介"></a>程序二（实现跨进程调用）功能简介</h2><p>与程序一样有文本框检测功能</p><p><img src="https://s2.ax1x.com/2019/06/02/VGPBef.png" alt="VGPBef.png"></p><p><img src="https://s2.ax1x.com/2019/06/02/VGPDw8.png" alt="VGPDw8.png"></p><p>结果展示<br><img src="https://s2.ax1x.com/2019/06/02/VGPrTS.png" alt="VGPrTS.png"></p><p>日志输出<br><img src="https://s2.ax1x.com/2019/06/02/VGPwOP.png" alt="VGPwOP.png"></p><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>这次实验学到了很多，本地服务和远程服务让我对安卓的服务端有了一定的了解，特别是远程服务，遇到了一个又一个坑，不过果然只要时间长并没有不能写出来的代码，写了5小时完成实验，虽枯燥但值得</p><blockquote style="margin: 2em 0 0;padding: 0.5em 1em;border-left: 3px solid #F44336;background-color: #F5F5F5;list-style: none;"><p> <strong>本文使用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/" target="_blank" rel="noopener">CC BY-NC-SA 3.0 中国大陆</a> 协议许可<br>具体请参见 <a href="https://zyhang8.github.io/agree/" target="_blank" rel="noopener">知识共享协议</a></strong><br> <strong>本文链接：</strong><a href="https://zyhang8.github.io/2019/10/31/android-exp5/" target="_blank" rel="noopener">https://zyhang8.github.io/2019/10/31/android-exp5/</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> android </category>
          
      </categories>
      
      
        <tags>
            
            <tag> android </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>EJB+无状态HelloBean开发介绍</title>
      <link href="/2019/10/30/j2ee-exp4/"/>
      <url>/2019/10/30/j2ee-exp4/</url>
      
        <content type="html"><![CDATA[<h1 id="EJB-无状态HelloBean开发介绍"><a href="#EJB-无状态HelloBean开发介绍" class="headerlink" title="EJB+无状态HelloBean开发介绍"></a>EJB+无状态HelloBean开发介绍</h1><p>首先查一下joss到底是啥…</p><p>JBOSS是一个基于J2EE的开放源代码的应用服务器，是一个管理EJB的容器和服务器。</p><p>EJB是一个用来构筑企业级应用的服务器端可被管理组件</p><p>貌似终于学习高级组件了</p><p>进入正题</p><h2 id="配置安装"><a href="#配置安装" class="headerlink" title="配置安装"></a>配置安装</h2><p>一开照网上的教程，配置安装后发现8080一直访问不了，后查了一下原因发现jdk1.8不兼容joss7.1.1</p><p><img src="https://s2.ax1x.com/2019/10/31/KoaOcd.png" alt="KoaOcd.png"></p><p>原因可能是：jboss需要使用JVM中的永久区来存放数据，而jdk1.8取消了永久区，直接调用系统内存，这样理论上，只要系统内存无限大，就能放无限的东西进去</p><p>后来下载了jdk1.7，切换了环境，挺麻烦的，还得把System的某些文件删除后才生效</p><p><img src="https://s2.ax1x.com/2019/10/31/KoaxBt.png" alt="KoaxBt.png"></p><p>后成功</p><p>在Eclipse部署中，一开始按照老师下载了 JBoss Tools,后来提示我restart，但是一restart后就打不开了，eclipse报错，查看日志和工作区也无果，后来重装了一下</p><p><img src="https://s2.ax1x.com/2019/10/31/KoavnI.png" alt="KoavnI.png"></p><p>提示eclipse需要环境为jdk1.8，有切换了路径</p><p><img src="https://s2.ax1x.com/2019/10/31/Koaq9e.png" alt="Koaq9e.png"></p><p>后来就带着1.8不是不能兼容jboss7.1.1的问题继续部署</p><p>后来果然报错</p><p>查看了网上教程，修改了jboss的系统文件，原本jdk使用的系统，后来自己修改成jdk为1.7的路径</p><p>成功</p><p><img src="https://s2.ax1x.com/2019/10/31/KoaL1H.png" alt="KoaL1H.png"></p><p>后配置了jboss的web项目和java原生客户端，具体就看里面的代码和项目结构</p><p><img src="https://s2.ax1x.com/2019/10/31/KoaXjA.png" alt="KoaXjA.png"></p><blockquote style="margin: 2em 0 0;padding: 0.5em 1em;border-left: 3px solid #F44336;background-color: #F5F5F5;list-style: none;"><p> <strong>本文使用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/" target="_blank" rel="noopener">CC BY-NC-SA 3.0 中国大陆</a> 协议许可<br>具体请参见 <a href="https://zyhang8.github.io/agree/" target="_blank" rel="noopener">知识共享协议</a></strong><br> <strong>本文链接：</strong><a href="https://zyhang8.github.io/2019/10/30/Ningj2ee-exp4bo/" target="_blank" rel="noopener">https://zyhang8.github.io/2019/10/30/j2ee-exp4/</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> j2ee </category>
          
      </categories>
      
      
        <tags>
            
            <tag> j2ee </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Web表现层JSP技术基础开发题</title>
      <link href="/2019/10/29/j2ee-exp3/"/>
      <url>/2019/10/29/j2ee-exp3/</url>
      
        <content type="html"><![CDATA[<h1 id="Web表现层JSP技术基础开发题"><a href="#Web表现层JSP技术基础开发题" class="headerlink" title="Web表现层JSP技术基础开发题"></a>Web表现层JSP技术基础开发题</h1><h2 id="实验要求"><a href="#实验要求" class="headerlink" title="实验要求"></a>实验要求</h2><p>（选做）以下开发题任选一题，请同学们编程实现，并提交源代码和实验运行报告截图</p><ol><li>在某个页面中存在下面的表单</li></ol><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">form</span> <span class="attr">method</span>=<span class="string">"post"</span> <span class="attr">action</span>=<span class="string">"/webapp/responseSomeRequest.jsp"</span>&gt;</span> </span><br><span class="line">      文章标题：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"paperTitle"</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">     作者姓名：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"paperAuthor"</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span>    </span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"submit"</span> <span class="attr">value</span>=<span class="string">"提交"</span>&gt;</span>  </span><br><span class="line">  <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure><p>请编程一个获得该表单中的paperTitle和paperAuthor值并在浏览器中显示输出其值的responseSomeRequest.jsp页面。</p><ol start="2"><li>在某个JSP页面中包含有如下内容的表单，响应该表单请求的目标页面为responseUserLogin.jsp。请为responseUserLogin.jsp页面编写获得该表单中的各个请求参数的JSP脚本代码。</li></ol><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">"/webcrm/userManage/responseUserLogin.jsp"</span> <span class="attr">method</span>=<span class="string">"post"</span></span></span><br><span class="line">用户类型：&lt;select name="type_User_Admin"&gt;               </span><br><span class="line"><span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">"1"</span>&gt;</span>前台用户<span class="tag">&lt;/<span class="name">option</span>&gt;</span>             </span><br><span class="line"><span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">"2"</span>&gt;</span>后台管理员<span class="tag">&lt;/<span class="name">option</span>&gt;</span>                 </span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span>           </span><br><span class="line">您的名称：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"userName"</span>  /&gt;</span>         </span><br><span class="line">您的密码：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"password"</span> <span class="attr">name</span>=<span class="string">"userPassWord"</span> /&gt;</span>            </span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"submit"</span> <span class="attr">value</span>=<span class="string">"提交"</span> <span class="attr">name</span>=<span class="string">"submitButton"</span> /&gt;</span>       </span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"reset"</span> <span class="attr">value</span>=<span class="string">"取消"</span> /&gt;</span> </span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="实验步骤"><a href="#实验步骤" class="headerlink" title="实验步骤"></a>实验步骤</h2><blockquote><p>由于两道题很相似，就选了第一道做，第二题相似</p></blockquote><h2 id="源代码"><a href="#源代码" class="headerlink" title="源代码"></a>源代码</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>summit<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">method</span>=<span class="string">"post"</span> <span class="attr">action</span>=<span class="string">"test.jsp"</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"paperTitle"</span> <span class="attr">placeholder</span>=<span class="string">"文章标题："</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"paperAuthor"</span> <span class="attr">placeholder</span>=<span class="string">"作者姓名："</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"submit"</span> <span class="attr">value</span>=<span class="string">"提交"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page language=<span class="string">"java"</span> contentType=<span class="string">"text/html; charset=utf-8"</span></span><br><span class="line">    pageEncoding=<span class="string">"utf-8"</span>%&gt;</span><br><span class="line">&lt;%</span><br><span class="line">request.setCharacterEncoding(<span class="string">"utf-8"</span>);</span><br><span class="line">String info1 = request.getParameter(<span class="string">"paperTitle"</span>);</span><br><span class="line">  out.println(info1);</span><br><span class="line">  String info2 = request.getParameter(<span class="string">"paperAuthor"</span>);</span><br><span class="line">  out.println(info2);</span><br><span class="line">%&gt;</span><br></pre></td></tr></table></figure><h2 id="截图"><a href="#截图" class="headerlink" title="截图"></a>截图</h2><p><img src="https://s2.ax1x.com/2019/10/10/uorPCn.png" alt="uorPCn.png"><br>这张图片中的黄色波浪线以为是空格，结果总是出error，最后自己打了空格，success</p><p><img src="https://s2.ax1x.com/2019/10/10/uoDxHg.png" alt="uoDxHg.png"><br><img src="https://s2.ax1x.com/2019/10/10/uor94s.png" alt="uor94s.png"><br><img src="https://s2.ax1x.com/2019/10/10/uorpNj.png" alt="uorpNj.png"></p><blockquote style="margin: 2em 0 0;padding: 0.5em 1em;border-left: 3px solid #F44336;background-color: #F5F5F5;list-style: none;"><p> <strong>本文使用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/" target="_blank" rel="noopener">CC BY-NC-SA 3.0 中国大陆</a> 协议许可<br>具体请参见 <a href="https://zyhang8.github.io/agree/" target="_blank" rel="noopener">知识共享协议</a></strong><br> <strong>本文链接：</strong><a href="https://zyhang8.github.io/2019/10/29/j2ee-exp3/" target="_blank" rel="noopener">https://zyhang8.github.io/2019/10/29/j2ee-exp3/</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> j2ee </category>
          
      </categories>
      
      
        <tags>
            
            <tag> j2ee </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JDBC数据库编程范例</title>
      <link href="/2019/10/28/j2ee-exp2/"/>
      <url>/2019/10/28/j2ee-exp2/</url>
      
        <content type="html"><![CDATA[<h1 id="JDBC数据库编程范例"><a href="#JDBC数据库编程范例" class="headerlink" title="JDBC数据库编程范例"></a>JDBC数据库编程范例</h1><h2 id="摘要"><a href="#摘要" class="headerlink" title="摘要"></a>摘要</h2><p>本次实验的主要内容是连接数据库分页显示记录并更新数据库记录，通过这个实验掌握在JSP中使用JDBC访问数据库的方法，以及对数据库记录进行分页显示和更新记录的方法。</p><h2 id="准备工作"><a href="#准备工作" class="headerlink" title="准备工作"></a>准备工作</h2><p>1.安装MySQL （可在云班课的“资源”共享文件夹中找到下载软件）</p><ol start="2"><li>安装JDBC驱动 （可在云班课的“资源”共享文件夹中找到下载软件）<br>JDBC驱动程序：mysql-connector-java-5.1.42-bin.jar，将此文件放入新创建的工程（本实验范例是class工程）文件夹的WebContent\WEB-INF\lib目录下（可在云班课的“资源”共享文件夹中找到并下载class压缩文件，此JDBC驱动程序已经放入相应的lib目录下）。</li><li>其他所需相关软件如Tomcat和Eclipse的安装调试之前已经介绍过，这里不再重复。</li></ol><h2 id="编程思路"><a href="#编程思路" class="headerlink" title="编程思路"></a>编程思路</h2><ol><li>启动并登录MySQL, 创建数据库test。(参考命令行：create database test;)</li><li>导入事先定义好的数据库文件test-dump.sql (存放在source 文件夹中，可在云班课的“资源”共享文件夹中找到并下载），拷贝到本地数据库文件test。<br>( 参考命令行：mysql -u root -p test  &lt;  ...（本地存放test-dump.sql的路径）\test-dump.sql)<br>（备注：输入此命令行前需要先退出MySQL, 在Windows命令行中输入此命令行）</li></ol><h2 id="代码分析"><a href="#代码分析" class="headerlink" title="代码分析"></a>代码分析</h2><p>JDBC是Java 数据库连接（Java Database Connectivity) 的缩写，它由一组用Java 编程语言编写的类和接口组成。有了JDBC API, 就不必为访问不同的数据库（比如Sybase, Oracle和Informix)编写不同的程序了。只需用JDBC API编写一个程序就可向相应数据库发送SQL语句。本次实验范例中主要是对ResultSet对象的操作。首先定义数据库查询结果集rs (ResultSet rs=null;), 然后连接数据库（test) 并创建Statement 对象<br>String sConnStr = “jdbc:mysql://localhost/test?user=”+username+”&amp;password=”+password+”&amp;useUnicode=true&amp;characterEncoding=utf8”;<br>try {<br>conn = DriverManager.getConnection(sConnStr);<br>conn.setAutoCommit(true);<br>//建立Statement 对象并设置指针可前后移动<br>stmt = conn.createStatement(ResultSet.TYPE_SCROLL_INSENSITIVE ,       ResultSet.CONCUR_READ_ONLY);<br>}catch(Exception e) {<br>System.err.println(“数据库连接错误: “ + e.getMessage());<br>out.print(“数据库连接错误”);<br>return;<br>}</p><p>在有了Statement 对象后，可以通过Statement 执行SQL 语句来获得查询结果<br>try{//从表midwareclass中取出数据<br>rs=stmt.executeQuery(“select * from midwareclass”);<br>}catch(SQLException ex){<br>System.err.println(“数据库查询错误: “+ex);<br>}<br>运行结果<br>1.classview.jsp 的运行结果如下：</p><p><img src="https://s2.ax1x.com/2019/10/31/KorthV.png" alt="KorthV.png"></p><ol start="2"><li>update.jsp 的运行结果如下：<br>首先输入midwareclass表中已有的一位同学的学号和姓名：（例如：1451325 钟宇）</li></ol><p><img src="https://s2.ax1x.com/2019/10/31/KorETI.png" alt="KorETI.png"></p><ol start="3"><li>然后再次运行classview.jsp，可以看到已经更新的数据库：</li></ol><p><img src="https://s2.ax1x.com/2019/10/31/KorZkt.png" alt="KorZkt.png"></p><h2 id="步骤"><a href="#步骤" class="headerlink" title="步骤"></a>步骤</h2><p>很久很久以前部署过jdbc的项目，不过现在忘了如何操作，刚好重新练手.</p><p>安装配置，一开始tomcat又不好用了，端口冲突-更换端口号；<br>后来遇到无法等待时间超过45s，网上教程都没用，自己新建用了一个server就好了，这次的server只引入一个项目，然后就可以启动tomcat了，自己认为可能eclipse还是太膨胀，内存堆栈导致时间长等等。。</p><p>首先官网下载connect/J jdbc，根据教程把jdbc中的两个jar包引入到项目中</p><p><img src="https://s2.ax1x.com/2019/10/31/Kormff.png" alt="Kormff.png"></p><p>再通过navicat运行sql脚本，后更新了test数据库；</p><p><img src="https://s2.ax1x.com/2019/10/31/KoretP.png" alt="KoretP.png"></p><p>修改代码中的password，运行<br>很正常，error</p><p><img src="https://s2.ax1x.com/2019/10/31/Korup8.png" alt="Korup8.png"></p><p>数据库连接错误</p><p><img src="https://s2.ax1x.com/2019/10/31/KorK1S.png" alt="KorK1S.png"></p><p>命名自己更换密码后保存文件再运行的啊？<br>在次运行，虽然密码对了，但是还是报错<br>于是cmder去看看mysql有什么端倪</p><p><img src="https://s2.ax1x.com/2019/10/31/KorQXQ.png" alt="KorQXQ.png"></p><p>命名数据库名是没有错的，而且navicat也可以正常显示</p><p><img src="https://s2.ax1x.com/2019/10/31/Kor1mj.png" alt="Kor1mj.png"></p><p>突然发现没有端口，加上后运行<br>还是错误，看到这个url感觉还是有点别扭，毕竟&amp;和？这种带参数restful架构已经落后的，目前流行全部用/来代表参数。网上查阅资料看看有没有sConnStr的其他表现形式</p><p><img src="https://s2.ax1x.com/2019/10/31/Kor30s.png" alt="Kor30s.png"></p><p>替换源代码，运行，依旧报错<br>网上查找</p><p><img src="https://s2.ax1x.com/2019/10/31/Kor87n.png" alt="Kor87n.png"></p><p>貌似第一步只是引入，没有添加到lib下<br>作为素质良好的程序员顺便查了一下hibernate<br>附：Hibernate是一个开放源代码的对象关系映射框架，它对JDBC进行了非常轻量级的对象封装，它将POJO与数据库表建立映射关系，是一个全自动的orm框架，hibernate可以自动生成SQL语句，自动执行，使得Java程序员可以随心所欲的使用对象编程思维来操纵数据库。<br>发现是个好东西（orm），有了它就可以不用写sql语句了</p><p>回来继续改bug，添加了之后运行还是报错</p><p>算了，先运行update.jsp吧</p><p><img src="https://s2.ax1x.com/2019/10/31/KorJkq.png" alt="KorJkq.png"></p><p>闲着无聊reflash了一下项目，并restart了server，好了</p><p><img src="https://s2.ax1x.com/2019/10/31/KorYt0.png" alt="KorYt0.png"><br><img src="https://s2.ax1x.com/2019/10/31/KorUpT.png" alt="KorUpT.png"></p><p>开始吐槽ide，隔壁的pycharm也是java写的，但人家确实做得不错，包括这次的自动保存功能。。</p><p><img src="https://s2.ax1x.com/2019/10/31/Kora1U.png" alt="Kora1U.png"></p><p>秀一下小工具</p><p><img src="https://s2.ax1x.com/2019/10/31/KordcF.png" alt="KordcF.png"></p><p>看到只有10页，修改了一下url为11和12，竟然都能显示，还是有点小bug</p><blockquote style="margin: 2em 0 0;padding: 0.5em 1em;border-left: 3px solid #F44336;background-color: #F5F5F5;list-style: none;"><p> <strong>本文使用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/" target="_blank" rel="noopener">CC BY-NC-SA 3.0 中国大陆</a> 协议许可<br>具体请参见 <a href="https://zyhang8.github.io/agree/" target="_blank" rel="noopener">知识共享协议</a></strong><br> <strong>本文链接：</strong><a href="https://zyhang8.github.io/2019/10/28/j2ee-exp2/" target="_blank" rel="noopener">https://zyhang8.github.io/2019/10/28/j2ee-exp2/</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> j2ee </category>
          
      </categories>
      
      
        <tags>
            
            <tag> j2ee </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>j2ee-tomcat</title>
      <link href="/2019/10/27/j2ee-exp1/"/>
      <url>/2019/10/27/j2ee-exp1/</url>
      
        <content type="html"><![CDATA[<h2 id="安装环境"><a href="#安装环境" class="headerlink" title="安装环境"></a>安装环境</h2><p>之前安装tomcat，在eclipse安装了web,xml,servlet等插件，详细安装过程也不一一详述<br>tomcat版本：8.5</p><p><img src="https://s2.ax1x.com/2019/10/31/KoB3vQ.png" alt="KoB3vQ.png"></p><p>只记得当时就是普通的eclipse版本，所以没有tomcat和web服务，通过下载插件和服务后部署tomcat后可以使用</p><h2 id="实战"><a href="#实战" class="headerlink" title="实战"></a>实战</h2><h3 id="范例一-第一句话"><a href="#范例一-第一句话" class="headerlink" title="范例一 第一句话"></a>范例一 第一句话</h3><p>由于为测试项目，文件创建项目与下面一致，在..\tomcat\webapps\ROOT下新建文件为test.jsp，然后编辑代码内容</p><p><img src="https://s2.ax1x.com/2019/10/31/KoBGuj.png" alt="KoBGuj.png"></p><p>，在tomcat中打开localhost:8080/test.jsp,显示下面内容</p><p><img src="https://s2.ax1x.com/2019/10/31/KoBQC8.png" alt="KoBQC8.png"></p><h3 id="范例二-使用表单"><a href="#范例二-使用表单" class="headerlink" title="范例二 使用表单"></a>范例二 使用表单</h3><p><img src="https://s2.ax1x.com/2019/10/31/KoBl8S.png" alt="KoBl8S.png"><br><img src="https://s2.ax1x.com/2019/10/31/KoBK4f.png" alt="KoBK4f.png"></p><p>由于没有restful所以无法请求</p><h3 id="范例三-处理cookie"><a href="#范例三-处理cookie" class="headerlink" title="范例三  处理cookie"></a>范例三  处理cookie</h3><p><img src="https://s2.ax1x.com/2019/10/31/KoB1gg.png" alt="KoB1gg.png"><br><img src="https://s2.ax1x.com/2019/10/31/KoBJDs.png" alt="KoBJDs.png"></p><p>同样原因</p><h3 id="范例四-Session的管理-购物车"><a href="#范例四-Session的管理-购物车" class="headerlink" title="范例四 Session的管理-购物车"></a>范例四 Session的管理-购物车</h3><p><img src="https://s2.ax1x.com/2019/10/31/KoBYbn.png" alt="KoBYbn.png"></p><p>一开始出现乱码则查看编码格式，为GB2312</p><p><img src="https://s2.ax1x.com/2019/10/31/KoBNEq.png" alt="KoBNEq.png"></p><p>修改为utf-8，成功</p><p><img src="https://s2.ax1x.com/2019/10/31/KoBUU0.png" alt="KoBUU0.png"></p><p>eclipse 实战</p><p><img src="https://s2.ax1x.com/2019/10/31/KoBa5V.png" alt="KoBa5V.png"></p><h3 id="学习心得"><a href="#学习心得" class="headerlink" title="学习心得"></a>学习心得</h3><p>看了下实验四的代码结构，页面中的下拉选项在html中并没有内容，</p><p><img src="https://s2.ax1x.com/2019/10/31/KoDmM4.png" alt="KoDmM4.png"></p><p> 段位于jsp中，作为一个列表<br>html作为文本标签显示的都为静态页面，而jsp用于制作动态页面，实现html动态任务</p><p><img src="https://s2.ax1x.com/2019/10/31/KoDnsJ.png" alt="KoDnsJ.png"></p><p>检查了一下源代码，发现这一部分在源代码的html部分是没有的，估计在网页端自动映射为html结构<br>所以jsp这种语言也是不错，可以被爬虫爬取，也可以减少请求次数和兼容浏览器</p><p>而jsp使用&lt;%  %&gt;也可以明显与html区分开来</p><blockquote style="margin: 2em 0 0;padding: 0.5em 1em;border-left: 3px solid #F44336;background-color: #F5F5F5;list-style: none;"><p> <strong>本文使用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/" target="_blank" rel="noopener">CC BY-NC-SA 3.0 中国大陆</a> 协议许可<br>具体请参见 <a href="https://zyhang8.github.io/agree/" target="_blank" rel="noopener">知识共享协议</a></strong><br> <strong>本文链接：</strong><a href="https://zyhang8.github.io/2019/10/27/j2ee-exp1/" target="_blank" rel="noopener">https://zyhang8.github.io/2019/10/27/j2ee-exp1/</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> j2ee </category>
          
      </categories>
      
      
        <tags>
            
            <tag> j2ee </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Activity生命周期</title>
      <link href="/2019/10/26/android-exp4/"/>
      <url>/2019/10/26/android-exp4/</url>
      
        <content type="html"><![CDATA[<h1 id="Activity生命周期"><a href="#Activity生命周期" class="headerlink" title="Activity生命周期"></a>Activity生命周期</h1><h2 id="实验目的"><a href="#实验目的" class="headerlink" title="实验目的"></a>实验目的</h2><p>1.了解Android应用的生命周期与进程优先级的切换。<br>2.理解Activity的生命周期与状态切换。<br>3.掌握Activity在启动、停止和销毁等不同阶段，9种重载函数的调用顺序，<br>4.掌握Android调试工具LogCat的使用方法。</p><h2 id="实验内容"><a href="#实验内容" class="headerlink" title="实验内容"></a>实验内容</h2><p>1.在Activity中重载下图中9种事件函数，在调用不同函数时使用LogCat在Eclipse的控制台中输出调用日志。</p><p><img src="https://s2.ax1x.com/2019/10/30/K5MFsJ.png" alt="K5MFsJ.png"></p><h2 id="实验步骤"><a href="#实验步骤" class="headerlink" title="实验步骤"></a>实验步骤</h2><p>1.创建名为“ActivityLifeCycle”的Android应用程序，按下图设置”Activity Name”和”Layout Name”：</p><p><img src="https://s2.ax1x.com/2019/10/30/K5M9RU.png" alt="K5M9RU.png"></p><p>2.修改默认的“Hello World! ”为“Hello World,ActivityLifeCycleActivity!”</p><p>3.在界面上添加一个按钮，并命名为”btn_finish”，并将其文本修改为“ ”</p><p><img src="https://s2.ax1x.com/2019/10/30/K5MCzF.png" alt="K5MCzF.png"></p><p><img src="https://s2.ax1x.com/2019/10/30/K5MEZR.png" alt="K5MEZR.png"></p><p><img src="https://s2.ax1x.com/2019/10/30/K5MiM4.png" alt="K5MiM4.png"><br>4.在ActivityLifeCycleActivity.java类中添加一行<br>private static String TAG = “LIFECYCLE”;</p><p>5.修改“ActivityLifeCycleActivity.java”文件，在onCreate函数中添加如下代码：</p><p>Log.i(TAG, “(1) onCreate()”);</p><pre><code>Button button = (Button)findViewById(R.id.btn_finish);button.setOnClickListener(new View.OnClickListener() {  public void onClick(View view) {  finish();  }});</code></pre><p>6.选择菜单Source-&gt;Override/Implement Menthods，在打开的对话框中勾选onRestoreInstanceState、onStart、onRestart、onResume、onSaveInstanceState、onPause、onStop、onDestroy等8个方法，单击”OK”，系统会自动生成这些方法的重载代码。</p><p><img src="https://s2.ax1x.com/2019/10/30/K5MkL9.png" alt="K5MkL9.png"></p><p><img src="https://s2.ax1x.com/2019/10/30/K5MZIx.png" alt="K5MZIx.png"></p><p>7.在这些方法里分别添加语句，用于调试。比如，在OnStart方法中添加<br>Log.i(TAG, “(2) onStart()”);<br>在Logcat里添加一个过滤器，如下图</p><p><img src="https://s2.ax1x.com/2019/10/30/K5MVd1.png" alt="K5MVd1.png"></p><p>8.在模拟器里运行程序，通过按下返回键、home键，切换应用等方式测试在全生命周期、可视生命周期中Activity各事件的发生顺序。观察Logcat中日志的变化并做好记录。<br>思考题：<br>1.除了使用Logcat，还有那些调试应用程序的工具和方法？试简述之。<br>android 默认使用Logcat调试应用程序工具，通过输出Log信息来查找或定位程序的错误；<br>其他的调试应用程序工具<br>记录栈跟踪日志<br>     使用Log.d(String,String,Throwable)来快熟查看关键位置的结果，是否正确。<br>设置断点<br>     利用程序调试器，一步一步跟踪代码执行。<br>Android Lint<br>     android代码静态分析器，在平常书写代码的时候他就会一直在后台默默的运行，找到代码中语法或者一些版本的错误而无需运行代码。若果需要检查整个project的代码，那么可以在analyze-&gt;inspect codet运行Lint，选择范围，运行检查。</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.thinkpad.activitylifecycle;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.support.v7.app.AppCompatActivity;</span><br><span class="line"><span class="keyword">import</span> android.os.Bundle;</span><br><span class="line"><span class="keyword">import</span> android.view.View;</span><br><span class="line"><span class="keyword">import</span> android.widget.Button;</span><br><span class="line"><span class="keyword">import</span> android.util.Log;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ActivityLifeCycleActivity</span> <span class="keyword">extends</span> <span class="title">AppCompatActivity</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> String TAG = <span class="string">"LIFECYCLE"</span>;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">        setContentView(R.layout.main);</span><br><span class="line">        Log.i(TAG, <span class="string">"(1) onCreate()"</span>);</span><br><span class="line">        Button button = (Button)findViewById(R.id.btn_finish);</span><br><span class="line">        button.setOnClickListener(<span class="keyword">new</span> View.OnClickListener() &#123;</span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View view)</span> </span>&#123;</span><br><span class="line">                finish();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onStart</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onStart();</span><br><span class="line">        <span class="comment">// 输出日志</span></span><br><span class="line">        Log.d(TAG, <span class="string">"-------onStart------"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onRestart</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onRestart();</span><br><span class="line">        <span class="comment">// 输出日志</span></span><br><span class="line">        Log.d(TAG, <span class="string">"-------onRestart------"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onResume</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onResume();</span><br><span class="line">        <span class="comment">// 输出日志</span></span><br><span class="line">        Log.d(TAG, <span class="string">"-------onResume------"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onPause</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onPause();</span><br><span class="line">        <span class="comment">// 输出日志</span></span><br><span class="line">        Log.d(TAG, <span class="string">"-------onPause------"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onStop</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onStop();</span><br><span class="line">        <span class="comment">// 输出日志</span></span><br><span class="line">        Log.d(TAG, <span class="string">"-------onStop------"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onDestroy</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onDestroy();</span><br><span class="line">        <span class="comment">// 输出日志</span></span><br><span class="line">        Log.d(TAG, <span class="string">"-------onDestroy------"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">layout</span><br><span class="line">&lt;?xml version=<span class="string">"1.0"</span> encoding=<span class="string">"utf-8"</span>?&gt;</span><br><span class="line">&lt;android.support.constraint.ConstraintLayout xmlns:android=<span class="string">"http://schemas.android.com/apk/res/android"</span></span><br><span class="line">    xmlns:app=<span class="string">"http://schemas.android.com/apk/res-auto"</span></span><br><span class="line">    xmlns:tools=<span class="string">"http://schemas.android.com/tools"</span></span><br><span class="line">    android:layout_width=<span class="string">"match_parent"</span></span><br><span class="line">    android:layout_height=<span class="string">"match_parent"</span></span><br><span class="line">    tools:context=<span class="string">".ActivityLifeCycleActivity"</span>&gt;</span><br><span class="line"></span><br><span class="line">    &lt;TextView</span><br><span class="line">        android:layout_width=<span class="string">"wrap_content"</span></span><br><span class="line">        android:layout_height=<span class="string">"wrap_content"</span></span><br><span class="line">        android:text=<span class="string">"Hello World,ActivityLifeCycleActivity!"</span></span><br><span class="line">        app:layout_constraintBottom_toBottomOf=<span class="string">"parent"</span></span><br><span class="line">        app:layout_constraintHorizontal_bias=<span class="string">"0.0"</span></span><br><span class="line">        app:layout_constraintLeft_toLeftOf=<span class="string">"parent"</span></span><br><span class="line">        app:layout_constraintRight_toRightOf=<span class="string">"parent"</span></span><br><span class="line">        app:layout_constraintTop_toTopOf=<span class="string">"parent"</span></span><br><span class="line">        app:layout_constraintVertical_bias=<span class="string">"0.0"</span> /&gt;</span><br><span class="line"></span><br><span class="line">    &lt;Button</span><br><span class="line">        android:id=<span class="string">"@+id/btn_finish"</span></span><br><span class="line">        android:layout_width=<span class="string">"wrap_content"</span></span><br><span class="line">        android:layout_height=<span class="string">"wrap_content"</span></span><br><span class="line">        android:text=<span class="string">"结束程序"</span></span><br><span class="line">        tools:layout_editor_absoluteX=<span class="string">"0dp"</span></span><br><span class="line">        tools:layout_editor_absoluteY=<span class="string">"37dp"</span> /&gt;</span><br><span class="line">&lt;/android.support.constraint.ConstraintLayout&gt;</span><br></pre></td></tr></table></figure><p><img src="https://s2.ax1x.com/2019/10/30/K5Mmi6.png" alt="K5Mmi6.png"></p><p>运行后出现onStart，onResume，onPause结束出现onStop,onDestroy</p><blockquote style="margin: 2em 0 0;padding: 0.5em 1em;border-left: 3px solid #F44336;background-color: #F5F5F5;list-style: none;"><p> <strong>本文使用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/" target="_blank" rel="noopener">CC BY-NC-SA 3.0 中国大陆</a> 协议许可<br>具体请参见 <a href="https://zyhang8.github.io/agree/" target="_blank" rel="noopener">知识共享协议</a></strong><br> <strong>本文链接：</strong><a href="https://zyhang8.github.io/2019/10/26/android-exp4/" target="_blank" rel="noopener">https://zyhang8.github.io/2019/10/26/android-exp4/</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> android </category>
          
      </categories>
      
      
        <tags>
            
            <tag> android </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>jdk</title>
      <link href="/2019/10/25/jdk/"/>
      <url>/2019/10/25/jdk/</url>
      
        <content type="html"><![CDATA[<h2 id="jdk个人配置"><a href="#jdk个人配置" class="headerlink" title="jdk个人配置"></a>jdk个人配置</h2><p>由于在安装jboss7.1.1时与jdk1.8不兼容，所以将安装jdk1.7与jdk1.8共存，此文档用于记录各版本的路径</p><h2 id="JAVA-HOME"><a href="#JAVA-HOME" class="headerlink" title="JAVA_HOME"></a>JAVA_HOME</h2><p>jdk1.7 L:\software\jdk1.7</p><p>jdk1.8 D:\jdk1.8</p><blockquote style="margin: 2em 0 0;padding: 0.5em 1em;border-left: 3px solid #F44336;background-color: #F5F5F5;list-style: none;"><p> <strong>本文使用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/" target="_blank" rel="noopener">CC BY-NC-SA 3.0 中国大陆</a> 协议许可<br>具体请参见 <a href="https://zyhang8.github.io/agree/" target="_blank" rel="noopener">知识共享协议</a></strong><br> <strong>本文链接：</strong><a href="https://zyhang8.github.io/2019/10/25/jdk/" target="_blank" rel="noopener">https://zyhang8.github.io/2019/10/25/jdk/</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>组件通信</title>
      <link href="/2019/10/24/android-exp3/"/>
      <url>/2019/10/24/android-exp3/</url>
      
        <content type="html"><![CDATA[<h1 id="组件通信"><a href="#组件通信" class="headerlink" title="组件通信"></a>组件通信</h1><h2 id="实验目的"><a href="#实验目的" class="headerlink" title="实验目的"></a>实验目的</h2><p>1.了解Android的意图方法Intent<br>2.了解Android活动程序Activity和意图方法Intent之间的关系</p><h2 id="实验内容"><a href="#实验内容" class="headerlink" title="实验内容"></a>实验内容</h2><p>1.编写程序测试Android活动程序Activity如何进行显示窗体的切换<br>2.使用Intent在Activity之间传递数据</p><h2 id="实验原理"><a href="#实验原理" class="headerlink" title="实验原理"></a>实验原理</h2><p>一般情况Android应用程序是由以下四种组件构造而成的：</p><p>●  活动<br>●  广播接收器<br>●  服务<br>●  内容提供器</p><p>需要注意的是，并不是每个Android应用程序都必须构建这四个组件，有些可能由这些组件的组合而成。<br>活动是最基本的Android应用程序组件，应用程序中，一个活动通常就是一个单独的屏幕。每一个活动都被实现为一个独立的类，并且从活动基类中继承而来，活动类将会显示由视图控件组成的用户接口，并对事件做出响应。大多数的应用是由多屏幕显示组成。<br>在这些组件之间的通讯中，主要是由Intent协助完成的。Intent负责对应用中一次操作的动作、动作涉及数据、附加数据进行描述，Android则根据此Intent的描述，负责找到对应的组件，将 Intent传递给调用的组件，并完成组件的调用。Intent不仅可用于应用程序之间，也可用于应用程序内部的Activity/Service之间的交互。因此，Intent在这里起着一个媒体中介的作用，专门提供组件互相调用的相关信息，实现调用者与被调用者之间的解耦。在SDK中给出了Intent作用的表现形式为：<br>●通过Context.startActivity() 或者Activity.startActivityForResult() 启动一个Activity；<br>●通过 Context.startService() 启动一个服务，或者通过Context.bindService() 和后台服务交互；<br>●通过广播方法（如Context.sendBroadcast(),Context.sendOrderedBroadcast()以及Context.sendStickyBroadcast()）发给broadcast receivers。</p><p>Intent属性的设置，包括以下几点：（以下为XML中定义，当然也可以通过Intent类的方法来获取和设置）<br>(1)Action，也就是要执行的动作。<br>SDK中定义了一些标准的动作，如表3-1所示。当然，也可以自定义动作（自定义的动作在使用时，需要加上包名作为前缀，如”com.example.project.SHOW_COLOR”），并可定义相应的Activity来处理我们的自定义动作。<br>(2)Data，也就是执行动作要操作的数据<br>Android中采用指向数据的一个URI来表示，如在联系人应用中，一个指向某联系人的URI可能为：content://contacts/1。对于不同的动作，其URI数据的类型是不同的（可以设置type属性指定特定类型数据），如ACTION_EDIT指定Data为文件URI，打电话为tel:URI，访问网络为http:URI，而由content provider提供的数据则为content: URIs。</p><p>表3-1 SDK中定义的标准动作<br>Constant|Target component|Action<br>:–:|:–:|:–:<br>ACTION_CALL|activity|Initiate a phone call.<br>ACTION_EDIT|activity|Display data for the user to edit.<br>ACTION_MAIN|activity|Start up as the initial activity of a task, with no data input and no returned output.<br>ACTION_SYNC|activity|Synchronize data on a server with data on the mobile device.<br>ACTION_BATTERY_LOW|broadcast receiver|A warning that the battery is low.<br>ACTION_HEADSET_PLUG|broadcast receiver|A headset has been plugged into the device, or unplugged from it.<br>ACTION_SCREEN_ON|broadcast receiver|The screen has been turned on.<br>ACTION_TIMEZONE_CHANGED|broadcast receiver|The setting for the time zone has changed.<br>(3)type（数据类型），显式指定Intent的数据类型（MIME）。一般Intent的数据类型能够根据数据本身进行判定，但是通过设置这个属性，可以强制采用显式指定的类型而不再进行推导。<br>(4)category（类别），被执行动作的附加信息。例如 LAUNCHER_CATEGORY 表示Intent 的接受者应该在Launcher中作为顶级应用出现；而ALTERNATIVE_CATEGORY表示当前的Intent是一系列的可选动作中的一个，这些动作可以在同一块数据上执行。还有其他的行为如表3-2所示。<br>表3-2 被执行动作的附加信息<br>Constant|Meaning<br>:–:|:–:<br>CATEGORY_BROWSABLE|The target activity can be safely invoked by the browser to display data referenced by a link — for example, an image or an e-mail message.<br>CATEGORY_GADGET|The activity can be embedded inside of another activity that hosts gadgets.<br>CATEGORY_HOME|The activity displays the home screen, the first screen the user sees when the device is turned on or when the HOME key is pressed.<br>CATEGORY_LAUNCHER|The activity can be the initial activity of a task and is listed in the top-level application launcher.<br>CATEGORY_PREFERENCE|The target activity is a preference panel.<br>(5)component（组件），指定Intent的的目标组件的类名称。通常 Android会根据Intent 中包含的其它属性的信息，比如action、data/type、category进行查找，最终找到一个与之匹配的目标组件。但是，如果 component这个属性有指定的话，将直接使用它指定的组件，而不再执行上述查找过程。指定了这个属性以后，Intent的其它所有属性都是可选的。<br>(6)extras（附加信息），是其它所有附加信息的集合。使用extras可以为组件提供扩展信息，比如，如果要执行“发送电子邮件”这个动作，可以将电子邮件的的标题、正文保存在extras里，传给电子邮件发送组件。</p><p>(7)flags（标记），指示Android如何启动目标Activity，设置方法为调用Intent的setFlags方法。常用的Flags参数有：</p><p>FLAG_ACTIVITY_CLEAR_TOP<br>FLAG_ACTIVITY_NEW_TASK<br>FLAG_ACTIVITY_NO_HISTORY<br>FLAG_ACTIVITY_SINGLE_TOP  </p><p>(a)Intent-Filter的定义中一些属性设置的例子<br><action android:name="com.example.project.SHOW_CURRENT"><br><category android:name="android.intent.category.DEFAULT"><br>&lt;data android:mimeType=”video/mpeg” android:scheme=”http” . . . /&gt;<br><data android:mimetype="image/*"><br><data android:scheme="http" android:type="video/*"><br>(b)Intent用法实例<br>①无参数Activity跳转<br>Intent it = new Intent(Activity.Main.this, Activity2.class);<br>startActivity(it);<br>②向下一个Activity传递数据（使用Bundle和Intent.putExtras）<br>Intent it = new Intent(Activity.Main.this, Activity2.class);<br>Bundle bundle=new Bundle();<br>bundle.putString(“name”, “This is from MainActivity!”);<br>it.putExtras(bundle);       // it.putExtra(“test”, “shuju”);<br>startActivity(it);            // startActivityForResult(it,REQUEST_CODE);<br>对于数据的获取可以采用：<br>Bundle bundle=getIntent().getExtras();<br>String name=bundle.getString(“name”);<br>(c)向上一个Activity返回结果（使用setResult，针对startActivityForResult(it,REQUEST_CODE)启动的Activity）<br>Intent intent=getIntent();<br>Bundle bundle2=new Bundle();<br>bundle2.putString(“name”, “This is from ShowMsg!”);<br>intent.putExtras(bundle2);<br>setResult(RESULT_OK, intent);<br>(d)回调上一个Activity的结果处理函数（onActivityResult）<br>@Override<br>        protected void onActivityResult(int requestCode, int resultCode, Intent data)     {<br>            // TODO Auto-generated method stub<br>            super.onActivityResult(requestCode, resultCode, data);<br>            if (requestCode==REQUEST_CODE){<br>                if(resultCode==RESULT_CANCELED)<br>                      setTitle(“cancle”);<br>                else if (resultCode==RESULT_OK) {<br>                     String temp=null;<br>                     Bundle bundle=data.getExtras();<br>                     if(bundle!=null)   temp=bundle.getString(“name”);<br>                     setTitle(temp);<br>                }<br>            }<br>        }<br>其他的一些应用实例：<br>1)打电话<br>       a.叫出拨号程序<br>       Uri uri = Uri.parse(“tel:0800000123”);<br>Intent it = new Intent(Intent.ACTION_DIAL, uri);<br>startActivity(it);<br>b.直接打电话出去<br>Uri uri = Uri.parse(“tel:0800000123”);<br>Intent it = new Intent(Intent.ACTION_CALL, uri);<br>startActivity(it);<br>使用这些程序，需要在 AndroidManifest.xml 中，加上<uses-permission android:name="android.permission.CALL_PHONE"><br>传送SMS/MMS<br>a.调用短信程序<br>Intent it = new Intent(Intent.ACTION_VIEW, uri);<br>    it.putExtra(“sms_body”, “The SMS text”);<br>    it.setType(“vnd.android-dir/mms-sms”);<br>    startActivity(it);<br>b.传送消息<br>    Uri uri = Uri.parse(“smsto://0800000123”);<br>    Intent it = new Intent(Intent.ACTION_SENDTO, uri);<br>    it.putExtra(“sms_body”, “The SMS text”);<br>    startActivity(it);<br>c.传送 MMS<br>Uri uri = Uri.parse(“content://media/external/images/media/23”);<br>Intent it = new Intent(Intent.ACTION_SEND);<br>it.putExtra(“sms_body”, “some text”);<br>it.putExtra(Intent.EXTRA_STREAM, uri);<br>it.setType(“image/png”);<br>startActivity(it);<br>实验步骤<br>    新建一个IntentDemo应用程序来演示如何利用Intent类来进行显示窗体间的切换。显示的第一个窗体如图3-1所示。</uses-permission></data></data></category></action></p><p><img src="https://s2.ax1x.com/2019/10/30/K5nXlQ.png" alt="K5nXlQ.png"></p><p>图3-1启动程序后所显示的第一个窗体<br>提示：需要在程序中添加一个新的Activity，可以在项目上右键，选择”New”-&gt;”Other”，然后选择Android文件夹下的“Android Object”，单击”Next”，选择”Empty Activity”</p><p><img src="https://s2.ax1x.com/2019/10/30/K5nvOs.png" alt="K5nvOs.png"></p><p><img src="https://s2.ax1x.com/2019/10/30/K5nzmn.png" alt="K5nzmn.png"></p><p>然后可以设置Activity的属性，单击”Finish”就可以了。系统会自动在AndroidManifest.xml中注册该Activity。</p><p><img src="https://s2.ax1x.com/2019/10/30/K5njyj.png" alt="K5njyj.png"></p><p>点击按钮，启动ActivityNew，此时，通过以下代码向ActivityNew传递数据：<br>//生成一个Intent对象<br>    Intent intent = new Intent();<br>    //在Intent对象当中添加一个键值对<br>    intent.putExtra(“testIntent”, “123”);<br>    //设置Intent对象要启动的Activity<br>    intent.setClass(Activity01.this, ActivityNew.class);<br>    //通过Intent对象启动另外一个Activity<br>Activity01.this.startActivity(intent);<br>ActivityNew启动之后，如图3-2所示，包含一个TextView，用来显示从Activity01传递过来的数据。</p><p><img src="https://s2.ax1x.com/2019/10/30/K5nOSg.png" alt="K5nOSg.png"></p><p>图3-2 从Activity01传递过来的数据<br>点击“发短信”按钮启动发送短信的Activity，如图3-3所示。。<br>    Uri uri = Uri.parse(“smsto: 13912345678”);<br>    Intent intent = new Intent(Intent.ACTION_SENDTO, uri);<br>    intent.putExtra(“sms_body”, “The SMS text”);<br>startActivity(intent);</p><p>提示：按钮需要添加监听器，需要用到前面的知识。类似下面的代码<br>        Button button = (Button)findViewById(R.id.btn);<br>        button.setOnClickListener(new OnClickListener(){<br>            public void onClick(View view){<br>                //todo：添加你需要的代码<br>            }<br>        });</p><p><img src="https://s2.ax1x.com/2019/10/30/K5uSwq.png" alt="K5uSwq.png"></p><p>图3-3 发短信的Activity界面<br>点击发送按钮，系统将会发出短信，如图3-4所示。</p><p><img src="https://s2.ax1x.com/2019/10/30/K5upT0.png" alt="K5upT0.png"></p><p>图3-4 短信发出后的界面</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">ActivityNew</span><br><span class="line"><span class="keyword">package</span> com.example.thinkpad.intentdemo;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.app.Activity;</span><br><span class="line"><span class="keyword">import</span> android.content.Intent;</span><br><span class="line"><span class="keyword">import</span> android.os.Bundle;</span><br><span class="line"><span class="keyword">import</span> android.view.View;</span><br><span class="line"><span class="keyword">import</span> android.view.View.OnClickListener;</span><br><span class="line"><span class="keyword">import</span> android.widget.Button;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ActivityNew</span> <span class="keyword">extends</span> <span class="title">Activity</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">      setContentView(R.layout.activity_new);</span><br><span class="line">      <span class="comment">// 获取应用程序中的bn按钮</span></span><br><span class="line">      Button bn = (Button) findViewById(R.id.bn);</span><br><span class="line">      <span class="comment">// 为bn按钮绑定事件监听器</span></span><br><span class="line">      bn.setOnClickListener(<span class="keyword">new</span> View.OnClickListener()</span><br><span class="line">      &#123;</span><br><span class="line">         <span class="meta">@Override</span></span><br><span class="line">         <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View source)</span></span></span><br><span class="line"><span class="function">         </span>&#123;</span><br><span class="line">            <span class="comment">// 创建需要启动的Activity对应的Intent</span></span><br><span class="line">            Intent intent = <span class="keyword">new</span> Intent(ActivityNew.<span class="keyword">this</span>,</span><br><span class="line">                  SecondActivity.class);</span><br><span class="line">            <span class="comment">// 启动intent对应的Activity</span></span><br><span class="line">            startActivity(intent);</span><br><span class="line">         &#125;</span><br><span class="line">      &#125;);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>SecondActivity</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.thinkpad.intentdemo;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.app.Activity;</span><br><span class="line"><span class="keyword">import</span> android.content.Intent;</span><br><span class="line"><span class="keyword">import</span> android.net.Uri;</span><br><span class="line"><span class="keyword">import</span> android.os.Bundle;</span><br><span class="line"><span class="keyword">import</span> android.telephony.SmsManager;</span><br><span class="line"><span class="keyword">import</span> android.view.View;</span><br><span class="line"><span class="keyword">import</span> android.widget.Button;</span><br><span class="line"><span class="keyword">import</span> android.widget.EditText;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SecondActivity</span> <span class="keyword">extends</span> <span class="title">Activity</span> </span>&#123;</span><br><span class="line">    EditText address;</span><br><span class="line">    EditText content;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">        setContentView(R.layout.activity_second);</span><br><span class="line">        <span class="comment">// 获取页面中收件人地址、短信内容</span></span><br><span class="line">        address = (EditText)findViewById(R.id.address);</span><br><span class="line">        content = (EditText)findViewById(R.id.content);</span><br><span class="line">        Button bn = (Button)findViewById(R.id.send);</span><br><span class="line">        <span class="comment">// 使用外部类的实例作为事件监听器</span></span><br><span class="line">        bn.setOnLongClickListener(<span class="keyword">new</span> org.crazyit.event.third(</span><br><span class="line">                 <span class="keyword">this</span> , address, content));</span><br><span class="line">    <span class="comment">//发短信</span></span><br><span class="line">    Button  button2= (Button) findViewById(R.id.send);</span><br><span class="line">        button2.setOnClickListener(<span class="keyword">new</span> View.OnClickListener() &#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View v)</span> </span>&#123;</span><br><span class="line">            String addressStr = address.getText().toString();</span><br><span class="line">            String contentStr = content.getText().toString();</span><br><span class="line">            Intent intent = <span class="keyword">new</span> Intent();</span><br><span class="line">            intent.setAction(Intent.ACTION_SENDTO);</span><br><span class="line">            intent.setData(Uri.parse(<span class="string">"smsto:"</span>+addressStr));</span><br><span class="line">            intent.putExtra(<span class="string">"sms_body"</span>,contentStr);</span><br><span class="line">            startActivity(intent);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>third</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.crazyit.event;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.app.Activity;</span><br><span class="line"><span class="keyword">import</span> android.app.PendingIntent;</span><br><span class="line"><span class="keyword">import</span> android.content.Intent;</span><br><span class="line"><span class="keyword">import</span> android.telephony.SmsManager;</span><br><span class="line"><span class="keyword">import</span> android.view.View;</span><br><span class="line"><span class="keyword">import</span> android.view.View.OnLongClickListener;</span><br><span class="line"><span class="keyword">import</span> android.widget.EditText;</span><br><span class="line"><span class="keyword">import</span> android.widget.Toast;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">third</span> <span class="keyword">implements</span> <span class="title">OnLongClickListener</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Activity act;</span><br><span class="line">    <span class="keyword">private</span> EditText address;</span><br><span class="line">    <span class="keyword">private</span> EditText content;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">third</span><span class="params">(Activity act, EditText address</span></span></span><br><span class="line"><span class="function"><span class="params">            , EditText content)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.act = act;</span><br><span class="line">        <span class="keyword">this</span>.address = address;</span><br><span class="line">        <span class="keyword">this</span>.content = content;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">onLongClick</span><span class="params">(View source)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        String addressStr = address.getText().toString();</span><br><span class="line">        String contentStr = content.getText().toString();</span><br><span class="line">        <span class="comment">// 获取短信管理器</span></span><br><span class="line">        SmsManager smsManager = SmsManager.getDefault();</span><br><span class="line">        <span class="comment">// 创建发送短信的PendingIntent</span></span><br><span class="line">        PendingIntent sentIntent = PendingIntent.getBroadcast(act</span><br><span class="line">                , <span class="number">0</span>, <span class="keyword">new</span> Intent(), <span class="number">0</span>);</span><br><span class="line">        <span class="comment">// 发送文本短信</span></span><br><span class="line">        smsManager.sendTextMessage(addressStr, <span class="keyword">null</span>, contentStr</span><br><span class="line">                , sentIntent, <span class="keyword">null</span>);</span><br><span class="line">        Toast.makeText(act, <span class="string">"短信发送完成"</span>, Toast.LENGTH_LONG).show();</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>layout<br>activity_new.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">LinearLayout</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:orientation</span>=<span class="string">"vertical"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">"@+id/bn"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:text</span>=<span class="string">"启动第二个Activity"</span></span></span><br><span class="line"><span class="tag">        /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br><span class="line">activity_second.xml</span><br><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">LinearLayout</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:orientation</span>=<span class="string">"vertical"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">"@+id/bn"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:text</span>=<span class="string">"启动第二个Activity"</span></span></span><br><span class="line"><span class="tag">        /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br></pre></td></tr></table></figure><p><img src="https://s2.ax1x.com/2019/10/30/K5uCkV.png" alt="K5uCkV.png"></p><p><img src="https://s2.ax1x.com/2019/10/30/K5uPYT.png" alt="K5uPYT.png"></p><p><img src="https://s2.ax1x.com/2019/10/30/K5uifU.png" alt="K5uifU.png"></p><p><img src="https://s2.ax1x.com/2019/10/30/K5ukpF.png" alt="K5ukpF.png"></p><p>点击启动第二个Activity启动SecongActivity，第一行填写短信号码，第二行填写短信内容，点击发送后，跳转到系统短信界面，并且自动填写之前输入的短信号码和短信内容</p><blockquote style="margin: 2em 0 0;padding: 0.5em 1em;border-left: 3px solid #F44336;background-color: #F5F5F5;list-style: none;"><p> <strong>本文使用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/" target="_blank" rel="noopener">CC BY-NC-SA 3.0 中国大陆</a> 协议许可<br>具体请参见 <a href="https://zyhang8.github.io/agree/" target="_blank" rel="noopener">知识共享协议</a></strong><br> <strong>本文链接：</strong><a href="https://zyhang8.github.io/2019/10/24/android-exp3/" target="_blank" rel="noopener">https://zyhang8.github.io/2019/10/24/android-exp3/</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> android </category>
          
      </categories>
      
      
        <tags>
            
            <tag> android </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Android用户界面</title>
      <link href="/2019/10/23/android-exp2/"/>
      <url>/2019/10/23/android-exp2/</url>
      
        <content type="html"><![CDATA[<h1 id="Android用户界面"><a href="#Android用户界面" class="headerlink" title="Android用户界面"></a>Android用户界面</h1><h2 id="实验目的"><a href="#实验目的" class="headerlink" title="实验目的"></a>实验目的</h2><p>1.掌握Android常用控件的使用方法和基本属性。<br>2.掌握控件的常用事件处理函数的编写方法。<br>3.掌握Android常用布局的常用属性。<br>4.掌握线性布局、表格布局和相对布局的使用方法。</p><h2 id="实验内容"><a href="#实验内容" class="headerlink" title="实验内容"></a>实验内容</h2><pre><code>☆测试Android应用程序中常用控件的使用方法和掌握界面布局的方法</code></pre><p>实验步骤<br>1.创建一个Android应用<br>2.在界面上拖放对应的控件<br>3.根据实验资料的提示修改xml文件和java源文件<br>4.修改界面的布局，查看效果（至少使用两种以上布局实现同样的界面效果）。<br>5.运行程序，查看效果</p><p>要求：每人至少完成5种控件的使用、两种以上布局的使用。</p><p>提示：建议先从简单的控件做起，然后逐步过渡到复杂控件，可创建多个应用</p><blockquote><p>以下内容为本人在阅读《疯狂Android讲义》所写的文档，包含各种基础的布局和控件，并且对于其实中的代码进行阅读理解并做出相应的修改，把代码思路以及对某个布局和控件所做出的总结归纳。</p></blockquote><h2 id="布局"><a href="#布局" class="headerlink" title="布局"></a>布局</h2><h3 id="线性-LinerLayout-布局"><a href="#线性-LinerLayout-布局" class="headerlink" title="线性(LinerLayout)布局"></a>线性(LinerLayout)布局</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">LinearLayout</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:orientation</span>=<span class="string">"vertical"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:gravity</span>= <span class="string">"right|center_vertical"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">   <span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:id</span>=<span class="string">"@+id/bn1"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:text</span>=<span class="string">"@string/bn1"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">   <span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:id</span>=<span class="string">"@+id/bn2"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:text</span>=<span class="string">"@string/bn2"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">   <span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:id</span>=<span class="string">"@+id/bn3"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:text</span>=<span class="string">"@string/bn3"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">   <span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:id</span>=<span class="string">"@+id/bn4"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:text</span>=<span class="string">"@string/bn4"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">   <span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:id</span>=<span class="string">"@+id/bn5"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:text</span>=<span class="string">"@string/bn5"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br></pre></td></tr></table></figure><p><img src="https://s2.ax1x.com/2019/10/30/K4vdYV.png" alt="K4vdYV.png"></p><p>设置参数android:gravity=”right|center_vertical”水平左对齐、垂直居中</p><h3 id="表格-TableLayout-布局"><a href="#表格-TableLayout-布局" class="headerlink" title="表格(TableLayout)布局"></a>表格(TableLayout)布局</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">LinearLayout</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:orientation</span>=<span class="string">"vertical"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">TableLayout</span> <span class="attr">android:id</span>=<span class="string">"@+id/TableLayout01"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:shrinkColumns</span>=<span class="string">"1"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:stretchColumns</span>=<span class="string">"2"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">Button</span> <span class="attr">android:id</span>=<span class="string">"@+id/ok1"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:text</span>=<span class="string">"独自一行的按钮"</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">TableRow</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">Button</span> <span class="attr">android:id</span>=<span class="string">"@+id/ok2"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:text</span>=<span class="string">"普通按钮"</span>/&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">Button</span> <span class="attr">android:id</span>=<span class="string">"@+id/ok3"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:text</span>=<span class="string">"收缩的按钮"</span>/&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">Button</span> <span class="attr">android:id</span>=<span class="string">"@+id/ok4"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:text</span>=<span class="string">"拉伸的按钮"</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">TableRow</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">TableLayout</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">TableLayout</span> <span class="attr">android:id</span>=<span class="string">"@+id/TableLayout02"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:collapseColumns</span>=<span class="string">"1"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">Button</span> <span class="attr">android:id</span>=<span class="string">"@+id/ok5"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:text</span>=<span class="string">"独自一行的按钮"</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">TableRow</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">Button</span> <span class="attr">android:id</span>=<span class="string">"@+id/ok6"</span></span></span><br><span class="line"><span class="tag">               <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">               <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">               <span class="attr">android:text</span>=<span class="string">"普通按钮1"</span>/&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">Button</span> <span class="attr">android:id</span>=<span class="string">"@+id/ok7"</span></span></span><br><span class="line"><span class="tag">               <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">               <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">               <span class="attr">android:text</span>=<span class="string">"普通按钮2"</span>/&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">Button</span> <span class="attr">android:id</span>=<span class="string">"@+id/ok8"</span></span></span><br><span class="line"><span class="tag">               <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">               <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">               <span class="attr">android:text</span>=<span class="string">"普通按钮3"</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">TableRow</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">TableLayout</span>&gt;</span></span><br><span class="line">   <span class="comment">&lt;!-- 定义第3个表格布局，指定第2列和第3列可以被拉伸--&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">TableLayout</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:id</span>=<span class="string">"@+id/TableLayout03"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:stretchColumns</span>=<span class="string">"1,2"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:id</span>=<span class="string">"@+id/ok9"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:text</span>=<span class="string">"独自一行的按钮"</span></span></span><br><span class="line"><span class="tag">         /&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">TableRow</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:id</span>=<span class="string">"@+id/ok10"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:text</span>=<span class="string">"普通按钮"</span></span></span><br><span class="line"><span class="tag">         /&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:id</span>=<span class="string">"@+id/ok11"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:text</span>=<span class="string">"拉伸的按钮"</span></span></span><br><span class="line"><span class="tag">         /&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:id</span>=<span class="string">"@+id/ok12"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:text</span>=<span class="string">"拉伸的按钮"</span></span></span><br><span class="line"><span class="tag">         /&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">TableRow</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">TableRow</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:id</span>=<span class="string">"@+id/ok13"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:text</span>=<span class="string">"普通按钮"</span></span></span><br><span class="line"><span class="tag">            /&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:id</span>=<span class="string">"@+id/ok14"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:text</span>=<span class="string">"拉伸的按钮"</span></span></span><br><span class="line"><span class="tag">            /&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">TableRow</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">TableLayout</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br></pre></td></tr></table></figure><p><img src="https://s2.ax1x.com/2019/10/30/K4vwWT.png" alt="K4vwWT.png"></p><p>直接添加TableRow占用一行第二表格中间的按钮只对指定的按钮设置collapseColumns=‘1’，进行隐藏。</p><h3 id="帧-FrameLayout-布局"><a href="#帧-FrameLayout-布局" class="headerlink" title="帧(FrameLayout)布局"></a>帧(FrameLayout)布局</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">FrameLayout</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">          <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">          <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span>&gt;</span>&gt;</span><br><span class="line">   <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:id</span>=<span class="string">"@+id/view01"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_gravity</span>=<span class="string">"center"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:width</span>=<span class="string">"160pt"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:height</span>=<span class="string">"160pt"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:background</span>=<span class="string">"#f00"</span>/&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:id</span>=<span class="string">"@+id/view02"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_gravity</span>=<span class="string">"center"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:width</span>=<span class="string">"140pt"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:height</span>=<span class="string">"140pt"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:background</span>=<span class="string">"#0f0"</span>/&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:id</span>=<span class="string">"@+id/view03"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_gravity</span>=<span class="string">"center"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:width</span>=<span class="string">"120pt"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:height</span>=<span class="string">"120pt"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:background</span>=<span class="string">"#00f"</span>/&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:id</span>=<span class="string">"@+id/view04"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_gravity</span>=<span class="string">"center"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:width</span>=<span class="string">"100pt"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:height</span>=<span class="string">"100pt"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:background</span>=<span class="string">"#ff0"</span>/&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:id</span>=<span class="string">"@+id/view05"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_gravity</span>=<span class="string">"center"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:width</span>=<span class="string">"80pt"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:height</span>=<span class="string">"80pt"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:background</span>=<span class="string">"#f0f"</span>/&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:id</span>=<span class="string">"@+id/view06"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_gravity</span>=<span class="string">"center"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:width</span>=<span class="string">"60pt"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:height</span>=<span class="string">"60pt"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:background</span>=<span class="string">"#0ff"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">FrameLayout</span>&gt;</span></span><br></pre></td></tr></table></figure><p><img src="https://s2.ax1x.com/2019/10/30/K4vaF0.png" alt="K4vaF0.png"></p><p>使用每0.2秒更换一次任务，每一种颜色设置其对应的pt参数</p><h3 id="相对-RelativeLayout-布局"><a href="#相对-RelativeLayout-布局" class="headerlink" title="相对(RelativeLayout)布局"></a>相对(RelativeLayout)布局</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">RelativeLayout</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span>&gt;</span></span><br><span class="line">   <span class="comment">&lt;!-- 定义该组件位于父容器中间 --&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:id</span>=<span class="string">"@+id/view01"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:background</span>=<span class="string">"@drawable/leaf"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_centerInParent</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:id</span>=<span class="string">"@+id/view02"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:background</span>=<span class="string">"@drawable/leaf"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_above</span>=<span class="string">"@id/view01"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_alignLeft</span>=<span class="string">"@id/view01"</span>/&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:id</span>=<span class="string">"@+id/view03"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:background</span>=<span class="string">"@drawable/leaf"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_below</span>=<span class="string">"@id/view01"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_alignLeft</span>=<span class="string">"@id/view01"</span>/&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:id</span>=<span class="string">"@+id/view04"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:background</span>=<span class="string">"@drawable/leaf"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_toLeftOf</span>=<span class="string">"@id/view01"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_alignTop</span>=<span class="string">"@id/view01"</span>/&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:id</span>=<span class="string">"@+id/view05"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:background</span>=<span class="string">"@drawable/leaf"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_toRightOf</span>=<span class="string">"@id/view01"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_alignTop</span>=<span class="string">"@id/view01"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">RelativeLayout</span>&gt;</span></span><br></pre></td></tr></table></figure><p><img src="https://s2.ax1x.com/2019/10/30/K4vDlF.png" alt="K4vDlF.png"></p><p>使用android:layout_xxx控制图片组件的相对位置</p><h3 id="网格-GridLayout-布局"><a href="#网格-GridLayout-布局" class="headerlink" title="网格(GridLayout)布局"></a>网格(GridLayout)布局</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8" ?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">GridLayout</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:rowCount</span>=<span class="string">"6"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:columnCount</span>=<span class="string">"4"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:id</span>=<span class="string">"@+id/root"</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_columnSpan</span>=<span class="string">"4"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:textSize</span>=<span class="string">"50sp"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_marginLeft</span>=<span class="string">"2pt"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_marginRight</span>=<span class="string">"2pt"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:padding</span>=<span class="string">"3pt"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_gravity</span>=<span class="string">"right"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:background</span>=<span class="string">"#eee"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:textColor</span>=<span class="string">"#000"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:text</span>=<span class="string">"0"</span>/&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_columnSpan</span>=<span class="string">"4"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:text</span>=<span class="string">"清除"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">GridLayout</span>&gt;</span></span><br></pre></td></tr></table></figure><p><img src="https://s2.ax1x.com/2019/10/30/K4vBSU.png" alt="K4vBSU.png"></p><p>定义6*4的组件样式，采用循环向布局添加16个按钮，四其自动填充单元格所有空间</p><p>绝对(AbsoluteLayout)布局</p><p><img src="https://s2.ax1x.com/2019/10/30/K4vry4.png" alt="K4vry4.png"></p><p>使用px,dip,dp,sp,in,mm,pt对坐标进行自定义设置</p><h2 id="控件"><a href="#控件" class="headerlink" title="控件"></a>控件</h2><h3 id="TextView类"><a href="#TextView类" class="headerlink" title="TextView类"></a>TextView类</h3><p>TextView（文本视图）<br>drawable/bg_border.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">shape</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span>&gt;</span></span><br><span class="line">   <span class="comment">&lt;!-- 设置背景色为透明色 --&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">solid</span> <span class="attr">android:color</span>=<span class="string">"#0000"</span>/&gt;</span></span><br><span class="line">   <span class="comment">&lt;!-- 设置红色边框 --&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">stroke</span> <span class="attr">android:width</span>=<span class="string">"4px"</span> <span class="attr">android:color</span>=<span class="string">"#f00"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">shape</span>&gt;</span></span><br></pre></td></tr></table></figure><p>drawable/bg_border2.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">shape</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:shape</span>=<span class="string">"rectangle"</span>&gt;</span></span><br><span class="line">      <span class="comment">&lt;!-- 指定圆角矩形的4个圆角的半径 --&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">corners</span> <span class="attr">android:topLeftRadius</span>=<span class="string">"20px"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:topRightRadius</span>=<span class="string">"5px"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:bottomRightRadius</span>=<span class="string">"20px"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:bottomLeftRadius</span>=<span class="string">"5px"</span>/&gt;</span></span><br><span class="line">      <span class="comment">&lt;!-- 指定边框线条的宽度和颜色 --&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">stroke</span> <span class="attr">android:width</span>=<span class="string">"4px"</span> <span class="attr">android:color</span>=<span class="string">"#f0f"</span> /&gt;</span></span><br><span class="line">      <span class="comment">&lt;!-- 指定使用渐变背景色，使用sweep类型的渐变</span></span><br><span class="line"><span class="comment">      颜色从红色→绿色→蓝色 --&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">gradient</span> <span class="attr">android:startColor</span>=<span class="string">"#f00"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:centerColor</span>=<span class="string">"#0f0"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:endColor</span>=<span class="string">"#00f"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:type</span>=<span class="string">"sweep"</span>/&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">shape</span>&gt;</span></span><br></pre></td></tr></table></figure><p>layout/main.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">LinearLayout</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">           <span class="attr">android:orientation</span>=<span class="string">"vertical"</span></span></span><br><span class="line"><span class="tag">           <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">           <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">   <span class="comment">&lt;!-- 设置字号为20pt，文本框结尾处绘制图片  --&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:text</span>=<span class="string">"Python"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:textSize</span>=<span class="string">"20pt"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:drawableEnd</span>=<span class="string">"@drawable/ic_launcher"</span>/&gt;</span></span><br><span class="line">   <span class="comment">&lt;!-- 设置中间省略，所有字母大写 --&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:singleLine</span>=<span class="string">"true"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:text</span>=<span class="string">"机器学习网络爬虫数据分析网络编程GUI"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:ellipsize</span>=<span class="string">"middle"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:textAllCaps</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line">   <span class="comment">&lt;!-- 对邮件、电话增加链接 --&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:singleLine</span>=<span class="string">"true"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:text</span>=<span class="string">"Github是https://github.com/zyhang8"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:autoLink</span>=<span class="string">"email|phone"</span>/&gt;</span></span><br><span class="line">   <span class="comment">&lt;!-- 设置文字颜色、大小，并使用阴影 --&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:text</span>=<span class="string">"Redis"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:shadowColor</span>=<span class="string">"#00f"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:shadowDx</span>=<span class="string">"10.0"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:shadowDy</span>=<span class="string">"8.0"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:shadowRadius</span>=<span class="string">"3.0"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:textColor</span>=<span class="string">"#f00"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:textSize</span>=<span class="string">"18pt"</span>/&gt;</span></span><br><span class="line">   <span class="comment">&lt;!-- 测试密码框 --&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">TextView</span> <span class="attr">android:id</span>=<span class="string">"@+id/passwd"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:text</span>=<span class="string">"mima"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:password</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">CheckedTextView</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:text</span>=<span class="string">"可勾选"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:checkMark</span>=<span class="string">"@drawable/ok"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">   <span class="comment">&lt;!-- 通过android:background指定背景 --&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:text</span>=<span class="string">"带边框"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:textSize</span>=<span class="string">"24pt"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:background</span>=<span class="string">"@drawable/bg_border"</span>/&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:text</span>=<span class="string">"圆角边框、渐变背景"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:textSize</span>=<span class="string">"24pt"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:background</span>=<span class="string">"@drawable/bg_border2"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br></pre></td></tr></table></figure><p><img src="https://s2.ax1x.com/2019/10/30/K4vsOJ.png" alt="K4vsOJ.png"></p><p>该案例有设置不用颜色、字体、带链接的文本，阴影通过修改shadow参数，，哦，啊苹果修改password参数，勾选文本通过修改checkMark。带圆角边框的文本、渐变背景通过调用background进行渲染</p><h3 id="EditText-输入框"><a href="#EditText-输入框" class="headerlink" title="EditText(输入框)"></a>EditText(输入框)</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">TableLayout</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:stretchColumns</span>=<span class="string">"1"</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">TableRow</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:text</span>=<span class="string">"用户名:"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:textSize</span>=<span class="string">"16sp"</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">EditText</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:hint</span>=<span class="string">"请填写登录账号"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:selectAllOnFocus</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">TableRow</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">TableRow</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:text</span>=<span class="string">"密码:"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:textSize</span>=<span class="string">"16sp"</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">EditText</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:inputType</span>=<span class="string">"numberPassword"</span>/&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">TableRow</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">TableRow</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:text</span>=<span class="string">"年龄："</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:textSize</span>=<span class="string">"16sp"</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">EditText</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:inputType</span>=<span class="string">"number"</span>/&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">TableRow</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">TableRow</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:text</span>=<span class="string">"生日："</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:textSize</span>=<span class="string">"16sp"</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">EditText</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:inputType</span>=<span class="string">"date"</span>/&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">TableRow</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">TableRow</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:text</span>=<span class="string">"电话号码:"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:textSize</span>=<span class="string">"16sp"</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">EditText</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:hint</span>=<span class="string">"请填写您的电话号码"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:selectAllOnFocus</span>=<span class="string">"true"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:inputType</span>=<span class="string">"phone"</span>/&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">TableRow</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:text</span>=<span class="string">"注册"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">TableLayout</span>&gt;</span></span><br></pre></td></tr></table></figure><p><img src="https://s2.ax1x.com/2019/10/30/K4v6m9.png" alt="K4v6m9.png"></p><p>通过hint参数指定文本框的提示信息，inputType参数设置各种格式使该文本框只接受某种格式的填写，比如密码只能数字密码，电话只能数字，用户名可以任意字符</p><h3 id="Button（按钮）"><a href="#Button（按钮）" class="headerlink" title="Button（按钮）"></a>Button（按钮）</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">LinearLayout</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:orientation</span>=<span class="string">"vertical"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span>&gt;</span></span><br><span class="line">   <span class="comment">&lt;!-- 文字带阴影的按钮 --&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:text</span>=<span class="string">"文字带阴影"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:textSize</span>=<span class="string">"12pt"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:shadowColor</span>=<span class="string">"#aa5"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:shadowRadius</span>=<span class="string">"1"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:shadowDx</span>=<span class="string">"5"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:shadowDy</span>=<span class="string">"5"</span>/&gt;</span></span><br><span class="line">   <span class="comment">&lt;!-- 普通文字按钮 --&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:background</span>=<span class="string">"@drawable/red"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:text</span>=<span class="string">"普通按钮"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:textSize</span>=<span class="string">"10pt"</span>/&gt;</span></span><br><span class="line">   <span class="comment">&lt;!-- 带文字的图片按钮--&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:background</span>=<span class="string">"@drawable/button_selector"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:textSize</span>=<span class="string">"11px"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:text</span>=<span class="string">"带图片按钮"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br></pre></td></tr></table></figure><p><img src="https://s2.ax1x.com/2019/10/30/K4vcwR.png" alt="K4vcwR.png"></p><p>通过指定background属性为按钮增加背景颜色或背景图片吗</p><h3 id="RadioButton（单选钮）-amp-CheckBox（复选框）"><a href="#RadioButton（单选钮）-amp-CheckBox（复选框）" class="headerlink" title="RadioButton（单选钮）&amp;CheckBox（复选框）"></a>RadioButton（单选钮）&amp;CheckBox（复选框）</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.crazyit.ui;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.app.Activity;</span><br><span class="line"><span class="keyword">import</span> android.os.Bundle;</span><br><span class="line"><span class="keyword">import</span> android.view.Menu;</span><br><span class="line"><span class="keyword">import</span> android.view.MenuItem;</span><br><span class="line"><span class="keyword">import</span> android.widget.RadioGroup;</span><br><span class="line"><span class="keyword">import</span> android.widget.TextView;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">Activity</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">   RadioGroup rg;</span><br><span class="line">   TextView show;</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">      setContentView(R.layout.main);</span><br><span class="line">      <span class="comment">// 获取界面上rg、show两个组件</span></span><br><span class="line">      rg = (RadioGroup) findViewById(R.id.rg);</span><br><span class="line">      show = (TextView) findViewById(R.id.show);</span><br><span class="line">      <span class="comment">// 为RadioGroup组件的OnCheckedChange事件绑定事件监听器</span></span><br><span class="line">      rg.setOnCheckedChangeListener(<span class="keyword">new</span> RadioGroup.OnCheckedChangeListener()</span><br><span class="line">      &#123;</span><br><span class="line">         <span class="meta">@Override</span></span><br><span class="line">         <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCheckedChanged</span><span class="params">(RadioGroup group, <span class="keyword">int</span> checkedId)</span></span></span><br><span class="line"><span class="function">         </span>&#123;</span><br><span class="line">            <span class="comment">// 根据用户勾选的单选按钮来动态改变tip字符串的值</span></span><br><span class="line">            String tip = checkedId == R.id.male ?</span><br><span class="line">                  <span class="string">"您的性别是男人"</span>: <span class="string">"您的性别是女人"</span>;</span><br><span class="line">            <span class="comment">// 修改show组件中的文本</span></span><br><span class="line">            show.setText(tip);</span><br><span class="line">         &#125;</span><br><span class="line">      &#125;);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">TableLayout</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">TableRow</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:text</span>=<span class="string">"性别:"</span>/&gt;</span></span><br><span class="line">      <span class="comment">&lt;!-- 定义一组单选按钮 --&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">RadioGroup</span> <span class="attr">android:id</span>=<span class="string">"@+id/rg"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:orientation</span>=<span class="string">"horizontal"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_gravity</span>=<span class="string">"center_horizontal"</span>&gt;</span></span><br><span class="line">         <span class="comment">&lt;!-- 定义两个单选按钮 --&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">RadioButton</span> <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">                   <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">                   <span class="attr">android:id</span>=<span class="string">"@+id/male"</span></span></span><br><span class="line"><span class="tag">                   <span class="attr">android:text</span>=<span class="string">"男"</span></span></span><br><span class="line"><span class="tag">                   <span class="attr">android:checked</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">RadioButton</span> <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">                   <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">                   <span class="attr">android:id</span>=<span class="string">"@+id/female"</span></span></span><br><span class="line"><span class="tag">                   <span class="attr">android:text</span>=<span class="string">"女"</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">RadioGroup</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">TableRow</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">TableRow</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:text</span>=<span class="string">"喜欢的颜色:"</span>/&gt;</span></span><br><span class="line">      <span class="comment">&lt;!-- 定义一个垂直的线性布局 --&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">LinearLayout</span> <span class="attr">android:layout_gravity</span>=<span class="string">"center_horizontal"</span></span></span><br><span class="line"><span class="tag">                 <span class="attr">android:orientation</span>=<span class="string">"vertical"</span></span></span><br><span class="line"><span class="tag">                 <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">                 <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span>&gt;</span></span><br><span class="line">         <span class="comment">&lt;!-- 定义三个复选框 --&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">CheckBox</span> <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">                 <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">                 <span class="attr">android:text</span>=<span class="string">"红色"</span></span></span><br><span class="line"><span class="tag">                 <span class="attr">android:checked</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">CheckBox</span> <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">                 <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">                 <span class="attr">android:text</span>=<span class="string">"蓝色"</span>/&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">CheckBox</span> <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">                 <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">                 <span class="attr">android:text</span>=<span class="string">"绿色"</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">TableRow</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:id</span>=<span class="string">"@+id/show"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">TableLayout</span>&gt;</span></span><br></pre></td></tr></table></figure><p><img src="https://s2.ax1x.com/2019/10/30/K4v5lD.png" alt="K4v5lD.png"></p><p>通过定义单选钮，并默认勾选第一个单选钮，定义三个复选钮供用户选择喜欢的颜色。另外，设置时间监听器监听单选钮勾选状态的改变</p><h3 id="ToggleButton（开关按钮）-amp-Switch（开关）"><a href="#ToggleButton（开关按钮）-amp-Switch（开关）" class="headerlink" title="ToggleButton（开关按钮）&amp;Switch（开关）"></a>ToggleButton（开关按钮）&amp;Switch（开关）</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">LinearLayout</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:orientation</span>=<span class="string">"vertical"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span>&gt;</span></span><br><span class="line">   <span class="comment">&lt;!-- 定义一个ToggleButton按钮 --&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">ToggleButton</span> <span class="attr">android:id</span>=<span class="string">"@+id/toggle"</span></span></span><br><span class="line"><span class="tag">              <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">              <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">              <span class="attr">android:textOff</span>=<span class="string">"横向"</span></span></span><br><span class="line"><span class="tag">              <span class="attr">android:textOn</span>=<span class="string">"纵向"</span></span></span><br><span class="line"><span class="tag">              <span class="attr">android:checked</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">Switch</span> <span class="attr">android:id</span>=<span class="string">"@+id/switcher"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:textOff</span>=<span class="string">"横向"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:textOn</span>=<span class="string">"纵向"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:thumb</span>=<span class="string">"@drawable/check"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:checked</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line">   <span class="comment">&lt;!-- 定义一个可以动态改变方向的线性布局 --&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">LinearLayout</span> <span class="attr">android:id</span>=<span class="string">"@+id/test"</span></span></span><br><span class="line"><span class="tag">              <span class="attr">android:orientation</span>=<span class="string">"vertical"</span></span></span><br><span class="line"><span class="tag">              <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">              <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:text</span>=<span class="string">"一"</span></span></span><br><span class="line"><span class="tag">         /&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:text</span>=<span class="string">"二"</span></span></span><br><span class="line"><span class="tag">         /&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:text</span>=<span class="string">"三"</span></span></span><br><span class="line"><span class="tag">         /&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.crazyit.ui;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.app.Activity;</span><br><span class="line"><span class="keyword">import</span> android.os.Bundle;</span><br><span class="line"><span class="keyword">import</span> android.view.Menu;</span><br><span class="line"><span class="keyword">import</span> android.view.MenuItem;</span><br><span class="line"><span class="keyword">import</span> android.widget.CompoundButton;</span><br><span class="line"><span class="keyword">import</span> android.widget.CompoundButton.OnCheckedChangeListener;</span><br><span class="line"><span class="keyword">import</span> android.widget.LinearLayout;</span><br><span class="line"><span class="keyword">import</span> android.widget.Switch;</span><br><span class="line"><span class="keyword">import</span> android.widget.ToggleButton;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">Activity</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">   ToggleButton toggle;</span><br><span class="line">   Switch switcher;</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">      setContentView(R.layout.main);</span><br><span class="line">      toggle = (ToggleButton)findViewById(R.id.toggle);</span><br><span class="line">      switcher = (Switch)findViewById(R.id.switcher);</span><br><span class="line">      <span class="keyword">final</span> LinearLayout test = (LinearLayout)findViewById(R.id.test);</span><br><span class="line">      OnCheckedChangeListener listener = <span class="keyword">new</span> OnCheckedChangeListener()</span><br><span class="line">      &#123;</span><br><span class="line">         <span class="meta">@Override</span></span><br><span class="line">         <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCheckedChanged</span><span class="params">(CompoundButton button</span></span></span><br><span class="line"><span class="function"><span class="params">            , <span class="keyword">boolean</span> isChecked)</span></span></span><br><span class="line"><span class="function">         </span>&#123;</span><br><span class="line">            <span class="keyword">if</span>(isChecked)</span><br><span class="line">            &#123;</span><br><span class="line">               <span class="comment">// 设置LinearLayout垂直布局</span></span><br><span class="line">               test.setOrientation(<span class="number">1</span>);</span><br><span class="line">               toggle.setChecked(<span class="keyword">true</span>);</span><br><span class="line">               switcher.setChecked(<span class="keyword">true</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">               <span class="comment">// 设置LinearLayout水平布局</span></span><br><span class="line">               test.setOrientation(<span class="number">0</span>);</span><br><span class="line">               toggle.setChecked(<span class="keyword">false</span>);</span><br><span class="line">               switcher.setChecked(<span class="keyword">false</span>);</span><br><span class="line">            &#125;</span><br><span class="line">         &#125;</span><br><span class="line">      &#125;;</span><br><span class="line">      toggle.setOnCheckedChangeListener(listener);</span><br><span class="line">      switcher.setOnCheckedChangeListener(listener);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://s2.ax1x.com/2019/10/30/K4vgT1.png" alt="K4vgT1.png"></p><p><img src="https://s2.ax1x.com/2019/10/30/K4vRFx.png" alt="K4vRFx.png"><br>默认采用垂直方向的线性布局，通过ToggleButton按钮，Switch按钮绑定监听器，选中状态改变是，布局方向随之改变</p><h3 id="AnalogClock和TextClock（时钟）"><a href="#AnalogClock和TextClock（时钟）" class="headerlink" title="AnalogClock和TextClock（时钟）"></a>AnalogClock和TextClock（时钟）</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">LinearLayout</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:orientation</span>=<span class="string">"vertical"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:gravity</span>=<span class="string">"center_horizontal"</span>&gt;</span></span><br><span class="line">   <span class="comment">&lt;!-- 定义模拟时钟 --&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">AnalogClock</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span>/&gt;</span></span><br><span class="line">   <span class="comment">&lt;!-- 定义数字时钟 --&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">TextClock</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:textSize</span>=<span class="string">"10pt"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:textColor</span>=<span class="string">"#f0f"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:format12Hour</span>=<span class="string">"yyyy年MM月dd日 H:mma EEEE"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:drawableEnd</span>=<span class="string">"@drawable/ic_launcher"</span>/&gt;</span></span><br><span class="line">   <span class="comment">&lt;!-- 定义模拟时钟，并使用自定义表盘、时针图片 --&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">AnalogClock</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:dial</span>=<span class="string">"@drawable/watch"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:hand_minute</span>=<span class="string">"@drawable/hand"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br></pre></td></tr></table></figure><p><img src="https://s2.ax1x.com/2019/10/30/K4vWY6.png" alt="K4vWY6.png"></p><p>使用Activity显示界面布局，通过textSize,textColor等属性进行控制文本样式</p><h3 id="Chronometer（计时器）"><a href="#Chronometer（计时器）" class="headerlink" title="Chronometer（计时器）"></a>Chronometer（计时器）</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">LinearLayout</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:orientation</span>=<span class="string">"vertical"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:gravity</span>=<span class="string">"center_horizontal"</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">Chronometer</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:id</span>=<span class="string">"@+id/test"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:textSize</span>=<span class="string">"12pt"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:textColor</span>=<span class="string">"#ffff0000"</span>/&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:id</span>=<span class="string">"@+id/start"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:text</span>=<span class="string">"启动"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br></pre></td></tr></table></figure><p><img src="https://s2.ax1x.com/2019/10/30/K4vffK.png" alt="K4vffK.png"></p><p><img src="https://s2.ax1x.com/2019/10/30/K4v4SO.png" alt="K4v4SO.png"></p><p>使用format属性用于指定计时器的几十个时，绑定时间监听器，但计时器改变是触发该监听器</p><h3 id="mageView类"><a href="#mageView类" class="headerlink" title="mageView类"></a>mageView类</h3><h3 id="ImageView（图片视图）"><a href="#ImageView（图片视图）" class="headerlink" title="ImageView（图片视图）"></a>ImageView（图片视图）</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">LinearLayout</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:orientation</span>=<span class="string">"vertical"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">LinearLayout</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:orientation</span>=<span class="string">"horizontal"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:gravity</span>=<span class="string">"center"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">Button</span> <span class="attr">android:id</span>=<span class="string">"@+id/plus"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:text</span>=<span class="string">"增大透明度"</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">Button</span> <span class="attr">android:id</span>=<span class="string">"@+id/minus"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:text</span>=<span class="string">"降低透明度"</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">Button</span> <span class="attr">android:id</span>=<span class="string">"@+id/next"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:text</span>=<span class="string">"下一张"</span>/&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br><span class="line">   <span class="comment">&lt;!-- 定义显示图片整体的ImageView --&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">ImageView</span> <span class="attr">android:id</span>=<span class="string">"@+id/image1"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"280dp"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:src</span>=<span class="string">"@drawable/shuangta"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:scaleType</span>=<span class="string">"fitCenter"</span>/&gt;</span></span><br><span class="line">   <span class="comment">&lt;!-- 定义显示图片局部细节的ImageView --&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">ImageView</span> <span class="attr">android:id</span>=<span class="string">"@+id/image2"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"120dp"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"120dp"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:background</span>=<span class="string">"#00f"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_margin</span>=<span class="string">"10dp"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.crazyit.ui;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.app.Activity;</span><br><span class="line"><span class="keyword">import</span> android.graphics.Bitmap;</span><br><span class="line"><span class="keyword">import</span> android.graphics.drawable.BitmapDrawable;</span><br><span class="line"><span class="keyword">import</span> android.os.Bundle;</span><br><span class="line"><span class="keyword">import</span> android.view.MotionEvent;</span><br><span class="line"><span class="keyword">import</span> android.view.View;</span><br><span class="line"><span class="keyword">import</span> android.widget.Button;</span><br><span class="line"><span class="keyword">import</span> android.widget.ImageView;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">Activity</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">   <span class="comment">// 定义一个访问图片的数组</span></span><br><span class="line">   <span class="keyword">int</span>[] images = <span class="keyword">new</span> <span class="keyword">int</span>[]&#123;</span><br><span class="line">         R.drawable.lijiang,</span><br><span class="line">         R.drawable.qiao,</span><br><span class="line">         R.drawable.shuangta,</span><br><span class="line">         R.drawable.shui,</span><br><span class="line">         R.drawable.xiangbi,</span><br><span class="line">   &#125;;</span><br><span class="line">   <span class="comment">// 定义默认显示的图片</span></span><br><span class="line">   <span class="keyword">int</span> currentImg = <span class="number">2</span>;</span><br><span class="line">   <span class="comment">// 定义图片的初始透明度</span></span><br><span class="line">   <span class="keyword">private</span> <span class="keyword">int</span> alpha = <span class="number">255</span>;</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">      setContentView(R.layout.main);</span><br><span class="line">      <span class="keyword">final</span> Button plus = (Button) findViewById(R.id.plus);</span><br><span class="line">      <span class="keyword">final</span> Button minus = (Button) findViewById(R.id.minus);</span><br><span class="line">      <span class="keyword">final</span> ImageView image1 = (ImageView) findViewById(R.id.image1);</span><br><span class="line">      <span class="keyword">final</span> ImageView image2 = (ImageView) findViewById(R.id.image2);</span><br><span class="line">      <span class="keyword">final</span> Button next = (Button) findViewById(R.id.next);</span><br><span class="line">      <span class="comment">// 定义查看下一张图片的监听器</span></span><br><span class="line">      next.setOnClickListener(<span class="keyword">new</span> View.OnClickListener()</span><br><span class="line">      &#123;</span><br><span class="line">         <span class="meta">@Override</span></span><br><span class="line">         <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View v)</span></span></span><br><span class="line"><span class="function">         </span>&#123;</span><br><span class="line">            <span class="comment">// 控制ImageView显示下一张图片</span></span><br><span class="line">            image1.setImageResource(</span><br><span class="line">                  images[++currentImg % images.length]);</span><br><span class="line">         &#125;</span><br><span class="line">      &#125;);</span><br><span class="line">      <span class="comment">// 定义改变图片透明度的方法</span></span><br><span class="line">      View.OnClickListener listener = <span class="keyword">new</span> View.OnClickListener()</span><br><span class="line">      &#123;</span><br><span class="line">         <span class="meta">@Override</span></span><br><span class="line">         <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View v)</span></span></span><br><span class="line"><span class="function">         </span>&#123;</span><br><span class="line">            <span class="keyword">if</span> (v == plus)</span><br><span class="line">            &#123;</span><br><span class="line">               alpha += <span class="number">20</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (v == minus)</span><br><span class="line">            &#123;</span><br><span class="line">               alpha -= <span class="number">20</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (alpha &gt;= <span class="number">255</span>)</span><br><span class="line">            &#123;</span><br><span class="line">               alpha = <span class="number">255</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (alpha &lt;= <span class="number">0</span>)</span><br><span class="line">            &#123;</span><br><span class="line">               alpha = <span class="number">0</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// 改变图片的透明度</span></span><br><span class="line">            image1.setImageAlpha(alpha);</span><br><span class="line">         &#125;</span><br><span class="line">      &#125;;</span><br><span class="line">      <span class="comment">// 为两个按钮添加监听器</span></span><br><span class="line">      plus.setOnClickListener(listener);</span><br><span class="line">      minus.setOnClickListener(listener);</span><br><span class="line">      image1.setOnTouchListener(<span class="keyword">new</span> View.OnTouchListener()</span><br><span class="line">      &#123;</span><br><span class="line">         <span class="meta">@Override</span></span><br><span class="line">         <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">onTouch</span><span class="params">(View view, MotionEvent event)</span></span></span><br><span class="line"><span class="function">         </span>&#123;</span><br><span class="line">            BitmapDrawable bitmapDrawable = (BitmapDrawable) image1</span><br><span class="line">                  .getDrawable();</span><br><span class="line">            <span class="comment">// 获取第一个图片显示框中的位图</span></span><br><span class="line">            Bitmap bitmap = bitmapDrawable.getBitmap();</span><br><span class="line">            System.out.println(bitmap.getWidth());</span><br><span class="line">            System.out.println(image1.getWidth());</span><br><span class="line">            <span class="comment">// bitmap图片实际大小与第一个ImageView的缩放比例</span></span><br><span class="line">            <span class="keyword">double</span> scale = <span class="number">1.0</span> * bitmap.getHeight() / image1.getHeight();</span><br><span class="line">            <span class="comment">// 获取需要显示的图片的开始点</span></span><br><span class="line">            <span class="keyword">int</span> x = (<span class="keyword">int</span>) (event.getX() * scale);</span><br><span class="line">            <span class="keyword">int</span> y = (<span class="keyword">int</span>) (event.getY() * scale);</span><br><span class="line">            <span class="keyword">if</span> (x + <span class="number">120</span> &gt; bitmap.getWidth())</span><br><span class="line">            &#123;</span><br><span class="line">               x = bitmap.getWidth() - <span class="number">120</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (y + <span class="number">120</span> &gt; bitmap.getHeight())</span><br><span class="line">            &#123;</span><br><span class="line">               y = bitmap.getHeight() - <span class="number">120</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// 显示图片的指定区域</span></span><br><span class="line">            image2.setImageBitmap(Bitmap.createBitmap(bitmap</span><br><span class="line">               , x, y, <span class="number">120</span>, <span class="number">120</span>));</span><br><span class="line">            image2.setImageAlpha(alpha);</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">         &#125;</span><br><span class="line">      &#125;);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://s2.ax1x.com/2019/10/30/K4vI6e.png" alt="K4vI6e.png"></p><p><img src="https://s2.ax1x.com/2019/10/30/K4voOH.png" alt="K4voOH.png"></p><p>使用setImageResource()进行动态修改图片样式，下一张则显示数组下一张图片，通过改变Alpha值来调整图片的透明度。通过Bitmap类来截取位图注定部分，返回行位图。但是运行后只有一片蓝屏，不知道哪里出错了</p><h3 id="ImageButton（图片按钮）"><a href="#ImageButton（图片按钮）" class="headerlink" title="ImageButton（图片按钮）"></a>ImageButton（图片按钮）</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">LinearLayout</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:orientation</span>=<span class="string">"vertical"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span>&gt;</span></span><br><span class="line">   <span class="comment">&lt;!-- 普通图片按钮 --&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">ImageButton</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:src</span>=<span class="string">"@drawable/blue"</span></span></span><br><span class="line"><span class="tag">      /&gt;</span></span><br><span class="line">   <span class="comment">&lt;!-- 按下时显示不同图片的按钮 --&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">ImageButton</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:src</span>=<span class="string">"@drawable/button_selector"</span></span></span><br><span class="line"><span class="tag">      /&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">LinearLayout</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:orientation</span>=<span class="string">"horizontal"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_margin</span>=<span class="string">"10sp"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_gravity</span>=<span class="string">"center_horizontal"</span>&gt;</span></span><br><span class="line">      <span class="comment">&lt;!-- 分别定义2个ZoomButton，并分别似乎用btn_minus和btn_plus图片 --&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">ZoomButton</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:id</span>=<span class="string">"@+id/btn_zoom_down"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:src</span>=<span class="string">"@android:drawable/btn_minus"</span> /&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">ZoomButton</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:id</span>=<span class="string">"@+id/btn_zoom_up"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:src</span>=<span class="string">"@android:drawable/btn_plus"</span> /&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br><span class="line">   <span class="comment">&lt;!-- 定义ZoomControls组件 --&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">ZoomControls</span> <span class="attr">android:id</span>=<span class="string">"@+id/zoomControls1"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_gravity</span>=<span class="string">"center_horizontal"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br></pre></td></tr></table></figure><p><img src="https://s2.ax1x.com/2019/10/30/K4v7md.png" alt="K4v7md.png"></p><p>上面的Button为静态图片，下面的的Button组合了两张图片，点击是切换图片</p><h3 id="QucikContactBadge（图片按钮）"><a href="#QucikContactBadge（图片按钮）" class="headerlink" title="QucikContactBadge（图片按钮）"></a>QucikContactBadge（图片按钮）</h3><p>可以关联到手机中指定的联系人，点击图片会打开相应联系人的联系方式界面</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">LinearLayout</span></span></span><br><span class="line"><span class="tag">   <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">QuickContactBadge</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:id</span>=<span class="string">"@+id/badge"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:src</span>=<span class="string">"@drawable/purple"</span>/&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:textSize</span>=<span class="string">"16dp"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:text</span>=<span class="string">"zyhang"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.crazyit.ui;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.app.Activity;</span><br><span class="line"><span class="keyword">import</span> android.os.Bundle;</span><br><span class="line"><span class="keyword">import</span> android.widget.QuickContactBadge;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">Activity</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">   QuickContactBadge badge;</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">      setContentView(R.layout.main);</span><br><span class="line">      <span class="comment">// 获取QuickContactBadge组件</span></span><br><span class="line">      badge = (QuickContactBadge) findViewById(R.id.badge);</span><br><span class="line">      <span class="comment">// 将QuickContactBadge组件与特定电话号码对应的联系人建立关联</span></span><br><span class="line">      badge.assignContactFromPhone(<span class="string">"18621083837"</span>, <span class="keyword">false</span>);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://s2.ax1x.com/2019/10/30/K4vH0A.png" alt="K4vH0A.png"></p><p><img src="https://s2.ax1x.com/2019/10/30/K4vbTI.png" alt="K4vbTI.png"></p><p><img src="https://s2.ax1x.com/2019/10/30/K4vLkt.png" alt="K4vLkt.png"></p><p>通过QuickContactBadge控件与电话号码联系人建立关联，如果手机有号码则建立关联，没有的话新建号码</p><h3 id="AdapterView类"><a href="#AdapterView类" class="headerlink" title="AdapterView类"></a>AdapterView类</h3><h3 id="ListView（列表视图）-amp-ListActivity"><a href="#ListView（列表视图）-amp-ListActivity" class="headerlink" title="ListView（列表视图）&amp;ListActivity"></a>ListView（列表视图）&amp;ListActivity</h3><p>以垂直的形式显示所有列表项</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">LinearLayout</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:orientation</span>=<span class="string">"vertical"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span>&gt;</span></span><br><span class="line">   <span class="comment">&lt;!-- 直接使用数组资源给出列表项 --&gt;</span></span><br><span class="line">   <span class="comment">&lt;!-- 设置使用红色的分隔条 --&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">ListView</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:entries</span>=<span class="string">"@array/books"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:divider</span>=<span class="string">"#f00"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:dividerHeight</span>=<span class="string">"2px"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:headerDividersEnabled</span>=<span class="string">"false"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">resources</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">string-array</span> <span class="attr">name</span>=<span class="string">"books"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">item</span>&gt;</span>Python自动化运维<span class="tag">&lt;/<span class="name">item</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">item</span>&gt;</span>Python量化投资<span class="tag">&lt;/<span class="name">item</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">item</span>&gt;</span>Pthon数据科学<span class="tag">&lt;/<span class="name">item</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">item</span>&gt;</span>Python数据可视化<span class="tag">&lt;/<span class="name">item</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">string-array</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">resources</span>&gt;</span></span><br></pre></td></tr></table></figure><p><img src="https://s2.ax1x.com/2019/10/30/K4vOtP.png" alt="K4vOtP.png"><br>通过entries指定了列表项数组，通过divider改变列表项之间的分隔条。定义数组资源来使用属性值</p><h3 id="Adapter接口及实现"><a href="#Adapter接口及实现" class="headerlink" title="Adapter接口及实现"></a>Adapter接口及实现</h3><p>Adapter派生了ListAdapter和SpinnerAdapter子接口，一个为AbsListView提供列表项，一个为AbsSpinnner提供列表项</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">LinearLayout</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:orientation</span>=<span class="string">"vertical"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">ListView</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:id</span>=<span class="string">"@+id/myList"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.crazyit.ui;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.app.Activity;</span><br><span class="line"><span class="keyword">import</span> android.graphics.Color;</span><br><span class="line"><span class="keyword">import</span> android.os.Bundle;</span><br><span class="line"><span class="keyword">import</span> android.view.Menu;</span><br><span class="line"><span class="keyword">import</span> android.view.MenuItem;</span><br><span class="line"><span class="keyword">import</span> android.view.View;</span><br><span class="line"><span class="keyword">import</span> android.view.ViewGroup;</span><br><span class="line"><span class="keyword">import</span> android.widget.BaseAdapter;</span><br><span class="line"><span class="keyword">import</span> android.widget.ImageView;</span><br><span class="line"><span class="keyword">import</span> android.widget.LinearLayout;</span><br><span class="line"><span class="keyword">import</span> android.widget.ListView;</span><br><span class="line"><span class="keyword">import</span> android.widget.TextView;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">Activity</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">   ListView myList;</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">      setContentView(R.layout.main);</span><br><span class="line">      myList = (ListView) findViewById(R.id.myList);</span><br><span class="line">      BaseAdapter adapter = <span class="keyword">new</span> BaseAdapter()</span><br><span class="line">      &#123;</span><br><span class="line">         <span class="meta">@Override</span></span><br><span class="line">         <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getCount</span><span class="params">()</span></span></span><br><span class="line"><span class="function">         </span>&#123;</span><br><span class="line">            <span class="comment">// 指定一共包含40个选项</span></span><br><span class="line">            <span class="keyword">return</span> <span class="number">40</span>;</span><br><span class="line">         &#125;</span><br><span class="line">         <span class="meta">@Override</span></span><br><span class="line">         <span class="function"><span class="keyword">public</span> Object <span class="title">getItem</span><span class="params">(<span class="keyword">int</span> position)</span></span></span><br><span class="line"><span class="function">         </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">         &#125;</span><br><span class="line">         <span class="comment">// 重写该方法，该方法的返回值将作为列表项的ID</span></span><br><span class="line">         <span class="meta">@Override</span></span><br><span class="line">         <span class="function"><span class="keyword">public</span> <span class="keyword">long</span> <span class="title">getItemId</span><span class="params">(<span class="keyword">int</span> position)</span></span></span><br><span class="line"><span class="function">         </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> position;</span><br><span class="line">         &#125;</span><br><span class="line">         <span class="comment">// 重写该方法，该方法返回的View将作为列表框</span></span><br><span class="line">         <span class="meta">@Override</span></span><br><span class="line">         <span class="function"><span class="keyword">public</span> View <span class="title">getView</span><span class="params">(<span class="keyword">int</span> position</span></span></span><br><span class="line"><span class="function"><span class="params">               , View convertView , ViewGroup parent)</span></span></span><br><span class="line"><span class="function">         </span>&#123;</span><br><span class="line">            <span class="comment">// 创建一个LinearLayout，并向其中添加两个组件</span></span><br><span class="line">            LinearLayout line = <span class="keyword">new</span> LinearLayout(MainActivity.<span class="keyword">this</span>);</span><br><span class="line">            line.setOrientation(<span class="number">0</span>);</span><br><span class="line">            ImageView image = <span class="keyword">new</span> ImageView(MainActivity.<span class="keyword">this</span>);</span><br><span class="line">            image.setImageResource(R.drawable.zyhang);</span><br><span class="line">            TextView text = <span class="keyword">new</span> TextView(MainActivity.<span class="keyword">this</span>);</span><br><span class="line">            text.setText(<span class="string">"第"</span> + (position +<span class="number">1</span> ) + <span class="string">"个一百天"</span>);</span><br><span class="line">            text.setTextSize(<span class="number">20</span>);</span><br><span class="line">            text.setTextColor(Color.RED);</span><br><span class="line">            line.addView(image);</span><br><span class="line">            line.addView(text);</span><br><span class="line">            <span class="comment">// 返回LinearLayout实例</span></span><br><span class="line">            <span class="keyword">return</span> line;</span><br><span class="line">         &#125;</span><br><span class="line">      &#125;;</span><br><span class="line">      myList.setAdapter(adapter);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://s2.ax1x.com/2019/10/30/K4vXff.png" alt="K4vXff.png"></p><p>扩展BaseAdapter来实现Adapter对象，使用getCount（）方法获取列表项的数量</p><h3 id="AutoCompleteTextView（自动完成文本框）"><a href="#AutoCompleteTextView（自动完成文本框）" class="headerlink" title="AutoCompleteTextView（自动完成文本框）"></a>AutoCompleteTextView（自动完成文本框）</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">LinearLayout</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:orientation</span>=<span class="string">"vertical"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span>&gt;</span></span><br><span class="line">   <span class="comment">&lt;!-- 定义一个自动完成文本框，</span></span><br><span class="line"><span class="comment">      指定输入一个字符后进行提示 --&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">AutoCompleteTextView</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:id</span>=<span class="string">"@+id/auto"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:completionHint</span>=<span class="string">"请选择您喜欢的领域："</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:dropDownHorizontalOffset</span>=<span class="string">"10dp"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:completionThreshold</span>=<span class="string">"1"</span>/&gt;</span></span><br><span class="line">   <span class="comment">&lt;!-- 定义一个MultiAutoCompleteTextView组件 --&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">MultiAutoCompleteTextView</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:id</span>=<span class="string">"@+id/mauto"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:completionThreshold</span>=<span class="string">"1"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.crazyit.ui;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.app.Activity;</span><br><span class="line"><span class="keyword">import</span> android.os.Bundle;</span><br><span class="line"><span class="keyword">import</span> android.view.Menu;</span><br><span class="line"><span class="keyword">import</span> android.view.MenuItem;</span><br><span class="line"><span class="keyword">import</span> android.widget.ArrayAdapter;</span><br><span class="line"><span class="keyword">import</span> android.widget.AutoCompleteTextView;</span><br><span class="line"><span class="keyword">import</span> android.widget.MultiAutoCompleteTextView;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">Activity</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">   AutoCompleteTextView actv;</span><br><span class="line">   MultiAutoCompleteTextView mauto;</span><br><span class="line">   <span class="comment">// 定义字符串数组，作为提示的文本</span></span><br><span class="line">   String[] books = <span class="keyword">new</span> String[]&#123;</span><br><span class="line">         <span class="string">"Python神经网络"</span>,</span><br><span class="line">         <span class="string">"Python量化投资"</span>,</span><br><span class="line">         <span class="string">"Python自动化运维"</span>,</span><br><span class="line">         <span class="string">"Python数据科学"</span></span><br><span class="line">   &#125;;</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">      setContentView(R.layout.main);</span><br><span class="line">      <span class="comment">// 创建一个ArrayAdapter，封装数组</span></span><br><span class="line">      ArrayAdapter&lt;String&gt; aa = <span class="keyword">new</span> ArrayAdapter&lt;String&gt;(<span class="keyword">this</span>,</span><br><span class="line">            android.R.layout.simple_dropdown_item_1line, books);</span><br><span class="line">      actv = (AutoCompleteTextView)findViewById(R.id.auto);</span><br><span class="line">      <span class="comment">// 设置Adapter</span></span><br><span class="line">      actv.setAdapter(aa);</span><br><span class="line">      mauto = (MultiAutoCompleteTextView)findViewById(R.id.mauto);</span><br><span class="line">      <span class="comment">// 设置Adapter</span></span><br><span class="line">      mauto.setAdapter(aa);</span><br><span class="line">      <span class="comment">// 为MultiAutoCompleteTextView设置分隔符</span></span><br><span class="line">      mauto.setTokenizer(<span class="keyword">new</span> MultiAutoCompleteTextView.CommaTokenizer());</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://s2.ax1x.com/2019/10/30/K4vvp8.png" alt="K4vvp8.png"></p><p>使用AutoCompleteTextViewHR MultiAutoCompleteTextView，为他们那么绑定用一个Adapter提供提示文本</p><h3 id="GridView（网络视图）"><a href="#GridView（网络视图）" class="headerlink" title="GridView（网络视图）"></a>GridView（网络视图）</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">LinearLayout</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:orientation</span>=<span class="string">"vertical"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:gravity</span>=<span class="string">"center_horizontal"</span>&gt;</span></span><br><span class="line">   <span class="comment">&lt;!-- 定义一个GridView组件 --&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">GridView</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:id</span>=<span class="string">"@+id/grid01"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:horizontalSpacing</span>=<span class="string">"1pt"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:verticalSpacing</span>=<span class="string">"1pt"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:numColumns</span>=<span class="string">"4"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:gravity</span>=<span class="string">"center"</span>/&gt;</span></span><br><span class="line">   <span class="comment">&lt;!-- 定义一个ImageView组件 --&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">ImageView</span> <span class="attr">android:id</span>=<span class="string">"@+id/imageView"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"240dp"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"240dp"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_gravity</span>=<span class="string">"center_horizontal"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.crazyit.ui;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.app.Activity;</span><br><span class="line"><span class="keyword">import</span> android.os.Bundle;</span><br><span class="line"><span class="keyword">import</span> android.view.View;</span><br><span class="line"><span class="keyword">import</span> android.widget.AdapterView;</span><br><span class="line"><span class="keyword">import</span> android.widget.GridView;</span><br><span class="line"><span class="keyword">import</span> android.widget.ImageView;</span><br><span class="line"><span class="keyword">import</span> android.widget.SimpleAdapter;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">Activity</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">   GridView grid;</span><br><span class="line">   ImageView imageView;</span><br><span class="line">   <span class="keyword">int</span>[] imageIds = <span class="keyword">new</span> <span class="keyword">int</span>[]</span><br><span class="line">   &#123;</span><br><span class="line">      R.drawable.bomb5 , R.drawable.bomb6 , R.drawable.bomb7</span><br><span class="line">      , R.drawable.bomb8 , R.drawable.bomb9 , R.drawable.bomb10</span><br><span class="line">      , R.drawable.bomb11 , R.drawable.bomb12    , R.drawable.bomb13</span><br><span class="line">      , R.drawable.bomb14 , R.drawable.bomb15 , R.drawable.bomb16</span><br><span class="line">   &#125;;</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">      setContentView(R.layout.main);</span><br><span class="line">      <span class="comment">// 创建一个List对象，List对象的元素是Map</span></span><br><span class="line">      List&lt;Map&lt;String, Object&gt;&gt; listItems =</span><br><span class="line">            <span class="keyword">new</span> ArrayList&lt;Map&lt;String, Object&gt;&gt;();</span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; imageIds.length; i++)</span><br><span class="line">      &#123;</span><br><span class="line">         Map&lt;String, Object&gt; listItem = <span class="keyword">new</span> HashMap&lt;String, Object&gt;();</span><br><span class="line">         listItem.put(<span class="string">"image"</span>, imageIds[i]);</span><br><span class="line">         listItems.add(listItem);</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="comment">// 获取显示图片的ImageView</span></span><br><span class="line">      imageView = (ImageView) findViewById(R.id.imageView);</span><br><span class="line">      <span class="comment">// 创建一个SimpleAdapter</span></span><br><span class="line">      SimpleAdapter simpleAdapter = <span class="keyword">new</span> SimpleAdapter(<span class="keyword">this</span>,</span><br><span class="line">            listItems</span><br><span class="line">            <span class="comment">// 使用/layout/cell.xml文件作为界面布局</span></span><br><span class="line">            , R.layout.cell, <span class="keyword">new</span> String[] &#123; <span class="string">"image"</span> &#125;,</span><br><span class="line">            <span class="keyword">new</span> <span class="keyword">int</span>[] &#123; R.id.image1 &#125;);</span><br><span class="line">      grid = (GridView) findViewById(R.id.grid01);</span><br><span class="line">      <span class="comment">// 为GridView设置Adapter</span></span><br><span class="line">      grid.setAdapter(simpleAdapter);</span><br><span class="line">      <span class="comment">// 添加列表项被选中的监听器</span></span><br><span class="line">      grid.setOnItemSelectedListener(<span class="keyword">new</span> AdapterView.OnItemSelectedListener()</span><br><span class="line">      &#123;</span><br><span class="line">         <span class="meta">@Override</span></span><br><span class="line">         <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onItemSelected</span><span class="params">(AdapterView&lt;?&gt; parent, View view,</span></span></span><br><span class="line"><span class="function"><span class="params">            <span class="keyword">int</span> position, <span class="keyword">long</span> id)</span></span></span><br><span class="line"><span class="function">         </span>&#123;</span><br><span class="line">            <span class="comment">// 显示当前被选中的图片</span></span><br><span class="line">            imageView.setImageResource(imageIds[position]);</span><br><span class="line">         &#125;</span><br><span class="line">         <span class="meta">@Override</span></span><br><span class="line">         <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onNothingSelected</span><span class="params">(AdapterView&lt;?&gt; parent)</span></span></span><br><span class="line"><span class="function">         </span>&#123;</span><br><span class="line">         &#125;</span><br><span class="line">      &#125;);</span><br><span class="line">      <span class="comment">// 添加列表项被单击的监听器</span></span><br><span class="line">      grid.setOnItemClickListener(<span class="keyword">new</span> AdapterView.OnItemClickListener()</span><br><span class="line">      &#123;</span><br><span class="line">         <span class="meta">@Override</span></span><br><span class="line">         <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onItemClick</span><span class="params">(AdapterView&lt;?&gt; parent, View view,</span></span></span><br><span class="line"><span class="function"><span class="params">                           <span class="keyword">int</span> position, <span class="keyword">long</span> id)</span></span></span><br><span class="line"><span class="function">         </span>&#123;</span><br><span class="line">            <span class="comment">// 显示被单击的图片</span></span><br><span class="line">            imageView.setImageResource(imageIds[position]);</span><br><span class="line">         &#125;</span><br><span class="line">      &#125;);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://s2.ax1x.com/2019/10/30/K4xZ1U.png" alt="K4xZ1U.png"></p><p>定义GridView参数，使用SimpleAdapter作为GridView的Adapter对16个组件进行List集合</p><h3 id="ExpandableListView（可展开的列表组件）"><a href="#ExpandableListView（可展开的列表组件）" class="headerlink" title="ExpandableListView（可展开的列表组件）"></a>ExpandableListView（可展开的列表组件）</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.crazyit.ui;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.app.Activity;</span><br><span class="line"><span class="keyword">import</span> android.os.Bundle;</span><br><span class="line"><span class="keyword">import</span> android.view.Gravity;</span><br><span class="line"><span class="keyword">import</span> android.view.Menu;</span><br><span class="line"><span class="keyword">import</span> android.view.MenuItem;</span><br><span class="line"><span class="keyword">import</span> android.view.View;</span><br><span class="line"><span class="keyword">import</span> android.view.ViewGroup;</span><br><span class="line"><span class="keyword">import</span> android.widget.AbsListView;</span><br><span class="line"><span class="keyword">import</span> android.widget.BaseExpandableListAdapter;</span><br><span class="line"><span class="keyword">import</span> android.widget.ExpandableListAdapter;</span><br><span class="line"><span class="keyword">import</span> android.widget.ExpandableListView;</span><br><span class="line"><span class="keyword">import</span> android.widget.ImageView;</span><br><span class="line"><span class="keyword">import</span> android.widget.LinearLayout;</span><br><span class="line"><span class="keyword">import</span> android.widget.TextView;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">Activity</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">      setContentView(R.layout.main);</span><br><span class="line">      <span class="comment">//创建一个BaseExpandableListAdapter对象</span></span><br><span class="line">      ExpandableListAdapter adapter = <span class="keyword">new</span> BaseExpandableListAdapter()</span><br><span class="line">      &#123;</span><br><span class="line">         <span class="keyword">int</span>[] logos = <span class="keyword">new</span> <span class="keyword">int</span>[]</span><br><span class="line">         &#123;</span><br><span class="line">            R.drawable.p,</span><br><span class="line">            R.drawable.z,</span><br><span class="line">            R.drawable.t</span><br><span class="line">         &#125;;</span><br><span class="line">         <span class="keyword">private</span> String[] armTypes = <span class="keyword">new</span> String[]</span><br><span class="line">            &#123; <span class="string">"神族兵种"</span>, <span class="string">"虫族兵种"</span>, <span class="string">"人族兵种"</span>&#125;;</span><br><span class="line">         <span class="keyword">private</span> String[][] arms = <span class="keyword">new</span> String[][]</span><br><span class="line">            &#123;</span><br><span class="line">               &#123; <span class="string">"狂战士"</span>, <span class="string">"龙骑士"</span>, <span class="string">"黑暗圣堂"</span>, <span class="string">"电兵"</span> &#125;,</span><br><span class="line">               &#123; <span class="string">"小狗"</span>, <span class="string">"刺蛇"</span>, <span class="string">"飞龙"</span>, <span class="string">"自爆飞机"</span> &#125;,</span><br><span class="line">               &#123; <span class="string">"机枪兵"</span>, <span class="string">"护士MM"</span> , <span class="string">"幽灵"</span> &#125;</span><br><span class="line">            &#125;;</span><br><span class="line">         <span class="comment">// 获取指定组位置、指定子列表项处的子列表项数据</span></span><br><span class="line">         <span class="meta">@Override</span></span><br><span class="line">         <span class="function"><span class="keyword">public</span> Object <span class="title">getChild</span><span class="params">(<span class="keyword">int</span> groupPosition, <span class="keyword">int</span> childPosition)</span></span></span><br><span class="line"><span class="function">         </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> arms[groupPosition][childPosition];</span><br><span class="line">         &#125;</span><br><span class="line">         <span class="meta">@Override</span></span><br><span class="line">         <span class="function"><span class="keyword">public</span> <span class="keyword">long</span> <span class="title">getChildId</span><span class="params">(<span class="keyword">int</span> groupPosition, <span class="keyword">int</span> childPosition)</span></span></span><br><span class="line"><span class="function">         </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> childPosition;</span><br><span class="line">         &#125;</span><br><span class="line">         <span class="meta">@Override</span></span><br><span class="line">         <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getChildrenCount</span><span class="params">(<span class="keyword">int</span> groupPosition)</span></span></span><br><span class="line"><span class="function">         </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> arms[groupPosition].length;</span><br><span class="line">         &#125;</span><br><span class="line">         <span class="function"><span class="keyword">private</span> TextView <span class="title">getTextView</span><span class="params">()</span></span></span><br><span class="line"><span class="function">         </span>&#123;</span><br><span class="line">            AbsListView.LayoutParams lp = <span class="keyword">new</span> AbsListView.LayoutParams(</span><br><span class="line">                  ViewGroup.LayoutParams.MATCH_PARENT, <span class="number">64</span>);</span><br><span class="line">            TextView textView = <span class="keyword">new</span> TextView(MainActivity.<span class="keyword">this</span>);</span><br><span class="line">            textView.setLayoutParams(lp);</span><br><span class="line">            textView.setGravity(Gravity.CENTER_VERTICAL | Gravity.LEFT);</span><br><span class="line">            textView.setPadding(<span class="number">36</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">            textView.setTextSize(<span class="number">10</span>);</span><br><span class="line">            <span class="keyword">return</span> textView;</span><br><span class="line">         &#125;</span><br><span class="line">         <span class="comment">// 该方法决定每个子选项的外观</span></span><br><span class="line">         <span class="meta">@Override</span></span><br><span class="line">         <span class="function"><span class="keyword">public</span> View <span class="title">getChildView</span><span class="params">(<span class="keyword">int</span> groupPosition, <span class="keyword">int</span> childPosition,</span></span></span><br><span class="line"><span class="function"><span class="params">            <span class="keyword">boolean</span> isLastChild, View convertView, ViewGroup parent)</span></span></span><br><span class="line"><span class="function">         </span>&#123;</span><br><span class="line">            TextView textView = getTextView();</span><br><span class="line">            textView.setText(getChild(groupPosition, childPosition)</span><br><span class="line">                  .toString());</span><br><span class="line">            <span class="keyword">return</span> textView;</span><br><span class="line">         &#125;</span><br><span class="line">         <span class="comment">// 获取指定组位置处的组数据</span></span><br><span class="line">         <span class="meta">@Override</span></span><br><span class="line">         <span class="function"><span class="keyword">public</span> Object <span class="title">getGroup</span><span class="params">(<span class="keyword">int</span> groupPosition)</span></span></span><br><span class="line"><span class="function">         </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> armTypes[groupPosition];</span><br><span class="line">         &#125;</span><br><span class="line">         <span class="meta">@Override</span></span><br><span class="line">         <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getGroupCount</span><span class="params">()</span></span></span><br><span class="line"><span class="function">         </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> armTypes.length;</span><br><span class="line">         &#125;</span><br><span class="line">         <span class="meta">@Override</span></span><br><span class="line">         <span class="function"><span class="keyword">public</span> <span class="keyword">long</span> <span class="title">getGroupId</span><span class="params">(<span class="keyword">int</span> groupPosition)</span></span></span><br><span class="line"><span class="function">         </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> groupPosition;</span><br><span class="line">         &#125;</span><br><span class="line">         <span class="comment">// 该方法决定每个组选项的外观</span></span><br><span class="line">         <span class="meta">@Override</span></span><br><span class="line">         <span class="function"><span class="keyword">public</span> View <span class="title">getGroupView</span><span class="params">(<span class="keyword">int</span> groupPosition, <span class="keyword">boolean</span> isExpanded,</span></span></span><br><span class="line"><span class="function"><span class="params">                            View convertView, ViewGroup parent)</span></span></span><br><span class="line"><span class="function">         </span>&#123;</span><br><span class="line">            LinearLayout ll = <span class="keyword">new</span> LinearLayout(MainActivity.<span class="keyword">this</span>);</span><br><span class="line">            ll.setOrientation(<span class="number">0</span>);</span><br><span class="line">            ImageView logo = <span class="keyword">new</span> ImageView(MainActivity.<span class="keyword">this</span>);</span><br><span class="line">            logo.setImageResource(logos[groupPosition]);</span><br><span class="line">            ll.addView(logo);</span><br><span class="line">            TextView textView = getTextView();</span><br><span class="line">            textView.setText(getGroup(groupPosition).toString());</span><br><span class="line">            ll.addView(textView);</span><br><span class="line">            <span class="keyword">return</span> ll;</span><br><span class="line">         &#125;</span><br><span class="line">         <span class="meta">@Override</span></span><br><span class="line">         <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isChildSelectable</span><span class="params">(<span class="keyword">int</span> groupPosition,</span></span></span><br><span class="line"><span class="function"><span class="params">                                  <span class="keyword">int</span> childPosition)</span></span></span><br><span class="line"><span class="function">         </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">         &#125;</span><br><span class="line">         <span class="meta">@Override</span></span><br><span class="line">         <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">hasStableIds</span><span class="params">()</span></span></span><br><span class="line"><span class="function">         </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">         &#125;</span><br><span class="line">      &#125;;</span><br><span class="line">      ExpandableListView expandListView = (ExpandableListView) findViewById(R.id.list);</span><br><span class="line">      expandListView.setAdapter(adapter);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://s2.ax1x.com/2019/10/30/K4vx1S.png" alt="K4vx1S.png"></p><p>扩展BaseExpandaBleListAdapter来实现ExpandableListAdapter，通过getChlidView()返回一个普通TextView()，因为每个子列表项都是一个普通的文本框，每个组列表项都是一由图片和文字组成。</p><h3 id="Spinner（列表选择框）"><a href="#Spinner（列表选择框）" class="headerlink" title="Spinner（列表选择框）"></a>Spinner（列表选择框）</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">LinearLayout</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:orientation</span>=<span class="string">"vertical"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span>&gt;</span></span><br><span class="line">   <span class="comment">&lt;!-- 定义了一个Spinner组件，</span></span><br><span class="line"><span class="comment">      指定显示该Spinner组件的数组 --&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">Spinner</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:entries</span>=<span class="string">"@array/books"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:prompt</span>=<span class="string">"@string/tip"</span>/&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">Spinner</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:id</span>=<span class="string">"@+id/spinner"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:prompt</span>=<span class="string">"@string/tip"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br><span class="line">values</span><br><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">resources</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">string-array</span> <span class="attr">name</span>=<span class="string">"books"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">item</span>&gt;</span>Axure RP<span class="tag">&lt;/<span class="name">item</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">item</span>&gt;</span>Mockplus<span class="tag">&lt;/<span class="name">item</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">item</span>&gt;</span>墨刀<span class="tag">&lt;/<span class="name">item</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">string-array</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">resources</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.crazyit.ui;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.app.Activity;</span><br><span class="line"><span class="keyword">import</span> android.os.Bundle;</span><br><span class="line"><span class="keyword">import</span> android.view.Menu;</span><br><span class="line"><span class="keyword">import</span> android.view.MenuItem;</span><br><span class="line"><span class="keyword">import</span> android.widget.ArrayAdapter;</span><br><span class="line"><span class="keyword">import</span> android.widget.Spinner;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">Activity</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">   Spinner spinner;</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">      setContentView(R.layout.main);</span><br><span class="line">      <span class="comment">// 获取界面布局文件中的Spinner组件</span></span><br><span class="line">      spinner = (Spinner) findViewById(R.id.spinner);</span><br><span class="line">      String[] arr = &#123; <span class="string">"Oracle"</span>, <span class="string">"Redis"</span>, <span class="string">"MongoDB"</span> &#125;;</span><br><span class="line">      <span class="comment">// 创建ArrayAdapter对象</span></span><br><span class="line">      ArrayAdapter&lt;String&gt; adapter = <span class="keyword">new</span> ArrayAdapter&lt;String&gt;(<span class="keyword">this</span>,</span><br><span class="line">         android.R.layout.simple_list_item_multiple_choice, arr);</span><br><span class="line">      <span class="comment">// 为Spinner设置Adapter</span></span><br><span class="line">      spinner.setAdapter(adapter);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://s2.ax1x.com/2019/10/30/K4vz6g.png" alt="K4vz6g.png"></p><p>Gallery与Spinner：前者是一个垂直的列表选择框，后者是一个水平的列表选择框；前者供用户选择，厚泽允许用户通过拖动来查看上一个/下一个列表项</p><h3 id="AdapterViewFlipper（图片轮播）"><a href="#AdapterViewFlipper（图片轮播）" class="headerlink" title="AdapterViewFlipper（图片轮播）"></a>AdapterViewFlipper（图片轮播）</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8" ?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">RelativeLayout</span></span></span><br><span class="line"><span class="tag">   <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">AdapterViewFlipper</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:id</span>=<span class="string">"@+id/flipper"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:flipInterval</span>=<span class="string">"5000"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_alignParentTop</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_alignParentBottom</span>=<span class="string">"true"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_alignParentLeft</span>=<span class="string">"true"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:onClick</span>=<span class="string">"prev"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:text</span>=<span class="string">"上一个"</span>/&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_alignParentBottom</span>=<span class="string">"true"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_centerHorizontal</span>=<span class="string">"true"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:onClick</span>=<span class="string">"next"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:text</span>=<span class="string">"下一个"</span>/&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_alignParentBottom</span>=<span class="string">"true"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_alignParentRight</span>=<span class="string">"true"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:onClick</span>=<span class="string">"auto"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:text</span>=<span class="string">"自动播放"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">RelativeLayout</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.crazyit.ui;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.app.Activity;</span><br><span class="line"><span class="keyword">import</span> android.os.Bundle;</span><br><span class="line"><span class="keyword">import</span> android.view.Menu;</span><br><span class="line"><span class="keyword">import</span> android.view.MenuItem;</span><br><span class="line"><span class="keyword">import</span> android.view.View;</span><br><span class="line"><span class="keyword">import</span> android.view.ViewGroup;</span><br><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> android.view.ViewGroup.LayoutParams;</span><br><span class="line"><span class="keyword">import</span> android.widget.AdapterViewFlipper;</span><br><span class="line"><span class="keyword">import</span> android.widget.BaseAdapter;</span><br><span class="line"><span class="keyword">import</span> android.widget.ImageView;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">Activity</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">   <span class="keyword">int</span>[] imageIds = <span class="keyword">new</span> <span class="keyword">int</span>[]</span><br><span class="line">   &#123;</span><br><span class="line">      R.drawable.shuangzi, R.drawable.shuangyu,</span><br><span class="line">      R.drawable.chunv, R.drawable.tiancheng, R.drawable.tianxie,</span><br><span class="line">      R.drawable.sheshou, R.drawable.juxie, R.drawable.shuiping,</span><br><span class="line">      R.drawable.shizi, R.drawable.baiyang, R.drawable.jinniu,</span><br><span class="line">      R.drawable.mojie &#125;;</span><br><span class="line">   <span class="keyword">private</span> AdapterViewFlipper flipper;</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">      setContentView(R.layout.main);</span><br><span class="line">      flipper = (AdapterViewFlipper) findViewById(R.id.flipper);</span><br><span class="line">      <span class="comment">// 创建一个BaseAdapter对象，该对象负责提供Gallery所显示的列表项</span></span><br><span class="line">      BaseAdapter adapter = <span class="keyword">new</span> BaseAdapter()</span><br><span class="line">      &#123;</span><br><span class="line">         <span class="meta">@Override</span></span><br><span class="line">         <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getCount</span><span class="params">()</span></span></span><br><span class="line"><span class="function">         </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> imageIds.length;</span><br><span class="line">         &#125;</span><br><span class="line">         <span class="meta">@Override</span></span><br><span class="line">         <span class="function"><span class="keyword">public</span> Object <span class="title">getItem</span><span class="params">(<span class="keyword">int</span> position)</span></span></span><br><span class="line"><span class="function">         </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> position;</span><br><span class="line">         &#125;</span><br><span class="line">         <span class="meta">@Override</span></span><br><span class="line">         <span class="function"><span class="keyword">public</span> <span class="keyword">long</span> <span class="title">getItemId</span><span class="params">(<span class="keyword">int</span> position)</span></span></span><br><span class="line"><span class="function">         </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> position;</span><br><span class="line">         &#125;</span><br><span class="line">         <span class="comment">// 该方法返回的View代表了每个列表项</span></span><br><span class="line">         <span class="meta">@Override</span></span><br><span class="line">         <span class="function"><span class="keyword">public</span> View <span class="title">getView</span><span class="params">(<span class="keyword">int</span> position, View convertView, ViewGroup parent)</span></span></span><br><span class="line"><span class="function">         </span>&#123;</span><br><span class="line">            <span class="comment">// 创建一个ImageView</span></span><br><span class="line">            ImageView imageView = <span class="keyword">new</span> ImageView(MainActivity.<span class="keyword">this</span>);</span><br><span class="line">            imageView.setImageResource(imageIds[position]);</span><br><span class="line">            <span class="comment">// 设置ImageView的缩放类型</span></span><br><span class="line">            imageView.setScaleType(ImageView.ScaleType.FIT_XY);</span><br><span class="line">            <span class="comment">// 为imageView设置布局参数</span></span><br><span class="line">            imageView.setLayoutParams(<span class="keyword">new</span> ViewGroup.LayoutParams(</span><br><span class="line">                  LayoutParams.MATCH_PARENT, LayoutParams.MATCH_PARENT));</span><br><span class="line">            <span class="keyword">return</span> imageView;</span><br><span class="line">         &#125;</span><br><span class="line">      &#125;;</span><br><span class="line">      flipper.setAdapter(adapter);</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">prev</span><span class="params">(View source)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      <span class="comment">// 显示上一个组件</span></span><br><span class="line">      flipper.showPrevious();</span><br><span class="line">      <span class="comment">// 停止自动播放</span></span><br><span class="line">      flipper.stopFlipping();</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">next</span><span class="params">(View source)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      <span class="comment">// 显示下一个组件。</span></span><br><span class="line">      flipper.showNext();</span><br><span class="line">      <span class="comment">// 停止自动播放</span></span><br><span class="line">      flipper.stopFlipping();</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">auto</span><span class="params">(View source)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      <span class="comment">// 开始自动播放</span></span><br><span class="line">      flipper.startFlipping();</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://s2.ax1x.com/2019/10/30/K4x9mj.png" alt="K4x9mj.png"></p><p>使用showPrevious()、showNext()来控制组件显示上一个、下一个组件，调用了startFlipping()方法控制自动播放</p><h3 id="StackView（堆叠视图）"><a href="#StackView（堆叠视图）" class="headerlink" title="StackView（堆叠视图）"></a>StackView（堆叠视图）</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">LinearLayout</span></span></span><br><span class="line"><span class="tag">   <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:orientation</span>=<span class="string">"horizontal"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">StackView</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:id</span>=<span class="string">"@+id/mStackView"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:loopViews</span>=<span class="string">"true"</span> /&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">LinearLayout</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:orientation</span>=<span class="string">"horizontal"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:text</span>=<span class="string">"上一个"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:onClick</span>=<span class="string">"prev"</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:text</span>=<span class="string">"下一个"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:onClick</span>=<span class="string">"next"</span>/&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.crazyit.ui;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.app.Activity;</span><br><span class="line"><span class="keyword">import</span> android.os.Bundle;</span><br><span class="line"><span class="keyword">import</span> android.view.View;</span><br><span class="line"><span class="keyword">import</span> android.widget.SimpleAdapter;</span><br><span class="line"><span class="keyword">import</span> android.widget.StackView;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">Activity</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">   StackView stackView;</span><br><span class="line">   <span class="keyword">int</span>[] imageIds = <span class="keyword">new</span> <span class="keyword">int</span>[]</span><br><span class="line">   &#123;</span><br><span class="line">      R.drawable.bomb5 , R.drawable.bomb6 , R.drawable.bomb7</span><br><span class="line">      , R.drawable.bomb8 , R.drawable.bomb9 , R.drawable.bomb10</span><br><span class="line">      , R.drawable.bomb11 , R.drawable.bomb12    , R.drawable.bomb13</span><br><span class="line">      , R.drawable.bomb14 , R.drawable.bomb15 , R.drawable.bomb16</span><br><span class="line">&#125;;</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">      setContentView(R.layout.main);</span><br><span class="line">      stackView = (StackView) findViewById(R.id.mStackView);</span><br><span class="line">      <span class="comment">// 创建一个List对象，List对象的元素是Map</span></span><br><span class="line">      List&lt;Map&lt;String, Object&gt;&gt; listItems =</span><br><span class="line">            <span class="keyword">new</span> ArrayList&lt;Map&lt;String, Object&gt;&gt;();</span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; imageIds.length; i++)</span><br><span class="line">      &#123;</span><br><span class="line">         Map&lt;String, Object&gt; listItem = <span class="keyword">new</span> HashMap&lt;String, Object&gt;();</span><br><span class="line">         listItem.put(<span class="string">"image"</span>, imageIds[i]);</span><br><span class="line">         listItems.add(listItem);</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="comment">// 创建一个SimpleAdapter</span></span><br><span class="line">      SimpleAdapter simpleAdapter = <span class="keyword">new</span> SimpleAdapter(<span class="keyword">this</span>,</span><br><span class="line">            listItems</span><br><span class="line">            <span class="comment">// 使用/layout/cell.xml文件作为界面布局</span></span><br><span class="line">            , R.layout.cell, <span class="keyword">new</span> String[] &#123; <span class="string">"image"</span> &#125;,</span><br><span class="line">            <span class="keyword">new</span> <span class="keyword">int</span>[] &#123; R.id.image1 &#125;);</span><br><span class="line">      stackView.setAdapter(simpleAdapter);</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">prev</span><span class="params">(View view)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      <span class="comment">// 显示上一个组件</span></span><br><span class="line">      stackView.showPrevious();</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">next</span><span class="params">(View view)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      <span class="comment">// 显示下一个组件</span></span><br><span class="line">      stackView.showNext();</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://s2.ax1x.com/2019/10/30/K4xSXQ.png" alt="K4xSXQ.png"></p><h3 id="渐变褪去效果"><a href="#渐变褪去效果" class="headerlink" title="渐变褪去效果"></a>渐变褪去效果</h3><p>创建SimpleAdapter并将SimpleAdapter设置为StackView的Adapter，则会显示一系列的组件。</p><h3 id="ProgressBar类"><a href="#ProgressBar类" class="headerlink" title="ProgressBar类"></a>ProgressBar类</h3><h3 id="ProgressBar（进度条）"><a href="#ProgressBar（进度条）" class="headerlink" title="ProgressBar（进度条）"></a>ProgressBar（进度条）</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">LinearLayout</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:orientation</span>=<span class="string">"vertical"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">LinearLayout</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:orientation</span>=<span class="string">"horizontal"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span>&gt;</span></span><br><span class="line">      <span class="comment">&lt;!-- 定义一个大环形进度条 --&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">ProgressBar</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">style</span>=<span class="string">"@android:style/Widget.ProgressBar.Large"</span>/&gt;</span></span><br><span class="line">      <span class="comment">&lt;!-- 定义一个中等大小的环形进度条 --&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">ProgressBar</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span>/&gt;</span></span><br><span class="line">      <span class="comment">&lt;!-- 定义一个小环形进度条 --&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">ProgressBar</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">style</span>=<span class="string">"@android:style/Widget.ProgressBar.Small"</span>/&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:text</span>=<span class="string">"任务完成的进度"</span>/&gt;</span></span><br><span class="line">   <span class="comment">&lt;!-- 定义一个水平进度条 --&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">ProgressBar</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:id</span>=<span class="string">"@+id/bar"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:max</span>=<span class="string">"100"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">style</span>=<span class="string">"@android:style/Widget.ProgressBar.Horizontal"</span>/&gt;</span></span><br><span class="line">   <span class="comment">&lt;!-- 定义一个水平进度条，并改变轨道外观 --&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">ProgressBar</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:id</span>=<span class="string">"@+id/bar2"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:max</span>=<span class="string">"100"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:progressDrawable</span>=<span class="string">"@drawable/my_bar"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">style</span>=<span class="string">"@android:style/Widget.ProgressBar.Horizontal"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">layer-list</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span>&gt;</span></span><br><span class="line">   <span class="comment">&lt;!-- 定义轨道的背景 --&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">item</span> <span class="attr">android:id</span>=<span class="string">"@android:id/background"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:drawable</span>=<span class="string">"@drawable/no"</span> /&gt;</span></span><br><span class="line">   <span class="comment">&lt;!-- 定义轨道上已完成部分的样式 --&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">item</span> <span class="attr">android:id</span>=<span class="string">"@android:id/progress"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:drawable</span>=<span class="string">"@drawable/ok"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">layer-list</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.crazyit.ui;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.app.Activity;</span><br><span class="line"><span class="keyword">import</span> android.os.Bundle;</span><br><span class="line"><span class="keyword">import</span> android.os.Handler;</span><br><span class="line"><span class="keyword">import</span> android.os.Message;</span><br><span class="line"><span class="keyword">import</span> android.view.Menu;</span><br><span class="line"><span class="keyword">import</span> android.view.MenuItem;</span><br><span class="line"><span class="keyword">import</span> android.widget.ProgressBar;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">Activity</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">   <span class="comment">// 该程序模拟填充长度为100的数组</span></span><br><span class="line">   <span class="keyword">private</span> <span class="keyword">int</span>[] data = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">100</span>];</span><br><span class="line">   <span class="keyword">int</span> hasData = <span class="number">0</span>;</span><br><span class="line">   <span class="comment">// 记录ProgressBar的完成进度</span></span><br><span class="line">   <span class="keyword">int</span> status = <span class="number">0</span>;</span><br><span class="line">   ProgressBar bar , bar2;</span><br><span class="line">   <span class="comment">// 创建一个负责更新的进度的Handler</span></span><br><span class="line">   Handler mHandler = <span class="keyword">new</span> Handler()</span><br><span class="line">   &#123;</span><br><span class="line">      <span class="meta">@Override</span></span><br><span class="line"></span><br><span class="line">      <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">handleMessage</span><span class="params">(Message msg)</span></span></span><br><span class="line"><span class="function">      </span>&#123;</span><br><span class="line">         <span class="comment">// 表明消息是由该程序发送的</span></span><br><span class="line">         <span class="keyword">if</span> (msg.what == <span class="number">0x111</span>)</span><br><span class="line">         &#123;</span><br><span class="line">            bar.setProgress(status);</span><br><span class="line">            bar2.setProgress(status);</span><br><span class="line">         &#125;</span><br><span class="line">      &#125;</span><br><span class="line">   &#125;;</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">      setContentView(R.layout.main);</span><br><span class="line">      bar = (ProgressBar) findViewById(R.id.bar);</span><br><span class="line">      bar2 = (ProgressBar) findViewById(R.id.bar2);</span><br><span class="line">      <span class="comment">// 启动线程来执行任务</span></span><br><span class="line">      <span class="keyword">new</span> Thread()</span><br><span class="line">      &#123;</span><br><span class="line">         <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span></span></span><br><span class="line"><span class="function">         </span>&#123;</span><br><span class="line">            <span class="keyword">while</span> (status &lt; <span class="number">100</span>)</span><br><span class="line">            &#123;</span><br><span class="line">               <span class="comment">// 获取耗时操作的完成百分比</span></span><br><span class="line">               status = doWork();</span><br><span class="line">               <span class="comment">// 发送消息</span></span><br><span class="line">               mHandler.sendEmptyMessage(<span class="number">0x111</span>);</span><br><span class="line">            &#125;</span><br><span class="line">         &#125;</span><br><span class="line">      &#125;.start();</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="comment">// 模拟一个耗时的操作</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">doWork</span><span class="params">()</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      <span class="comment">// 为数组元素赋值</span></span><br><span class="line">      data[hasData++] = (<span class="keyword">int</span>) (Math.random() * <span class="number">100</span>);</span><br><span class="line">      <span class="keyword">try</span></span><br><span class="line">      &#123;</span><br><span class="line">         Thread.sleep(<span class="number">100</span>);</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">catch</span> (InterruptedException e)</span><br><span class="line">      &#123;</span><br><span class="line">         e.printStackTrace();</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">return</span> hasData;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://s2.ax1x.com/2019/10/30/K4xC0s.png" alt="K4xC0s.png"></p><p>定义三个环形进度条和一个水平进度条， 通过修改进度完成进度来显示慢慢变满的进度条</p><h3 id="SeekBar（拖动条）"><a href="#SeekBar（拖动条）" class="headerlink" title="SeekBar（拖动条）"></a>SeekBar（拖动条）</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">LinearLayout</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:orientation</span>=<span class="string">"vertical"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">ImageView</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:id</span>=<span class="string">"@+id/image"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"240dp"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:src</span>=<span class="string">"@drawable/lijiang"</span>/&gt;</span></span><br><span class="line">   <span class="comment">&lt;!-- 定义一个拖动条，并改变它的滑块外观 --&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">SeekBar</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:id</span>=<span class="string">"@+id/seekbar"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:max</span>=<span class="string">"255"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:progress</span>=<span class="string">"255"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:thumb</span>=<span class="string">"@drawable/zyhang"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.crazyit.ui;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.app.Activity;</span><br><span class="line"><span class="keyword">import</span> android.os.Bundle;</span><br><span class="line"><span class="keyword">import</span> android.view.Menu;</span><br><span class="line"><span class="keyword">import</span> android.view.MenuItem;</span><br><span class="line"><span class="keyword">import</span> android.widget.ImageView;</span><br><span class="line"><span class="keyword">import</span> android.widget.SeekBar;</span><br><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> android.widget.SeekBar.OnSeekBarChangeListener;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">Activity</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">   ImageView image;</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">      setContentView(R.layout.main);</span><br><span class="line">      image = (ImageView) findViewById(R.id.image);</span><br><span class="line">      SeekBar seekBar = (SeekBar) findViewById(R.id.seekbar);</span><br><span class="line">      seekBar.setOnSeekBarChangeListener(<span class="keyword">new</span> OnSeekBarChangeListener()</span><br><span class="line">      &#123;</span><br><span class="line">         <span class="comment">// 当拖动条的滑块位置发生改变时触发该方法</span></span><br><span class="line">         <span class="meta">@Override</span></span><br><span class="line">         <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onProgressChanged</span><span class="params">(SeekBar arg0, <span class="keyword">int</span> progress,</span></span></span><br><span class="line"><span class="function"><span class="params">                                <span class="keyword">boolean</span> fromUser)</span></span></span><br><span class="line"><span class="function">         </span>&#123;</span><br><span class="line">            <span class="comment">// 动态改变图片的透明度</span></span><br><span class="line">            image.setImageAlpha(progress);</span><br><span class="line">         &#125;</span><br><span class="line">         <span class="meta">@Override</span></span><br><span class="line">         <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onStartTrackingTouch</span><span class="params">(SeekBar bar)</span></span></span><br><span class="line"><span class="function">         </span>&#123;</span><br><span class="line">         &#125;</span><br><span class="line">         <span class="meta">@Override</span></span><br><span class="line">         <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onStopTrackingTouch</span><span class="params">(SeekBar bar)</span></span></span><br><span class="line"><span class="function">         </span>&#123;</span><br><span class="line">         &#125;</span><br><span class="line">      &#125;);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://s2.ax1x.com/2019/10/30/K4xP7n.png" alt="K4xP7n.png"></p><p>ImageView用于显示图片，SeekBar用于动态改变图片的透明度，通过thumb来修改拖动条的外观，监听拖动条的滑动位置来修改透明度的数值</p><h3 id="RatingBar（星级评分条）"><a href="#RatingBar（星级评分条）" class="headerlink" title="RatingBar（星级评分条）"></a>RatingBar（星级评分条）</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">LinearLayout</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">           <span class="attr">android:orientation</span>=<span class="string">"vertical"</span></span></span><br><span class="line"><span class="tag">           <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">           <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">ImageView</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:id</span>=<span class="string">"@+id/image"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"240dp"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:src</span>=<span class="string">"@drawable/lijiang"</span>/&gt;</span></span><br><span class="line">   <span class="comment">&lt;!-- 定义一个星级评分条 --&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">RatingBar</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:id</span>=<span class="string">"@+id/rating"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:numStars</span>=<span class="string">"5"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:max</span>=<span class="string">"255"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:progress</span>=<span class="string">"255"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:stepSize</span>=<span class="string">"0.5"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.crazyit.ui;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.app.Activity;</span><br><span class="line"><span class="keyword">import</span> android.os.Bundle;</span><br><span class="line"><span class="keyword">import</span> android.view.Menu;</span><br><span class="line"><span class="keyword">import</span> android.view.MenuItem;</span><br><span class="line"><span class="keyword">import</span> android.widget.ImageView;</span><br><span class="line"><span class="keyword">import</span> android.widget.RatingBar;</span><br><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> android.widget.RatingBar.OnRatingBarChangeListener;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">Activity</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">   ImageView image;</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">      setContentView(R.layout.main);</span><br><span class="line">      image = (ImageView) findViewById(R.id.image);</span><br><span class="line">      RatingBar ratingBar = (RatingBar) findViewById(R.id.rating);</span><br><span class="line">      ratingBar.setOnRatingBarChangeListener(<span class="keyword">new</span> OnRatingBarChangeListener()</span><br><span class="line">      &#123;</span><br><span class="line">         <span class="comment">// 当星级评分条的评分发生改变时触发该方法</span></span><br><span class="line">         <span class="meta">@Override</span></span><br><span class="line">         <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onRatingChanged</span><span class="params">(RatingBar arg0, <span class="keyword">float</span> rating,</span></span></span><br><span class="line"><span class="function"><span class="params">                              <span class="keyword">boolean</span> fromUser)</span></span></span><br><span class="line"><span class="function">         </span>&#123;</span><br><span class="line">            <span class="comment">// 动态改变图片的透明度，其中255是星级评分条的最大值</span></span><br><span class="line">            <span class="comment">// 5个星星就代表最大值255</span></span><br><span class="line">            image.setImageAlpha((<span class="keyword">int</span>) (rating * <span class="number">255</span> / <span class="number">5</span>));</span><br><span class="line">         &#125;</span><br><span class="line">      &#125;);</span><br><span class="line"></span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://s2.ax1x.com/2019/10/30/K4xFkq.png" alt="K4xFkq.png"></p><p>在上一个程序中使用RayingBar，通过ProgressBar控制属性；绑定监听器监听星际评分条的星级改变</p><h3 id="ViewAnimator类"><a href="#ViewAnimator类" class="headerlink" title="ViewAnimator类"></a>ViewAnimator类</h3><h3 id="ViewSwitcher（图形切换）"><a href="#ViewSwitcher（图形切换）" class="headerlink" title="ViewSwitcher（图形切换）"></a>ViewSwitcher（图形切换）</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">RelativeLayout</span></span></span><br><span class="line"><span class="tag">   <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span>&gt;</span></span><br><span class="line">   <span class="comment">&lt;!-- 定义一个ViewSwitcher组件 --&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">ViewSwitcher</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:id</span>=<span class="string">"@+id/viewSwitcher"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span> /&gt;</span></span><br><span class="line">   <span class="comment">&lt;!-- 定义滚动到上一屏的按钮 --&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:id</span>=<span class="string">"@+id/button_prev"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_alignParentBottom</span>=<span class="string">"true"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_alignParentLeft</span>=<span class="string">"true"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:onClick</span>=<span class="string">"prev"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:text</span>=<span class="string">"&amp;lt;"</span> /&gt;</span></span><br><span class="line">   <span class="comment">&lt;!-- 定义滚动到下一屏的按钮 --&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:id</span>=<span class="string">"@+id/button_next"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_alignParentBottom</span>=<span class="string">"true"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_alignParentRight</span>=<span class="string">"true"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:onClick</span>=<span class="string">"next"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:text</span>=<span class="string">"&amp;gt;"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">RelativeLayout</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.crazyit.ui;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.app.Activity;</span><br><span class="line"><span class="keyword">import</span> android.graphics.drawable.Drawable;</span><br><span class="line"><span class="keyword">import</span> android.os.Bundle;</span><br><span class="line"><span class="keyword">import</span> android.view.LayoutInflater;</span><br><span class="line"><span class="keyword">import</span> android.view.Menu;</span><br><span class="line"><span class="keyword">import</span> android.view.MenuItem;</span><br><span class="line"><span class="keyword">import</span> android.view.View;</span><br><span class="line"><span class="keyword">import</span> android.view.ViewGroup;</span><br><span class="line"><span class="keyword">import</span> android.widget.BaseAdapter;</span><br><span class="line"><span class="keyword">import</span> android.widget.GridView;</span><br><span class="line"><span class="keyword">import</span> android.widget.ImageView;</span><br><span class="line"><span class="keyword">import</span> android.widget.TextView;</span><br><span class="line"><span class="keyword">import</span> android.widget.ViewSwitcher;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">Activity</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">   <span class="comment">// 定义一个常量，用于显示每屏显示的应用程序数</span></span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> NUMBER_PER_SCREEN = <span class="number">12</span>;</span><br><span class="line">   <span class="comment">// 代表应用程序的内部类，</span></span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">DataItem</span></span></span><br><span class="line"><span class="class">   </span>&#123;</span><br><span class="line">      <span class="comment">// 应用程序名称</span></span><br><span class="line">      <span class="keyword">public</span> String dataName;</span><br><span class="line">      <span class="comment">// 应用程序图标</span></span><br><span class="line">      <span class="keyword">public</span> Drawable drawable;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="comment">// 保存系统所有应用程序的List集合</span></span><br><span class="line">   <span class="keyword">private</span> ArrayList&lt;DataItem&gt; items = <span class="keyword">new</span> ArrayList&lt;DataItem&gt;();</span><br><span class="line">   <span class="comment">// 记录当前正在显示第几屏的程序</span></span><br><span class="line">   <span class="keyword">private</span> <span class="keyword">int</span> screenNo = -<span class="number">1</span>;</span><br><span class="line">   <span class="comment">// 保存程序所占的总屏数</span></span><br><span class="line">   <span class="keyword">private</span> <span class="keyword">int</span> screenCount;</span><br><span class="line">   ViewSwitcher switcher;</span><br><span class="line">   <span class="comment">// 创建LayoutInflater对象</span></span><br><span class="line">   LayoutInflater inflater;</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">      setContentView(R.layout.main);</span><br><span class="line">      inflater = LayoutInflater.from(MainActivity.<span class="keyword">this</span>);</span><br><span class="line">      <span class="comment">// 创建一个包含40个元素的List集合，用于模拟包含40个应用程序</span></span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">40</span>; i++)</span><br><span class="line">      &#123;</span><br><span class="line">         String label = <span class="string">""</span> + i;</span><br><span class="line">         Drawable drawable = getResources().getDrawable(</span><br><span class="line">               R.drawable.zyhang);</span><br><span class="line">         DataItem item = <span class="keyword">new</span> DataItem();</span><br><span class="line">         item.dataName = label;</span><br><span class="line">         item.drawable = drawable;</span><br><span class="line">         items.add(item);</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="comment">// 计算应用程序所占的总屏数</span></span><br><span class="line">      <span class="comment">// 如果应用程序的数量能整除NUMBER_PER_SCREEN，除法的结果就是总屏数</span></span><br><span class="line">      <span class="comment">// 如果不能整除，总屏数应该是除法的结果再加1</span></span><br><span class="line">      screenCount = items.size() % NUMBER_PER_SCREEN == <span class="number">0</span> ?</span><br><span class="line">            items.size()/ NUMBER_PER_SCREEN :</span><br><span class="line">            items.size() / NUMBER_PER_SCREEN   + <span class="number">1</span>;</span><br><span class="line">      switcher = (ViewSwitcher) findViewById(R.id.viewSwitcher);</span><br><span class="line">      switcher.setFactory(<span class="keyword">new</span> ViewSwitcher.ViewFactory()</span><br><span class="line">      &#123;</span><br><span class="line">         <span class="comment">// 实际上就是返回一个GridView组件</span></span><br><span class="line">         <span class="meta">@Override</span></span><br><span class="line">         <span class="function"><span class="keyword">public</span> View <span class="title">makeView</span><span class="params">()</span></span></span><br><span class="line"><span class="function">         </span>&#123;</span><br><span class="line">            <span class="comment">// 加载R.layout.slidelistview组件，实际上就是一个GridView组件</span></span><br><span class="line">            <span class="keyword">return</span> inflater.inflate(R.layout.slidelistview, <span class="keyword">null</span>);</span><br><span class="line">         &#125;</span><br><span class="line">      &#125;);</span><br><span class="line">      <span class="comment">// 页面加载时先显示第一屏</span></span><br><span class="line">      next(<span class="keyword">null</span>);</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">next</span><span class="params">(View v)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      <span class="keyword">if</span> (screenNo &lt; screenCount - <span class="number">1</span>)</span><br><span class="line">      &#123;</span><br><span class="line">         screenNo++;</span><br><span class="line">         <span class="comment">// 为ViewSwitcher的组件显示过程设置动画</span></span><br><span class="line">         switcher.setInAnimation(<span class="keyword">this</span>, R.anim.slide_in_right);</span><br><span class="line">         <span class="comment">// 为ViewSwitcher的组件隐藏过程设置动画</span></span><br><span class="line">         switcher.setOutAnimation(<span class="keyword">this</span>, R.anim.slide_out_left);</span><br><span class="line">         <span class="comment">// 控制下一屏将要显示的GridView对应的Adapter</span></span><br><span class="line">         ((GridView) switcher.getNextView()).setAdapter(adapter);</span><br><span class="line">         <span class="comment">// 单击右边按钮，显示下一屏</span></span><br><span class="line">         <span class="comment">// 学习手势检测后，也可通过手势检测实现显示下一屏</span></span><br><span class="line">         switcher.showNext();  <span class="comment">// ①</span></span><br><span class="line">      &#125;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">prev</span><span class="params">(View v)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      <span class="keyword">if</span> (screenNo &gt; <span class="number">0</span>)</span><br><span class="line">      &#123;</span><br><span class="line">         screenNo--;</span><br><span class="line">         <span class="comment">// 为ViewSwitcher的组件显示过程设置动画</span></span><br><span class="line">         switcher.setInAnimation(<span class="keyword">this</span>, android.R.anim.slide_in_left);</span><br><span class="line">         <span class="comment">// 为ViewSwitcher的组件隐藏过程设置动画</span></span><br><span class="line">         switcher.setOutAnimation(<span class="keyword">this</span>, android.R.anim.slide_out_right);</span><br><span class="line">         <span class="comment">// 控制下一屏将要显示的GridView对应的 Adapter</span></span><br><span class="line">         ((GridView) switcher.getNextView()).setAdapter(adapter);</span><br><span class="line">         <span class="comment">// 单击左边按钮，显示上一屏，当然可以采用手势</span></span><br><span class="line">         <span class="comment">// 学习手势检测后，也可通过手势检测实现显示上一屏</span></span><br><span class="line">         switcher.showPrevious();  <span class="comment">//②</span></span><br><span class="line">      &#125;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="comment">// 该BaseAdapter负责为每屏显示的GridView提供列表项</span></span><br><span class="line">   <span class="keyword">private</span> BaseAdapter adapter = <span class="keyword">new</span> BaseAdapter()</span><br><span class="line">   &#123;</span><br><span class="line">      <span class="meta">@Override</span></span><br><span class="line">      <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getCount</span><span class="params">()</span></span></span><br><span class="line"><span class="function">      </span>&#123;</span><br><span class="line">         <span class="comment">// 如果已经到了最后一屏，且应用程序的数量不能整除NUMBER_PER_SCREEN</span></span><br><span class="line">         <span class="keyword">if</span> (screenNo == screenCount - <span class="number">1</span></span><br><span class="line">               &amp;&amp; items.size() % NUMBER_PER_SCREEN != <span class="number">0</span>)</span><br><span class="line">         &#123;</span><br><span class="line">            <span class="comment">// 最后一屏显示的程序数为应用程序的数量对NUMBER_PER_SCREEN求余</span></span><br><span class="line">            <span class="keyword">return</span> items.size() % NUMBER_PER_SCREEN;</span><br><span class="line">         &#125;</span><br><span class="line">         <span class="comment">// 否则每屏显示的程序数量为NUMBER_PER_SCREEN</span></span><br><span class="line">         <span class="keyword">return</span> NUMBER_PER_SCREEN;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="meta">@Override</span></span><br><span class="line">      <span class="function"><span class="keyword">public</span> DataItem <span class="title">getItem</span><span class="params">(<span class="keyword">int</span> position)</span></span></span><br><span class="line"><span class="function">      </span>&#123;</span><br><span class="line">         <span class="comment">// 根据screenNo计算第position个列表项的数据</span></span><br><span class="line">         <span class="keyword">return</span> items.get(screenNo * NUMBER_PER_SCREEN + position);</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="meta">@Override</span></span><br><span class="line">      <span class="function"><span class="keyword">public</span> <span class="keyword">long</span> <span class="title">getItemId</span><span class="params">(<span class="keyword">int</span> position)</span></span></span><br><span class="line"><span class="function">      </span>&#123;</span><br><span class="line">         <span class="keyword">return</span> position;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="meta">@Override</span></span><br><span class="line">      <span class="function"><span class="keyword">public</span> View <span class="title">getView</span><span class="params">(<span class="keyword">int</span> position</span></span></span><br><span class="line"><span class="function"><span class="params">            , View convertView, ViewGroup parent)</span></span></span><br><span class="line"><span class="function">      </span>&#123;</span><br><span class="line">         View view = convertView;</span><br><span class="line">         <span class="keyword">if</span> (convertView == <span class="keyword">null</span>)</span><br><span class="line">         &#123;</span><br><span class="line">            <span class="comment">// 加载R.layout.labelicon布局文件</span></span><br><span class="line">            view = inflater.inflate(R.layout.labelicon, <span class="keyword">null</span>);</span><br><span class="line">         &#125;</span><br><span class="line">         <span class="comment">// 获取R.layout.labelicon布局文件中的ImageView组件，并为之设置图标</span></span><br><span class="line">         ImageView imageView = (ImageView)</span><br><span class="line">               view.findViewById(R.id.imageview);</span><br><span class="line">         imageView.setImageDrawable(getItem(position).drawable);</span><br><span class="line">         <span class="comment">// 获取R.layout.labelicon布局文件中的TextView组件，并为之设置文本</span></span><br><span class="line">         TextView textView = (TextView)</span><br><span class="line">               view.findViewById(R.id.textview);</span><br><span class="line">         textView.setText(getItem(position).dataName);</span><br><span class="line">         <span class="keyword">return</span> view;</span><br><span class="line">      &#125;</span><br><span class="line">   &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 定义一个垂直的LinearLayout，该容器中放置一个ImageView和一个TextView --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">LinearLayout</span></span></span><br><span class="line"><span class="tag">   <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:orientation</span>=<span class="string">"vertical"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:gravity</span>=<span class="string">"center"</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">ImageView</span></span></span><br><span class="line"><span class="tag">       <span class="attr">android:id</span>=<span class="string">"@+id/imageview"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">       /&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">       <span class="attr">android:id</span>=<span class="string">"@+id/textview"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:gravity</span>=<span class="string">"center"</span></span></span><br><span class="line"><span class="tag">       /&gt;</span>    </span><br><span class="line"><span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">set</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 设置从右边拖进来的动画</span></span><br><span class="line"><span class="comment">    android:duration指定动画持续时间  --&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">translate</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:fromXDelta</span>=<span class="string">"100%p"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:toXDelta</span>=<span class="string">"0"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:duration</span>=<span class="string">"@android:integer/config_mediumAnimTime"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">set</span>&gt;</span></span><br><span class="line">left</span><br><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">set</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 设置从左边拖出去的动画 </span></span><br><span class="line"><span class="comment">    android:duration指定动画持续时间 --&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">translate</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:fromXDelta</span>=<span class="string">"0"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:toXDelta</span>=<span class="string">"-100%p"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:duration</span>=<span class="string">"@android:integer/config_mediumAnimTime"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">set</span>&gt;</span></span><br></pre></td></tr></table></figure><p><img src="https://s2.ax1x.com/2019/10/30/K4xkt0.png" alt="K4xkt0.png"></p><p>使用ViewSwitcher组合多个GridView，使用扩展BaseAdapter方式为GridView提供Adapter，使用screenNo保存当前正在显示第几屏程序列表，使用BaseAdapter根据screenNo动态计算Adapter总共包含多少个列表项。</p><h3 id="ImageSwitcher（图像切换器）"><a href="#ImageSwitcher（图像切换器）" class="headerlink" title="ImageSwitcher（图像切换器）"></a>ImageSwitcher（图像切换器）</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">LinearLayout</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:orientation</span>=<span class="string">"vertical"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:gravity</span>=<span class="string">"center_horizontal"</span>&gt;</span></span><br><span class="line">   <span class="comment">&lt;!-- 定义一个GridView组件 --&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">GridView</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:id</span>=<span class="string">"@+id/grid01"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:horizontalSpacing</span>=<span class="string">"2dp"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:verticalSpacing</span>=<span class="string">"2dp"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:numColumns</span>=<span class="string">"4"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:gravity</span>=<span class="string">"center"</span>/&gt;</span></span><br><span class="line">   <span class="comment">&lt;!-- 定义一个ImageSwitcher组件 --&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">ImageSwitcher</span> <span class="attr">android:id</span>=<span class="string">"@+id/switcher"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"300dp"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"300dp"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_gravity</span>=<span class="string">"center_horizontal"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:inAnimation</span>=<span class="string">"@android:anim/fade_in"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:outAnimation</span>=<span class="string">"@android:anim/fade_out"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.crazyit.ui;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.app.Activity;</span><br><span class="line"><span class="keyword">import</span> android.os.Bundle;</span><br><span class="line"><span class="keyword">import</span> android.view.View;</span><br><span class="line"><span class="keyword">import</span> android.view.ViewGroup.LayoutParams;</span><br><span class="line"><span class="keyword">import</span> android.widget.AdapterView;</span><br><span class="line"><span class="keyword">import</span> android.widget.AdapterView.OnItemClickListener;</span><br><span class="line"><span class="keyword">import</span> android.widget.AdapterView.OnItemSelectedListener;</span><br><span class="line"><span class="keyword">import</span> android.widget.ViewSwitcher.ViewFactory;</span><br><span class="line"><span class="keyword">import</span> android.widget.GridView;</span><br><span class="line"><span class="keyword">import</span> android.widget.ImageSwitcher;</span><br><span class="line"><span class="keyword">import</span> android.widget.ImageView;</span><br><span class="line"><span class="keyword">import</span> android.widget.SimpleAdapter;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">Activity</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">   <span class="keyword">int</span>[] imageIds = <span class="keyword">new</span> <span class="keyword">int</span>[]</span><br><span class="line">   &#123;</span><br><span class="line">      R.drawable.bomb5 , R.drawable.bomb6 , R.drawable.bomb7</span><br><span class="line">      , R.drawable.bomb8 , R.drawable.bomb9 , R.drawable.bomb10</span><br><span class="line">      , R.drawable.bomb11 , R.drawable.bomb12 , R.drawable.bomb13</span><br><span class="line">      , R.drawable.bomb14 , R.drawable.bomb15 , R.drawable.bomb16</span><br><span class="line">   &#125;;</span><br><span class="line">   ImageSwitcher switcher;</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">      setContentView(R.layout.main);</span><br><span class="line">      <span class="comment">// 创建一个List对象，List对象的元素是Map</span></span><br><span class="line">      List&lt;Map&lt;String, Object&gt;&gt; listItems =</span><br><span class="line">            <span class="keyword">new</span> ArrayList&lt;Map&lt;String, Object&gt;&gt;();</span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; imageIds.length; i++)</span><br><span class="line">      &#123;</span><br><span class="line">         Map&lt;String, Object&gt; listItem = <span class="keyword">new</span> HashMap&lt;String, Object&gt;();</span><br><span class="line">         listItem.put(<span class="string">"image"</span>, imageIds[i]);</span><br><span class="line">         listItems.add(listItem);</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="comment">// 获取显示图片的ImageSwitcher</span></span><br><span class="line">      switcher = (ImageSwitcher)</span><br><span class="line">            findViewById(R.id.switcher);</span><br><span class="line">      <span class="comment">// 为ImageSwitcher设置图片切换的动画效果</span></span><br><span class="line">      switcher.setFactory(<span class="keyword">new</span> ViewFactory()</span><br><span class="line">      &#123;</span><br><span class="line">         <span class="meta">@Override</span></span><br><span class="line">         <span class="function"><span class="keyword">public</span> View <span class="title">makeView</span><span class="params">()</span></span></span><br><span class="line"><span class="function">         </span>&#123;</span><br><span class="line">            <span class="comment">// 创建ImageView对象</span></span><br><span class="line">            ImageView imageView = <span class="keyword">new</span> ImageView(MainActivity.<span class="keyword">this</span>);</span><br><span class="line">            imageView.setScaleType(ImageView.ScaleType.FIT_CENTER);</span><br><span class="line">            imageView.setLayoutParams(<span class="keyword">new</span> ImageSwitcher.LayoutParams(</span><br><span class="line">                  LayoutParams.WRAP_CONTENT, LayoutParams.WRAP_CONTENT));</span><br><span class="line">            <span class="comment">// 返回ImageView对象</span></span><br><span class="line">            <span class="keyword">return</span> imageView;</span><br><span class="line">         &#125;</span><br><span class="line">      &#125;);</span><br><span class="line">      <span class="comment">// 创建一个SimpleAdapter</span></span><br><span class="line">      SimpleAdapter simpleAdapter = <span class="keyword">new</span> SimpleAdapter(<span class="keyword">this</span>,</span><br><span class="line">            listItems</span><br><span class="line">            <span class="comment">// 使用/layout/cell.xml文件作为界面布局</span></span><br><span class="line">            , R.layout.cell, <span class="keyword">new</span> String[]&#123;<span class="string">"image"</span>&#125;,</span><br><span class="line">            <span class="keyword">new</span> <span class="keyword">int</span>[] &#123; R.id.image1 &#125;);</span><br><span class="line">      GridView grid = (GridView) findViewById(R.id.grid01);</span><br><span class="line">      <span class="comment">// 为GridView设置Adapter</span></span><br><span class="line">      grid.setAdapter(simpleAdapter);</span><br><span class="line">      <span class="comment">// 添加列表项被选中的监听器</span></span><br><span class="line">      grid.setOnItemSelectedListener(<span class="keyword">new</span> OnItemSelectedListener()</span><br><span class="line">      &#123;</span><br><span class="line">         <span class="meta">@Override</span></span><br><span class="line">         <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onItemSelected</span><span class="params">(AdapterView&lt;?&gt; parent, View view,</span></span></span><br><span class="line"><span class="function"><span class="params">                              <span class="keyword">int</span> position, <span class="keyword">long</span> id)</span></span></span><br><span class="line"><span class="function">         </span>&#123;</span><br><span class="line">            <span class="comment">// 显示当前被选中的图片</span></span><br><span class="line">            switcher.setImageResource(imageIds[position]);</span><br><span class="line">         &#125;</span><br><span class="line">         <span class="meta">@Override</span></span><br><span class="line">         <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onNothingSelected</span><span class="params">(AdapterView&lt;?&gt; parent)</span></span></span><br><span class="line"><span class="function">         </span>&#123;</span><br><span class="line">         &#125;</span><br><span class="line">      &#125;);</span><br><span class="line">      <span class="comment">// 添加列表项被单击的监听器</span></span><br><span class="line">      grid.setOnItemClickListener(<span class="keyword">new</span> OnItemClickListener()</span><br><span class="line">      &#123;</span><br><span class="line">         <span class="meta">@Override</span></span><br><span class="line">         <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onItemClick</span><span class="params">(AdapterView&lt;?&gt; parent, View view,</span></span></span><br><span class="line"><span class="function"><span class="params">                           <span class="keyword">int</span> position, <span class="keyword">long</span> id)</span></span></span><br><span class="line"><span class="function">         </span>&#123;</span><br><span class="line">            <span class="comment">// 显示被单击的图片</span></span><br><span class="line">            switcher.setImageResource(imageIds[position]);</span><br><span class="line">         &#125;</span><br><span class="line">      &#125;);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://s2.ax1x.com/2019/10/30/K4xAhV.png" alt="K4xAhV.png"></p><p>通过inAnimation、outAnimation指定图片切换的动画效果为ImageSwitcher设置ViewFactory，通过绑定事件监听器监听单元格进行动画的切换效果</p><h3 id="TextSwitcher（文本切换器）"><a href="#TextSwitcher（文本切换器）" class="headerlink" title="TextSwitcher（文本切换器）"></a>TextSwitcher（文本切换器）</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8" ?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">LinearLayout</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span> &gt;</span></span><br><span class="line">   <span class="comment">&lt;!-- 定义一个TextSwitcher，并指定了文本切换时的动画效果 --&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">TextSwitcher</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:id</span>=<span class="string">"@+id/textSwitcher"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:inAnimation</span>=<span class="string">"@android:anim/slide_in_left"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:outAnimation</span>=<span class="string">"@android:anim/slide_out_right"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:onClick</span>=<span class="string">"next"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.crazyit.ui;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.app.Activity;</span><br><span class="line"><span class="keyword">import</span> android.graphics.Color;</span><br><span class="line"><span class="keyword">import</span> android.os.Bundle;</span><br><span class="line"><span class="keyword">import</span> android.view.Menu;</span><br><span class="line"><span class="keyword">import</span> android.view.MenuItem;</span><br><span class="line"><span class="keyword">import</span> android.view.View;</span><br><span class="line"><span class="keyword">import</span> android.widget.TextSwitcher;</span><br><span class="line"><span class="keyword">import</span> android.widget.TextView;</span><br><span class="line"><span class="keyword">import</span> android.widget.ViewSwitcher;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">Activity</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">   TextSwitcher textSwitcher;</span><br><span class="line">   String[] strs = <span class="keyword">new</span> String[]</span><br><span class="line">   &#123;</span><br><span class="line">      <span class="string">"ORM"</span>,</span><br><span class="line">      <span class="string">"CORBA"</span>,</span><br><span class="line">      <span class="string">"Web Service"</span>,</span><br><span class="line">      <span class="string">"RPC"</span></span><br><span class="line">   &#125;;</span><br><span class="line">   <span class="keyword">int</span> curStr;</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">      setContentView(R.layout.main);</span><br><span class="line">      textSwitcher = (TextSwitcher) findViewById(R.id.textSwitcher);</span><br><span class="line">      textSwitcher.setFactory(<span class="keyword">new</span> ViewSwitcher.ViewFactory()</span><br><span class="line">      &#123;</span><br><span class="line">         <span class="function"><span class="keyword">public</span> View <span class="title">makeView</span><span class="params">()</span></span></span><br><span class="line"><span class="function">         </span>&#123;</span><br><span class="line">            TextView tv = <span class="keyword">new</span> TextView(MainActivity.<span class="keyword">this</span>);</span><br><span class="line">            tv.setTextSize(<span class="number">40</span>);</span><br><span class="line">            tv.setTextColor(Color.MAGENTA);</span><br><span class="line">            <span class="keyword">return</span> tv;</span><br><span class="line">         &#125;</span><br><span class="line">      &#125;);</span><br><span class="line">      <span class="comment">// 调用next方法显示下一个字符串</span></span><br><span class="line">      next(<span class="keyword">null</span>);</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="comment">// 事件处理函数，控制显示下一个字符串</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">next</span><span class="params">(View source)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      textSwitcher.setText(strs[curStr++ % strs.length]);  <span class="comment">// ①</span></span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://s2.ax1x.com/2019/10/30/K4xVpT.png" alt="K4xVpT.png"></p><p>定义TextSwitcher并制定了文本切换的动画效果，再为TextSwitcher设置ViewFactory则可以正常运行</p><h3 id="ViewFlipper（切换控件）"><a href="#ViewFlipper（切换控件）" class="headerlink" title="ViewFlipper（切换控件）"></a>ViewFlipper（切换控件）</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">RelativeLayout</span></span></span><br><span class="line"><span class="tag">   <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">ViewFlipper</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:id</span>=<span class="string">"@+id/details"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:flipInterval</span>=<span class="string">"1000"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">ImageView</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:src</span>=<span class="string">"@drawable/java"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">ImageView</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">ImageView</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:src</span>=<span class="string">"@drawable/android"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">ImageView</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">ImageView</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:src</span>=<span class="string">"@drawable/javaee"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">ImageView</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">ViewFlipper</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:text</span>=<span class="string">"&amp;lt;"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:onClick</span>=<span class="string">"prev"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_alignParentBottom</span>=<span class="string">"true"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_alignParentLeft</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_alignParentBottom</span>=<span class="string">"true"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_centerInParent</span>=<span class="string">"true"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:onClick</span>=<span class="string">"auto"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:text</span>=<span class="string">"自动播放"</span>/&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:text</span>=<span class="string">"&amp;gt;"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:onClick</span>=<span class="string">"next"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_alignParentBottom</span>=<span class="string">"true"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_alignParentRight</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">RelativeLayout</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.crazyit.ui;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.app.Activity;</span><br><span class="line"><span class="keyword">import</span> android.os.Bundle;</span><br><span class="line"><span class="keyword">import</span> android.view.Menu;</span><br><span class="line"><span class="keyword">import</span> android.view.MenuItem;</span><br><span class="line"><span class="keyword">import</span> android.view.View;</span><br><span class="line"><span class="keyword">import</span> android.widget.ViewFlipper;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">Activity</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">   <span class="keyword">private</span> ViewFlipper viewFlipper;</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">      setContentView(R.layout.main);</span><br><span class="line">      viewFlipper = (ViewFlipper) findViewById(R.id.details);</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">prev</span><span class="params">(View source)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      viewFlipper.setInAnimation(<span class="keyword">this</span> , R.anim.slide_in_right);</span><br><span class="line">      viewFlipper.setOutAnimation(<span class="keyword">this</span> , R.anim.slide_out_left);</span><br><span class="line">      <span class="comment">// 显示上一个组件</span></span><br><span class="line">      viewFlipper.showPrevious();</span><br><span class="line">      <span class="comment">// 停止自动播放</span></span><br><span class="line">      viewFlipper.stopFlipping();</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">next</span><span class="params">(View source)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      viewFlipper.setInAnimation(<span class="keyword">this</span> , android.R.anim.slide_in_left);</span><br><span class="line">      viewFlipper.setOutAnimation(<span class="keyword">this</span> , android.R.anim.slide_out_right);</span><br><span class="line">      <span class="comment">// 显示下一个组件</span></span><br><span class="line">      viewFlipper.showNext();</span><br><span class="line">      <span class="comment">// 停止自动播放</span></span><br><span class="line">      viewFlipper.stopFlipping();</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">auto</span><span class="params">(View source)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      viewFlipper.setInAnimation(<span class="keyword">this</span> , android.R.anim.slide_in_left);</span><br><span class="line">      viewFlipper.setOutAnimation(<span class="keyword">this</span> , android.R.anim.slide_out_right);</span><br><span class="line">      <span class="comment">// 开始自动播放</span></span><br><span class="line">      viewFlipper.startFlipping();</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://s2.ax1x.com/2019/10/30/K5pmjS.png" alt="K5pmjS.png"></p><p>在ViewFlipper定义了三个ImageView，意味着ViewFlipper包含三个子组件，在Activity中调用ViewFlipper得showPrevious()、showNext()等方法来显示上一个、下一个组件。</p><h3 id="各种杂项控件"><a href="#各种杂项控件" class="headerlink" title="各种杂项控件"></a>各种杂项控件</h3><h3 id="Toast（提示信息框）"><a href="#Toast（提示信息框）" class="headerlink" title="Toast（提示信息框）"></a>Toast（提示信息框）</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.crazyit.ui;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.app.Activity;</span><br><span class="line"><span class="keyword">import</span> android.graphics.Color;</span><br><span class="line"><span class="keyword">import</span> android.os.Bundle;</span><br><span class="line"><span class="keyword">import</span> android.view.Gravity;</span><br><span class="line"><span class="keyword">import</span> android.view.Menu;</span><br><span class="line"><span class="keyword">import</span> android.view.MenuItem;</span><br><span class="line"><span class="keyword">import</span> android.view.View;</span><br><span class="line"><span class="keyword">import</span> android.view.View.OnClickListener;</span><br><span class="line"><span class="keyword">import</span> android.widget.Button;</span><br><span class="line"><span class="keyword">import</span> android.widget.ImageView;</span><br><span class="line"><span class="keyword">import</span> android.widget.LinearLayout;</span><br><span class="line"><span class="keyword">import</span> android.widget.TextView;</span><br><span class="line"><span class="keyword">import</span> android.widget.Toast;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">Activity</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">      setContentView(R.layout.main);</span><br><span class="line">      Button simple = (Button) findViewById(R.id.simple);</span><br><span class="line">      <span class="comment">// 为按钮的单击事件绑定事件监听器</span></span><br><span class="line">      simple.setOnClickListener(<span class="keyword">new</span> OnClickListener()</span><br><span class="line">      &#123;</span><br><span class="line">         <span class="meta">@Override</span></span><br><span class="line">         <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View source)</span></span></span><br><span class="line"><span class="function">         </span>&#123;</span><br><span class="line">            <span class="comment">// 创建一个Toast提示信息</span></span><br><span class="line">            Toast toast = Toast.makeText(MainActivity.<span class="keyword">this</span></span><br><span class="line">                  , <span class="string">"文字提示"</span></span><br><span class="line">                  <span class="comment">// 设置该Toast提示信息的持续时间</span></span><br><span class="line">                  , Toast.LENGTH_SHORT);</span><br><span class="line">            toast.show();</span><br><span class="line">         &#125;</span><br><span class="line">      &#125;);</span><br><span class="line">      Button bn = (Button) findViewById(R.id.bn);</span><br><span class="line">      <span class="comment">// 为按钮的单击事件绑定事件监听器</span></span><br><span class="line">      bn.setOnClickListener(<span class="keyword">new</span> OnClickListener()</span><br><span class="line">      &#123;</span><br><span class="line">         <span class="meta">@Override</span></span><br><span class="line">         <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View source)</span></span></span><br><span class="line"><span class="function">         </span>&#123;</span><br><span class="line">            <span class="comment">// 创建一个Toast提示信息</span></span><br><span class="line">            Toast toast = <span class="keyword">new</span> Toast(MainActivity.<span class="keyword">this</span>);</span><br><span class="line">            <span class="comment">// 设置Toast的显示位置</span></span><br><span class="line">            toast.setGravity(Gravity.CENTER, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">            <span class="comment">// 创建一个ImageView</span></span><br><span class="line">            ImageView image = <span class="keyword">new</span> ImageView(MainActivity.<span class="keyword">this</span>);</span><br><span class="line">            image.setImageResource(R.drawable.a);</span><br><span class="line">            <span class="comment">// 创建一个LinearLayout容器</span></span><br><span class="line">            LinearLayout ll = <span class="keyword">new</span> LinearLayout(MainActivity.<span class="keyword">this</span>);</span><br><span class="line">            <span class="comment">// 向LinearLayout中添加图片、原有的View</span></span><br><span class="line">            ll.addView(image);</span><br><span class="line">            <span class="comment">// 创建一个TextView</span></span><br><span class="line">            TextView textView = <span class="keyword">new</span> TextView(MainActivity.<span class="keyword">this</span>);</span><br><span class="line">            textView.setText(<span class="string">"图片提示"</span>);</span><br><span class="line">            <span class="comment">// 设置文本框内字号的大小和字体颜色</span></span><br><span class="line">            textView.setTextSize(<span class="number">24</span>);</span><br><span class="line">            textView.setTextColor(Color.MAGENTA);</span><br><span class="line">            ll.addView(textView);</span><br><span class="line">            <span class="comment">// 设置Toast显示自定义View</span></span><br><span class="line">            toast.setView(ll);</span><br><span class="line">            <span class="comment">// 设置Toast的显示时间</span></span><br><span class="line">            toast.setDuration(Toast.LENGTH_LONG);</span><br><span class="line">            toast.show();</span><br><span class="line">         &#125;</span><br><span class="line">      &#125;);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://s2.ax1x.com/2019/10/30/K5pAht.png" alt="K5pAht.png"></p><p><img src="https://s2.ax1x.com/2019/10/30/K5pV9P.png" alt="K5pV9P.png"></p><p>一个按钮用于激发文字提示，一个按钮用于激发图片提示，需要调用Toast对象得setView()方法来改变该Toast对象得内容View</p><h3 id="CalendarView（日历视图）"><a href="#CalendarView（日历视图）" class="headerlink" title="CalendarView（日历视图）"></a>CalendarView（日历视图）</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">LinearLayout</span></span></span><br><span class="line"><span class="tag">   <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:orientation</span>=<span class="string">"vertical"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:text</span>=<span class="string">"选择您的生日："</span>/&gt;</span></span><br><span class="line">   <span class="comment">&lt;!-- 设置以星期二作为每周第一天</span></span><br><span class="line"><span class="comment">   设置该组件总共显示4个星期</span></span><br><span class="line"><span class="comment">   并对该组件的日期时间进行了定制 --&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">CalendarView</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:firstDayOfWeek</span>=<span class="string">"3"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:shownWeekCount</span>=<span class="string">"4"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:selectedWeekBackgroundColor</span>=<span class="string">"#aff"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:focusedMonthDateColor</span>=<span class="string">"#f00"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:weekSeparatorLineColor</span>=<span class="string">"#ff0"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:unfocusedMonthDateColor</span>=<span class="string">"#f9f"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:id</span>=<span class="string">"@+id/calendarView"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.crazyit.ui;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.app.Activity;</span><br><span class="line"><span class="keyword">import</span> android.os.Bundle;</span><br><span class="line"><span class="keyword">import</span> android.view.Menu;</span><br><span class="line"><span class="keyword">import</span> android.view.MenuItem;</span><br><span class="line"><span class="keyword">import</span> android.widget.CalendarView;</span><br><span class="line"><span class="keyword">import</span> android.widget.CalendarView.OnDateChangeListener;</span><br><span class="line"><span class="keyword">import</span> android.widget.Toast;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">Activity</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">   CalendarView cv;</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">      setContentView(R.layout.main);</span><br><span class="line">      cv = (CalendarView)findViewById(R.id.calendarView);</span><br><span class="line">      <span class="comment">// 为CalendarView组件的日期改变事件添加事件监听器</span></span><br><span class="line">      cv.setOnDateChangeListener(<span class="keyword">new</span> OnDateChangeListener()</span><br><span class="line">      &#123;</span><br><span class="line">         <span class="meta">@Override</span></span><br><span class="line">         <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onSelectedDayChange</span><span class="params">(CalendarView view, <span class="keyword">int</span> year,</span></span></span><br><span class="line"><span class="function"><span class="params">            <span class="keyword">int</span> month, <span class="keyword">int</span> dayOfMonth)</span></span></span><br><span class="line"><span class="function">         </span>&#123;</span><br><span class="line">            <span class="comment">// 使用Toast显示用户选择的日期</span></span><br><span class="line">            Toast.makeText(MainActivity.<span class="keyword">this</span>,</span><br><span class="line">                  <span class="string">"你生日是"</span> + year + <span class="string">"年"</span> + month + <span class="string">"月"</span></span><br><span class="line">                        + dayOfMonth + <span class="string">"日"</span>,</span><br><span class="line">                  Toast.LENGTH_SHORT).show();</span><br><span class="line">         &#125;</span><br><span class="line">      &#125;);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://s2.ax1x.com/2019/10/30/K5pZ1f.png" alt="K5pZ1f.png"></p><p>添加DatePicker、TimePicker来选择日期、时间，使用EditText来显示选择得日期、时间。绑定监听器，当选择日期、时间时、监听器负责使用EditText显示所选得时间、日期</p><h3 id="DatePicker（日期选择器）-amp-TimePicker（时间选择器）"><a href="#DatePicker（日期选择器）-amp-TimePicker（时间选择器）" class="headerlink" title="DatePicker（日期选择器）&amp;TimePicker（时间选择器）"></a>DatePicker（日期选择器）&amp;TimePicker（时间选择器）</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">LinearLayout</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:orientation</span>=<span class="string">"vertical"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:text</span>=<span class="string">"选择购买本书的具体时间"</span>/&gt;</span></span><br><span class="line">   <span class="comment">&lt;!-- 定义一个DatePicker组件 --&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">DatePicker</span> <span class="attr">android:id</span>=<span class="string">"@+id/datePicker"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"200dp"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_gravity</span>=<span class="string">"center_horizontal"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:startYear</span>=<span class="string">"2000"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:endYear</span>=<span class="string">"2016"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:calendarViewShown</span>=<span class="string">"true"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:spinnersShown</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line">   <span class="comment">&lt;!-- 定义一个TimePicker组件 --&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">TimePicker</span> <span class="attr">android:id</span>=<span class="string">"@+id/timePicker"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"100dp"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_gravity</span>=<span class="string">"center_horizontal"</span>/&gt;</span></span><br><span class="line">   <span class="comment">&lt;!-- 显示用户输入日期、时间的控件 --&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">EditText</span> <span class="attr">android:id</span>=<span class="string">"@+id/show"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:editable</span>=<span class="string">"false"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:cursorVisible</span>=<span class="string">"false"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.crazyit.ui;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.app.Activity;</span><br><span class="line"><span class="keyword">import</span> android.os.Bundle;</span><br><span class="line"><span class="keyword">import</span> android.view.Menu;</span><br><span class="line"><span class="keyword">import</span> android.view.MenuItem;</span><br><span class="line"><span class="keyword">import</span> android.widget.DatePicker;</span><br><span class="line"><span class="keyword">import</span> android.widget.DatePicker.OnDateChangedListener;</span><br><span class="line"><span class="keyword">import</span> android.widget.EditText;</span><br><span class="line"><span class="keyword">import</span> android.widget.TimePicker;</span><br><span class="line"><span class="keyword">import</span> android.widget.TimePicker.OnTimeChangedListener;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Calendar;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">Activity</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">   <span class="comment">// 定义5个记录当前时间的变量</span></span><br><span class="line">   <span class="keyword">private</span> <span class="keyword">int</span> year;</span><br><span class="line">   <span class="keyword">private</span> <span class="keyword">int</span> month;</span><br><span class="line">   <span class="keyword">private</span> <span class="keyword">int</span> day;</span><br><span class="line">   <span class="keyword">private</span> <span class="keyword">int</span> hour;</span><br><span class="line">   <span class="keyword">private</span> <span class="keyword">int</span> minute;</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">      setContentView(R.layout.main);</span><br><span class="line">      DatePicker datePicker = (DatePicker)</span><br><span class="line">            findViewById(R.id.datePicker);</span><br><span class="line">      TimePicker timePicker = (TimePicker)</span><br><span class="line">            findViewById(R.id.timePicker);</span><br><span class="line">      <span class="comment">// 获取当前的年、月、日、小时、分钟</span></span><br><span class="line">      Calendar c = Calendar.getInstance();</span><br><span class="line">      year = c.get(Calendar.YEAR);</span><br><span class="line">      month = c.get(Calendar.MONTH);</span><br><span class="line">      day = c.get(Calendar.DAY_OF_MONTH);</span><br><span class="line">      hour = c.get(Calendar.HOUR);</span><br><span class="line">      minute = c.get(Calendar.MINUTE);</span><br><span class="line">      <span class="comment">// 初始化DatePicker组件，初始化时指定监听器</span></span><br><span class="line">      datePicker.init(year, month, day, <span class="keyword">new</span> OnDateChangedListener()</span><br><span class="line">      &#123;</span><br><span class="line">         <span class="meta">@Override</span></span><br><span class="line">         <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onDateChanged</span><span class="params">(DatePicker arg0, <span class="keyword">int</span> year</span></span></span><br><span class="line"><span class="function"><span class="params">               , <span class="keyword">int</span> month, <span class="keyword">int</span> day)</span></span></span><br><span class="line"><span class="function">         </span>&#123;</span><br><span class="line">            MainActivity.<span class="keyword">this</span>.year = year;</span><br><span class="line">            MainActivity.<span class="keyword">this</span>.month = month;</span><br><span class="line">            MainActivity.<span class="keyword">this</span>.day = day;</span><br><span class="line">            <span class="comment">// 显示当前日期、时间</span></span><br><span class="line">            showDate(year, month, day, hour, minute);</span><br><span class="line">         &#125;</span><br><span class="line">      &#125;);</span><br><span class="line">      timePicker.setEnabled(<span class="keyword">true</span>);</span><br><span class="line">      <span class="comment">// 为TimePicker指定监听器</span></span><br><span class="line">      timePicker.setOnTimeChangedListener(<span class="keyword">new</span> OnTimeChangedListener()</span><br><span class="line">      &#123;</span><br><span class="line">         <span class="meta">@Override</span></span><br><span class="line">         <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onTimeChanged</span><span class="params">(TimePicker view</span></span></span><br><span class="line"><span class="function"><span class="params">               , <span class="keyword">int</span> hourOfDay, <span class="keyword">int</span> minute)</span></span></span><br><span class="line"><span class="function">         </span>&#123;</span><br><span class="line">            MainActivity.<span class="keyword">this</span>.hour = hourOfDay;</span><br><span class="line">            MainActivity.<span class="keyword">this</span>.minute = minute;</span><br><span class="line">            <span class="comment">// 显示当前日期、时间</span></span><br><span class="line">            showDate(year, month, day, hour, minute);</span><br><span class="line">         &#125;</span><br><span class="line">      &#125;);</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="comment">// 定义在EditText中显示当前日期、时间的方法</span></span><br><span class="line">   <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">showDate</span><span class="params">(<span class="keyword">int</span> year, <span class="keyword">int</span> month</span></span></span><br><span class="line"><span class="function"><span class="params">         , <span class="keyword">int</span> day, <span class="keyword">int</span> hour, <span class="keyword">int</span> minute)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      EditText show = (EditText) findViewById(R.id.show);</span><br><span class="line">      show.setText(<span class="string">"接触安卓的时间为："</span> + year + <span class="string">"年"</span></span><br><span class="line">            + (month + <span class="number">1</span>) + <span class="string">"月"</span> + day + <span class="string">"日  "</span></span><br><span class="line">            + hour + <span class="string">"时"</span> + minute + <span class="string">"分"</span>);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://s2.ax1x.com/2019/10/30/K5pec8.png" alt="K5pec8.png"></p><p>tianjia DatePicker、TimePicker用于选择日期、时间，还包含EditText用于显示日期、时间，绑定事件监听器，当监听器触发时，使用EditText显示选择得日期、时间</p><h3 id="NumberPicker（数值选择器）"><a href="#NumberPicker（数值选择器）" class="headerlink" title="NumberPicker（数值选择器）"></a>NumberPicker（数值选择器）</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">TableLayout</span></span></span><br><span class="line"><span class="tag">   <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">TableRow</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:text</span>=<span class="string">"选择低价："</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_width</span>=<span class="string">"120dp"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span> /&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">NumberPicker</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:id</span>=<span class="string">"@+id/np1"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_height</span>=<span class="string">"80dp"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:focusable</span>=<span class="string">"true"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:focusableInTouchMode</span>=<span class="string">"true"</span> /&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">TableRow</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">TableRow</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:text</span>=<span class="string">"选择高价："</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_width</span>=<span class="string">"120dp"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span> /&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">NumberPicker</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:id</span>=<span class="string">"@+id/np2"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_height</span>=<span class="string">"80dp"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:focusable</span>=<span class="string">"true"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:focusableInTouchMode</span>=<span class="string">"true"</span> /&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">TableRow</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">TableLayout</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.crazyit.ui;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.app.Activity;</span><br><span class="line"><span class="keyword">import</span> android.os.Bundle;</span><br><span class="line"><span class="keyword">import</span> android.view.Menu;</span><br><span class="line"><span class="keyword">import</span> android.view.MenuItem;</span><br><span class="line"><span class="keyword">import</span> android.widget.NumberPicker;</span><br><span class="line"><span class="keyword">import</span> android.widget.NumberPicker.OnValueChangeListener;</span><br><span class="line"><span class="keyword">import</span> android.widget.Toast;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">Activity</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">   NumberPicker np1, np2;</span><br><span class="line">   <span class="comment">// 定义最低价格、最高价格的初始值</span></span><br><span class="line">   <span class="keyword">int</span> minPrice = <span class="number">25</span>, maxPrice = <span class="number">75</span>;</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">      setContentView(R.layout.main);</span><br><span class="line">      np1 = (NumberPicker) findViewById(R.id.np1);</span><br><span class="line">      <span class="comment">// 设置np1的最小值和最大值</span></span><br><span class="line">      np1.setMinValue(<span class="number">10</span>);</span><br><span class="line">      np1.setMaxValue(<span class="number">50</span>);</span><br><span class="line">      <span class="comment">// 设置np1的当前值</span></span><br><span class="line">      np1.setValue(minPrice);</span><br><span class="line">      np1.setOnValueChangedListener(<span class="keyword">new</span> OnValueChangeListener()</span><br><span class="line">      &#123;</span><br><span class="line">         <span class="comment">// 当NumberPicker的值发生改变时，将会激发该方法</span></span><br><span class="line">         <span class="meta">@Override</span></span><br><span class="line">         <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onValueChange</span><span class="params">(NumberPicker picker,</span></span></span><br><span class="line"><span class="function"><span class="params">            <span class="keyword">int</span> oldVal, <span class="keyword">int</span> newVal)</span></span></span><br><span class="line"><span class="function">         </span>&#123;</span><br><span class="line">            minPrice = newVal;</span><br><span class="line">            showSelectedPrice();</span><br><span class="line">         &#125;</span><br><span class="line">      &#125;);</span><br><span class="line">      np2 = (NumberPicker) findViewById(R.id.np2);</span><br><span class="line">      <span class="comment">// 设置np2的最小值和最大值</span></span><br><span class="line">      np2.setMinValue(<span class="number">60</span>);</span><br><span class="line">      np2.setMaxValue(<span class="number">100</span>);</span><br><span class="line">      <span class="comment">// 设置np2的当前值</span></span><br><span class="line">      np2.setValue(maxPrice);</span><br><span class="line">      np2.setOnValueChangedListener(<span class="keyword">new</span> OnValueChangeListener()</span><br><span class="line">      &#123;</span><br><span class="line">         <span class="comment">// 当NumberPicker的值发生改变时，将会激发该方法</span></span><br><span class="line">         <span class="meta">@Override</span></span><br><span class="line">         <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onValueChange</span><span class="params">(NumberPicker picker, <span class="keyword">int</span> oldVal,</span></span></span><br><span class="line"><span class="function"><span class="params">                             <span class="keyword">int</span> newVal)</span></span></span><br><span class="line"><span class="function">         </span>&#123;</span><br><span class="line">            maxPrice = newVal;</span><br><span class="line">            showSelectedPrice();</span><br><span class="line">         &#125;</span><br><span class="line">      &#125;);</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">showSelectedPrice</span><span class="params">()</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      Toast.makeText(<span class="keyword">this</span>, <span class="string">"您选择最低价格为："</span> + minPrice</span><br><span class="line">            + <span class="string">",最高价格为："</span> + maxPrice, Toast.LENGTH_SHORT)</span><br><span class="line">            .show();</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://s2.ax1x.com/2019/10/30/K5pung.png" alt="K5pung.png"></p><p>定义了两个NumberPicker并通过setMinValue()、setMaxValue()、setValue()为这两个NumberPicker设置最小值、最大值、当前值，并为最大值和最小值绑定监听器</p><h3 id="SearchView（搜索框）"><a href="#SearchView（搜索框）" class="headerlink" title="SearchView（搜索框）"></a>SearchView（搜索框）</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">LinearLayout</span></span></span><br><span class="line"><span class="tag">   <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:orientation</span>=<span class="string">"vertical"</span>&gt;</span></span><br><span class="line">   <span class="comment">&lt;!-- 定义一个SearchView --&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">SearchView</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:id</span>=<span class="string">"@+id/sv"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span>/&gt;</span></span><br><span class="line">   <span class="comment">&lt;!-- 为SearchView定义自动完成的ListView--&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">ListView</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:id</span>=<span class="string">"@+id/lv"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"0dp"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_weight</span>=<span class="string">"1"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.crazyit.ui;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.app.Activity;</span><br><span class="line"><span class="keyword">import</span> android.os.Bundle;</span><br><span class="line"><span class="keyword">import</span> android.text.TextUtils;</span><br><span class="line"><span class="keyword">import</span> android.view.Menu;</span><br><span class="line"><span class="keyword">import</span> android.view.MenuItem;</span><br><span class="line"><span class="keyword">import</span> android.widget.ArrayAdapter;</span><br><span class="line"><span class="keyword">import</span> android.widget.ListView;</span><br><span class="line"><span class="keyword">import</span> android.widget.SearchView;</span><br><span class="line"><span class="keyword">import</span> android.widget.SearchView.OnQueryTextListener;</span><br><span class="line"><span class="keyword">import</span> android.widget.Toast;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">Activity</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">   <span class="keyword">private</span> SearchView sv;</span><br><span class="line">   <span class="keyword">private</span> ListView lv;</span><br><span class="line">   <span class="comment">// 自动完成的列表</span></span><br><span class="line">   <span class="keyword">private</span> <span class="keyword">final</span> String[] mStrings = &#123; <span class="string">"aaaaa"</span>, <span class="string">"bbbbbb"</span>, <span class="string">"cccccc"</span> &#125;;</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">      setContentView(R.layout.main);</span><br><span class="line">      lv = (ListView) findViewById(R.id.lv);</span><br><span class="line">      lv.setAdapter(<span class="keyword">new</span> ArrayAdapter&lt;String&gt;(<span class="keyword">this</span>,</span><br><span class="line">            android.R.layout.simple_list_item_1, mStrings));</span><br><span class="line">      <span class="comment">// 设置ListView启用过滤</span></span><br><span class="line">      lv.setTextFilterEnabled(<span class="keyword">true</span>);</span><br><span class="line">      sv = (SearchView) findViewById(R.id.sv);</span><br><span class="line">      <span class="comment">// 设置该SearchView默认是否自动缩小为图标</span></span><br><span class="line">      sv.setIconifiedByDefault(<span class="keyword">false</span>);</span><br><span class="line">      <span class="comment">// 设置该SearchView显示搜索按钮</span></span><br><span class="line">      sv.setSubmitButtonEnabled(<span class="keyword">true</span>);</span><br><span class="line">      <span class="comment">// 设置该SearchView内默认显示的提示文本</span></span><br><span class="line">      sv.setQueryHint(<span class="string">"查找"</span>);</span><br><span class="line">      <span class="comment">// 为该SearchView组件设置事件监听器</span></span><br><span class="line">      sv.setOnQueryTextListener(<span class="keyword">new</span> OnQueryTextListener()</span><br><span class="line">      &#123;</span><br><span class="line">         <span class="comment">// 用户输入字符时激发该方法</span></span><br><span class="line">         <span class="meta">@Override</span></span><br><span class="line">         <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">onQueryTextChange</span><span class="params">(String newText)</span></span></span><br><span class="line"><span class="function">         </span>&#123;</span><br><span class="line">            <span class="comment">// 如果newText不是长度为0的字符串</span></span><br><span class="line">            <span class="keyword">if</span> (TextUtils.isEmpty(newText))</span><br><span class="line">            &#123;</span><br><span class="line">               <span class="comment">// 清除ListView的过滤</span></span><br><span class="line">               lv.clearTextFilter();</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">               <span class="comment">// 使用用户输入的内容对ListView的列表项进行过滤</span></span><br><span class="line">               lv.setFilterText(newText);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">         &#125;</span><br><span class="line">         <span class="comment">// 单击搜索按钮时激发该方法</span></span><br><span class="line">         <span class="meta">@Override</span></span><br><span class="line">         <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">onQueryTextSubmit</span><span class="params">(String query)</span></span></span><br><span class="line"><span class="function">         </span>&#123;</span><br><span class="line">            <span class="comment">// 实际应用中应该在该方法内执行实际查询</span></span><br><span class="line">            <span class="comment">// 此处仅使用Toast显示用户输入的查询内容</span></span><br><span class="line">            Toast.makeText(MainActivity.<span class="keyword">this</span>, <span class="string">"您的选择是:"</span> + query</span><br><span class="line">                  , Toast.LENGTH_SHORT).show();</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">         &#125;</span><br><span class="line">      &#125;);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://s2.ax1x.com/2019/10/30/K5pKBQ.png" alt="K5pKBQ.png"></p><p>定义SearchView组件，并为该组件定义ListView组件，用于显示自动完成列表。设置监听器，并未组件恰东了搜索按钮，重写onQueryTextChange()、onQueryTextSubmit()方法用于SearchView时间提供响应</p><h3 id="TabHost（选项卡）"><a href="#TabHost（选项卡）" class="headerlink" title="TabHost（选项卡）"></a>TabHost（选项卡）</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">TabHost</span></span></span><br><span class="line"><span class="tag">   <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:id</span>=<span class="string">"@android:id/tabhost"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_weight</span>=<span class="string">"1"</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">LinearLayout</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:orientation</span>=<span class="string">"vertical"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">TabWidget</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:id</span>=<span class="string">"@android:id/tabs"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">FrameLayout</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:id</span>=<span class="string">"@android:id/tabcontent"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span>&gt;</span></span><br><span class="line">         <span class="comment">&lt;!-- 定义第一个标签页的内容 --&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">LinearLayout</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:id</span>=<span class="string">"@+id/tab01"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:orientation</span>=<span class="string">"vertical"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">               <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">               <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">               <span class="attr">android:text</span>=<span class="string">"钢铁侠 - 2019/05/01"</span></span></span><br><span class="line"><span class="tag">               <span class="attr">android:textSize</span>=<span class="string">"11pt"</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">               <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">               <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">               <span class="attr">android:text</span>=<span class="string">"绿巨人 - 2019/05/02"</span></span></span><br><span class="line"><span class="tag">               <span class="attr">android:textSize</span>=<span class="string">"11pt"</span> /&gt;</span></span><br><span class="line">         <span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br><span class="line">         <span class="comment">&lt;!-- 定义第二个标签页的内容 --&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">LinearLayout</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:id</span>=<span class="string">"@+id/tab02"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:orientation</span>=<span class="string">"vertical"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">               <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">               <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">               <span class="attr">android:text</span>=<span class="string">"美国队长  - 2019/04/30"</span></span></span><br><span class="line"><span class="tag">               <span class="attr">android:textSize</span>=<span class="string">"11pt"</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">               <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">               <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">               <span class="attr">android:text</span>=<span class="string">"黑寡妇 - 2019/04/29"</span></span></span><br><span class="line"><span class="tag">               <span class="attr">android:textSize</span>=<span class="string">"11pt"</span> /&gt;</span></span><br><span class="line">         <span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br><span class="line">         <span class="comment">&lt;!-- 定义第三个标签页的内容 --&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">LinearLayout</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:id</span>=<span class="string">"@+id/tab03"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:orientation</span>=<span class="string">"vertical"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:textSize</span>=<span class="string">"11pt"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">               <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">               <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">               <span class="attr">android:text</span>=<span class="string">"惊奇队长 - 2019/05/03"</span></span></span><br><span class="line"><span class="tag">               <span class="attr">android:textSize</span>=<span class="string">"11pt"</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">               <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">               <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">               <span class="attr">android:text</span>=<span class="string">"雷神  - 2019/05/04"</span></span></span><br><span class="line"><span class="tag">               <span class="attr">android:textSize</span>=<span class="string">"11pt"</span> /&gt;</span></span><br><span class="line">         <span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">FrameLayout</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">TabHost</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.crazyit.ui;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.app.TabActivity;</span><br><span class="line"><span class="keyword">import</span> android.os.Bundle;</span><br><span class="line"><span class="keyword">import</span> android.widget.TabHost;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">TabActivity</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">      setContentView(R.layout.main);</span><br><span class="line">      <span class="comment">// 获取该Activity里面的TabHost组件</span></span><br><span class="line">      TabHost tabHost = getTabHost();</span><br><span class="line">      <span class="comment">// 创建第一个Tab页</span></span><br><span class="line">      TabHost.TabSpec tab1 = tabHost.newTabSpec(<span class="string">"tab1"</span>)</span><br><span class="line">            .setIndicator(<span class="string">"已接电话"</span>) <span class="comment">// 设置标题</span></span><br><span class="line">            .setContent(R.id.tab01); <span class="comment">//设置内容</span></span><br><span class="line">      <span class="comment">// 添加第一个标签页</span></span><br><span class="line">      tabHost.addTab(tab1);</span><br><span class="line">      TabHost.TabSpec tab2 = tabHost.newTabSpec(<span class="string">"tab2"</span>)</span><br><span class="line">            <span class="comment">// 在标签标题上放置图标</span></span><br><span class="line">            .setIndicator(<span class="string">"呼出电话"</span>, getResources()</span><br><span class="line">                  .getDrawable(R.drawable.ic_launcher))</span><br><span class="line">            .setContent(R.id.tab02);</span><br><span class="line">      <span class="comment">// 添加第二个标签页</span></span><br><span class="line">      tabHost.addTab(tab2);</span><br><span class="line">      TabHost.TabSpec tab3 = tabHost.newTabSpec(<span class="string">"tab3"</span>)</span><br><span class="line">            .setIndicator(<span class="string">"未接电话"</span>)</span><br><span class="line">            .setContent(R.id.tab03);</span><br><span class="line">      <span class="comment">// 添加第三个标签页</span></span><br><span class="line">      tabHost.addTab(tab3);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://s2.ax1x.com/2019/10/30/K5pM7j.png" alt="K5pM7j.png"></p><p><img src="https://s2.ax1x.com/2019/10/30/K5plAs.png" alt="K5plAs.png"></p><p><img src="https://s2.ax1x.com/2019/10/30/K5p1Nn.png" alt="K5p1Nn.png"></p><p>TabHost容器组合了TabWidget和FrameLayout。其中TabWidget用于定义选项卡的标题条、FrameLayout用于“折叠组合多个选项页面。使用setConnect()方法设置标签页内容</p><h3 id="ScrollView（滚动视图）"><a href="#ScrollView（滚动视图）" class="headerlink" title="ScrollView（滚动视图）"></a>ScrollView（滚动视图）</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 定义ScrollView，为里面的组件添加垂直滚动条 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">ScrollView</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 定义HorizontalScrollView，为里面的组件添加水平滚动条 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">HorizontalScrollView</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">LinearLayout</span> <span class="attr">android:orientation</span>=<span class="string">"vertical"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">TextView</span> <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span> </span></span><br><span class="line"><span class="tag">   <span class="attr">android:text</span>=<span class="string">"Python"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:textSize</span>=<span class="string">"30dp"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">TextView</span> <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span> </span></span><br><span class="line"><span class="tag">   <span class="attr">android:text</span>=<span class="string">"Python"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:textSize</span>=<span class="string">"30dp"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">TextView</span> <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span> </span></span><br><span class="line"><span class="tag">   <span class="attr">android:text</span>=<span class="string">"Python"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:textSize</span>=<span class="string">"30dp"</span> /&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">TextView</span> <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:text</span>=<span class="string">"Python"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:textSize</span>=<span class="string">"30dp"</span> /&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">TextView</span> <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:text</span>=<span class="string">"Python"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:textSize</span>=<span class="string">"30dp"</span> /&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">TextView</span> <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:text</span>=<span class="string">"Python"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:textSize</span>=<span class="string">"30dp"</span> /&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">TextView</span> <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:text</span>=<span class="string">"Python"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:textSize</span>=<span class="string">"30dp"</span> /&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">TextView</span> <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:text</span>=<span class="string">"Python"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:textSize</span>=<span class="string">"30dp"</span> /&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">TextView</span> <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:text</span>=<span class="string">"Python"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:textSize</span>=<span class="string">"30dp"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">TextView</span> <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span> </span></span><br><span class="line"><span class="tag">   <span class="attr">android:text</span>=<span class="string">"Python"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:textSize</span>=<span class="string">"30dp"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">TextView</span> <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span> </span></span><br><span class="line"><span class="tag">   <span class="attr">android:text</span>=<span class="string">"Python"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:textSize</span>=<span class="string">"30dp"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">TextView</span> <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span> </span></span><br><span class="line"><span class="tag">   <span class="attr">android:text</span>=<span class="string">"Python"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:textSize</span>=<span class="string">"30dp"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">TextView</span> <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span> </span></span><br><span class="line"><span class="tag">   <span class="attr">android:text</span>=<span class="string">"Python"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:textSize</span>=<span class="string">"30dp"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">TextView</span> <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span> </span></span><br><span class="line"><span class="tag">   <span class="attr">android:text</span>=<span class="string">"Python"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:textSize</span>=<span class="string">"30dp"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">TextView</span> <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span> </span></span><br><span class="line"><span class="tag">   <span class="attr">android:text</span>=<span class="string">"Python"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:textSize</span>=<span class="string">"30dp"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">TextView</span> <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span> </span></span><br><span class="line"><span class="tag">   <span class="attr">android:text</span>=<span class="string">"Python"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:textSize</span>=<span class="string">"30dp"</span> /&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">TextView</span> <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span> </span></span><br><span class="line"><span class="tag">   <span class="attr">android:text</span>=<span class="string">"Python"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:textSize</span>=<span class="string">"30dp"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">TextView</span> <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span> </span></span><br><span class="line"><span class="tag">   <span class="attr">android:text</span>=<span class="string">"Python"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:textSize</span>=<span class="string">"30dp"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">TextView</span> <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span> </span></span><br><span class="line"><span class="tag">   <span class="attr">android:text</span>=<span class="string">"Python"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:textSize</span>=<span class="string">"30dp"</span> /&gt;</span>             </span><br><span class="line"><span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">HorizontalScrollView</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ScrollView</span>&gt;</span></span><br></pre></td></tr></table></figure><p><img src="https://s2.ax1x.com/2019/10/30/K5p3hq.png" alt="K5p3hq.png"></p><p>实现垂直水平滚动</p><h3 id="Notification（手机状态栏）"><a href="#Notification（手机状态栏）" class="headerlink" title="Notification（手机状态栏）"></a>Notification（手机状态栏）</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.crazyit.ui;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.app.Activity;</span><br><span class="line"><span class="keyword">import</span> android.app.Notification;</span><br><span class="line"><span class="keyword">import</span> android.app.NotificationManager;</span><br><span class="line"><span class="keyword">import</span> android.app.PendingIntent;</span><br><span class="line"><span class="keyword">import</span> android.content.Intent;</span><br><span class="line"><span class="keyword">import</span> android.net.Uri;</span><br><span class="line"><span class="keyword">import</span> android.os.Bundle;</span><br><span class="line"><span class="keyword">import</span> android.view.View;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">Activity</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">   <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> NOTIFICATION_ID = <span class="number">0x123</span>;</span><br><span class="line">   NotificationManager nm;</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">      setContentView(R.layout.main);</span><br><span class="line">      <span class="comment">// 获取系统的NotificationManager服务</span></span><br><span class="line">      nm = (NotificationManager)</span><br><span class="line">            getSystemService(NOTIFICATION_SERVICE);</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="comment">// 为发送通知的按钮的点击事件定义事件处理方法</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">send</span><span class="params">(View source)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      <span class="comment">// 创建一个启动其他Activity的Intent</span></span><br><span class="line">      Intent intent = <span class="keyword">new</span> Intent(MainActivity.<span class="keyword">this</span></span><br><span class="line">            , OtherActivity.class);</span><br><span class="line">      PendingIntent pi = PendingIntent.getActivity(</span><br><span class="line">            MainActivity.<span class="keyword">this</span>, <span class="number">0</span>, intent, <span class="number">0</span>);</span><br><span class="line">      Notification notify = <span class="keyword">new</span> Notification.Builder(<span class="keyword">this</span>)</span><br><span class="line">         <span class="comment">// 设置打开该通知，该通知自动消失</span></span><br><span class="line">         .setAutoCancel(<span class="keyword">true</span>)</span><br><span class="line">         <span class="comment">// 设置显示在状态栏的通知提示信息</span></span><br><span class="line">         .setTicker(<span class="string">"有新消息"</span>)</span><br><span class="line">         <span class="comment">// 设置通知的图标</span></span><br><span class="line">         .setSmallIcon(R.drawable.notify)</span><br><span class="line">         <span class="comment">// 设置通知内容的标题</span></span><br><span class="line">         .setContentTitle(<span class="string">"一条新通知"</span>)</span><br><span class="line">         <span class="comment">// 设置通知内容</span></span><br><span class="line">         .setContentText(<span class="string">"恭喜你，您获得了人民奖学金一等奖"</span>)</span><br><span class="line">         <span class="comment">// 设置使用系统默认的声音、默认LED灯</span></span><br><span class="line">         <span class="comment">// .setDefaults(Notification.DEFAULT_SOUND</span></span><br><span class="line">         <span class="comment">// |Notification.DEFAULT_LIGHTS)</span></span><br><span class="line">         <span class="comment">// 设置通知的自定义声音</span></span><br><span class="line">         .setSound(Uri.parse(<span class="string">"android.resource://org.crazyit.ui/"</span></span><br><span class="line">            + R.raw.msg))</span><br><span class="line">         .setWhen(System.currentTimeMillis())</span><br><span class="line">         <span class="comment">// 设改通知将要启动程序的Intent</span></span><br><span class="line">         .setContentIntent(pi)  <span class="comment">// ①</span></span><br><span class="line">         .build();</span><br><span class="line">      <span class="comment">// 发送通知</span></span><br><span class="line">      nm.notify(NOTIFICATION_ID, notify);</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="comment">// 为删除通知的按钮的点击事件定义事件处理方法</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">del</span><span class="params">(View v)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      <span class="comment">// 取消通知</span></span><br><span class="line">      nm.cancel(NOTIFICATION_ID);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://s2.ax1x.com/2019/10/30/K5pG90.png" alt="K5pG90.png"></p><p><img src="https://s2.ax1x.com/2019/10/30/K5pJ3V.png" alt="K5pJ3V.png"></p><p><img src="https://s2.ax1x.com/2019/10/30/K5pYcT.png" alt="K5pYcT.png"></p><p> 设置Notification的图表、标题、发送时间，声音提示、震动提示、闪光灯等</p><h3 id="对话框"><a href="#对话框" class="headerlink" title="对话框"></a>对话框</h3><h3 id="AlertDialog对话框"><a href="#AlertDialog对话框" class="headerlink" title="AlertDialog对话框"></a>AlertDialog对话框</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">TableLayout</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">          <span class="attr">android:id</span>=<span class="string">"@+id/loginForm"</span></span></span><br><span class="line"><span class="tag">          <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">          <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">TableRow</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:text</span>=<span class="string">"用户名:"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:textSize</span>=<span class="string">"10pt"</span>/&gt;</span></span><br><span class="line">      <span class="comment">&lt;!-- 输入用户名的文本框 --&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">EditText</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:hint</span>=<span class="string">"请填写登录账号"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:selectAllOnFocus</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">TableRow</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">TableRow</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:text</span>=<span class="string">"密码:"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:textSize</span>=<span class="string">"10pt"</span>/&gt;</span></span><br><span class="line">      <span class="comment">&lt;!-- 输入密码的文本框 --&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">EditText</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:hint</span>=<span class="string">"请填写密码"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:password</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">TableRow</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">TableRow</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:text</span>=<span class="string">"电话号码:"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:textSize</span>=<span class="string">"10pt"</span>/&gt;</span></span><br><span class="line">      <span class="comment">&lt;!-- 输入电话号码的文本框 --&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">EditText</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:hint</span>=<span class="string">"请填写您的电话号码"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:selectAllOnFocus</span>=<span class="string">"true"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:phoneNumber</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">TableRow</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">TableLayout</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.crazyit.ui;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.app.Activity;</span><br><span class="line"><span class="keyword">import</span> android.app.AlertDialog;</span><br><span class="line"><span class="keyword">import</span> android.content.DialogInterface;</span><br><span class="line"><span class="keyword">import</span> android.content.DialogInterface.OnClickListener;</span><br><span class="line"><span class="keyword">import</span> android.os.Bundle;</span><br><span class="line"><span class="keyword">import</span> android.view.Menu;</span><br><span class="line"><span class="keyword">import</span> android.view.MenuItem;</span><br><span class="line"><span class="keyword">import</span> android.view.View;</span><br><span class="line"><span class="keyword">import</span> android.widget.ArrayAdapter;</span><br><span class="line"><span class="keyword">import</span> android.widget.TableLayout;</span><br><span class="line"><span class="keyword">import</span> android.widget.TextView;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">Activity</span> </span>&#123;</span><br><span class="line">   TextView show;</span><br><span class="line">   String[] items = <span class="keyword">new</span> String[] &#123;</span><br><span class="line">         <span class="string">"感知器"</span>, <span class="string">"线性单元和梯度下降"</span>,</span><br><span class="line">         <span class="string">"神经网络和反向传播算法"</span>,</span><br><span class="line">         <span class="string">"卷积神经网络"</span> &#125;;</span><br><span class="line"></span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">      <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">      setContentView(R.layout.main);</span><br><span class="line">      show = (TextView) findViewById(R.id.show);</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">simple</span><span class="params">(View source)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      AlertDialog.Builder builder = <span class="keyword">new</span> AlertDialog.Builder(<span class="keyword">this</span>)</span><br><span class="line">         <span class="comment">// 设置对话框标题</span></span><br><span class="line">         .setTitle(<span class="string">"简单对话框"</span>)</span><br><span class="line">         <span class="comment">// 设置图标</span></span><br><span class="line">         .setIcon(R.drawable.tools)</span><br><span class="line">         .setMessage(<span class="string">"对话框的测试内容\n第二行内容"</span>);</span><br><span class="line">      <span class="comment">// 为AlertDialog.Builder添加“确定”按钮</span></span><br><span class="line">      setPositiveButton(builder);</span><br><span class="line">      <span class="comment">// 为AlertDialog.Builder添加“取消”按钮</span></span><br><span class="line">      setNegativeButton(builder)</span><br><span class="line">         .create()</span><br><span class="line">         .show();</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">simpleList</span><span class="params">(View source)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      AlertDialog.Builder builder = <span class="keyword">new</span> AlertDialog.Builder(<span class="keyword">this</span>)</span><br><span class="line">            <span class="comment">// 设置对话框标题</span></span><br><span class="line">            .setTitle(<span class="string">"简单列表对话框"</span>)</span><br><span class="line">                  <span class="comment">// 设置图标</span></span><br><span class="line">            .setIcon(R.drawable.tools)</span><br><span class="line">                  <span class="comment">// 设置简单的列表项内容</span></span><br><span class="line">            .setItems(items, <span class="keyword">new</span> OnClickListener()</span><br><span class="line">            &#123;</span><br><span class="line">               <span class="meta">@Override</span></span><br><span class="line">               <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(DialogInterface dialog, <span class="keyword">int</span> which)</span></span></span><br><span class="line"><span class="function">               </span>&#123;</span><br><span class="line">                  show.setText(<span class="string">"你选中了《"</span> + items[which] + <span class="string">"》"</span>);</span><br><span class="line">               &#125;</span><br><span class="line">            &#125;);</span><br><span class="line">      <span class="comment">// 为AlertDialog.Builder添加“确定”按钮</span></span><br><span class="line">      setPositiveButton(builder);</span><br><span class="line">      <span class="comment">// 为AlertDialog.Builder添加“取消”按钮</span></span><br><span class="line">      setNegativeButton(builder)</span><br><span class="line">            .create()</span><br><span class="line">            .show();</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">singleChoice</span><span class="params">(View source)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      AlertDialog.Builder builder = <span class="keyword">new</span> AlertDialog.Builder(<span class="keyword">this</span>)</span><br><span class="line">            <span class="comment">// 设置对话框标题</span></span><br><span class="line">            .setTitle(<span class="string">"单选列表项对话框"</span>)</span><br><span class="line">                  <span class="comment">// 设置图标</span></span><br><span class="line">            .setIcon(R.drawable.tools)</span><br><span class="line">                  <span class="comment">// 设置单选列表项，默认选中第二项（索引为1）</span></span><br><span class="line">            .setSingleChoiceItems(items, <span class="number">1</span>, <span class="keyword">new</span> OnClickListener()</span><br><span class="line">            &#123;</span><br><span class="line">               <span class="meta">@Override</span></span><br><span class="line">               <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(DialogInterface dialog, <span class="keyword">int</span> which)</span></span></span><br><span class="line"><span class="function">               </span>&#123;</span><br><span class="line">                  show.setText(<span class="string">"你选中了《"</span> + items[which] + <span class="string">"》"</span>);</span><br><span class="line">               &#125;</span><br><span class="line">            &#125;);</span><br><span class="line">         <span class="comment">// 为AlertDialog.Builder添加“确定”按钮</span></span><br><span class="line">         setPositiveButton(builder);</span><br><span class="line">         <span class="comment">// 为AlertDialog.Builder添加“取消”按钮</span></span><br><span class="line">         setNegativeButton(builder)</span><br><span class="line">            .create()</span><br><span class="line">            .show();</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">multiChoice</span><span class="params">(View source)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      AlertDialog.Builder builder = <span class="keyword">new</span> AlertDialog.Builder(<span class="keyword">this</span>)</span><br><span class="line">            <span class="comment">// 设置对话框标题</span></span><br><span class="line">            .setTitle(<span class="string">"多选列表项对话框"</span>)</span><br><span class="line">                  <span class="comment">// 设置图标</span></span><br><span class="line">            .setIcon(R.drawable.tools)</span><br><span class="line">                  <span class="comment">// 设置多选列表项，设置勾选第2项、第4项</span></span><br><span class="line">            .setMultiChoiceItems(items</span><br><span class="line">                  , <span class="keyword">new</span> <span class="keyword">boolean</span>[]&#123;<span class="keyword">false</span> , <span class="keyword">true</span> ,<span class="keyword">false</span> ,<span class="keyword">true</span>&#125;, <span class="keyword">null</span>);</span><br><span class="line">      <span class="comment">// 为AlertDialog.Builder添加“确定”按钮</span></span><br><span class="line">      setPositiveButton(builder);</span><br><span class="line">      <span class="comment">// 为AlertDialog.Builder添加“取消”按钮</span></span><br><span class="line">      setNegativeButton(builder)</span><br><span class="line">            .create()</span><br><span class="line">            .show();</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">customList</span><span class="params">(View source)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      AlertDialog.Builder builder = <span class="keyword">new</span> AlertDialog.Builder(<span class="keyword">this</span>)</span><br><span class="line">            <span class="comment">// 设置对话框标题</span></span><br><span class="line">            .setTitle(<span class="string">"自定义列表项对话框"</span>)</span><br><span class="line">                  <span class="comment">// 设置图标</span></span><br><span class="line">            .setIcon(R.drawable.tools)</span><br><span class="line">                  <span class="comment">// 设置自定义列表项</span></span><br><span class="line">            .setAdapter(<span class="keyword">new</span> ArrayAdapter&lt;String&gt;(<span class="keyword">this</span></span><br><span class="line">                  , R.layout.array_item</span><br><span class="line">                  , items), <span class="keyword">null</span>);</span><br><span class="line">      <span class="comment">// 为AlertDialog.Builder添加“确定”按钮</span></span><br><span class="line">      setPositiveButton(builder);</span><br><span class="line">      <span class="comment">// 为AlertDialog.Builder添加“取消”按钮</span></span><br><span class="line">      setNegativeButton(builder)</span><br><span class="line">            .create()</span><br><span class="line">            .show();</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">customView</span><span class="params">(View source)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      <span class="comment">// 装载app\src\main\res\layout\login.xml界面布局文件</span></span><br><span class="line">      TableLayout loginForm = (TableLayout)getLayoutInflater()</span><br><span class="line">            .inflate( R.layout.login, <span class="keyword">null</span>);</span><br><span class="line">      <span class="keyword">new</span> AlertDialog.Builder(<span class="keyword">this</span>)</span><br><span class="line">            <span class="comment">// 设置对话框的图标</span></span><br><span class="line">            .setIcon(R.drawable.tools)</span><br><span class="line">            <span class="comment">// 设置对话框的标题</span></span><br><span class="line">            .setTitle(<span class="string">"自定义View对话框"</span>)</span><br><span class="line">            <span class="comment">// 设置对话框显示的View对象</span></span><br><span class="line">            .setView(loginForm)</span><br><span class="line">            <span class="comment">// 为对话框设置一个“确定”按钮</span></span><br><span class="line">            .setPositiveButton(<span class="string">"登录"</span>, <span class="keyword">new</span> OnClickListener() &#123;</span><br><span class="line">               <span class="meta">@Override</span></span><br><span class="line">               <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(DialogInterface dialog,</span></span></span><br><span class="line"><span class="function"><span class="params">                  <span class="keyword">int</span> which)</span> </span>&#123;</span><br><span class="line">                  <span class="comment">// 此处可执行登录处理</span></span><br><span class="line">               &#125;</span><br><span class="line">            &#125;)</span><br><span class="line">            <span class="comment">// 为对话框设置一个“取消”按钮</span></span><br><span class="line">            .setNegativeButton(<span class="string">"取消"</span>, <span class="keyword">new</span> OnClickListener()</span><br><span class="line">            &#123;</span><br><span class="line">               <span class="meta">@Override</span></span><br><span class="line">               <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(DialogInterface dialog,</span></span></span><br><span class="line"><span class="function"><span class="params">                              <span class="keyword">int</span> which)</span></span></span><br><span class="line"><span class="function">               </span>&#123;</span><br><span class="line">                  <span class="comment">// 取消登录，不做任何事情</span></span><br><span class="line">               &#125;</span><br><span class="line">            &#125;)</span><br><span class="line">            <span class="comment">// 创建并显示对话框</span></span><br><span class="line">            .create()</span><br><span class="line">            .show();</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">   <span class="keyword">private</span> AlertDialog.<span class="function">Builder <span class="title">setPositiveButton</span><span class="params">(</span></span></span><br><span class="line"><span class="function"><span class="params">         AlertDialog.Builder builder)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      <span class="comment">// 调用setPositiveButton方法添加“确定”按钮</span></span><br><span class="line">      <span class="keyword">return</span> builder.setPositiveButton(<span class="string">"确定"</span>, <span class="keyword">new</span> OnClickListener()</span><br><span class="line">      &#123;</span><br><span class="line">         <span class="meta">@Override</span></span><br><span class="line">         <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(DialogInterface dialog, <span class="keyword">int</span> which)</span></span></span><br><span class="line"><span class="function">         </span>&#123;</span><br><span class="line">            show.setText(<span class="string">"单击了【确定】按钮！"</span>);</span><br><span class="line">         &#125;</span><br><span class="line">      &#125;);</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="keyword">private</span> AlertDialog.<span class="function">Builder <span class="title">setNegativeButton</span><span class="params">(</span></span></span><br><span class="line"><span class="function"><span class="params">         AlertDialog.Builder builder)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      <span class="comment">// 调用setNegativeButton方法添加“取消”按钮</span></span><br><span class="line">      <span class="keyword">return</span> builder.setNegativeButton(<span class="string">"取消"</span>, <span class="keyword">new</span> OnClickListener()</span><br><span class="line">      &#123;</span><br><span class="line">         <span class="meta">@Override</span></span><br><span class="line">         <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(DialogInterface dialog, <span class="keyword">int</span> which)</span></span></span><br><span class="line"><span class="function">         </span>&#123;</span><br><span class="line">            show.setText(<span class="string">"单击了【取消】按钮！"</span>);</span><br><span class="line">         &#125;</span><br><span class="line">      &#125;);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://s2.ax1x.com/2019/10/30/K5ptjU.png" alt="K5ptjU.png"></p><p><img src="https://s2.ax1x.com/2019/10/30/K5pUuF.png" alt="K5pUuF.png"></p><p>设置图标、标题等属性，添加变失性按钮</p><p><img src="https://s2.ax1x.com/2019/10/30/K5VJ3j.png" alt="K5VJ3j.png"></p><p>调用setItems()方法为对话框设置多个列表项</p><p><img src="https://s2.ax1x.com/2019/10/30/K5VGCQ.png" alt="K5VGCQ.png"></p><p>调用setSingleChoiceItems()方法创建单选列表表项的对话框，闯入ListAdapter参数提供多个列表项组件</p><p><img src="https://s2.ax1x.com/2019/10/30/K5V34g.png" alt="K5V34g.png"></p><p>调用setMultiItems（）方法传入数组参数和数据库查询结果集参数</p><p><img src="https://s2.ax1x.com/2019/10/30/K5Vtvn.png" alt="K5Vtvn.png"></p><p>调用setAdapter()方法设置对话框的内容，传入Adapter参数负责提供多个列表项组件</p><p><img src="https://s2.ax1x.com/2019/10/30/K5VYgs.png" alt="K5VYgs.png"></p><p>使用setView()方法作为对话框的内容，调用setView()设置自定义视图</p><h3 id="对话框风格的窗口"><a href="#对话框风格的窗口" class="headerlink" title="对话框风格的窗口"></a>对话框风格的窗口</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.crazyit.ui;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.app.Activity;</span><br><span class="line"><span class="keyword">import</span> android.os.Bundle;</span><br><span class="line"><span class="keyword">import</span> android.view.View;</span><br><span class="line"><span class="keyword">import</span> android.view.View.OnClickListener;</span><br><span class="line"><span class="keyword">import</span> android.widget.Button;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">Activity</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">      setContentView(R.layout.main);</span><br><span class="line">      Button bn = (Button) findViewById(R.id.bn);</span><br><span class="line">      <span class="comment">// 为按钮绑定事件监听器</span></span><br><span class="line">      bn.setOnClickListener(<span class="keyword">new</span> OnClickListener()</span><br><span class="line">      &#123;</span><br><span class="line">         <span class="meta">@Override</span></span><br><span class="line">         <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View arg0)</span></span></span><br><span class="line"><span class="function">         </span>&#123;</span><br><span class="line">            <span class="comment">// 结束该Activity</span></span><br><span class="line">            finish();</span><br><span class="line">         &#125;</span><br><span class="line">      &#125;);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://s2.ax1x.com/2019/10/30/K5VUuq.png" alt="K5VUuq.png"></p><h3 id="PopupWindow"><a href="#PopupWindow" class="headerlink" title="PopupWindow"></a>PopupWindow</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.crazyit.ui;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.app.Activity;</span><br><span class="line"><span class="keyword">import</span> android.os.Bundle;</span><br><span class="line"><span class="keyword">import</span> android.view.Gravity;</span><br><span class="line"><span class="keyword">import</span> android.view.View;</span><br><span class="line"><span class="keyword">import</span> android.view.View.OnClickListener;</span><br><span class="line"><span class="keyword">import</span> android.widget.Button;</span><br><span class="line"><span class="keyword">import</span> android.widget.PopupWindow;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">Activity</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">      setContentView(R.layout.main);</span><br><span class="line">      <span class="comment">// 装载R.layout.popup对应的界面布局</span></span><br><span class="line">      View root = <span class="keyword">this</span>.getLayoutInflater().inflate(R.layout.popup, <span class="keyword">null</span>);</span><br><span class="line">      <span class="comment">// 创建PopupWindow对象</span></span><br><span class="line">      <span class="keyword">final</span> PopupWindow popup = <span class="keyword">new</span> PopupWindow(root, <span class="number">560</span>, <span class="number">720</span>);</span><br><span class="line">      Button button = (Button) findViewById(R.id.bn);</span><br><span class="line">      button.setOnClickListener(<span class="keyword">new</span> OnClickListener()</span><br><span class="line">      &#123;</span><br><span class="line">         <span class="meta">@Override</span></span><br><span class="line">         <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View v)</span></span></span><br><span class="line"><span class="function">         </span>&#123;</span><br><span class="line">            <span class="comment">// 以下拉方式显示</span></span><br><span class="line">            <span class="comment">// popup.showAsDropDown(v);</span></span><br><span class="line">            <span class="comment">//将PopupWindow显示在指定位置</span></span><br><span class="line">            popup.showAtLocation(findViewById(R.id.bn),</span><br><span class="line">               Gravity.CENTER, <span class="number">20</span>,<span class="number">20</span>);</span><br><span class="line">         &#125;</span><br><span class="line">      &#125;);</span><br><span class="line">      <span class="comment">// 获取PopupWindow中的“关闭”按钮</span></span><br><span class="line">      root.findViewById(R.id.close).setOnClickListener(</span><br><span class="line">         <span class="keyword">new</span> View.OnClickListener()</span><br><span class="line">         &#123;</span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View v)</span></span></span><br><span class="line"><span class="function">            </span>&#123;</span><br><span class="line">               <span class="comment">// 关闭PopupWindow</span></span><br><span class="line">               popup.dismiss(); <span class="comment">// ①</span></span><br><span class="line">            &#125;</span><br><span class="line">         &#125;);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://s2.ax1x.com/2019/10/30/K5VaD0.png" alt="K5VaD0.png"></p><p>popup.dismiss负责销毁。隐藏对象关闭时会自动关闭窗口</p><h3 id="DatePickerDialog-amp-TimePickerDialog"><a href="#DatePickerDialog-amp-TimePickerDialog" class="headerlink" title="DatePickerDialog &amp; TimePickerDialog"></a>DatePickerDialog &amp; TimePickerDialog</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.crazyit.ui;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.app.Activity;</span><br><span class="line"><span class="keyword">import</span> android.app.DatePickerDialog;</span><br><span class="line"><span class="keyword">import</span> android.app.TimePickerDialog;</span><br><span class="line"><span class="keyword">import</span> android.os.Bundle;</span><br><span class="line"><span class="keyword">import</span> android.view.View;</span><br><span class="line"><span class="keyword">import</span> android.view.View.OnClickListener;</span><br><span class="line"><span class="keyword">import</span> android.widget.Button;</span><br><span class="line"><span class="keyword">import</span> android.widget.DatePicker;</span><br><span class="line"><span class="keyword">import</span> android.widget.EditText;</span><br><span class="line"><span class="keyword">import</span> android.widget.TimePicker;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Calendar;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">Activity</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">      setContentView(R.layout.main);</span><br><span class="line">      Button dateBn = (Button)findViewById(R.id.dateBn);</span><br><span class="line">      Button timeBn = (Button)findViewById(R.id.timeBn);</span><br><span class="line">      <span class="comment">//为“设置日期”按钮绑定监听器</span></span><br><span class="line">      dateBn.setOnClickListener(<span class="keyword">new</span> OnClickListener()</span><br><span class="line">      &#123;</span><br><span class="line">         <span class="meta">@Override</span></span><br><span class="line">         <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View source)</span></span></span><br><span class="line"><span class="function">         </span>&#123;</span><br><span class="line">            Calendar c = Calendar.getInstance();</span><br><span class="line">            <span class="comment">// 直接创建一个DatePickerDialog对话框实例，并将它显示出来</span></span><br><span class="line">            <span class="keyword">new</span> DatePickerDialog(MainActivity.<span class="keyword">this</span>,</span><br><span class="line">               <span class="comment">// 绑定监听器</span></span><br><span class="line">               <span class="keyword">new</span> DatePickerDialog.OnDateSetListener()</span><br><span class="line">               &#123;</span><br><span class="line">                  <span class="meta">@Override</span></span><br><span class="line">                  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onDateSet</span><span class="params">(DatePicker dp, <span class="keyword">int</span> year,</span></span></span><br><span class="line"><span class="function"><span class="params">                     <span class="keyword">int</span> month, <span class="keyword">int</span> dayOfMonth)</span></span></span><br><span class="line"><span class="function">                  </span>&#123;</span><br><span class="line">                     EditText show = (EditText) findViewById(R.id.show);</span><br><span class="line">                     show.setText(<span class="string">"您选择了："</span> + year + <span class="string">"年"</span> + (month + <span class="number">1</span>)</span><br><span class="line">                        + <span class="string">"月"</span> + dayOfMonth + <span class="string">"日"</span>);</span><br><span class="line">                  &#125;</span><br><span class="line">               &#125;</span><br><span class="line">               <span class="comment">//设置初始日期</span></span><br><span class="line">               , c.get(Calendar.YEAR)</span><br><span class="line">               , c.get(Calendar.MONTH)</span><br><span class="line">               , c.get(Calendar.DAY_OF_MONTH)).show();</span><br><span class="line">         &#125;</span><br><span class="line">      &#125;);</span><br><span class="line">      <span class="comment">//为“设置时间”按钮绑定监听器</span></span><br><span class="line">      timeBn.setOnClickListener(<span class="keyword">new</span> OnClickListener()</span><br><span class="line">      &#123;</span><br><span class="line">         <span class="meta">@Override</span></span><br><span class="line">         <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View source)</span></span></span><br><span class="line"><span class="function">         </span>&#123;</span><br><span class="line">            Calendar c = Calendar.getInstance();</span><br><span class="line">            <span class="comment">// 创建一个TimePickerDialog实例，并把它显示出来</span></span><br><span class="line">            <span class="keyword">new</span> TimePickerDialog(MainActivity.<span class="keyword">this</span>,</span><br><span class="line">               <span class="comment">// 绑定监听器</span></span><br><span class="line">               <span class="keyword">new</span> TimePickerDialog.OnTimeSetListener()</span><br><span class="line">               &#123;</span><br><span class="line">                  <span class="meta">@Override</span></span><br><span class="line">                  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onTimeSet</span><span class="params">(TimePicker tp, <span class="keyword">int</span> hourOfDay,</span></span></span><br><span class="line"><span class="function"><span class="params">                     <span class="keyword">int</span> minute)</span></span></span><br><span class="line"><span class="function">                  </span>&#123;</span><br><span class="line">                     EditText show = (EditText) findViewById(R.id.show);</span><br><span class="line">                     show.setText(<span class="string">"您选择了："</span> + hourOfDay + <span class="string">"时"</span></span><br><span class="line">                        + minute + <span class="string">"分"</span>);</span><br><span class="line">                  &#125;</span><br><span class="line">               &#125;</span><br><span class="line">               <span class="comment">//设置初始时间</span></span><br><span class="line">               , c.get(Calendar.HOUR_OF_DAY)</span><br><span class="line">               , c.get(Calendar.MINUTE)</span><br><span class="line">               <span class="comment">//true表示采用24小时制</span></span><br><span class="line">               , <span class="keyword">true</span>).show();</span><br><span class="line">         &#125;</span><br><span class="line">      &#125;);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://s2.ax1x.com/2019/10/30/K5VdbV.png" alt="K5VdbV.png"></p><p><img src="https://s2.ax1x.com/2019/10/30/K5V0ET.png" alt="K5V0ET.png"></p><p><img src="https://s2.ax1x.com/2019/10/30/K5VBUU.png" alt="K5VBUU.png"></p><p><img src="https://s2.ax1x.com/2019/10/30/K5VD5F.png" alt="K5VD5F.png"></p><p>通过new关键字创建DatePickerDialog实例，调用show()方法将日期选择对话框、时间选择对话框显示出来。绑定监听器，通过监听器获取用户设置的事件。</p><h3 id="ProcessDialog"><a href="#ProcessDialog" class="headerlink" title="ProcessDialog"></a>ProcessDialog</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.crazyit.ui;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.app.Activity;</span><br><span class="line"><span class="keyword">import</span> android.app.ProgressDialog;</span><br><span class="line"><span class="keyword">import</span> android.os.Bundle;</span><br><span class="line"><span class="keyword">import</span> android.os.Handler;</span><br><span class="line"><span class="keyword">import</span> android.os.Message;</span><br><span class="line"><span class="keyword">import</span> android.view.View;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">Activity</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">   <span class="keyword">final</span> <span class="keyword">static</span> <span class="keyword">int</span> MAX_PROGRESS = <span class="number">100</span>;</span><br><span class="line">   <span class="comment">// 该程序模拟填充长度为100的数组</span></span><br><span class="line">   <span class="keyword">private</span> <span class="keyword">int</span>[] data = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">50</span>];</span><br><span class="line">   <span class="comment">// 记录进度对话框的完成百分比</span></span><br><span class="line">   <span class="keyword">int</span> progressStatus = <span class="number">0</span>;</span><br><span class="line">   <span class="keyword">int</span> hasData = <span class="number">0</span>;</span><br><span class="line">   ProgressDialog pd1,pd2;</span><br><span class="line">   <span class="comment">// 定义一个负责更新的进度的Handler</span></span><br><span class="line">   Handler handler = <span class="keyword">new</span> Handler()</span><br><span class="line">   &#123;</span><br><span class="line">      <span class="meta">@Override</span></span><br><span class="line">      <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">handleMessage</span><span class="params">(Message msg)</span></span></span><br><span class="line"><span class="function">      </span>&#123;</span><br><span class="line">         <span class="comment">// 表明消息是由该程序发送的</span></span><br><span class="line">         <span class="keyword">if</span> (msg.what == <span class="number">0x123</span>)</span><br><span class="line">         &#123;</span><br><span class="line">            pd2.setProgress(progressStatus);</span><br><span class="line">         &#125;</span><br><span class="line">      &#125;</span><br><span class="line">   &#125;;</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">      setContentView(R.layout.main);</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">showSpinner</span><span class="params">(View source)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      <span class="comment">// 调用静态方法显示环形进度条</span></span><br><span class="line">      ProgressDialog.show(<span class="keyword">this</span>, <span class="string">"任务执行中"</span></span><br><span class="line">            , <span class="string">"任务执行中，请等待"</span>, <span class="keyword">false</span>, <span class="keyword">true</span>); <span class="comment">// ①</span></span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">showIndeterminate</span><span class="params">(View source)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      pd1 = <span class="keyword">new</span> ProgressDialog(MainActivity.<span class="keyword">this</span>);</span><br><span class="line">      <span class="comment">// 设置对话框的标题</span></span><br><span class="line">      pd1.setTitle(<span class="string">"任务正在执行中"</span>);</span><br><span class="line">      <span class="comment">// 设置对话框显示的内容</span></span><br><span class="line">      pd1.setMessage(<span class="string">"任务正在执行中，敬请等待..."</span>);</span><br><span class="line">      <span class="comment">// 设置对话框能用“取消”按钮关闭</span></span><br><span class="line">      pd1.setCancelable(<span class="keyword">true</span>);</span><br><span class="line">      <span class="comment">// 设置对话框的进度条风格</span></span><br><span class="line">      pd1.setProgressStyle(ProgressDialog.STYLE_HORIZONTAL);</span><br><span class="line">      <span class="comment">// 设置对话框的进度条是否显示进度</span></span><br><span class="line">      pd1.setIndeterminate(<span class="keyword">true</span>);</span><br><span class="line">      pd1.show(); <span class="comment">// ②</span></span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">showProgress</span><span class="params">(View source)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      <span class="comment">// 将进度条的完成进度重设为0</span></span><br><span class="line">      progressStatus = <span class="number">0</span>;</span><br><span class="line">      <span class="comment">// 重新开始填充数组</span></span><br><span class="line">      hasData = <span class="number">0</span>;</span><br><span class="line">      pd2 = <span class="keyword">new</span> ProgressDialog(MainActivity.<span class="keyword">this</span>);</span><br><span class="line">      pd2.setMax(MAX_PROGRESS);</span><br><span class="line">      <span class="comment">// 设置对话框的标题</span></span><br><span class="line">      pd2.setTitle(<span class="string">"任务完成百分比"</span>);</span><br><span class="line">      <span class="comment">// 设置对话框显示的内容</span></span><br><span class="line">      pd2.setMessage(<span class="string">"耗时任务的完成百分比"</span>);</span><br><span class="line">      <span class="comment">// 设置对话框不能用“取消”按钮关闭</span></span><br><span class="line">      pd2.setCancelable(<span class="keyword">false</span>);</span><br><span class="line">      <span class="comment">// 设置对话框的进度条风格</span></span><br><span class="line">      pd2.setProgressStyle(ProgressDialog.STYLE_HORIZONTAL);</span><br><span class="line">      <span class="comment">// 设置对话框的进度条是否显示进度</span></span><br><span class="line">      pd2.setIndeterminate(<span class="keyword">false</span>);</span><br><span class="line">      pd2.show(); <span class="comment">// ③</span></span><br><span class="line">      <span class="keyword">new</span> Thread()</span><br><span class="line">      &#123;</span><br><span class="line">         <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span></span></span><br><span class="line"><span class="function">         </span>&#123;</span><br><span class="line">            <span class="keyword">while</span> (progressStatus &lt; MAX_PROGRESS)</span><br><span class="line">            &#123;</span><br><span class="line">               <span class="comment">// 获取耗时操作的完成百分比</span></span><br><span class="line">               progressStatus = MAX_PROGRESS</span><br><span class="line">                  * doWork() / data.length;</span><br><span class="line">               <span class="comment">// 发送空消息到Handler</span></span><br><span class="line">               handler.sendEmptyMessage(<span class="number">0x123</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// 如果任务已经完成</span></span><br><span class="line">            <span class="keyword">if</span> (progressStatus &gt;= MAX_PROGRESS)</span><br><span class="line">            &#123;</span><br><span class="line">               <span class="comment">// 关闭对话框</span></span><br><span class="line">               pd2.dismiss();</span><br><span class="line">            &#125;</span><br><span class="line">         &#125;</span><br><span class="line">      &#125;.start();</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="comment">// 模拟一个耗时的操作</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">doWork</span><span class="params">()</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      <span class="comment">// 为数组元素赋值</span></span><br><span class="line">      data[hasData++] = (<span class="keyword">int</span>) (Math.random() * <span class="number">100</span>);</span><br><span class="line">      <span class="keyword">try</span></span><br><span class="line">      &#123;</span><br><span class="line">         Thread.sleep(<span class="number">100</span>);</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">catch</span> (InterruptedException e)</span><br><span class="line">      &#123;</span><br><span class="line">         e.printStackTrace();</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">return</span> hasData;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://s2.ax1x.com/2019/10/30/K5VsC4.png" alt="K5VsC4.png"></p><p><img src="https://s2.ax1x.com/2019/10/30/K5Vy8J.png" alt="K5Vy8J.png"></p><p><img src="https://s2.ax1x.com/2019/10/30/K5V629.png" alt="K5V629.png"></p><p><img src="https://s2.ax1x.com/2019/10/30/K5VcvR.png" alt="K5VcvR.png"></p><p>第一个按钮事件处理调用ProcessDialog（）静态show()方法创建并显示对话框，第二个按钮事件处理先创建ProcessDialog对象，再调用show()方法将它显示出来，第三个按钮事件处理先创建ProcessDialog对象，设置对话框相关属性，再调用show()方法将它显示出来</p><h3 id="菜单"><a href="#菜单" class="headerlink" title="菜单"></a>菜单</h3><h3 id="SubMenu（选项菜单和子菜单）"><a href="#SubMenu（选项菜单和子菜单）" class="headerlink" title="SubMenu（选项菜单和子菜单）"></a>SubMenu（选项菜单和子菜单）</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.crazyit.ui;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.app.Activity;</span><br><span class="line"><span class="keyword">import</span> android.graphics.Color;</span><br><span class="line"><span class="keyword">import</span> android.os.Bundle;</span><br><span class="line"><span class="keyword">import</span> android.view.Menu;</span><br><span class="line"><span class="keyword">import</span> android.view.MenuItem;</span><br><span class="line"><span class="keyword">import</span> android.view.SubMenu;</span><br><span class="line"><span class="keyword">import</span> android.widget.EditText;</span><br><span class="line"><span class="keyword">import</span> android.widget.Toast;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">Activity</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">   <span class="comment">// 定义字体大小菜单项的标识</span></span><br><span class="line">   <span class="keyword">final</span> <span class="keyword">int</span> FONT_10 = <span class="number">0x111</span>;</span><br><span class="line">   <span class="keyword">final</span> <span class="keyword">int</span> FONT_12 = <span class="number">0x112</span>;</span><br><span class="line">   <span class="keyword">final</span> <span class="keyword">int</span> FONT_14 = <span class="number">0x113</span>;</span><br><span class="line">   <span class="keyword">final</span> <span class="keyword">int</span> FONT_16 = <span class="number">0x114</span>;</span><br><span class="line">   <span class="keyword">final</span> <span class="keyword">int</span> FONT_18 = <span class="number">0x115</span>;</span><br><span class="line">   <span class="comment">// 定义普通菜单项的标识</span></span><br><span class="line">   <span class="keyword">final</span> <span class="keyword">int</span> PLAIN_ITEM = <span class="number">0x11b</span>;</span><br><span class="line">   <span class="comment">// 定义字体颜色菜单项的标识</span></span><br><span class="line">   <span class="keyword">final</span> <span class="keyword">int</span> FONT_RED = <span class="number">0x116</span>;</span><br><span class="line">   <span class="keyword">final</span> <span class="keyword">int</span> FONT_BLUE = <span class="number">0x117</span>;</span><br><span class="line">   <span class="keyword">final</span> <span class="keyword">int</span> FONT_GREEN = <span class="number">0x118</span>;</span><br><span class="line">   <span class="keyword">private</span> EditText edit;</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">      setContentView(R.layout.main);</span><br><span class="line">      edit = (EditText) findViewById(R.id.txt);</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="comment">// 当用户单击MENU键时触发该方法</span></span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">onCreateOptionsMenu</span><span class="params">(Menu menu)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      <span class="comment">// -------------向menu中添加字体大小的子菜单-------------</span></span><br><span class="line">      SubMenu fontMenu = menu.addSubMenu(<span class="string">"字体大小"</span>);</span><br><span class="line">      <span class="comment">// 设置菜单的图标</span></span><br><span class="line">      fontMenu.setIcon(R.drawable.font);</span><br><span class="line">      <span class="comment">// 设置菜单头的图标</span></span><br><span class="line">      fontMenu.setHeaderIcon(R.drawable.font);</span><br><span class="line">      <span class="comment">// 设置菜单头的标题</span></span><br><span class="line">      fontMenu.setHeaderTitle(<span class="string">"选择字体大小"</span>);</span><br><span class="line">      fontMenu.add(<span class="number">0</span>, FONT_10, <span class="number">0</span>, <span class="string">"10号字体"</span>);</span><br><span class="line">      fontMenu.add(<span class="number">0</span>, FONT_12, <span class="number">0</span>, <span class="string">"12号字体"</span>);</span><br><span class="line">      fontMenu.add(<span class="number">0</span>, FONT_14, <span class="number">0</span>, <span class="string">"14号字体"</span>);</span><br><span class="line">      fontMenu.add(<span class="number">0</span>, FONT_16, <span class="number">0</span>, <span class="string">"16号字体"</span>);</span><br><span class="line">      fontMenu.add(<span class="number">0</span>, FONT_18, <span class="number">0</span>, <span class="string">"18号字体"</span>);</span><br><span class="line">      <span class="comment">// -------------向menu中添加普通菜单项-------------</span></span><br><span class="line">      menu.add(<span class="number">0</span>, PLAIN_ITEM, <span class="number">0</span>, <span class="string">"普通菜单项"</span>);</span><br><span class="line">      <span class="comment">// -------------向menu中添加文字颜色的子菜单-------------</span></span><br><span class="line">      SubMenu colorMenu = menu.addSubMenu(<span class="string">"字体颜色"</span>);</span><br><span class="line">      colorMenu.setIcon(R.drawable.color);</span><br><span class="line">      <span class="comment">// 设置菜单头的图标</span></span><br><span class="line">      colorMenu.setHeaderIcon(R.drawable.color);</span><br><span class="line">      <span class="comment">// 设置菜单头的标题</span></span><br><span class="line">      colorMenu.setHeaderTitle(<span class="string">"选择文字颜色"</span>);</span><br><span class="line">      colorMenu.add(<span class="number">0</span>, FONT_RED, <span class="number">0</span>, <span class="string">"红色"</span>);</span><br><span class="line">      colorMenu.add(<span class="number">0</span>, FONT_GREEN, <span class="number">0</span>, <span class="string">"绿色"</span>);</span><br><span class="line">      colorMenu.add(<span class="number">0</span>, FONT_BLUE, <span class="number">0</span>, <span class="string">"蓝色"</span>);</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">super</span>.onCreateOptionsMenu(menu);</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="comment">// 选项菜单的菜单项被单击后的回调方法</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">onOptionsItemSelected</span><span class="params">(MenuItem mi)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      <span class="comment">//判断单击的是哪个菜单项，并有针对性地作出响应</span></span><br><span class="line">      <span class="keyword">switch</span> (mi.getItemId())</span><br><span class="line">      &#123;</span><br><span class="line">         <span class="keyword">case</span> FONT_10:</span><br><span class="line">            edit.setTextSize(<span class="number">10</span> * <span class="number">2</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">         <span class="keyword">case</span> FONT_12:</span><br><span class="line">            edit.setTextSize(<span class="number">12</span> * <span class="number">2</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">         <span class="keyword">case</span> FONT_14:</span><br><span class="line">            edit.setTextSize(<span class="number">14</span> * <span class="number">2</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">         <span class="keyword">case</span> FONT_16:</span><br><span class="line">            edit.setTextSize(<span class="number">16</span> * <span class="number">2</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">         <span class="keyword">case</span> FONT_18:</span><br><span class="line">            edit.setTextSize(<span class="number">18</span> * <span class="number">2</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">         <span class="keyword">case</span> FONT_RED:</span><br><span class="line">            edit.setTextColor(Color.RED);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">         <span class="keyword">case</span> FONT_GREEN:</span><br><span class="line">            edit.setTextColor(Color.GREEN);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">         <span class="keyword">case</span> FONT_BLUE:</span><br><span class="line">            edit.setTextColor(Color.BLUE);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">         <span class="keyword">case</span> PLAIN_ITEM:</span><br><span class="line">            Toast toast = Toast.makeText(MainActivity.<span class="keyword">this</span></span><br><span class="line">                  , <span class="string">"您单击了普通菜单项"</span> , Toast.LENGTH_SHORT);</span><br><span class="line">            toast.show();</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://s2.ax1x.com/2019/10/30/K5V2K1.png" alt="K5V2K1.png"></p><p><img src="https://s2.ax1x.com/2019/10/30/K5VRDx.png" alt="K5VRDx.png"></p><p><img src="https://s2.ax1x.com/2019/10/30/K5VWb6.png" alt="K5VWb6.png"></p><p><img src="https://s2.ax1x.com/2019/10/30/K5VhVK.png" alt="K5VhVK.png"></p><p><img src="https://s2.ax1x.com/2019/10/30/K5V4UO.png" alt="K5V4UO.png"></p><p>创建多选菜单想和单选菜单项，添加三个菜单，两个有子菜单，设置了图标、标题，调用onOptionsItemSelected()方法，可以为菜单项的单击事件提供相应，使用监听器监听菜单事件。</p><h3 id="上下文菜单"><a href="#上下文菜单" class="headerlink" title="上下文菜单"></a>上下文菜单</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.crazyit.ui;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.app.Activity;</span><br><span class="line"><span class="keyword">import</span> android.graphics.Color;</span><br><span class="line"><span class="keyword">import</span> android.os.Bundle;</span><br><span class="line"><span class="keyword">import</span> android.view.ContextMenu;</span><br><span class="line"><span class="keyword">import</span> android.view.Menu;</span><br><span class="line"><span class="keyword">import</span> android.view.MenuItem;</span><br><span class="line"><span class="keyword">import</span> android.view.View;</span><br><span class="line"><span class="keyword">import</span> android.widget.TextView;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">Activity</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">   <span class="comment">// 为每个菜单定义一个标识</span></span><br><span class="line">   <span class="keyword">final</span> <span class="keyword">int</span> MENU1 = <span class="number">0x111</span>;</span><br><span class="line">   <span class="keyword">final</span> <span class="keyword">int</span> MENU2 = <span class="number">0x112</span>;</span><br><span class="line">   <span class="keyword">final</span> <span class="keyword">int</span> MENU3 = <span class="number">0x113</span>;</span><br><span class="line">   <span class="keyword">private</span> TextView txt;</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">      setContentView(R.layout.main);</span><br><span class="line">      txt = (TextView) findViewById(R.id.txt);</span><br><span class="line">      <span class="comment">// 为文本框注册上下文菜单</span></span><br><span class="line">      registerForContextMenu(txt); <span class="comment">// ①</span></span><br><span class="line">   &#125;</span><br><span class="line">   <span class="comment">// 创建上下文菜单时触发该方法</span></span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCreateContextMenu</span><span class="params">(ContextMenu menu, View source,</span></span></span><br><span class="line"><span class="function"><span class="params">      ContextMenu.ContextMenuInfo menuInfo)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      menu.add(<span class="number">0</span>, MENU1, <span class="number">0</span>, <span class="string">"红色"</span>);</span><br><span class="line">      menu.add(<span class="number">0</span>, MENU2, <span class="number">0</span>, <span class="string">"绿色"</span>);</span><br><span class="line">      menu.add(<span class="number">0</span>, MENU3, <span class="number">0</span>, <span class="string">"蓝色"</span>);</span><br><span class="line">      <span class="comment">// 将三个菜单项设为单选菜单项</span></span><br><span class="line">      menu.setGroupCheckable(<span class="number">0</span>, <span class="keyword">true</span>, <span class="keyword">true</span>);</span><br><span class="line">      <span class="comment">//设置上下文菜单的标题、图标</span></span><br><span class="line">      menu.setHeaderIcon(R.drawable.tools);</span><br><span class="line">      menu.setHeaderTitle(<span class="string">"选择背景色"</span>);</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="comment">// 上下文菜单的菜单项被单击时触发该方法</span></span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">onContextItemSelected</span><span class="params">(MenuItem mi)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      <span class="keyword">switch</span> (mi.getItemId())</span><br><span class="line">      &#123;</span><br><span class="line">         <span class="keyword">case</span> MENU1:</span><br><span class="line">            mi.setChecked(<span class="keyword">true</span>);</span><br><span class="line">            txt.setBackgroundColor(Color.RED);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">         <span class="keyword">case</span> MENU2:</span><br><span class="line">            mi.setChecked(<span class="keyword">true</span>);</span><br><span class="line">            txt.setBackgroundColor(Color.GREEN);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">         <span class="keyword">case</span> MENU3:</span><br><span class="line">            mi.setChecked(<span class="keyword">true</span>);</span><br><span class="line">            txt.setBackgroundColor(Color.BLUE);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://s2.ax1x.com/2019/10/30/K5V55D.png" alt="K5V55D.png"></p><p><img src="https://s2.ax1x.com/2019/10/30/K5VoPe.png" alt="K5VoPe.png"></p><p>重写onCreateContextMenu()方法创建上下文菜单</p><h3 id="PopupMenu（弹出式菜单）"><a href="#PopupMenu（弹出式菜单）" class="headerlink" title="PopupMenu（弹出式菜单）"></a>PopupMenu（弹出式菜单）</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.crazyit.ui;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.app.Activity;</span><br><span class="line"><span class="keyword">import</span> android.os.Bundle;</span><br><span class="line"><span class="keyword">import</span> android.view.Menu;</span><br><span class="line"><span class="keyword">import</span> android.view.MenuItem;</span><br><span class="line"><span class="keyword">import</span> android.view.View;</span><br><span class="line"><span class="keyword">import</span> android.widget.PopupMenu;</span><br><span class="line"><span class="keyword">import</span> android.widget.Toast;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">Activity</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">   PopupMenu popup = <span class="keyword">null</span>;</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">      setContentView(R.layout.main);</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onPopupButtonClick</span><span class="params">(View button)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      <span class="comment">// 创建PopupMenu对象</span></span><br><span class="line">      popup = <span class="keyword">new</span> PopupMenu(<span class="keyword">this</span>, button);</span><br><span class="line">      <span class="comment">// 将R.menu.popup_menu菜单资源加载到popup菜单中</span></span><br><span class="line">      getMenuInflater().inflate(R.menu.popup_menu, popup.getMenu());</span><br><span class="line">      <span class="comment">// 为popup菜单的菜单项单击事件绑定事件监听器</span></span><br><span class="line">      popup.setOnMenuItemClickListener(</span><br><span class="line">         <span class="keyword">new</span> PopupMenu.OnMenuItemClickListener()</span><br><span class="line">         &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">onMenuItemClick</span><span class="params">(MenuItem item)</span></span></span><br><span class="line"><span class="function">            </span>&#123;</span><br><span class="line">               <span class="keyword">switch</span> (item.getItemId())</span><br><span class="line">               &#123;</span><br><span class="line">                  <span class="keyword">case</span> R.id.exit:</span><br><span class="line">                     <span class="comment">// 隐藏该对话框</span></span><br><span class="line">                     popup.dismiss();</span><br><span class="line">                     <span class="keyword">break</span>;</span><br><span class="line">                  <span class="keyword">default</span>:</span><br><span class="line">                     <span class="comment">// 使用Toast显示用户单击的菜单项</span></span><br><span class="line">                     Toast.makeText(MainActivity.<span class="keyword">this</span>,</span><br><span class="line">                        <span class="string">"您单击了【"</span> + item.getTitle() + <span class="string">"】菜单项"</span></span><br><span class="line">                        , Toast.LENGTH_SHORT).show();</span><br><span class="line">               &#125;</span><br><span class="line">               <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">         &#125;);</span><br><span class="line">      popup.show();</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://s2.ax1x.com/2019/10/30/K5VT8H.png" alt="K5VT8H.png"></p><p><img src="https://s2.ax1x.com/2019/10/30/K5V72d.png" alt="K5V72d.png"></p><p>调用MenuInflater的inflate()方法将菜单资源填充到PopopMenu，调用show()方法显示弹出式菜单。</p><h3 id="ActionBar（活动条）"><a href="#ActionBar（活动条）" class="headerlink" title="ActionBar（活动条）"></a>ActionBar（活动条）</h3><h3 id="ActionBar"><a href="#ActionBar" class="headerlink" title="ActionBar"></a>ActionBar</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.crazyit.ui;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.app.ActionBar;</span><br><span class="line"><span class="keyword">import</span> android.app.Activity;</span><br><span class="line"><span class="keyword">import</span> android.os.Bundle;</span><br><span class="line"><span class="keyword">import</span> android.view.Menu;</span><br><span class="line"><span class="keyword">import</span> android.view.MenuItem;</span><br><span class="line"><span class="keyword">import</span> android.view.View;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">Activity</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">   ActionBar actionBar;</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">      setContentView(R.layout.main);</span><br><span class="line">      <span class="comment">// 获取该Activity的ActionBar</span></span><br><span class="line">      <span class="comment">// 只有当应用主题没有关闭ActionBar时，该代码才能返回ActionBar</span></span><br><span class="line">      actionBar = getActionBar();</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="comment">// 为“显示ActionBar”按钮定义事件处理方法</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">showActionBar</span><span class="params">(View source)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      <span class="comment">// 显示ActionBar</span></span><br><span class="line">      actionBar.show();</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="comment">// 为“隐藏ActionBar”按钮定义事件处理方法</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">hideActionBar</span><span class="params">(View source)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      <span class="comment">// 隐藏ActionBar</span></span><br><span class="line">      actionBar.hide();</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://s2.ax1x.com/2019/10/30/K5VHxA.png" alt="K5VHxA.png"></p><p><img src="https://s2.ax1x.com/2019/10/30/K5VqKI.png" alt="K5VqKI.png"></p><p>调用getActionBar()方法获取Activity关联的ActionBar</p><h3 id="ActionBar显示选项菜单项"><a href="#ActionBar显示选项菜单项" class="headerlink" title="ActionBar显示选项菜单项"></a>ActionBar显示选项菜单项</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">menu</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">item</span> <span class="attr">android:title</span>=<span class="string">"@string/font_size"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:showAsAction</span>=<span class="string">"always|withText"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:icon</span>=<span class="string">"@drawable/font"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">menu</span>&gt;</span></span><br><span class="line">         <span class="comment">&lt;!-- 定义一组单选菜单项 --&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">group</span> <span class="attr">android:checkableBehavior</span>=<span class="string">"single"</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- 定义多个菜单项 --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">item</span></span></span><br><span class="line"><span class="tag">               <span class="attr">android:id</span>=<span class="string">"@+id/font_10"</span></span></span><br><span class="line"><span class="tag">               <span class="attr">android:title</span>=<span class="string">"@string/font_10"</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">item</span></span></span><br><span class="line"><span class="tag">               <span class="attr">android:id</span>=<span class="string">"@+id/font_12"</span></span></span><br><span class="line"><span class="tag">               <span class="attr">android:title</span>=<span class="string">"@string/font_12"</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">item</span></span></span><br><span class="line"><span class="tag">               <span class="attr">android:id</span>=<span class="string">"@+id/font_14"</span></span></span><br><span class="line"><span class="tag">               <span class="attr">android:title</span>=<span class="string">"@string/font_14"</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">item</span></span></span><br><span class="line"><span class="tag">               <span class="attr">android:id</span>=<span class="string">"@+id/font_16"</span></span></span><br><span class="line"><span class="tag">               <span class="attr">android:title</span>=<span class="string">"@string/font_16"</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">item</span></span></span><br><span class="line"><span class="tag">               <span class="attr">android:id</span>=<span class="string">"@+id/font_18"</span></span></span><br><span class="line"><span class="tag">               <span class="attr">android:title</span>=<span class="string">"@string/font_18"</span>/&gt;</span></span><br><span class="line">         <span class="tag">&lt;/<span class="name">group</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">menu</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">item</span>&gt;</span></span><br><span class="line">   <span class="comment">&lt;!-- 定义一个普通菜单项 --&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">item</span> <span class="attr">android:id</span>=<span class="string">"@+id/plain_item"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:showAsAction</span>=<span class="string">"always|withText"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:title</span>=<span class="string">"@string/plain_item"</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">item</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">item</span> <span class="attr">android:title</span>=<span class="string">"@string/font_color"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:showAsAction</span>=<span class="string">"always"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:icon</span>=<span class="string">"@drawable/color"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">menu</span>&gt;</span></span><br><span class="line">         <span class="comment">&lt;!-- 定义一组允许复选的菜单项 --&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">group</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- 定义三个菜单项 --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">item</span></span></span><br><span class="line"><span class="tag">               <span class="attr">android:id</span>=<span class="string">"@+id/red_font"</span></span></span><br><span class="line"><span class="tag">               <span class="attr">android:title</span>=<span class="string">"@string/red_title"</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">item</span></span></span><br><span class="line"><span class="tag">               <span class="attr">android:id</span>=<span class="string">"@+id/green_font"</span></span></span><br><span class="line"><span class="tag">               <span class="attr">android:title</span>=<span class="string">"@string/green_title"</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">item</span></span></span><br><span class="line"><span class="tag">               <span class="attr">android:id</span>=<span class="string">"@+id/blue_font"</span></span></span><br><span class="line"><span class="tag">               <span class="attr">android:title</span>=<span class="string">"@string/blue_title"</span>/&gt;</span></span><br><span class="line">         <span class="tag">&lt;/<span class="name">group</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">menu</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">item</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">menu</span>&gt;</span></span><br></pre></td></tr></table></figure><p><img src="https://s2.ax1x.com/2019/10/30/K5VLrt.png" alt="K5VLrt.png"></p><p><img src="https://s2.ax1x.com/2019/10/30/K5VOqP.png" alt="K5VOqP.png"></p><p><img src="https://s2.ax1x.com/2019/10/30/K5VjVf.png" alt="K5VjVf.png"></p><p>为选项菜单项增加showAsAction属性控制将惨淡想显示在ActionBar上</p><h3 id="程序图标导航"><a href="#程序图标导航" class="headerlink" title="程序图标导航"></a>程序图标导航</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.crazyit.ui;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.app.ActionBar;</span><br><span class="line"><span class="keyword">import</span> android.app.Activity;</span><br><span class="line"><span class="keyword">import</span> android.content.Intent;</span><br><span class="line"><span class="keyword">import</span> android.graphics.Color;</span><br><span class="line"><span class="keyword">import</span> android.os.Bundle;</span><br><span class="line"><span class="keyword">import</span> android.view.Menu;</span><br><span class="line"><span class="keyword">import</span> android.view.MenuInflater;</span><br><span class="line"><span class="keyword">import</span> android.view.MenuItem;</span><br><span class="line"><span class="keyword">import</span> android.widget.TextView;</span><br><span class="line"><span class="keyword">import</span> android.widget.Toast;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">Activity</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">   <span class="keyword">private</span> TextView txt;</span><br><span class="line">   ActionBar actionBar;</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">      setContentView(R.layout.main);</span><br><span class="line">      txt = (TextView) findViewById(R.id.txt);</span><br><span class="line">      actionBar = getActionBar();</span><br><span class="line">      <span class="comment">// 设置是否显示应用程序图标</span></span><br><span class="line">      actionBar.setDisplayShowHomeEnabled(<span class="keyword">true</span>);</span><br><span class="line">      <span class="comment">// 将应用程序图标设置为可点击的按钮</span></span><br><span class="line"><span class="comment">//    actionBar.setHomeButtonEnabled(true);</span></span><br><span class="line">      <span class="comment">// 将应用程序图标设置为可点击的按钮，并在图标上添加向左箭头</span></span><br><span class="line">      actionBar.setDisplayHomeAsUpEnabled(<span class="keyword">true</span>);</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">onCreateOptionsMenu</span><span class="params">(Menu menu)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      MenuInflater inflator = <span class="keyword">new</span> MenuInflater(<span class="keyword">this</span>);</span><br><span class="line">      <span class="comment">// 状态R.menu.menu_main对应的菜单，并添加到menu中</span></span><br><span class="line">      inflator.inflate(R.menu.menu_main, menu);</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">super</span>.onCreateOptionsMenu(menu);</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="comment">// 选项菜单的菜单项被单击后的回调方法</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">onOptionsItemSelected</span><span class="params">(MenuItem mi)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      <span class="keyword">if</span>(mi.isCheckable())</span><br><span class="line">      &#123;</span><br><span class="line">         mi.setChecked(<span class="keyword">true</span>);</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="comment">// 判断单击的是哪个菜单项，并有针对性地作出响应</span></span><br><span class="line">      <span class="keyword">switch</span> (mi.getItemId())</span><br><span class="line">      &#123;</span><br><span class="line">         <span class="keyword">case</span> android.R.id.home:</span><br><span class="line">            <span class="comment">// 创建启动FirstActivity的Intent</span></span><br><span class="line">            Intent intent = <span class="keyword">new</span> Intent(<span class="keyword">this</span>, FirstActivity.class);</span><br><span class="line">            <span class="comment">// 添加额外的Flag，将Activity栈中处于FirstActivity之上的Activity弹出</span></span><br><span class="line">            intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);</span><br><span class="line">            <span class="comment">// 启动intent对应的Activity</span></span><br><span class="line">            startActivity(intent);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">         <span class="keyword">case</span> R.id.font_10:</span><br><span class="line">            txt.setTextSize(<span class="number">10</span> * <span class="number">2</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">         <span class="keyword">case</span> R.id.font_12:</span><br><span class="line">            txt.setTextSize(<span class="number">12</span> * <span class="number">2</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">         <span class="keyword">case</span> R.id.font_14:</span><br><span class="line">            txt.setTextSize(<span class="number">14</span> * <span class="number">2</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">         <span class="keyword">case</span> R.id.font_16:</span><br><span class="line">            txt.setTextSize(<span class="number">16</span> * <span class="number">2</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">         <span class="keyword">case</span> R.id.font_18:</span><br><span class="line">            txt.setTextSize(<span class="number">18</span> * <span class="number">2</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">         <span class="keyword">case</span> R.id.red_font:</span><br><span class="line">            txt.setTextColor(Color.RED);</span><br><span class="line">            mi.setChecked(<span class="keyword">true</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">         <span class="keyword">case</span> R.id.green_font:</span><br><span class="line">            txt.setTextColor(Color.GREEN);</span><br><span class="line">            mi.setChecked(<span class="keyword">true</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">         <span class="keyword">case</span> R.id.blue_font:</span><br><span class="line">            txt.setTextColor(Color.BLUE);</span><br><span class="line">            mi.setChecked(<span class="keyword">true</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">         <span class="keyword">case</span> R.id.plain_item:</span><br><span class="line">            Toast toast = Toast.makeText(MainActivity.<span class="keyword">this</span>, <span class="string">"您单击了普通菜单项"</span>,</span><br><span class="line">                  Toast.LENGTH_SHORT);</span><br><span class="line">            toast.show();</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://s2.ax1x.com/2019/10/30/K5Vva8.png" alt="K5Vva8.png"></p><p><img src="https://s2.ax1x.com/2019/10/30/K5VxIS.png" alt="K5VxIS.png"></p><p><img src="https://s2.ax1x.com/2019/10/30/K5ZSPg.png" alt="K5ZSPg.png"></p><p>绑定事件监听器，点击ID为Action Item时，程序使用Intent返回FirstActivity</p><h3 id="Action-View"><a href="#Action-View" class="headerlink" title="Action View"></a>Action View</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8" ?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">menu</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">item</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:id</span>=<span class="string">"@+id/search"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:orderInCategory</span>=<span class="string">"100"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:showAsAction</span>=<span class="string">"always"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:actionViewClass</span>=<span class="string">"android.widget.SearchView"</span>/&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">item</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:id</span>=<span class="string">"@+id/progress"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:orderInCategory</span>=<span class="string">"100"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:showAsAction</span>=<span class="string">"always"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:actionLayout</span>=<span class="string">"@layout/clock"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">menu</span>&gt;</span></span><br><span class="line">layout</span><br><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8" ?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">AnalogClock</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">/&gt;</span></span><br></pre></td></tr></table></figure><p><img src="https://s2.ax1x.com/2019/10/30/K5ZpGQ.png" alt="K5ZpGQ.png"></p><p>定义Aciton View，制定Action View的实现类为Search View，制定Action View对应的界面布局资源，并定义AnalogClock模拟时钟</p><p>ActionBar显示Tab导航</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">LinearLayout</span></span></span><br><span class="line"><span class="tag">   <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:id</span>=<span class="string">"@+id/container"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:orientation</span>=<span class="string">"horizontal"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span> /&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.crazyit.ui;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.app.ActionBar;</span><br><span class="line"><span class="keyword">import</span> android.app.Activity;</span><br><span class="line"><span class="keyword">import</span> android.app.Fragment;</span><br><span class="line"><span class="keyword">import</span> android.app.FragmentTransaction;</span><br><span class="line"><span class="keyword">import</span> android.os.Bundle;</span><br><span class="line"><span class="keyword">import</span> android.view.Menu;</span><br><span class="line"><span class="keyword">import</span> android.view.MenuItem;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">Activity</span> <span class="keyword">implements</span></span></span><br><span class="line"><span class="class">   <span class="title">ActionBar</span>.<span class="title">TabListener</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">   <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> String SELECTED_ITEM = <span class="string">"selected_item"</span>;</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">      setContentView(R.layout.main);</span><br><span class="line">      <span class="keyword">final</span> ActionBar actionBar = getActionBar();</span><br><span class="line">      <span class="comment">// 设置ActionBar的导航方式：Tab导航</span></span><br><span class="line">      actionBar.setNavigationMode(ActionBar.NAVIGATION_MODE_TABS);</span><br><span class="line">      <span class="comment">// 依次添加三个Tab页，并为三个Tab标签添加事件监听器</span></span><br><span class="line">      actionBar.addTab(actionBar.newTab().setText(<span class="string">"第一页"</span>)</span><br><span class="line">         .setTabListener(<span class="keyword">this</span>));</span><br><span class="line">      actionBar.addTab(actionBar.newTab().setText(<span class="string">"第二页"</span>)</span><br><span class="line">         .setTabListener(<span class="keyword">this</span>));</span><br><span class="line">      actionBar.addTab(actionBar.newTab().setText(<span class="string">"第三页"</span>)</span><br><span class="line">         .setTabListener(<span class="keyword">this</span>));</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onRestoreInstanceState</span><span class="params">(Bundle savedInstanceState)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      <span class="keyword">if</span> (savedInstanceState.containsKey(SELECTED_ITEM))</span><br><span class="line">      &#123;</span><br><span class="line">         <span class="comment">// 选中前面保存的索引对应的Fragment页</span></span><br><span class="line">         getActionBar().setSelectedNavigationItem(</span><br><span class="line">               savedInstanceState.getInt(SELECTED_ITEM));</span><br><span class="line">      &#125;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onSaveInstanceState</span><span class="params">(Bundle outState)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      <span class="comment">// 将当前选中的Fragment页的索引保存到Bundle中</span></span><br><span class="line">      outState.putInt(SELECTED_ITEM,</span><br><span class="line">            getActionBar().getSelectedNavigationIndex());</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onTabUnselected</span><span class="params">(ActionBar.Tab tab,</span></span></span><br><span class="line"><span class="function"><span class="params">      FragmentTransaction fragmentTransaction)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="comment">// 当指定Tab被选中时激发该方法</span></span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onTabSelected</span><span class="params">(ActionBar.Tab tab,</span></span></span><br><span class="line"><span class="function"><span class="params">      FragmentTransaction fragmentTransaction)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      <span class="comment">// 创建一个新的Fragment对象</span></span><br><span class="line">      Fragment fragment = <span class="keyword">new</span> DummyFragment();</span><br><span class="line">      <span class="comment">// 创建一个Bundle对象，用于向Fragment传入参数</span></span><br><span class="line">      Bundle args = <span class="keyword">new</span> Bundle();</span><br><span class="line">      args.putInt(DummyFragment.ARG_SECTION_NUMBER,</span><br><span class="line">            tab.getPosition() + <span class="number">1</span>);</span><br><span class="line">      <span class="comment">// 向fragment传入参数</span></span><br><span class="line">      fragment.setArguments(args);</span><br><span class="line">      <span class="comment">// 获取FragmentTransaction对象</span></span><br><span class="line">      FragmentTransaction ft = getFragmentManager()</span><br><span class="line">            .beginTransaction();</span><br><span class="line">      <span class="comment">// 使用fragment代替该Activity中的container组件</span></span><br><span class="line">      ft.replace(R.id.container, fragment);</span><br><span class="line">      <span class="comment">// 提交事务</span></span><br><span class="line">      ft.commit();</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onTabReselected</span><span class="params">(ActionBar.Tab tab,</span></span></span><br><span class="line"><span class="function"><span class="params">      FragmentTransaction fragmentTransaction)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="DummyFragment"><a href="#DummyFragment" class="headerlink" title="DummyFragment"></a>DummyFragment</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.crazyit.ui;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.app.Fragment;</span><br><span class="line"><span class="keyword">import</span> android.os.Bundle;</span><br><span class="line"><span class="comment">//import android.support.v4.app.Fragment;</span></span><br><span class="line"><span class="keyword">import</span> android.view.Gravity;</span><br><span class="line"><span class="keyword">import</span> android.view.LayoutInflater;</span><br><span class="line"><span class="keyword">import</span> android.view.View;</span><br><span class="line"><span class="keyword">import</span> android.view.ViewGroup;</span><br><span class="line"><span class="keyword">import</span> android.widget.TextView;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DummyFragment</span> <span class="keyword">extends</span> <span class="title">Fragment</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String ARG_SECTION_NUMBER = <span class="string">"section_number"</span>;</span><br><span class="line">   <span class="comment">// 该方法的返回值就是该Fragment显示的View组件</span></span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> View <span class="title">onCreateView</span><span class="params">(LayoutInflater inflater, ViewGroup container,</span></span></span><br><span class="line"><span class="function"><span class="params">       Bundle savedInstanceState)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      TextView textView = <span class="keyword">new</span> TextView(getActivity());</span><br><span class="line">      textView.setGravity(Gravity.CENTER_HORIZONTAL);</span><br><span class="line">      <span class="comment">// 获取创建该Fragment时传入的参数Bundle</span></span><br><span class="line">      Bundle args = getArguments();</span><br><span class="line">      <span class="comment">// 设置TextView显示的文本</span></span><br><span class="line">      textView.setText(args.getInt(ARG_SECTION_NUMBER) + <span class="string">""</span>);</span><br><span class="line">      textView.setTextSize(<span class="number">30</span>);</span><br><span class="line">      <span class="comment">// 返回该TextView</span></span><br><span class="line">      <span class="keyword">return</span> textView;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://s2.ax1x.com/2019/10/30/K5Z92j.png" alt="K5Z92j.png"></p><p><img src="https://s2.ax1x.com/2019/10/30/K5ZCxs.png" alt="K5ZCxs.png"></p><p><img src="https://s2.ax1x.com/2019/10/30/K5ZiMn.png" alt="K5ZiMn.png"></p><p>定义LinearLayout作为容器，动态承装Fragment，并为三个ActionBar添加了三个Tab标签，每个标签设置了事件监听器，通过激发onTabSelected()方法，替换新的Fragment</p><h3 id="ActionBar显示下拉式菜单"><a href="#ActionBar显示下拉式菜单" class="headerlink" title="ActionBar显示下拉式菜单"></a>ActionBar显示下拉式菜单</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.crazyit.ui;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.app.ActionBar;</span><br><span class="line"><span class="keyword">import</span> android.app.Activity;</span><br><span class="line"><span class="keyword">import</span> android.app.Fragment;</span><br><span class="line"><span class="keyword">import</span> android.app.FragmentTransaction;</span><br><span class="line"><span class="keyword">import</span> android.os.Bundle;</span><br><span class="line"><span class="keyword">import</span> android.view.Menu;</span><br><span class="line"><span class="keyword">import</span> android.view.MenuItem;</span><br><span class="line"><span class="keyword">import</span> android.widget.ArrayAdapter;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">Activity</span> <span class="keyword">implements</span></span></span><br><span class="line"><span class="class">      <span class="title">ActionBar</span>.<span class="title">OnNavigationListener</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">   <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> String SELECTED_ITEM = <span class="string">"selected_item"</span>;</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">      setContentView(R.layout.main);</span><br><span class="line">      <span class="keyword">final</span> ActionBar actionBar = getActionBar();</span><br><span class="line">      <span class="comment">// 设置ActionBar是否显示标题</span></span><br><span class="line">      actionBar.setDisplayShowTitleEnabled(<span class="keyword">true</span>);</span><br><span class="line">      <span class="comment">// 设置导航模式，使用List导航</span></span><br><span class="line">      actionBar.setNavigationMode(ActionBar.NAVIGATION_MODE_LIST);</span><br><span class="line">      <span class="comment">// 为actionBar安装ArrayAdapter</span></span><br><span class="line">      actionBar.setListNavigationCallbacks(</span><br><span class="line">         <span class="keyword">new</span> ArrayAdapter&lt;String&gt;(<span class="keyword">this</span>,</span><br><span class="line">            android.R.layout.simple_list_item_1,</span><br><span class="line">            android.R.id.text1, <span class="keyword">new</span> String[]</span><br><span class="line">            &#123;<span class="string">"第一页"</span>,<span class="string">"第二页"</span>,<span class="string">"第三页"</span> &#125;), <span class="keyword">this</span>);</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onRestoreInstanceState</span><span class="params">(Bundle savedInstanceState)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      <span class="keyword">if</span> (savedInstanceState.containsKey(SELECTED_ITEM))</span><br><span class="line">      &#123;</span><br><span class="line">         <span class="comment">// 选中前面保存的索引对应的Fragment页</span></span><br><span class="line">         getActionBar().setSelectedNavigationItem(</span><br><span class="line">               savedInstanceState.getInt(SELECTED_ITEM));</span><br><span class="line">      &#125;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onSaveInstanceState</span><span class="params">(Bundle outState)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      <span class="comment">// 将当前选中的Fragment页的索引保存到Bundle中</span></span><br><span class="line">      outState.putInt(SELECTED_ITEM,</span><br><span class="line">            getActionBar().getSelectedNavigationIndex());</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="comment">// 当导航项被选中时激发该方法</span></span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">onNavigationItemSelected</span><span class="params">(<span class="keyword">int</span> position, <span class="keyword">long</span> id)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      <span class="comment">// 创建一个新的Fragment对象</span></span><br><span class="line">      Fragment fragment = <span class="keyword">new</span> DummyFragment();</span><br><span class="line">      <span class="comment">// 创建一个Bundle对象，用于向Fragment传入参数</span></span><br><span class="line">      Bundle args = <span class="keyword">new</span> Bundle();</span><br><span class="line">      args.putInt(DummyFragment.ARG_SECTION_NUMBER, position + <span class="number">1</span>);</span><br><span class="line">      <span class="comment">// 向fragment传入参数</span></span><br><span class="line">      fragment.setArguments(args);</span><br><span class="line">      <span class="comment">// 获取FragmentTransaction对象</span></span><br><span class="line">      FragmentTransaction ft = getFragmentManager().beginTransaction();</span><br><span class="line">      <span class="comment">// 使用fragment代替该Activity中的container组件</span></span><br><span class="line">      ft.replace(R.id.container, fragment);</span><br><span class="line">      <span class="comment">// 提交事务</span></span><br><span class="line">      ft.commit();</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://s2.ax1x.com/2019/10/30/K5ZFrq.png" alt="K5ZFrq.png"></p><p><img src="https://s2.ax1x.com/2019/10/30/K5Zkq0.png" alt="K5Zkq0.png"></p><p><img src="https://s2.ax1x.com/2019/10/30/K5ZEZV.png" alt="K5ZEZV.png"></p><p><img src="https://s2.ax1x.com/2019/10/30/K5ZVaT.png" alt="K5ZVaT.png"></p><p>调用setNavigationMode()启动下拉列表导航支持,为ActionBar传入ArrAyAdapter和监听器，选中指定的导航项时，激发监听器onNavigationItemSelected()</p><blockquote style="margin: 2em 0 0;padding: 0.5em 1em;border-left: 3px solid #F44336;background-color: #F5F5F5;list-style: none;"><p> <strong>本文使用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/" target="_blank" rel="noopener">CC BY-NC-SA 3.0 中国大陆</a> 协议许可<br>具体请参见 <a href="https://zyhang8.github.io/agree/" target="_blank" rel="noopener">知识共享协议</a></strong><br> <strong>本文链接：</strong><a href="https://zyhang8.github.io/2019/10/23/android-exp2/" target="_blank" rel="noopener">https://zyhang8.github.io/2019/10/23/android-exp2/</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> android </category>
          
      </categories>
      
      
        <tags>
            
            <tag> android </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>第一个Android程序</title>
      <link href="/2019/10/22/android-exp1/"/>
      <url>/2019/10/22/android-exp1/</url>
      
        <content type="html"><![CDATA[<h1 id="第一个Android程序"><a href="#第一个Android程序" class="headerlink" title="第一个Android程序"></a>第一个Android程序</h1><h2 id="实验目的"><a href="#实验目的" class="headerlink" title="实验目的"></a>实验目的</h2><p>1.了解Android应用程序开发环境的搭建方法;<br>2.使用eclipse+ADT插件和Android Studio开发应用程序的一般步骤</p><h2 id="实验内容"><a href="#实验内容" class="headerlink" title="实验内容"></a>实验内容</h2><p>1.安装JDK并配置好环境变量；<br>2.安装eclipse和ADT插件<br>3.安装Android Studio<br>4.在eclipse和Android Studio中创建Android应用程序并在模拟器上运行成功。</p><h2 id="实验步骤"><a href="#实验步骤" class="headerlink" title="实验步骤"></a>实验步骤</h2><h3 id="搭建Android开发环境"><a href="#搭建Android开发环境" class="headerlink" title="搭建Android开发环境"></a>搭建Android开发环境</h3><p>（1）首先需要安装JDK并配置环境变量；</p><p><img src="https://s2.ax1x.com/2019/10/30/K4TGLV.png" alt="K4TGLV.png"></p><p>（2）下载并安装Eclipse；</p><p><img src="https://s2.ax1x.com/2019/10/30/K4TtdU.png" alt="K4TtdU.png"></p><p>（3）安装ADT插件；</p><p><img src="https://s2.ax1x.com/2019/10/30/K47OHK.png" alt="K47OHK.png"></p><p>（4）下载并安装Android SDK，将SDK位置在ADT里配置好；</p><p><img src="https://s2.ax1x.com/2019/10/30/K4TNoF.png" alt="K4TNoF.png"></p><p>（5）下载并安装Android Studio，指定好SDK的位置；</p><p><img src="https://s2.ax1x.com/2019/10/30/K4TYZT.png" alt="K4TYZT.png"></p><p><img src="https://s2.ax1x.com/2019/10/30/K4Tai4.png" alt="K4Tai4.png"></p><h3 id="创建Android应用程序"><a href="#创建Android应用程序" class="headerlink" title="创建Android应用程序"></a>创建Android应用程序</h3><p>（1）使用Eclipse建立第一个Android程序（以“com.androidcourse.学号”为包名）并在模拟器上成功运行；</p><p><img src="https://s2.ax1x.com/2019/10/30/K4TwW9.png" alt="K4TwW9.png"></p><p>（2）使用Android Studio建立第一个Android程序（以“com.androidcourse.学号”为包名）在模拟器上成功运行；</p><p><img src="https://s2.ax1x.com/2019/10/30/K4TdJJ.png" alt="K4TdJJ.png"></p><p><img src="https://s2.ax1x.com/2019/10/30/K4T0zR.png" alt="K4T0zR.png"></p><h2 id="比较Eclipse和Android-Studio两款软件的异同"><a href="#比较Eclipse和Android-Studio两款软件的异同" class="headerlink" title="比较Eclipse和Android Studio两款软件的异同"></a>比较Eclipse和Android Studio两款软件的异同</h2><p>Android Studio优势：速度快，UI更漂亮，更加智能，整合了gradle构建工具，内置终端<br>git绑定（演讲时讲过）</p><h2 id="实验总结"><a href="#实验总结" class="headerlink" title="实验总结"></a>实验总结</h2><p>演讲ppt</p><blockquote style="margin: 2em 0 0;padding: 0.5em 1em;border-left: 3px solid #F44336;background-color: #F5F5F5;list-style: none;"><p> <strong>本文使用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/" target="_blank" rel="noopener">CC BY-NC-SA 3.0 中国大陆</a> 协议许可<br>具体请参见 <a href="https://zyhang8.github.io/agree/" target="_blank" rel="noopener">知识共享协议</a></strong><br> <strong>本文链接：</strong><a href="https://zyhang8.github.io/2019/10/22/android-exp1/" target="_blank" rel="noopener">https://zyhang8.github.io/2019/10/22/android-exp1/</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> android </category>
          
      </categories>
      
      
        <tags>
            
            <tag> android </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HTML+CSS</title>
      <link href="/2019/10/21/javaweb-exp1/"/>
      <url>/2019/10/21/javaweb-exp1/</url>
      
        <content type="html"><![CDATA[<h2 id="HTML-CSS"><a href="#HTML-CSS" class="headerlink" title="HTML+CSS"></a>HTML+CSS</h2><h3 id="一、实验目的"><a href="#一、实验目的" class="headerlink" title="一、实验目的"></a>一、实验目的</h3><ul><li>掌握HTML5和CSS3的使用</li><li>能够通过网站的UI界面，使用HTML5和CSS3实现相应的功能</li></ul><h3 id="二、实验环境"><a href="#二、实验环境" class="headerlink" title="二、实验环境"></a>二、实验环境</h3><ul><li>Safari</li><li>vscode</li></ul><h3 id="三、实验内容"><a href="#三、实验内容" class="headerlink" title="三、实验内容"></a>三、实验内容</h3><ol><li>根据课堂内容，对HTML5和CSS3中的内容进行掌握（见HTML+CSS的PPT和样例文件夹中的内容）</li></ol><p>老师上课说过不写，我当然不写，之前也有接触过前端，所以觉得标签语言也不难，还是多练习才能学会。</p><ol start="2"><li>根据欧莱雅网站首页UI和提供的素材，使用HTML5+CSS3实现网站首页。（请将源代码复制到此处）</li></ol><p><img src="https://s2.ax1x.com/2019/09/28/uMoHaT.png" alt="uMoHaT.png"></p><p>出现乱码很正常，毕竟都是练习项目。一种是改变浏览器的编码格式，一种是在代码里设置编码格式。</p><p>看到html里面的uft-8，把相应浏览器改成utf-8就可以修复</p><p><img src="https://s2.ax1x.com/2019/09/28/uMobIU.png" alt="uMobIU.png"></p><p><img src="https://s2.ax1x.com/2019/09/28/uMoIrq.png" alt="uMoIrq.png"></p><p>看了题目，需求就是把图片排序成两行排列，每行分成三列等距排列。看了下底部的css，发现就是我们要做的结构，先把底部footerleft的css注释</p><p>再把middle和right注释掉。由此可以判断也是根绝相对位置进行排序的</p><p>完成要求一，更改代码，应为默认为上下排序，所以直接把css中关于produect全部注释即可，代码简单，所以通过要求二代码注释product即可得到要求一代码。</p><p><img src="https://s2.ax1x.com/2019/09/28/uMohxs.png" alt="uMohxs.png"></p><p><img src="https://s2.ax1x.com/2019/09/28/uMTZQA.png" alt="uMTZQA.png"></p><p><img src="https://s2.ax1x.com/2019/09/28/uMo5Mn.png" alt="uMo5Mn.png"></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--PRODUCT--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"product"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"product_son"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"images/youthcode.png"</span>/&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"product_son"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"images/shine.png"</span>/&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"product_son"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"images/pure.png"</span>/&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"product_son"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"images/brandnew.png"</span>/&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"product_son"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"images/brand.png"</span>/&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"product_son"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"images/beauty.png"</span>/&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"product_son"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"images/loreal.png"</span>/&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*产品系列展示*/</span></span><br><span class="line"><span class="selector-class">.product</span>&#123;<span class="attribute">height</span>:<span class="number">955px</span>; <span class="attribute">width</span>:<span class="number">4000</span>; <span class="attribute">margin-top</span>:<span class="number">10px</span>;&#125;</span><br><span class="line"><span class="selector-class">.product_son</span>&#123;<span class="attribute">width</span>:<span class="number">952px</span>;<span class="attribute">height</span>:<span class="number">440px</span>;<span class="attribute">margin-top</span>:<span class="number">10px</span>;&#125;</span><br></pre></td></tr></table></figure><p>完成要求二，由于上下需要分出间隙，所以三个结构没有类似的地方所分为三个子div，然后up和down中中三个图片的排列规则一样，所以6张图片用三个相同的css，通过设置内左边距，外左边距，外顶边距和内顶边距，并设置图片的位置大小，实现该功能。</p><p><img src="https://s2.ax1x.com/2019/09/28/uMooq0.png" alt="uMooq0.png"></p><p><img src="https://s2.ax1x.com/2019/09/28/uMo7ZV.png" alt="uMo7ZV.png"></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--PRODUCT--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"product"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"product_up"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"product_left"</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"images/youthcode.png"</span> <span class="attr">height</span>=<span class="string">"130"</span> <span class="attr">width</span>=<span class="string">"280"</span>/&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"product_left"</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"images/shine.png"</span> <span class="attr">height</span>=<span class="string">"130"</span> <span class="attr">width</span>=<span class="string">"280"</span>/&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"product_left"</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"images/pure.png"</span> <span class="attr">height</span>=<span class="string">"130"</span> <span class="attr">width</span>=<span class="string">"280"</span>/&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"product_down"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"product_left"</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"images/brandnew.png"</span> <span class="attr">height</span>=<span class="string">"130"</span> <span class="attr">width</span>=<span class="string">"280"</span>/&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"product_left"</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"images/brand.png"</span> <span class="attr">height</span>=<span class="string">"130"</span> <span class="attr">width</span>=<span class="string">"280"</span>/&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"product_left"</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"images/beauty.png"</span> <span class="attr">height</span>=<span class="string">"130"</span> <span class="attr">width</span>=<span class="string">"280"</span>/&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"product_bottom"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"images/loreal.png"</span> <span class="attr">width</span>=<span class="string">"870"</span> <span class="attr">height</span>=<span class="string">"350"</span>/&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*产品系列展示*/</span></span><br><span class="line"><span class="selector-class">.product</span>&#123;<span class="attribute">height</span>:<span class="number">700px</span>; <span class="attribute">width</span>:<span class="number">952px</span>; <span class="attribute">margin-top</span>:<span class="number">25px</span>;&#125;</span><br><span class="line"><span class="selector-class">.product_up</span>&#123;<span class="attribute">width</span>:<span class="number">952px</span>;<span class="attribute">height</span>:<span class="number">140px</span>; <span class="attribute">padding-left</span>:<span class="number">36px</span>;<span class="attribute">padding-top</span>:<span class="number">25px</span>;&#125;</span><br><span class="line"><span class="selector-class">.product_left</span> &#123;<span class="attribute">width</span>:<span class="number">300px</span>;<span class="attribute">height</span>:<span class="number">138px</span>;<span class="attribute">float</span>: left;&#125;</span><br><span class="line"><span class="selector-class">.product_middle</span> &#123;<span class="attribute">width</span>:<span class="number">300px</span>;<span class="attribute">height</span>:<span class="number">138px</span>;<span class="attribute">padding-left</span>:<span class="number">5</span>;<span class="attribute">float</span>:left;&#125;</span><br><span class="line"><span class="selector-class">.product_right</span> &#123;<span class="attribute">width</span>:<span class="number">300px</span>;<span class="attribute">height</span>:<span class="number">138px</span>;<span class="attribute">padding-left</span>:<span class="number">5</span>; <span class="attribute">float</span>: right;&#125;</span><br><span class="line"><span class="selector-class">.product_down</span>&#123;<span class="attribute">width</span>:<span class="number">952px</span>;<span class="attribute">height</span>:<span class="number">140px</span>;<span class="attribute">padding-left</span>:<span class="number">36px</span>;<span class="attribute">margin-top</span>: <span class="number">15px</span>;&#125;</span><br><span class="line"><span class="selector-class">.product_bottom</span>&#123;<span class="attribute">width</span>:<span class="number">952px</span>;<span class="attribute">height</span>:<span class="number">280px</span>;<span class="attribute">margin-top</span>: <span class="number">5px</span>;<span class="attribute">padding-left</span>:<span class="number">5px</span>;&#125;</span><br></pre></td></tr></table></figure><h3 id="四、实验心得"><a href="#四、实验心得" class="headerlink" title="四、实验心得"></a>四、实验心得</h3><ul><li>margin和padding分别为外边距和内边距的区别</li><li>明白了调参程序员的痛苦</li><li>css看起来跟xml差不多，类似的pading和margin在安卓也有相同名称的参数</li></ul><blockquote style="margin: 2em 0 0;padding: 0.5em 1em;border-left: 3px solid #F44336;background-color: #F5F5F5;list-style: none;"><p> <strong>本文使用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/" target="_blank" rel="noopener">CC BY-NC-SA 3.0 中国大陆</a> 协议许可<br>具体请参见 <a href="https://zyhang8.github.io/agree/" target="_blank" rel="noopener">知识共享协议</a></strong><br> <strong>本文链接：</strong><a href="https://zyhang8.github.io/2019/10/21/javaweb-exp1/" target="_blank" rel="noopener">https://zyhang8.github.io/2019/10/21/javaweb-exp1/</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 前端 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>TCP/IP协议及配置</title>
      <link href="/2019/10/20/cn-exp2/"/>
      <url>/2019/10/20/cn-exp2/</url>
      
        <content type="html"><![CDATA[<h1 id="TCP-IP协议及配置"><a href="#TCP-IP协议及配置" class="headerlink" title="TCP/IP协议及配置"></a>TCP/IP协议及配置</h1><h2 id="实验目的"><a href="#实验目的" class="headerlink" title="实验目的"></a>实验目的</h2><p>熟悉常用网络命令的应用<br>熟悉windows操作系统的IP地址设置<br>理解IP地址、子网掩码、网关、DNS的作用</p><h2 id="实验条件"><a href="#实验条件" class="headerlink" title="实验条件"></a>实验条件</h2><p>计算机：网络连接正常<br>操作系统：Mac OS X/ windows 10</p><h2 id="实验内容"><a href="#实验内容" class="headerlink" title="实验内容"></a>实验内容</h2><p>1.应用网络命令ipconfig，ping，arp<br>2.配置虚拟机里的2台计算机，使得网络能连通<br>3.设置网络共享（选做）</p><h2 id="实验步骤"><a href="#实验步骤" class="headerlink" title="实验步骤"></a>实验步骤</h2><p>1.<br>表格1  ipconfig /all命令运行结果</p><table><thead><tr><th align="center">IP地址</th><th align="center">192.168.169.251</th></tr></thead><tbody><tr><td align="center">子网掩码</td><td align="center">255.255.255.0</td></tr><tr><td align="center">默认网关</td><td align="center">192.168.169.1</td></tr><tr><td align="center">主机名</td><td align="center">zhongyuhangs-iMac.local</td></tr><tr><td align="center">以太网卡的物理地址（MAC）</td><td align="center">a8:60:b6:1d:e2:74</td></tr><tr><td align="center">DHCP是否启用</td><td align="center">是</td></tr></tbody></table><p>1.1打开网络偏好设置</p><p><img src="https://s2.ax1x.com/2019/10/30/K4HrVK.png" alt="K4HrVK.png"></p><p>路由器即为默认网关，得知了ip地址，子网掩码，DHCP使用情况。查了一下DHCP全态为动态主机设置协议，得知意思为动态为主机分配IP地址</p><p><img src="https://s2.ax1x.com/2019/10/30/K4HwK1.png" alt="K4HwK1.png"></p><p>主机名</p><p><img src="https://s2.ax1x.com/2019/10/30/K4HcPe.png" alt="K4HcPe.png"></p><p>2.由于自己的mac有ubuntu，mint，win10的虚拟机，所以这次作业就在本机独立完成。实验二的参考也是基于局域网，自身有两台电脑也可以互ping</p><p>表格2 ping命令运行结果（ping 本机和外机）</p><table><thead><tr><th align="center">目的IP地址</th><th align="center">发出数据包的数目</th><th align="center">接收数据包数目</th><th align="center">响应时间</th></tr></thead><tbody><tr><td align="center">localhost</td><td align="center">4</td><td align="center">4</td><td align="center">0ms</td></tr><tr><td align="center">192.168.169.251</td><td align="center">4</td><td align="center">4</td><td align="center">0ms</td></tr><tr><td align="center"><a href="http://www.baidu.com" target="_blank" rel="noopener">www.baidu.com</a></td><td align="center">4</td><td align="center">4</td><td align="center">ms</td></tr><tr><td align="center">192.168.169.17</td><td align="center">4</td><td align="center">4</td><td align="center">0ms</td></tr></tbody></table><p>虚拟机ping虚拟机</p><p><img src="https://s2.ax1x.com/2019/10/30/K4H0Dx.png" alt="K4H0Dx.png"></p><p>虚拟机ping主机</p><p><img src="https://s2.ax1x.com/2019/10/30/K4HBb6.png" alt="K4HBb6.png"></p><p>ping <a href="http://www.baidu.com˜" target="_blank" rel="noopener">www.baidu.com˜</a></p><p><img src="https://s2.ax1x.com/2019/10/30/K4Hy5D.png" alt="K4Hy5D.png"></p><p>Ping 林宇靖同学的ip</p><p><img src="https://s2.ax1x.com/2019/10/30/K4H22d.png" alt="K4H22d.png"></p><p>3.<br>表格3  arp缓存中内容的显示</p><table><thead><tr><th align="center">IP地址</th><th align="center">MAC地址</th></tr></thead><tbody><tr><td align="center">10.211.55.1</td><td align="center">00-1c-42-00-00-18</td></tr><tr><td align="center">10.211.55.2</td><td align="center">00-1c-42-00-00-08</td></tr><tr><td align="center">10.211.55.255</td><td align="center">ff-ff-ff-ff-ff-ff</td></tr><tr><td align="center">224.0.0.22</td><td align="center">01-00-5e-00-00-16</td></tr><tr><td align="center">224.0.0.251</td><td align="center">01-00-5e-00-00-fb</td></tr><tr><td align="center">224.0.0.252</td><td align="center">01-00-5e-00-00-fc</td></tr><tr><td align="center">239.11.20.1</td><td align="center">01-00-5e-0b-14-01</td></tr><tr><td align="center">239.192.152.143</td><td align="center">01-00-5e-40-98-8f</td></tr><tr><td align="center">239.255.255.250</td><td align="center">01-00-5e-7f-ff-fa</td></tr><tr><td align="center">255.255.255.255</td><td align="center">ff-ff-ff-ff-ff-ff</td></tr></tbody></table><p><img src="https://s2.ax1x.com/2019/10/30/K4HRxA.png" alt="K4HRxA.png"></p><h2 id="实验总结"><a href="#实验总结" class="headerlink" title="实验总结"></a>实验总结</h2><p>局域网的速度当然还是最快的，几乎不费时间。ipconfig，ping这两个是基本操作，之前服务器部署项目就用这个测试，不过arp之前没使用过，这次也学到了。ip可以自己设置，也可以动态分配，不过最好是自己设置，因为比如打印机，扫描机都需要固定端口分配，固定ipu 也有利于服务器外网端口的分配。ip作用刚说过，子网掩码作用就是用于屏蔽IP地址的一部分以区别网络标识和主机标识,并说明该IP地址是在局域网上,还是在远程网上。网关也就是将两个使用不同协议的网络段连接在一起的设备，例如wifi里的网关等。DNS作用当然很大，个人认为其中一个作用就是解析后可以使用域名访问，从此可以禁掉ip，防止服务器被doss。</p><blockquote style="margin: 2em 0 0;padding: 0.5em 1em;border-left: 3px solid #F44336;background-color: #F5F5F5;list-style: none;"><p> <strong>本文使用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/" target="_blank" rel="noopener">CC BY-NC-SA 3.0 中国大陆</a> 协议许可<br>具体请参见 <a href="https://zyhang8.github.io/agree/" target="_blank" rel="noopener">知识共享协议</a></strong><br> <strong>本文链接：</strong><a href="https://zyhang8.github.io/2019/10/20/cn-exp2/" target="_blank" rel="noopener">https://zyhang8.github.io/2019/10/20/cn-exp2/</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 计算机网络 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 计算机网络 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>计算机网络第一二章习题</title>
      <link href="/2019/10/19/cn-exp1/"/>
      <url>/2019/10/19/cn-exp1/</url>
      
        <content type="html"><![CDATA[<h1 id="计算机网络第一二章习题"><a href="#计算机网络第一二章习题" class="headerlink" title="计算机网络第一二章习题"></a>计算机网络第一二章习题</h1><h2 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h2><ol><li>简述Internet概念与发展历程</li><li>简述计算机网络在我国的发展历程与现状。</li><li>设某理想信道的最高码元速率为2000码元/秒，如果将码元的振幅划分为16个等级来传送，那么可以获得多高的数据率？（b/s）</li><li>已知：S/N=30db，宽带B=3000Hz，根据香农定理，有限宽带有热噪声信道的最大数据传输速率为多少？<br>5．已知：数据传输速率为14400bps，多相调制的相数k=8。求调制速率？<br>6．试写出下列英文缩写的全文，并进行简单的解释FDM, TDM, SDH, HFC, ADSL, FTTH</li></ol><h2 id="回答"><a href="#回答" class="headerlink" title="回答"></a>回答</h2><ol><li><p>概念：指当前全球最大的、开放的、由众多网络相互连接而成的特定互连网。发展历程：从单个网络APPANET向互联网发展；TCP/IP协议的初步成型，建成三级结构的Internet；分为主干网、地区网和校园网；形成多层次ISP结构的Internet；ISP首次出现。</p></li><li><p>发展历程：第一代：远程终端连接；第二代：计算机网络阶段（局域网）;第三代：计算机网络互联阶段（广域网、Internet）;第四代：信息高速公路（高速，多业务，大数据量）。现状：（一）网络系统的稳定性欠缺。（二）缺少保护局域网络的安全的措施。</p></li><li><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">4.</span> ```C=W*Log2(<span class="number">1</span>+S/N)=<span class="number">3000</span>*Log2(<span class="number">1</span>+<span class="number">30</span>)=<span class="number">30</span>kps</span><br></pre></td></tr></table></figure></li><li><p>FDM|频分多路复用;TDM|时分复用;SDH|同步数字体系;HFC|混合光纤同轴电缆网;ADSL|非对称数字用户线路;FTTH|光迁到户</p></li></ol><blockquote style="margin: 2em 0 0;padding: 0.5em 1em;border-left: 3px solid #F44336;background-color: #F5F5F5;list-style: none;"><p> <strong>本文使用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/" target="_blank" rel="noopener">CC BY-NC-SA 3.0 中国大陆</a> 协议许可<br>具体请参见 <a href="https://zyhang8.github.io/agree/" target="_blank" rel="noopener">知识共享协议</a></strong><br> <strong>本文链接：</strong><a href="https://zyhang8.github.io/2019/10/19/cn-exp1/" target="_blank" rel="noopener">https://zyhang8.github.io/2019/10/19/cn-exp1/</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 计算机网络 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 计算机网络 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>目录和进程管理</title>
      <link href="/2019/10/18/linux-exp3/"/>
      <url>/2019/10/18/linux-exp3/</url>
      
        <content type="html"><![CDATA[<h1 id="目录和进程管理"><a href="#目录和进程管理" class="headerlink" title="目录和进程管理"></a>目录和进程管理</h1><h2 id="实验内容"><a href="#实验内容" class="headerlink" title="实验内容"></a>实验内容</h2><p>Part1:</p><p>回顾及操作目录全县部分及进程管理的所有PPT实例</p><p>Part2:目录操作部分</p><p>“实验一 文件和目录操作”的11-12题</p><p>目录这一章的课后思考题地5-11题</p><p>Part3:“实验二 进程管理及其他命令”所有内容</p><h2 id="实验步骤"><a href="#实验步骤" class="headerlink" title="实验步骤"></a>实验步骤</h2><h2 id="“实验一-文件和目录操作”的11-12题"><a href="#“实验一-文件和目录操作”的11-12题" class="headerlink" title="“实验一 文件和目录操作”的11-12题"></a>“实验一 文件和目录操作”的11-12题</h2><p>ls -l 该目录下文件的详细信息</p><p>chmod 777 file</p><p>chmod -x file</p><h2 id="目录这一章的课后思考题地5-11题"><a href="#目录这一章的课后思考题地5-11题" class="headerlink" title="目录这一章的课后思考题地5-11题"></a>目录这一章的课后思考题地5-11题</h2><h3 id="5"><a href="#5" class="headerlink" title="5"></a>5</h3><ol><li>目录文件,rwx(Owner)r-x(Group)r-x(Other) 读,写,执行,-为不可以</li><li>存放系统命令</li><li>账户密码配置文件</li><li>设备文件,rw-(-Owner)rw-(Group)rw-(Other) 读,写,执行,-为不可以</li><li>0号标准软驱</li><li>动态库</li><li>普通文件,rwx(-Owner)–x(Group)–x(Other) 读,写,执行,-为不可以</li></ol><h3 id="6"><a href="#6" class="headerlink" title="6"></a>6</h3><ol><li>文件名称 progl;普通文件</li><li>chmod users-x progl</li><li>ln progl /home/liuzh/temp</li><li>第一个为l链接文件,最后的名称为temp,时间,大小,文件所属,拥有者,文件数变为2,文件属性其他均相同</li></ol><h3 id="7"><a href="#7" class="headerlink" title="7"></a>7</h3><ol><li>返回用户目录</li><li>返回上一层目录</li><li>返回上两层目录</li><li>返回根目录</li></ol><h3 id="8"><a href="#8" class="headerlink" title="8"></a>8</h3><p>rm -rf ABC</p><h3 id="9"><a href="#9" class="headerlink" title="9"></a>9</h3><p>ls -ap | grep “/“ | wc -l</p><h3 id="10"><a href="#10" class="headerlink" title="10"></a>10</h3><p>硬链接和软链接。硬链接相当于复制软链接相当于快捷方式区别在于：软链接的源文件删除之后，软链接失效。硬链接的源文件删除之后，该链接仍然可以访问。</p><h3 id="11"><a href="#11" class="headerlink" title="11"></a>11</h3><p>加–help</p><h2 id="“实验二-进程管理及其他命令”所有内容"><a href="#“实验二-进程管理及其他命令”所有内容" class="headerlink" title="“实验二 进程管理及其他命令”所有内容"></a>“实验二 进程管理及其他命令”所有内容</h2><h3 id="1"><a href="#1" class="headerlink" title="1"></a>1</h3><p>ps 运行ps的进程信息 PID唯一标识进程 TTY虚拟控制台 CMD进程名称 TIME时间</p><p>ps -a 显示同一终端下的所有程序</p><p>ps -l 用来观察自己的bash相关的进程</p><p>ps -e 显示同一终端下的所有程序</p><p>ps -f 感觉这个命令是ps f把,-f只是显示ps -f这个命令所处的进程信息</p><p>ps u 以用户为主的格式来显示程序状况。</p><p>ps x 显示所有程序，不以终端机来区分。</p><p><img src="https://s2.ax1x.com/2019/10/22/K35Z5Q.png" alt="K35Z5Q.png"><br><img src="https://s2.ax1x.com/2019/10/22/K35kb8.png" alt="K35kb8.png"><br><img src="https://s2.ax1x.com/2019/10/22/K35mCj.png" alt="K35mCj.png"><br><img src="https://s2.ax1x.com/2019/10/22/K35VUg.png" alt="K35VUg.png"></p><h3 id="2"><a href="#2" class="headerlink" title="2"></a>2</h3><p>相同,PID唯一标识进程,动态分配</p><h3 id="3"><a href="#3" class="headerlink" title="3"></a>3</h3><p>太多进程了,就演示两个例子把</p><p><img src="https://s2.ax1x.com/2019/10/22/K35EVS.png" alt="K35EVS.png"></p><h3 id="4"><a href="#4" class="headerlink" title="4"></a>4</h3><p>没有反应，编译成功。加&amp;显示新的编译，并显示上一次编译完成</p><p><img src="https://s2.ax1x.com/2019/10/22/K35n8s.png" alt="K35n8s.png"></p><h3 id="5-1"><a href="#5-1" class="headerlink" title="5"></a>5</h3><p>太多进程了，有点难找，总之，找到后，查看其对应的PID，然后kill Pid即可</p><p><img src="https://s2.ax1x.com/2019/10/22/K35u2n.png" alt="K35u2n.png"></p><h3 id="6-1"><a href="#6-1" class="headerlink" title="6"></a>6</h3><p>sleep为睡眠；who grep为指定用户</p><h3 id="7-1"><a href="#7-1" class="headerlink" title="7"></a>7</h3><p><img src="https://s2.ax1x.com/2019/10/22/K35Kvq.png" alt="K35Kvq.png"></p><h3 id="8-1"><a href="#8-1" class="headerlink" title="8"></a>8</h3><p>大小变为三分之一</p><p><img src="https://s2.ax1x.com/2019/10/22/K35QK0.png" alt="K35QK0.png"><br><img src="https://s2.ax1x.com/2019/10/22/K35lrV.png" alt="K35lrV.png"></p><blockquote style="margin: 2em 0 0;padding: 0.5em 1em;border-left: 3px solid #F44336;background-color: #F5F5F5;list-style: none;"><p> <strong>本文使用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/" target="_blank" rel="noopener">CC BY-NC-SA 3.0 中国大陆</a> 协议许可<br>具体请参见 <a href="https://zyhang8.github.io/agree/" target="_blank" rel="noopener">知识共享协议</a></strong><br> <strong>本文链接：</strong><a href="https://zyhang8.github.io/2019/10/18/linux-exp3/" target="_blank" rel="noopener">https://zyhang8.github.io/2019/10/18/linux-exp3/</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>常用命令及文件操作</title>
      <link href="/2019/10/17/linux-exp2/"/>
      <url>/2019/10/17/linux-exp2/</url>
      
        <content type="html"><![CDATA[<h1 id="Linux第二次实验报告"><a href="#Linux第二次实验报告" class="headerlink" title="Linux第二次实验报告"></a>Linux第二次实验报告</h1><h2 id="实验要求"><a href="#实验要求" class="headerlink" title="实验要求"></a>实验要求</h2><h3 id="Part-1"><a href="#Part-1" class="headerlink" title="Part 1"></a>Part 1</h3><p>回顾文件管理部分 （chapter 4 File Mangement and Operation） 基础知识和示例（PPT29-32）<br>完成文件管理部分（第2章 常用命令及文件操作）的课后思考题1-10</p><h3 id="实验步骤"><a href="#实验步骤" class="headerlink" title="实验步骤"></a>实验步骤</h3><ol><li>简述Linux命令的一般格式</li><li>请说明下述命令的功能：<br>date,cp,pwd,rm,echo,who,cat,more</li><li>公元2016年的元旦是星期几？</li><li>什么是文件？Linux系统中主要由哪几种文件？各自的功能用什么？</li><li>下面的正则表达式表示的含义是什么？<br>file*.c<br>dir??<br>Char[a-f].o</li><li>命令cp和mv有何异同？你能用copy作为复制文件的命令吗？为什么？</li><li>将文件file1的前20行、文件file2的最后15行合并成一个文件AB</li><li>要确定在文件ABC中是否含有表示星期六或者星期日字符的行，应使用什么命令？</li><li>如何对文件ABC分别按字典顺序、月份顺序、算术值进行排序？</li><li>自己建一个文本文件file_1，把它复制到文件other中，对other进行修改，然后比较它与文件file_1的区别</li><li>mkdir,rmdir</li><li>cd,pwd,ls</li><li>ln</li></ol><h3 id="实验内容"><a href="#实验内容" class="headerlink" title="实验内容"></a>实验内容</h3><ol><li>命令 [OPTION]  FILE</li><li><table><thead><tr><th align="center">命令</th><th align="center">作用</th></tr></thead><tbody><tr><td align="center">date</td><td align="center">用于在屏幕上显示或者设置系统的日期和时间。如果没有选择和参数将直接显示系统当前的日期和时间</td></tr><tr><td align="center">cp</td><td align="center">将源文件或目录复制到目标文件或目录中</td></tr><tr><td align="center">pwd</td><td align="center">显示当前目录的路径</td></tr><tr><td align="center">rm</td><td align="center">可以删除指定的文件或目录（默认情况下不能删除目录）</td></tr><tr><td align="center">echo</td><td align="center">在屏幕上显示命令行中所给出的字符串STRING.。该命令往往用于shell脚本中</td></tr><tr><td align="center">who</td><td align="center">将列出所有正在使用系统的用户、所有终端和注册到系统的时间。</td></tr><tr><td align="center">cat</td><td align="center">链接文件并打印到标准输出设备上。</td></tr><tr><td align="center">more</td><td align="center">显示文件内容，一次显示一屏</td></tr></tbody></table></li></ol><p><img src="https://s2.ax1x.com/2019/10/08/uWH7uR.png" alt="uWH7uR.png"></p><ol start="3"><li>date -d 20160101 +%A</li></ol><p><img src="https://s2.ax1x.com/2019/10/08/uWHov9.png" alt="uWHov9.png"></p><ol start="4"><li>文件是被命名的相关信息的集合体。一般的，文件是由二进制代码、字节、行或记录组成的序列，它们由文件创造者或用户定义<br>文件分为3种：普通文件、目录文件、特别文件以及符号链接文件<br>普通文件：核心对这些数据没有进行结构化，只是作为有序的字节序列把它提交给应用程序。应用程序自己组织和解释这些数据。<br>目录文件：利用目录文件可以构成文件系统的分层树形结构，它也包括数据文件但是核心可以对这些文件加以结构。<br>特别文件：系统利用他们来表示各个设备驱动器，核心使用他们与硬件设备通信<br>符号链接文件：是一种特别类型的文件，事实上，他只是一个小文本文件，其中包括它所链接的目标文件和目标文件的绝对路径。</li><li>个人不觉得这普遍的那种正则表达式，而是linux下的通配符。<br>匹配文件中的任何字符串，包括空字符串。<br>列出目录文件名中的任何单个字符<br>匹配文件中的字符,范围为a-f</li><li>异：cp是将源文件或目录复制到目标文件或目录中；mv命令是用来对文件或目录重新命名，或者将文件从一个目录转移到另一个目录中。他们的结果不同，mv好像文件“搬家”，文件个数并未增加。而cp对文件进行复制，文件个数增加了。<br>同：都可以将制定文件或目录移动到另一个目录中<br>不能，因为在linux 下，cp就是copy的简称，没必要再学copy，linux下，不识别copy</li></ol><p><img src="https://s2.ax1x.com/2019/10/08/uWHIgJ.png" alt="uWHIgJ.png"></p><ol start="7"><li>head -n 20 filel &gt; AB.txt &amp;&amp; tail -n 15 file2 &gt;&gt; AB.txt</li></ol><p><img src="https://s2.ax1x.com/2019/10/08/uWH4CF.png" alt="uWH4CF.png"></p><ol start="8"><li>grep -iE ‘saturday|sunday’ ABC</li></ol><p><img src="https://s2.ax1x.com/2019/10/08/uWHREV.png" alt="uWHREV.png"></p><p><img src="https://s2.ax1x.com/2019/10/08/uWHWNT.png" alt="uWHWNT.png"></p><ol start="9"><li>sort -d ABC<br>sort -M ABC<br>sort -n ABC</li></ol><p><img src="https://s2.ax1x.com/2019/10/08/uWH534.png" alt="uWH534.png"></p><ol start="10"><li>vim file_1<br>cp file_1 other<br>more file_1<br>more other</li></ol><p><img src="https://s2.ax1x.com/2019/10/08/uWHf4U.png" alt="uWHf4U.png"></p><ol start="11"><li>mkdir –mode=700 test<br>mkdir -p -m 750 bin/os_1<br>rmdir -p bin/os_1</li></ol><p><img src="https://s2.ax1x.com/2019/10/08/uWOCr9.png" alt="uWOCr9.png"></p><ol start="12"><li>ls  -C Desktop/<br>ls -lai<br>ls  -F<br>cd<br>cd ..<br>cd test/<br>pwd</li></ol><p><img src="https://s2.ax1x.com/2019/10/08/uWO9KJ.png" alt="uWO9KJ.png"></p><ol start="13"><li>ln test test1<br>ln -s /test abc</li></ol><p><img src="https://s2.ax1x.com/2019/10/08/uWLz2F.png" alt="uWLz2F.png"></p><blockquote style="margin: 2em 0 0;padding: 0.5em 1em;border-left: 3px solid #F44336;background-color: #F5F5F5;list-style: none;"><p> <strong>本文使用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/" target="_blank" rel="noopener">CC BY-NC-SA 3.0 中国大陆</a> 协议许可<br>具体请参见 <a href="https://zyhang8.github.io/agree/" target="_blank" rel="noopener">知识共享协议</a></strong><br> <strong>本文链接：</strong><a href="https://zyhang8.github.io/2019/10/17/linux-exp2/" target="_blank" rel="noopener">https://zyhang8.github.io/2019/10/17/linux-exp2/</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>桌面系统与文件操作</title>
      <link href="/2019/10/16/linux-exp1/"/>
      <url>/2019/10/16/linux-exp1/</url>
      
        <content type="html"><![CDATA[<h1 id="桌面系统与文件操作"><a href="#桌面系统与文件操作" class="headerlink" title="桌面系统与文件操作"></a>桌面系统与文件操作</h1><p>系统环境：</p><p>ubuntu 18.0.4 LTS 共享32G内存</p><p><img src="https://s2.ax1x.com/2019/09/28/ule1iV.jpg" alt="ule1iV.jpg"></p><h2 id="KDE桌面环境应用"><a href="#KDE桌面环境应用" class="headerlink" title="KDE桌面环境应用"></a>KDE桌面环境应用</h2><h3 id="主要实验步骤"><a href="#主要实验步骤" class="headerlink" title="主要实验步骤"></a>主要实验步骤</h3><p>这次我选用Unity桌面而不是KDE的两个原因<br>原因一：ubuntu对于多桌面环境的支持并不是特别好，在进行切换和使用时会遇到很多bug。<br>原因二：KDE桌面功能强大，也很美观，但是不能让我更加专注于编程，不能达到锻炼我的linux技能的目的。</p><p>1.很简单，不说明了</p><p><img src="https://s2.ax1x.com/2019/09/28/ulewIx.jpg" alt="ulewIx.jpg"></p><p>3.控制面板不知道是不是设置……从来没听说过linux有控制面板，是设置还是终端？？</p><p><img src="https://s2.ax1x.com/2019/09/28/ul1w8I.png" alt="ul1w8I.png"></p><p>5.touch filename|新建test；在终端输入中文，我选择的是vim编译器，一开始的虚拟机也步伐输入中文，现在设置中添加语言包（下载了很长时间）</p><p><img src="https://s2.ax1x.com/2019/09/28/ulmPOJ.png" alt="ulmPOJ.png"></p><p>安装搜狗拼音linux deb</p><p>sudo dpkg -i [软件包的名称].deb<br>如果提示缺少依赖关系的话，输入：sudo apt-get install -f<br>依赖关系解决之后，再次输入命令：sudo dpkg -i [软件名名称].deb</p><p>安装IBus框架，在终端输入以下命令：sudo apt-get install ibus ibus-clutter ibus-gtk ibus-gtk3 ibus-qt4</p><p>启动IBus框架，在终端输入命令：im-switch -s ibus</p><p>安装拼音引擎，在终端输入命令：sudo apt-get install ibus-pinyin，即可安装拼音。<br>设置IBus框架，在终端输入命令：ibus-setup，选择搜狗输入法</p><p><img src="https://s2.ax1x.com/2019/09/28/ulmVFx.png" alt="ulmVFx.png"></p><p>实现在vim中输入中文字符</p><p><img src="https://s2.ax1x.com/2019/09/28/uleNL9.jpg" alt="uleNL9.jpg"><br><img src="https://s2.ax1x.com/2019/09/28/ule8RU.jpg" alt="ule8RU.jpg"><br><img src="https://s2.ax1x.com/2019/09/28/uleGzF.png" alt="uleGzF.png"></p><p>6.选取ubuntu自带的截图</p><p><img src="https://s2.ax1x.com/2019/09/28/ulmkwR.png" alt="ulmkwR.png"></p><p>查看快捷键和ll查看根目录下的文件内容并截图</p><p>展示</p><p><img src="https://s2.ax1x.com/2019/09/28/ulmpSU.png" alt="ulmpSU.png"></p><h3 id="常用快捷键和命令"><a href="#常用快捷键和命令" class="headerlink" title="常用快捷键和命令"></a>常用快捷键和命令</h3><p>Alt+tab 切换应用</p><p><img src="https://s2.ax1x.com/2019/09/28/uleaZR.png" alt="uleaZR.png"></p><p>CTRL+G、CTRL+R 进入搜索、退出搜索</p><p><img src="https://s2.ax1x.com/2019/09/28/ulerRO.png" alt="ulerRO.png"></p><ul><li>CTRL+ALT无</li><li>CTRL+ALT+BACSPACE 杀死你当前的 X 会话。杀死图形化桌面会话，把你返回到登录屏幕。如果正常退出步骤不起作用，你可以使用这种方法。</li><li>CTRL+ALT+D=win+D 显示桌面</li><li>Shutdown –h now关机后不重新启动</li><li>Shutdown –r now关机后立即重新启动</li><li>poweroff 立刻关机  reboot 立刻重启</li></ul><h3 id="usb操作"><a href="#usb操作" class="headerlink" title="usb操作"></a>usb操作</h3><p>进入终端命令行模式，用以下命令为外挂点新建一个子目录：mkdir /mnt/usb,大概可能是虚拟机的权限不够</p><p>USB移动存储通常被识别为sda1，具体可通过fdisk -l命令查询。需要注意的是你的USB移动存储器文件系统，若是FAT16的，文件系统格式为msdos；若是FAT32的，则文件系统格式为vfat。查看完毕后执行以下命令即可：</p><p>mount -t msdos  /dev/sda1 /mnt/usb<br>mount -t  vfat  /dev/sda1 /mnt/usb</p><p>cp xxx /mnt/usb</p><h2 id="文件和目录操作"><a href="#文件和目录操作" class="headerlink" title="文件和目录操作"></a>文件和目录操作</h2><h3 id="主要实验步骤1"><a href="#主要实验步骤1" class="headerlink" title="主要实验步骤1"></a>主要实验步骤1</h3><p>1.登陆系统截图上面有</p><p>修改密码</p><p><img src="https://s2.ax1x.com/2019/09/28/ulegLd.png" alt="ulegLd.png"></p><p>2.</p><p><img src="https://s2.ax1x.com/2019/09/28/uleWdI.png" alt="uleWdI.png"></p><p>3（1-5）</p><p><img src="https://s2.ax1x.com/2019/09/28/ule6Qe.png" alt="ule6Qe.png"></p><p><img src="https://s2.ax1x.com/2019/09/28/ule4FP.png" alt="ule4FP.png"></p><p>4（2、4、5、7、8、9、10、13、14）</p><p><img src="https://s2.ax1x.com/2019/09/28/uleIW8.png" alt="uleIW8.png"><br><img src="https://s2.ax1x.com/2019/09/28/ule7Qg.png" alt="ule7Qg.png"><br><img src="https://s2.ax1x.com/2019/09/28/ulexYV.png" alt="ulexYV.png"><br><img src="https://s2.ax1x.com/2019/09/28/uleOwn.png" alt="uleOwn.png"></p><h2 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h2><p>之前也用过linux不过类似date，col的命令在之前还没接触过，这次实验也系统了解了linux性能的强大性。还是适合做开发，和内存一样的windows比起来，linux不知道流畅多少。</p><blockquote style="margin: 2em 0 0;padding: 0.5em 1em;border-left: 3px solid #F44336;background-color: #F5F5F5;list-style: none;"><p> <strong>本文使用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/" target="_blank" rel="noopener">CC BY-NC-SA 3.0 中国大陆</a> 协议许可<br>具体请参见 <a href="https://zyhang8.github.io/agree/" target="_blank" rel="noopener">知识共享协议</a></strong><br> <strong>本文链接：</strong><a href="https://zyhang8.github.io/2019/10/16/linux-exp1/" target="_blank" rel="noopener">https://zyhang8.github.io/2019/10/16/linux-exp1/</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>彩色图像处理</title>
      <link href="/2019/10/15/cv-exp3/"/>
      <url>/2019/10/15/cv-exp3/</url>
      
        <content type="html"><![CDATA[<h1 id="彩色图像处理"><a href="#彩色图像处理" class="headerlink" title="彩色图像处理"></a>彩色图像处理</h1><!-- TOC --><ul><li><a href="#彩色图像处理">彩色图像处理</a><ul><li><a href="#实验目的">实验目的</a></li><li><a href="#实验原理">实验原理</a></li><li><a href="#实验内容或步骤">实验内容或步骤</a></li><li><a href="#实验报告">实验报告</a></li><li><a href="#实验内容">实验内容</a><ul><li><a href="#对lenajpg-的彩色图像分离出rgb三个通道图像分别采用直方图均衡化处理分别显示然后再合并为一张图像保存">对“lena.jpg” 的彩色图像分离出R、G、B三个通道图像，分别采用直方图均衡化处理，分别显示，然后再合并为一张图像保存</a></li><li><a href="#补色合并">补色合并</a></li><li><a href="#对lenajpg-的彩色图像分离为hsv三个通道图像分别采用平滑滤波处理分别显示且合并为一张图像保存">对“lena.jpg” 的彩色图像分离为H、S、V三个通道图像，分别采用平滑滤波处理，分别显示，且合并为一张图像保存</a></li><li><a href="#对车牌jpg彩色图像使用hsv颜色模型提取出车牌区域">对“车牌.jpg”彩色图像，使用HSV颜色模型，提取出车牌区域</a><ul><li><a href="#改进">改进</a></li></ul></li></ul></li><li><a href="#对gf3jpg灰度图像转成伪彩色图并显示和保存">对“gf3.jpg”灰度图像转成伪彩色图，并显示和保存</a></li><li><a href="#源代码">源代码</a></li></ul></li></ul><!-- /TOC --><h2 id="实验目的"><a href="#实验目的" class="headerlink" title="实验目的"></a>实验目的</h2><ol><li>理解彩色图像的不同格式；</li><li>掌握彩色图像模型间的转化方法</li><li>掌握伪彩色图像增强及其实现方法</li></ol><h2 id="实验原理"><a href="#实验原理" class="headerlink" title="实验原理"></a>实验原理</h2><p>彩色图像处理、伪彩色图像增强处理</p><h2 id="实验内容或步骤"><a href="#实验内容或步骤" class="headerlink" title="实验内容或步骤"></a>实验内容或步骤</h2><p>1）对“lena.jpg” 的彩色图像分离出R、G、B三个通道图像，分别采用直方图均衡化处理，分别显示，然后再合并为一张图像保存；<br>2）对“lena.jpg” 的彩色图像分离为H、S、V三个通道图像，分别采用平滑滤波处理，分别显示，且合并为一张图像保存；<br>3）对“车牌.jpg”彩色图像，使用HSV颜色模型，提取出车牌区域</p><blockquote><p>参考:<br>不同色彩空间转换（void cv::cvtColor (InputArray src, OutputArray dst, int code, int dstCn=0)）<br><a href="https://docs.opencv.org/3.4.5/d8/d01/group__imgproc__color__conversions.html" target="_blank" rel="noopener">https://docs.opencv.org/3.4.5/d8/d01/group__imgproc__color__conversions.html</a><br><a href="https://blog.csdn.net/u011574296/article/details/70896811?locationNum=14&amp;fps=1" target="_blank" rel="noopener">https://blog.csdn.net/u011574296/article/details/70896811?locationNum=14&amp;fps=1</a><br>多通道分离（void split (const Mat&amp; src, Mat* mvbegin)）<br>合并（void merge (InputArrayOfArrays mv, OutputArray dst)）<br><a href="https://docs.opencv.org/2.4/modules/core/doc/operations_on_arrays.html?highlight=split#void" target="_blank" rel="noopener">https://docs.opencv.org/2.4/modules/core/doc/operations_on_arrays.html?highlight=split#void</a> split(const Mat&amp; src, Mat* mvbegin)<br><a href="https://docs.opencv.org/2.4/modules/core/doc/operations_on_arrays.html?highlight=merge#void" target="_blank" rel="noopener">https://docs.opencv.org/2.4/modules/core/doc/operations_on_arrays.html?highlight=merge#void</a> merge(InputArrayOfArrays mv, OutputArray dst)<br><a href="https://blog.csdn.net/u011574296/article/details/70896811?locationNum=14&amp;fps=1" target="_blank" rel="noopener">https://blog.csdn.net/u011574296/article/details/70896811?locationNum=14&amp;fps=1</a><br>HSV色彩空间<br><a href="https://blog.csdn.net/taily_duan/article/details/51506776" target="_blank" rel="noopener">https://blog.csdn.net/taily_duan/article/details/51506776</a></p></blockquote><h2 id="实验报告"><a href="#实验报告" class="headerlink" title="实验报告"></a>实验报告</h2><p>（1）描述实验的基本原理和步骤<br>（2）用数据和图片给出各个步骤中取得的实验结果 ，包括原始图像及其处理后的图像，并进行必要的讨论<br>（3）完整的源代码</p><h2 id="实验内容"><a href="#实验内容" class="headerlink" title="实验内容"></a>实验内容</h2><h3 id="对“lena-jpg”-的彩色图像分离出R、G、B三个通道图像，分别采用直方图均衡化处理，分别显示，然后再合并为一张图像保存"><a href="#对“lena-jpg”-的彩色图像分离出R、G、B三个通道图像，分别采用直方图均衡化处理，分别显示，然后再合并为一张图像保存" class="headerlink" title="对“lena.jpg” 的彩色图像分离出R、G、B三个通道图像，分别采用直方图均衡化处理，分别显示，然后再合并为一张图像保存"></a>对“lena.jpg” 的彩色图像分离出R、G、B三个通道图像，分别采用直方图均衡化处理，分别显示，然后再合并为一张图像保存</h3><p><img src="https://s2.ax1x.com/2019/10/21/K1lkh6.png" alt="K1lkh6.png"></p><p>分离通道采用split函数，通过这个函数输出的多通道序列,顺序为bgr不是RGB！后通过push_back对空白矩阵和通道矩阵进行填充后得到通道分离后的图像。</p><p>直方图均衡把实验四的均衡化函数cp过来后，进行调用，由于是空白矩阵和grb单通道矩阵的均衡化，显示的即为但单通道矩阵。并且发现色色调貌似增加了180度(红变青色,绿色变品红,蓝色变黄色)</p><p>合并图像采用merge函数和push_back函数，依次调用三次单通道矩阵后即为合并后的图像。</p><h3 id="补色合并"><a href="#补色合并" class="headerlink" title="补色合并"></a>补色合并</h3><p>补色公式为：补色 = Max(R,G,B) + Min(R,G,B) – 原色</p><p><img src="https://s2.ax1x.com/2019/10/30/K4W4bQ.png" alt="K4W4bQ.png"></p><p>该图像适合色弱者</p><h3 id="对“lena-jpg”-的彩色图像分离为H、S、V三个通道图像，分别采用平滑滤波处理，分别显示，且合并为一张图像保存"><a href="#对“lena-jpg”-的彩色图像分离为H、S、V三个通道图像，分别采用平滑滤波处理，分别显示，且合并为一张图像保存" class="headerlink" title="对“lena.jpg” 的彩色图像分离为H、S、V三个通道图像，分别采用平滑滤波处理，分别显示，且合并为一张图像保存"></a>对“lena.jpg” 的彩色图像分离为H、S、V三个通道图像，分别采用平滑滤波处理，分别显示，且合并为一张图像保存</h3><blockquote><p>区别:RGB颜色模型都是面向硬件的,而HSV颜色模型是面向用户的。HSV模型的三维表示从RGB立方体演化而来。设想从RGB沿立方体对角线的白色顶点向黑色顶点观察，就可以看到立方体的六边形外形。六边形边界表示色彩，水平轴表示纯度，明度沿垂直轴测量。</p></blockquote><blockquote><p>补补知识:<br>色调H<br>用角度度量，取值范围为0°～360°，从红色开始按逆时针方向计算，红色为0°，绿色为120°,蓝色为240°。它们的补色是：黄色为60°，青色为180°,品红为300°；<br>饱和度S<br>饱和度S表示颜色接近光谱色的程度。一种颜色，可以看成是某种光谱色与白色混合的结果。其中光谱色所占的比例愈大，颜色接近光谱色的程度就愈高，颜色的饱和度也就愈高。饱和度高，颜色则深而艳。光谱色的白光成分为0，饱和度达到最高。通常取值范围为0%～100%，值越大，颜色越饱和。<br>明度V<br>明度表示颜色明亮的程度，对于光源色，明度值与发光体的光亮度有关；对于物体色，此值和物体的透射比或反射比有关。通常取值范围为0%（黑）到100%（白）。</p></blockquote><blockquote><p>GaussianBlur<br>函数原型:<br>void GaussianBlur(InputArray src, OutputArray dst, Size ksize, double sigmaX, double sigmaY=0, int borderType=BORDER_DEFAULT);<br>参数详解如下：<br>src，输入图像，即源图像，填Mat类的对象即可。它可以是单独的任意通道数的图片，但需要注意，图片深度应该为CV_8U,CV_16U, CV_16S, CV_32F 以及 CV_64F之一。<br>dst，即目标图像，需要和源图片有一样的尺寸和类型。比如可以用Mat::Clone，以源图片为模板，来初始化得到如假包换的目标图。<br>ksize，高斯内核的大小。其中ksize.width和ksize.height可以不同，但他们都必须为正数和奇数（并不能理解）。或者，它们可以是零的，它们都是由sigma计算而来。<br>sigmaX，表示高斯核函数在X方向的的标准偏差。<br>sigmaY，表示高斯核函数在Y方向的的标准偏差。若sigmaY为零，就将它设为sigmaX，如果sigmaX和sigmaY都是0，那么就由ksize.width和ksize.height计算出来。</p></blockquote><p><img src="https://s2.ax1x.com/2019/10/21/K1lE9K.png" alt="K1lE9K.png"></p><p><a href="https://blog.csdn.net/u011574296/article/details/70896811?locationNum=14&fps=1" target="_blank" rel="noopener">颜色空间转换（二）转换函数 cvtColor()</a></p><p>老师推荐的这篇博客是好文章,通过cvtColor函数转换为HSV，并且知道了还可以转换为Lab,不用从头为hsv进行转换分割</p><p>分割还是使用split，滤波采用了高斯滤波，一开始使用滑动条自动改变滤波的内核值，后来做到合并的时候无法实时合并，所以就去除了了滑动条，内核默认为（5，5）</p><p>合并采用merge进行mat合并</p><h3 id="对“车牌-jpg”彩色图像，使用HSV颜色模型，提取出车牌区域"><a href="#对“车牌-jpg”彩色图像，使用HSV颜色模型，提取出车牌区域" class="headerlink" title="对“车牌.jpg”彩色图像，使用HSV颜色模型，提取出车牌区域"></a>对“车牌.jpg”彩色图像，使用HSV颜色模型，提取出车牌区域</h3><blockquote><p>之前做过车牌识别神经网络的比赛,不过因为太忙就弃赛了，这次实验就当作车牌识别的预处理把</p></blockquote><p>这个实验的原理就跟步骤差不多把，代码也注释得很详细了，其中不懂的函数也都查过且记住</p><ol><li>求得原图像的sobel边缘</li><li>在HSV空间内利用车牌颜色阈值对图像进行二值化处理，一开始不知道调什么值，然后做成滑动条自己调试，然后值确定后，再给为明确参数调用</li><li>由下面的判别标准得到图像bw_blue_edge</li><li>再用边缘检测提取矩形轮廓</li><li>找出最大的矩形，并提取其中的左上角坐标和长宽，使用ROI进行截取</li></ol><p><img src="https://s2.ax1x.com/2019/10/21/K1lG38.png" alt="K1lG38.png"></p><p><img src="https://s2.ax1x.com/2019/10/21/K1lnnH.png" alt="K1lnnH.png"></p><p><img src="https://s2.ax1x.com/2019/10/21/K1leje.png" alt="K1leje.png"></p><p>在网上找了其他的车牌图片（黑色车辆），提取成功</p><p><img src="https://s2.ax1x.com/2019/10/21/K1lZcD.png" alt="K1lZcD.png"></p><h4 id="改进"><a href="#改进" class="headerlink" title="改进"></a>改进</h4><ul><li>在进行轮廓提取时可以使用形态学闭操作，补全小孔之类的，使得矩形更加完整</li><li>代码中的找出最大的矩形时自己调试而出的，可以进行遍历查找，不过由于懒（累），这个也只是个实验测试，如果要保存其他的车牌则需要添加遍历查找最大矩形的函数</li><li>可以对车牌进行矫正，可以使用仿射变换或者透视变换进行旋转</li></ul><h2 id="对“gf3-jpg”灰度图像转成伪彩色图，并显示和保存"><a href="#对“gf3-jpg”灰度图像转成伪彩色图，并显示和保存" class="headerlink" title="对“gf3.jpg”灰度图像转成伪彩色图，并显示和保存"></a>对“gf3.jpg”灰度图像转成伪彩色图，并显示和保存</h2><p>伪彩色:自定义连续范围为多个彩色图像<br>彩虹图:根据一定的算法转换成多个彩色图像</p><p>转换过程中,RGB 彩色图像可以使用 <vec3b>,类型分别存放RGB三个数值,该题直接看了老师推荐的文档,代码也很简单每个彩色设置阀值后显示就可以了.</vec3b></p><p><img src="https://s2.ax1x.com/2019/10/30/K4csSO.png" alt="K4csSO.png"></p><h2 id="源代码"><a href="#源代码" class="headerlink" title="源代码"></a>源代码</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;opencv2/opencv.hpp&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;opencv2/imgproc/imgproc.hpp&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;opencv2/opencv.hpp&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;opencv2/core/core.hpp&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> cv;</span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> cv;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> gray[<span class="number">256</span>] = &#123; <span class="number">0</span> &#125;;  <span class="comment">//记录每个灰度级别下的像素个数</span></span><br><span class="line"><span class="keyword">double</span> gray_prob[<span class="number">256</span>] = &#123; <span class="number">0</span> &#125;;  <span class="comment">//记录灰度分布密度</span></span><br><span class="line"><span class="keyword">double</span> gray_distribution[<span class="number">256</span>] = &#123; <span class="number">0</span> &#125;;  <span class="comment">//记录累计密度</span></span><br><span class="line"><span class="keyword">int</span> gray_equal[<span class="number">256</span>] = &#123; <span class="number">0</span> &#125;;  <span class="comment">//均衡化后的灰度值</span></span><br><span class="line"><span class="keyword">int</span> gray_sum = <span class="number">0</span>;  <span class="comment">//像素总数</span></span><br><span class="line"><span class="keyword">int</span> g_nGaussianBlurValue = <span class="number">6</span>;<span class="comment">//高斯滤波内核值</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//灰度值归一化</span></span><br><span class="line">Mat bgr;</span><br><span class="line"><span class="comment">//输入图像</span></span><br><span class="line">Mat img;</span><br><span class="line"><span class="comment">//HSV图像</span></span><br><span class="line">Mat hsv;</span><br><span class="line"><span class="comment">//色相</span></span><br><span class="line"><span class="keyword">int</span> hmin = <span class="number">67</span>;</span><br><span class="line"><span class="keyword">int</span> hmin_Max = <span class="number">360</span>;</span><br><span class="line"><span class="keyword">int</span> hmax = <span class="number">325</span>;</span><br><span class="line"><span class="keyword">int</span> hmax_Max = <span class="number">360</span>;</span><br><span class="line"><span class="comment">//饱和度</span></span><br><span class="line"><span class="keyword">int</span> smin = <span class="number">139</span>;</span><br><span class="line"><span class="keyword">int</span> smin_Max = <span class="number">255</span>;</span><br><span class="line"><span class="keyword">int</span> smax = <span class="number">255</span>;</span><br><span class="line"><span class="keyword">int</span> smax_Max = <span class="number">255</span>;</span><br><span class="line"><span class="comment">//亮度</span></span><br><span class="line"><span class="keyword">int</span> vmin = <span class="number">109</span>;</span><br><span class="line"><span class="keyword">int</span> vmin_Max = <span class="number">255</span>;</span><br><span class="line"><span class="keyword">int</span> vmax = <span class="number">237</span>;</span><br><span class="line"><span class="keyword">int</span> vmax_Max = <span class="number">255</span>;</span><br><span class="line"><span class="comment">//输出图像</span></span><br><span class="line">Mat out;</span><br><span class="line"><span class="keyword">int</span> threadhold_value = <span class="number">100</span>;</span><br><span class="line">Mat range,canny_out, graysrc,dstt,rects;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Hist_Eql</span><span class="params">(Mat image)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="comment">//计算像素分布</span></span><br><span class="line"><span class="keyword">int</span> NumPixel[<span class="number">4</span>][<span class="number">256</span>] = &#123; <span class="number">0</span> &#125;;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> y = <span class="number">0</span>; y &lt; image.rows; ++y)</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> x = <span class="number">0</span>; x &lt; image.cols; ++x)</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> c = <span class="number">0</span>; c &lt; image.channels(); c++)</span><br><span class="line">NumPixel[c][image.at&lt;Vec3b&gt;(y, x)[c]] += <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//计算像素分布密度</span></span><br><span class="line"><span class="keyword">double</span> ProbPixel[<span class="number">4</span>][<span class="number">256</span>] = &#123; <span class="number">0</span> &#125;;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; image.channels(); i++)</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">256</span>; j++)</span><br><span class="line">&#123;</span><br><span class="line">ProbPixel[i][j] = NumPixel[i][j] / (image.rows * image.cols * <span class="number">1.0</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//计算累计直方图分布</span></span><br><span class="line"><span class="keyword">double</span> CumuPixel[<span class="number">4</span>][<span class="number">256</span>] = &#123; <span class="number">0</span> &#125;;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; image.channels(); i++)</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">256</span>; j++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (j == <span class="number">0</span>)</span><br><span class="line">CumuPixel[i][j] = ProbPixel[i][j];</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">CumuPixel[i][j] = CumuPixel[i][j - <span class="number">1</span>] + ProbPixel[i][j];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//累计分布取整</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; image.channels(); i++)</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">256</span>; j++)</span><br><span class="line">&#123;</span><br><span class="line">CumuPixel[i][j] = (<span class="keyword">int</span>)(CumuPixel[i][j] * <span class="number">255</span> + <span class="number">0.5</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//映射</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> y = <span class="number">0</span>; y &lt; image.rows; ++y)</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> x = <span class="number">0</span>; x &lt; image.cols; ++x)</span><br><span class="line">image.at&lt;Vec3b&gt;(y, x) = Vec3b(CumuPixel[<span class="number">0</span>][image.at&lt;Vec3b&gt;(y, x)[<span class="number">0</span>]], CumuPixel[<span class="number">1</span>][image.at&lt;Vec3b&gt;(y, x)[<span class="number">1</span>]], CumuPixel[<span class="number">2</span>][image.at&lt;Vec3b&gt;(y, x)[<span class="number">2</span>]]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//回调函数</span></span><br><span class="line"><span class="function">Mat <span class="title">Bi_inrange</span><span class="params">(<span class="keyword">int</span>, <span class="keyword">void</span>*)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="comment">//输出图像分配内存</span></span><br><span class="line">out = Mat::zeros(img.size(), CV_32FC3);</span><br><span class="line"><span class="comment">//掩码</span></span><br><span class="line">Mat mask;</span><br><span class="line">inRange(hsv, Scalar(hmin, smin / <span class="keyword">float</span>(smin_Max), vmin / <span class="keyword">float</span>(vmin_Max)), Scalar(hmax, smax / <span class="keyword">float</span>(smax_Max), vmax / <span class="keyword">float</span>(vmax_Max)), mask);</span><br><span class="line"><span class="comment">//只保留</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> r = <span class="number">0</span>; r &lt; bgr.rows; r++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> c = <span class="number">0</span>; c &lt; bgr.cols; c++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (mask.at&lt;uchar&gt;(r, c) == <span class="number">255</span>)</span><br><span class="line">&#123;</span><br><span class="line">out.at&lt;Vec3f&gt;(r, c) = bgr.at&lt;Vec3f&gt;(r, c);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//输出图像</span></span><br><span class="line"><span class="comment">//imshow("inrange", out);</span></span><br><span class="line"><span class="comment">//保存图像</span></span><br><span class="line">out.convertTo(out, CV_8UC3, <span class="number">255.0</span>, <span class="number">0</span>);</span><br><span class="line"><span class="comment">//imwrite("HSV_inRange.jpg", out);</span></span><br><span class="line"><span class="keyword">return</span> out;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">Mat <span class="title">getContours</span><span class="params">(<span class="keyword">int</span>, <span class="keyword">void</span>*)</span> </span>&#123;</span><br><span class="line">Mat Canny_out;</span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;Point&gt;&gt;points;<span class="comment">//每个轮廓由一系列点组成</span></span><br><span class="line"><span class="comment">//vector&lt;Vec4i&gt; h;//层次  图像的拓扑结构</span></span><br><span class="line">Canny(graysrc, Canny_out, threadhold_value, threadhold_value * <span class="number">2</span>);</span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;Point&gt;&gt; contours;</span><br><span class="line"><span class="built_in">vector</span>&lt;Vec4i&gt; hierarcy;</span><br><span class="line">findContours(Canny_out, points, RETR_EXTERNAL, CHAIN_APPROX_SIMPLE);</span><br><span class="line"><span class="comment">//绘制轮廓</span></span><br><span class="line"><span class="comment">//因为要用不同颜色区分轮廓，所以这里用的CV_8UC3 3通道彩色图，如果是CV_8UC1 绘制的就是灰度图，</span></span><br><span class="line"><span class="comment">//感官上不好区分</span></span><br><span class="line"><span class="built_in">vector</span>&lt;Rect&gt; boundRect(contours.size());  <span class="comment">//定义外接矩形集合</span></span><br><span class="line"><span class="built_in">vector</span>&lt;RotatedRect&gt; box(contours.size()); <span class="comment">//定义最小外接矩形集合</span></span><br><span class="line">Point2f rect[<span class="number">4</span>];</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; contours.size(); i++)</span><br><span class="line">&#123;</span><br><span class="line">box[i] = minAreaRect(Mat(contours[i]));  <span class="comment">//计算每个轮廓最小外接矩形</span></span><br><span class="line">boundRect[i] = boundingRect(Mat(contours[i]));</span><br><span class="line">circle(rects, Point(box[i].center.x, box[i].center.y), <span class="number">5</span>, Scalar(<span class="number">0</span>, <span class="number">255</span>, <span class="number">0</span>), <span class="number">-1</span>, <span class="number">8</span>);  <span class="comment">//绘制最小外接矩形的中心点</span></span><br><span class="line">box[i].points(rect);  <span class="comment">//把最小外接矩形四个端点复制给rect数组</span></span><br><span class="line">rectangle(rects, Point(boundRect[i].x, boundRect[i].y), Point(boundRect[i].x + boundRect[i].width, boundRect[i].y + boundRect[i].height), Scalar(<span class="number">0</span>, <span class="number">255</span>, <span class="number">0</span>), <span class="number">2</span>, <span class="number">8</span>);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">4</span>; j++)</span><br><span class="line">&#123;</span><br><span class="line">line(rects, rect[j], rect[(j + <span class="number">1</span>) % <span class="number">4</span>], Scalar(<span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>), <span class="number">2</span>, <span class="number">8</span>);  <span class="comment">//绘制最小外接矩形每条边</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">imshow(<span class="string">"rect_range"</span>, rects);</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">dstt = Mat::zeros(range.size(), CV_8UC3);</span></span><br><span class="line"><span class="comment">RNG rng(12345);</span></span><br><span class="line"><span class="comment">for (int i = 0; i &lt; points.size(); i++) &#123;</span></span><br><span class="line"><span class="comment">Scalar color = Scalar(rng.uniform(0, 255), rng.uniform(0, 255), rng.uniform(0, 255));</span></span><br><span class="line"><span class="comment">drawContours(dstt, points, i, color);</span></span><br><span class="line"><span class="comment">//imshow("dst", dstt);</span></span><br><span class="line"><span class="comment">&#125;*/</span></span><br><span class="line"><span class="keyword">return</span> rects;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">Mat src = imread(<span class="string">"lena.jpg"</span>);</span><br><span class="line"><span class="comment">//imshow("src", src);</span></span><br><span class="line"><span class="comment">// 分离多通道</span></span><br><span class="line"><span class="built_in">vector</span>&lt;Mat&gt; rgbChannels(<span class="number">3</span>);</span><br><span class="line">split(src, rgbChannels);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 展示单独的色彩通道</span></span><br><span class="line">Mat blank_ch, fin_img;</span><br><span class="line">blank_ch = Mat::zeros(Size(src.cols, src.rows), CV_8UC1);</span><br><span class="line"></span><br><span class="line"><span class="comment">// R</span></span><br><span class="line"><span class="comment">// G和B通道保持为零矩阵</span></span><br><span class="line"><span class="built_in">vector</span>&lt;Mat&gt; channels_r;</span><br><span class="line">channels_r.push_back(blank_ch);</span><br><span class="line">channels_r.push_back(blank_ch);</span><br><span class="line">channels_r.push_back(rgbChannels[<span class="number">2</span>]);</span><br><span class="line"></span><br><span class="line"><span class="comment">/// 合并</span></span><br><span class="line">merge(channels_r, fin_img);</span><br><span class="line">imshow(<span class="string">"R"</span>, fin_img);</span><br><span class="line">Mat img_r;</span><br><span class="line">img_r = fin_img;</span><br><span class="line">Hist_Eql(img_r);</span><br><span class="line"><span class="comment">//imshow("hist_r", img_r);</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// G</span></span><br><span class="line"><span class="built_in">vector</span>&lt;Mat&gt; channels_g;</span><br><span class="line">channels_g.push_back(blank_ch);</span><br><span class="line">channels_g.push_back(rgbChannels[<span class="number">1</span>]);</span><br><span class="line">channels_g.push_back(blank_ch);</span><br><span class="line">merge(channels_g, fin_img);</span><br><span class="line">imshow(<span class="string">"G"</span>, fin_img);</span><br><span class="line">Mat img_g;</span><br><span class="line">img_g = fin_img;</span><br><span class="line">Hist_Eql(img_g);</span><br><span class="line"><span class="comment">//imshow("hist_g", img_g);</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// B</span></span><br><span class="line"><span class="built_in">vector</span>&lt;Mat&gt; channels_b;</span><br><span class="line">channels_b.push_back(rgbChannels[<span class="number">0</span>]);</span><br><span class="line">channels_b.push_back(blank_ch);</span><br><span class="line">channels_b.push_back(blank_ch);</span><br><span class="line">merge(channels_b, fin_img);</span><br><span class="line">imshow(<span class="string">"B"</span>, fin_img);</span><br><span class="line">Mat img_b;</span><br><span class="line">img_b = fin_img;</span><br><span class="line">Hist_Eql(img_b);</span><br><span class="line"><span class="comment">//imshow("hist_b", img_b);</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 补色</span></span><br><span class="line"></span><br><span class="line">Mat dst1;</span><br><span class="line">src.copyTo(dst1);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; src.rows; ++i)&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; src.cols; ++j) &#123;</span><br><span class="line"><span class="keyword">int</span> b = src.at&lt;Vec3b&gt;(i, j)[<span class="number">0</span>];<span class="comment">//blue</span></span><br><span class="line"><span class="keyword">int</span> g = src.at&lt;Vec3b&gt;(i, j)[<span class="number">1</span>];<span class="comment">//green</span></span><br><span class="line"><span class="keyword">int</span> r = src.at&lt;Vec3b&gt;(i, j)[<span class="number">2</span>];<span class="comment">//red</span></span><br><span class="line"><span class="keyword">int</span> maxrgb = max(max(r, g), b);</span><br><span class="line"><span class="keyword">int</span> minrgb = min(min(r, g), b);</span><br><span class="line">dst1.at&lt;Vec3b&gt;(i, j)[<span class="number">0</span>] = maxrgb + minrgb - b;</span><br><span class="line">dst1.at&lt;Vec3b&gt;(i, j)[<span class="number">1</span>] = maxrgb + minrgb - g;</span><br><span class="line">dst1.at&lt;Vec3b&gt;(i, j)[<span class="number">2</span>] = maxrgb + minrgb - r;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">imshow(<span class="string">"补色"</span>, dst1);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 合并</span></span><br><span class="line"><span class="built_in">vector</span>&lt;Mat&gt; channels_merge;</span><br><span class="line">channels_merge.push_back(rgbChannels[<span class="number">0</span>]);</span><br><span class="line">channels_merge.push_back(rgbChannels[<span class="number">1</span>]);</span><br><span class="line">channels_merge.push_back(rgbChannels[<span class="number">2</span>]);</span><br><span class="line">merge(channels_merge, fin_img);</span><br><span class="line"><span class="comment">// imshow("merge", fin_img);</span></span><br><span class="line">imwrite(<span class="string">"merge.png"</span>, fin_img);</span><br><span class="line"></span><br><span class="line"><span class="comment">//RGB-&gt;HSV,分割</span></span><br><span class="line">Mat HSVImage,Image[<span class="number">3</span>],guass_h, guass_s, guass_v;</span><br><span class="line">cvtColor(src, HSVImage, COLOR_BGR2HSV);</span><br><span class="line">split(HSVImage, Image);</span><br><span class="line"><span class="comment">//imshow("HSV", HSVImage);</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//高斯</span></span><br><span class="line"><span class="comment">//imshow("H", Image[0]);</span></span><br><span class="line">GaussianBlur(Image[<span class="number">0</span>], guass_h, cv::Size(<span class="number">5</span>, <span class="number">5</span>), <span class="number">3</span>, <span class="number">3</span>);</span><br><span class="line"><span class="comment">//imshow("guass_h", guass_h);</span></span><br><span class="line"><span class="comment">//imshow("S", Image[1]);</span></span><br><span class="line">GaussianBlur(Image[<span class="number">1</span>], guass_s, cv::Size(<span class="number">5</span>, <span class="number">5</span>), <span class="number">3</span>, <span class="number">3</span>);</span><br><span class="line"><span class="comment">//imshow("guass_s", guass_s);</span></span><br><span class="line"><span class="comment">//imshow("V", Image[2]);</span></span><br><span class="line">GaussianBlur(Image[<span class="number">2</span>], guass_v, cv::Size(<span class="number">5</span>, <span class="number">5</span>), <span class="number">3</span>, <span class="number">3</span>);</span><br><span class="line"><span class="comment">//imshow("guass_v", guass_v);</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//通道合并</span></span><br><span class="line">Mat newChannels[<span class="number">3</span>] = &#123; guass_h, guass_s, guass_v &#125;;</span><br><span class="line">Mat mergedHSV;</span><br><span class="line">merge(newChannels, <span class="number">3</span>, mergedHSV);</span><br><span class="line"><span class="comment">//imshow("mergedHSV", mergedHSV);</span></span><br><span class="line">imwrite(<span class="string">"mergedHSV.png"</span>, mergedHSV);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 第三问 车牌区域提取</span></span><br><span class="line">Mat xdst, ydst, dst_sobel, grayImage;</span><br><span class="line"><span class="comment">//img = imread("aa.jpg");</span></span><br><span class="line">img = imread(<span class="string">"plate.png"</span>);</span><br><span class="line">imshow(<span class="string">"plate"</span>, img);</span><br><span class="line">cvtColor(img, grayImage, CV_BGR2GRAY);</span><br><span class="line"><span class="comment">//imshow("灰度图", grayImage);</span></span><br><span class="line">Sobel(grayImage, xdst, <span class="number">-1</span>, <span class="number">1</span>, <span class="number">0</span>);</span><br><span class="line"><span class="comment">//imshow("xdst", xdst);</span></span><br><span class="line">Sobel(grayImage, ydst, <span class="number">-1</span>, <span class="number">0</span>, <span class="number">1</span>);</span><br><span class="line"><span class="comment">//imshow("ydst", ydst);</span></span><br><span class="line">addWeighted(xdst, <span class="number">0.5</span>, ydst, <span class="number">0.5</span>, <span class="number">1</span>, dst_sobel);</span><br><span class="line">imshow(<span class="string">"sobel"</span>, dst_sobel);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Mat carImage[<span class="number">3</span>];</span><br><span class="line"><span class="comment">//彩色图像的灰度值归一化</span></span><br><span class="line">img.convertTo(bgr, CV_32FC3, <span class="number">1.0</span> / <span class="number">255</span>, <span class="number">0</span>);</span><br><span class="line">cvtColor(bgr, hsv, COLOR_BGR2HSV);</span><br><span class="line">split(hsv, carImage);</span><br><span class="line">imshow(<span class="string">"HSV"</span>, hsv);</span><br><span class="line"></span><br><span class="line"><span class="comment">//imshow("car_h", carImage[0]);</span></span><br><span class="line"><span class="comment">//imshow("car_s", carImage[1]);</span></span><br><span class="line"><span class="comment">//imshow("car_v", carImage[2]);</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//定义输出图像的显示窗口</span></span><br><span class="line"><span class="comment">//namedWindow("inrange", WINDOW_GUI_EXPANDED);</span></span><br><span class="line">range = Bi_inrange(<span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">imshow(<span class="string">"inrange"</span>, range);</span><br><span class="line">rects = range.clone();</span><br><span class="line"></span><br><span class="line">cvtColor(range, range, CV_BGR2GRAY);</span><br><span class="line"><span class="comment">//threshold(range, range, 100, 255, CV_THRESH_BINARY); //二值化</span></span><br><span class="line"><span class="comment">//imshow("range", range);</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;Point&gt;&gt; contours;</span><br><span class="line"><span class="built_in">vector</span>&lt;Vec4i&gt; hierarcy;</span><br><span class="line">findContours(range, contours, hierarcy, CV_RETR_EXTERNAL, CV_CHAIN_APPROX_NONE);</span><br><span class="line"><span class="built_in">vector</span>&lt;Rect&gt; boundRect(contours.size());  <span class="comment">//定义外接矩形集合</span></span><br><span class="line"><span class="built_in">vector</span>&lt;RotatedRect&gt; box(contours.size()); <span class="comment">//定义最小外接矩形集合</span></span><br><span class="line">Point2f rect[<span class="number">4</span>];</span><br><span class="line">Rect m_select;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; contours.size(); i++)</span><br><span class="line">&#123;</span><br><span class="line">box[i] = minAreaRect(Mat(contours[i]));  <span class="comment">//计算每个轮廓最小外接矩形</span></span><br><span class="line">boundRect[i] = boundingRect(Mat(contours[i]));</span><br><span class="line"><span class="comment">/*cout &lt;&lt; box[i].angle &lt;&lt; endl;</span></span><br><span class="line"><span class="comment">cout &lt;&lt; box[i].center &lt;&lt; endl;</span></span><br><span class="line"><span class="comment">cout &lt;&lt; box[i].size.width &lt;&lt; endl;</span></span><br><span class="line"><span class="comment">cout &lt;&lt; box[i].size.height &lt;&lt; endl;*/</span></span><br><span class="line"><span class="keyword">if</span> (i == <span class="number">2</span>) &#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; boundRect[<span class="number">2</span>].x &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; boundRect[<span class="number">2</span>].y &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; boundRect[<span class="number">2</span>].width &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; boundRect[<span class="number">2</span>].height &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">m_select = Rect(boundRect[<span class="number">2</span>].x, boundRect[<span class="number">2</span>].y, boundRect[<span class="number">2</span>].width, boundRect[<span class="number">2</span>].height);</span><br><span class="line"><span class="comment">//imshow("aa", img);</span></span><br><span class="line">Mat ROI = img(m_select);</span><br><span class="line">imwrite(<span class="string">"result.png"</span>, ROI);</span><br><span class="line"><span class="comment">//imwrite("a.png", ROI);</span></span><br><span class="line">&#125;</span><br><span class="line">circle(rects, Point(box[i].center.x, box[i].center.y), <span class="number">5</span>, Scalar(<span class="number">0</span>, <span class="number">255</span>, <span class="number">0</span>), <span class="number">-1</span>, <span class="number">8</span>);  <span class="comment">//绘制最小外接矩形的中心点</span></span><br><span class="line">box[i].points(rect);  <span class="comment">//把最小外接矩形四个端点复制给rect数组</span></span><br><span class="line"></span><br><span class="line">rectangle(rects, Point(boundRect[i].x, boundRect[i].y), Point(boundRect[i].x + boundRect[i].width, boundRect[i].y + boundRect[i].height), Scalar(<span class="number">0</span>, <span class="number">255</span>, <span class="number">0</span>), <span class="number">2</span>, <span class="number">8</span>);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">4</span>; j++)</span><br><span class="line">&#123;</span><br><span class="line">line(rects, rect[j], rect[(j + <span class="number">1</span>) % <span class="number">4</span>], Scalar(<span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>), <span class="number">2</span>, <span class="number">8</span>);  <span class="comment">//绘制最小外接矩形每条边</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//Mat ROI = img(m_select);</span></span><br><span class="line">imshow(<span class="string">"rects"</span>, rects);</span><br><span class="line"><span class="comment">//imwrite("result", ROI);</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">Mat candy = getContours(0, 0);</span></span><br><span class="line"><span class="comment">imshow("candy", candy);</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line">Mat gf = imread(<span class="string">"gf3.jpg"</span>, CV_LOAD_IMAGE_GRAYSCALE);<span class="comment">//采用灰度格式读取图片</span></span><br><span class="line">namedWindow(<span class="string">"gf3_img"</span>);</span><br><span class="line">imshow(<span class="string">"gf3_img"</span>, gf);</span><br><span class="line"></span><br><span class="line"><span class="function">Mat <span class="title">img_pseudocolor</span><span class="params">(gf.rows, gf.cols, CV_8UC3)</span></span>;<span class="comment">//构造RGB图像，参数CV_8UC3教程文档里面有讲解</span></span><br><span class="line"><span class="keyword">int</span> tmp = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> y = <span class="number">0</span>; y &lt; gf.rows; y++)<span class="comment">//转为伪彩色图像的具体算法</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> x = <span class="number">0</span>; x &lt; gf.cols; x++)</span><br><span class="line">&#123;</span><br><span class="line">tmp = gf.at&lt;<span class="keyword">unsigned</span> <span class="keyword">char</span>&gt;(y, x);</span><br><span class="line">img_pseudocolor.at&lt;Vec3b&gt;(y, x)[<span class="number">0</span>] = <span class="built_in">abs</span>(<span class="number">255</span> - tmp); <span class="comment">//blue</span></span><br><span class="line">img_pseudocolor.at&lt;Vec3b&gt;(y, x)[<span class="number">1</span>] = <span class="built_in">abs</span>(<span class="number">127</span> - tmp); <span class="comment">//green</span></span><br><span class="line">img_pseudocolor.at&lt;Vec3b&gt;(y, x)[<span class="number">2</span>] = <span class="built_in">abs</span>(<span class="number">0</span> - tmp); <span class="comment">//red</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">namedWindow(<span class="string">"img_pseudocolor"</span>);</span><br><span class="line">imshow(<span class="string">"img_pseudocolor"</span>, img_pseudocolor);</span><br><span class="line">imwrite(<span class="string">"gf3_pseudocolor.png"</span>, img_pseudocolor);</span><br><span class="line"></span><br><span class="line"><span class="function">Mat <span class="title">img_color</span><span class="params">(gf.rows, gf.cols, CV_8UC3)</span></span>;<span class="comment">//构造RGB图像</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> IMG_B(gf,y,x) gf.at<span class="meta-string">&lt;Vec3b&gt;(y,x)[0]</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> IMG_G(gf,y,x) gf.at<span class="meta-string">&lt;Vec3b&gt;(y,x)[1]</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> IMG_R(gf,y,x) gf.at<span class="meta-string">&lt;Vec3b&gt;(y,x)[2]</span></span></span><br><span class="line">uchar tmp2 = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> y = <span class="number">0</span>; y &lt; gf.rows; y++)<span class="comment">//转为彩虹图的具体算法，主要思路是把灰度图对应的0～255的数值分别转换成彩虹色：红、橙、黄、绿、青、蓝。</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> x = <span class="number">0</span>; x &lt; gf.cols; x++)</span><br><span class="line">&#123;</span><br><span class="line">tmp2 = gf.at&lt;uchar&gt;(y, x);</span><br><span class="line"><span class="keyword">if</span> (tmp2 &lt;= <span class="number">51</span>)</span><br><span class="line">&#123;</span><br><span class="line">IMG_B(img_color, y, x) = <span class="number">255</span>;</span><br><span class="line">IMG_G(img_color, y, x) = tmp2 * <span class="number">5</span>;</span><br><span class="line">IMG_R(img_color, y, x) = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (tmp2 &lt;= <span class="number">102</span>)</span><br><span class="line">&#123;</span><br><span class="line">tmp2 -= <span class="number">51</span>;</span><br><span class="line">IMG_B(img_color, y, x) = <span class="number">255</span> - tmp2 * <span class="number">5</span>;</span><br><span class="line">IMG_G(img_color, y, x) = <span class="number">255</span>;</span><br><span class="line">IMG_R(img_color, y, x) = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (tmp2 &lt;= <span class="number">153</span>)</span><br><span class="line">&#123;</span><br><span class="line">tmp2 -= <span class="number">102</span>;</span><br><span class="line">IMG_B(img_color, y, x) = <span class="number">0</span>;</span><br><span class="line">IMG_G(img_color, y, x) = <span class="number">255</span>;</span><br><span class="line">IMG_R(img_color, y, x) = tmp2 * <span class="number">5</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (tmp2 &lt;= <span class="number">204</span>)</span><br><span class="line">&#123;</span><br><span class="line">tmp2 -= <span class="number">153</span>;</span><br><span class="line">IMG_B(img_color, y, x) = <span class="number">0</span>;</span><br><span class="line">IMG_G(img_color, y, x) = <span class="number">255</span> - uchar(<span class="number">128.0</span> * tmp2 / <span class="number">51.0</span> + <span class="number">0.5</span>);</span><br><span class="line">IMG_R(img_color, y, x) = <span class="number">255</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">tmp2 -= <span class="number">204</span>;</span><br><span class="line">IMG_B(img_color, y, x) = <span class="number">0</span>;</span><br><span class="line">IMG_G(img_color, y, x) = <span class="number">127</span> - uchar(<span class="number">127.0</span> * tmp2 / <span class="number">51.0</span> + <span class="number">0.5</span>);</span><br><span class="line">IMG_R(img_color, y, x) = <span class="number">255</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">namedWindow(<span class="string">"img_ rainbowcolor"</span>);</span><br><span class="line">imshow(<span class="string">"img_ rainbowcolor"</span>, img_color);</span><br><span class="line">imwrite(<span class="string">"gf3_rainbowcolor.png"</span>, img_color);</span><br><span class="line"></span><br><span class="line">waitKey(<span class="number">0</span>);</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote style="margin: 2em 0 0;padding: 0.5em 1em;border-left: 3px solid #F44336;background-color: #F5F5F5;list-style: none;"><p> <strong>本文使用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/" target="_blank" rel="noopener">CC BY-NC-SA 3.0 中国大陆</a> 协议许可<br>具体请参见 <a href="https://zyhang8.github.io/agree/" target="_blank" rel="noopener">知识共享协议</a></strong><br> <strong>本文链接：</strong><a href="https://zyhang8.github.io/2019/10/15/cv-exp3/" target="_blank" rel="noopener">https://zyhang8.github.io/2019/10/15/cv-exp3/</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> opencv </category>
          
      </categories>
      
      
        <tags>
            
            <tag> opencv </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>维吉利亚密码密钥长度怎么确定</title>
      <link href="/2019/10/13/cipher-exp1/"/>
      <url>/2019/10/13/cipher-exp1/</url>
      
        <content type="html"><![CDATA[<h1 id="维吉利亚密码密钥长度怎么确定"><a href="#维吉利亚密码密钥长度怎么确定" class="headerlink" title="维吉利亚密码密钥长度怎么确定"></a>维吉利亚密码密钥长度怎么确定</h1><h2 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h2><p>维吉尼亚密码（又译维热纳尔密码）是使用一系列凯撒密码组成密码字母表的加密算法，属于多表密码的一种简单形式。</p><h2 id="描述"><a href="#描述" class="headerlink" title="描述"></a>描述</h2><p>在一个凯撒密码中，字母表中的每一字母都会作一定的偏移，例如偏移量为3时，A就转换为了D、B转换为了E……而维吉尼亚密码则是由一些偏移量不同的恺撒密码组成。<br>为了生成密码，需要使用表格法。这一表格（如图1所示）包括了26行字母表，每一行都由前一行向左偏移一位得到。具体使用哪一行字母表进行编译是基于密钥进行的，在过程中会不断地变换。<br>图1.表格<br>图1.表格<br>例如，假设明文为：<br>ATTACKATDAWN<br>选择某一关键词并重复而得到密钥，如关键词为LEMON时，密钥为：<br>LEMONLEMONLE<br>对于明文的第一个字母A，对应密钥的第一个字母L，于是使用表格中L行字母表进行加密，得到密文第一个字母L。类似地，明文第二个字母为T，在表格中使用对应的E行进行加密，得到密文第二个字母X。以此类推，可以得到：<br>明文：ATTACKATDAWN密钥：LEMONLEMONLE密文：LXFOPVEFRNHR<br>解密的过程则与加密相反。例如：根据密钥第一个字母L所对应的L行字母表，发现密文第一个字母L位于A列，因而明文第一个字母为A。密钥第二个字母E对应E行字母表，而密文第二个字母X位于此行T列，因而明文第二个字母为T。以此类推便可得到明文。</p><h2 id="长度确定"><a href="#长度确定" class="headerlink" title="长度确定"></a>长度确定</h2><p>确定密钥长度主要有两种方法，Kasiski 测试法相对简单很多，但Friedman 测试法的效果明显优于Kasiski 测试法。</p><h2 id="Kasiski-测试法"><a href="#Kasiski-测试法" class="headerlink" title="Kasiski 测试法"></a>Kasiski 测试法</h2><p>在英文中，一些常见的单词如the有几率被密钥的相同部分加密，即原文中的the可能在密文中呈现为相同的三个字母。在这种情况下，相同片段的间距就是密文长度的倍数。所以我们可以通过在密文中找到相同的片段，计算出这些相同片段之间的间距，而密钥长度理论上就是这些间距的公约数。</p><p>具体方法：搜索长度至少为3的相同密文段，记录这些相同密文端到起始点之间的距离（d1,d2,d3……），找出（d1,d2,d3……）的所有公因子，同样为了确保秘钥长度的准确性，我们在搜索另一至少长为3的相同密文段，重复上操作，最后找出他们共同的公因子，若公因子不唯一，则在采用下边的重合因子测试法确定密钥长度。</p><h2 id="Friedman-测试法"><a href="#Friedman-测试法" class="headerlink" title="Friedman 测试法"></a>Friedman 测试法</h2><p>首先我们要知道，对于一种特定的自然语言，如果文本足够长，那么各个字母出现的概率是相对稳定的。<br>以下是维基百科给出的英语的字母频率表：</p><table><thead><tr><th align="center">字母</th><th align="center">英语中出现的频率</th></tr></thead><tbody><tr><td align="center">a</td><td align="center">8.167%</td></tr><tr><td align="center">b</td><td align="center">1.492%</td></tr><tr><td align="center">c</td><td align="center">2.782%</td></tr><tr><td align="center">d</td><td align="center">4.253%</td></tr><tr><td align="center">e</td><td align="center">12.702%</td></tr><tr><td align="center">f</td><td align="center">2.228%</td></tr><tr><td align="center">g</td><td align="center">2.015%</td></tr><tr><td align="center">h</td><td align="center">6.094%</td></tr><tr><td align="center">i</td><td align="center">6.966%</td></tr><tr><td align="center">j</td><td align="center">0.153%</td></tr><tr><td align="center">k</td><td align="center">0.772%</td></tr><tr><td align="center">l</td><td align="center">4.025%</td></tr><tr><td align="center">m</td><td align="center">2.406%</td></tr><tr><td align="center">n</td><td align="center">6.749%</td></tr><tr><td align="center">o</td><td align="center">7.507%</td></tr><tr><td align="center">p</td><td align="center">1.929%</td></tr><tr><td align="center">q</td><td align="center">0.095%</td></tr><tr><td align="center">r</td><td align="center">5.987%</td></tr><tr><td align="center">s</td><td align="center">6.327%</td></tr><tr><td align="center">t</td><td align="center">9.056%</td></tr><tr><td align="center">u</td><td align="center">2.758%</td></tr><tr><td align="center">v</td><td align="center">0.978%</td></tr><tr><td align="center">w</td><td align="center">2.360%</td></tr><tr><td align="center">x</td><td align="center">0.150%</td></tr><tr><td align="center">y</td><td align="center">1.974%</td></tr><tr><td align="center">z</td><td align="center">0.074%</td></tr></tbody></table><p>然后我们需要知道重合指数（IC, index of coincidence）的概念。<br>重合指数表示两个随机选出的字母是相同的的概率，即随机选出两个A的概率+随机选出两个B的概率+随机选出两个C的概率+……+随机选出两个Z的概率。<br>对英语而言，根据上述的频率表，我们可以计算出英语文本的重合指数为<br>P(A)^2 + P(B)^2+……+P(Z)^2 = 0.65<br>利用重合指数推测密钥长度的原理在于，对于一个由凯撒密码加密的序列，由于所有字母的位移程度相同，所以密文的重合指数应等于原文语言的重合指数。<br>据此，我们可以逐一计算不同密钥长度下的重合指数，当重合指数接近期望的0.65时，我们就可以推测这是我们所要找的密钥长度。<br>举例来说，对密文ABCDEABCDEABCDEABC<br>首先测试密钥长度=1，对密文ABCDEABCDEABCDEABC统计每个字符出现的次数：<br>A: 4 B: 4 C: 4 D:3 E:3<br>那么对于该序列的重合指数就为：(4/18)^2 + (4/18)^2 + (4/18)^2 +(3/18)^2 +(3/18)^2 != 0.65<br>然后测试密钥长度=2，将密文ABCDEABCDEABCDEABC分解为两组：<br>组1：A C E B D A C E B<br>组2：B D A C E B D A C<br>我们知道如果密钥长度真的是2，那么组1，组2都是一个凯撒密码。对组1组2分别计算重合指数。<br>如果组1的重合指数接近0.65，组2的重合指数也接近0.65，那么基本可以断定密钥长度为2。</p><h2 id="字母频度分析"><a href="#字母频度分析" class="headerlink" title="字母频度分析"></a>字母频度分析</h2><p>在知道了密钥长度n以后，就可将密文分解为n组，每一组都是一个凯撒密码，然后对每一组用字母频度分析进行解密，和在一起就能成功解密凯撒密码。<br>上文已经说到，自然语言的字母频度是一定的。字母频度分析就是将密文的字母频度和自然语言的自然频度排序对比，从而找出可能的原文。<br>理论上文本长度越长，字母频度分析的效果更好。</p><blockquote style="margin: 2em 0 0;padding: 0.5em 1em;border-left: 3px solid #F44336;background-color: #F5F5F5;list-style: none;"><p> <strong>本文使用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/" target="_blank" rel="noopener">CC BY-NC-SA 3.0 中国大陆</a> 协议许可<br>具体请参见 <a href="https://zyhang8.github.io/agree/" target="_blank" rel="noopener">知识共享协议</a></strong><br> <strong>本文链接：</strong><a href="https://zyhang8.github.io/2019/10/13/cipher-exp1/" target="_blank" rel="noopener">https://zyhang8.github.io/2019/10/13/cipher-exp1/</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 信息安全 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 信息安全 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>鱼的记忆｜EQ</title>
      <link href="/2019/10/12/eq/"/>
      <url>/2019/10/12/eq/</url>
      
        <content type="html"><![CDATA[<h2 id="EQ攻略"><a href="#EQ攻略" class="headerlink" title="EQ攻略"></a>EQ攻略</h2><p>周末陪一天图书馆<br>多花时间<br>多理解，多沟通</p><blockquote style="margin: 2em 0 0;padding: 0.5em 1em;border-left: 3px solid #F44336;background-color: #F5F5F5;list-style: none;"><p> <strong>本文使用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/" target="_blank" rel="noopener">CC BY-NC-SA 3.0 中国大陆</a> 协议许可<br>具体请参见 <a href="https://zyhang8.github.io/agree/" target="_blank" rel="noopener">知识共享协议</a></strong><br> <strong>本文链接：</strong><a href="https://zyhang8.github.io/2019/10/12/eq/" target="_blank" rel="noopener">https://zyhang8.github.io/2019/10/12/eq/</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 鱼的记忆 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 情商 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Pythonic｜the zen of python</title>
      <link href="/2019/10/11/pythonic/"/>
      <url>/2019/10/11/pythonic/</url>
      
        <content type="html"><![CDATA[<h2 id="Pythonic-python骨灰级进阶之路"><a href="#Pythonic-python骨灰级进阶之路" class="headerlink" title="Pythonic|python骨灰级进阶之路"></a>Pythonic|python骨灰级进阶之路</h2><blockquote><p>首先来一段python之禅</p></blockquote><p>Beautiful is better than ugly.<br>Explicit is better than implicit.<br>Simple is better than complex.<br>Complex is better than complicated.<br>Flat is better than nested.<br>Sparse is better than dense.<br>Readability counts.<br>Special cases aren’t special enough to break the rules.<br>Although practicality beats purity.<br>Errors should never pass silently.<br>Unless explicitly silenced.<br>In the face of ambiguity, refuse the temptation to guess.<br>There should be one– and preferably only one –obvious way to do it.<br>Although that way may not be obvious at first unless you’re Dutch.<br>Now is better than never.<br>Although never is often better than <em>right</em> now.<br>If the implementation is hard to explain, it’s a bad idea.<br>If the implementation is easy to explain, it may be a good idea.<br>Namespaces are one honking great idea – let’s do more of those!</p><p>The Zen of Python, by Tim Peters</p><p>Beautiful is better than ugly.</p><p>Explicit is better than implicit.</p><p>Simple is better than complex.</p><p>Complex is better than complicated.</p><p>Flat is better than nested.</p><p>Sparse is better than dense.</p><p>Readability counts.</p><p>Special cases aren’t special enough to break the rules.</p><p>Although practicality beats purity.</p><p>Errors should never pass silently.</p><p>Unless explicitly silenced.</p><p>In the face of ambiguity, refuse the temptation to guess.</p><p>There should be one– and preferably only one –obvious way to do it.</p><p>Although that way may not be obvious at first unless you’re Dutch.</p><p>Now is better than never.</p><p>Although never is often better than <em>right</em> now.</p><p>If the implementation is hard to explain, it’s a bad idea.</p><p>If the implementation is easy to explain, it may be a good idea.</p><p>Namespaces are one honking great idea – let’s do more of those!</p><p>中文翻译：</p><p>优美胜于丑陋</p><p>明了胜于晦涩</p><p>简单胜于复杂</p><p>复杂胜于杂乱</p><p>扁平胜于嵌套</p><p>间隔胜于紧凑</p><p>可读性很重要</p><p>特例不足以特殊到违背这些原则</p><p>不要忽视错误，除非程序需要这样做</p><p>面对模棱两可，拒绝猜测</p><p>解决问题最直接的方法应该有一种，最好只有一种</p><p>可能这种方法一开始不够直接，因为你不是范罗苏姆</p><p>做也许好过不做，但不想就做还不如不做</p><p>如果方案难以描述明白，那么一定是个糟糕的方案</p><p>如果容易描述，那么可能是个好方案</p><p>命名空间是一种绝妙的理念，多加利用</p><h3 id="exp1"><a href="#exp1" class="headerlink" title="exp1"></a>exp1</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> element <span class="keyword">in</span> list:</span><br><span class="line">    simple_process(element)</span><br></pre></td></tr></table></figure><h3 id="exp2"><a href="#exp2" class="headerlink" title="exp2"></a>exp2</h3><p>交换a,b</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">a,b = b,a</span><br></pre></td></tr></table></figure><h3 id="exp3"><a href="#exp3" class="headerlink" title="exp3"></a>exp3</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> i, color <span class="keyword">in</span> enumerate(colors):</span><br><span class="line">    print(i)</span><br></pre></td></tr></table></figure><h3 id="exp4"><a href="#exp4" class="headerlink" title="exp4"></a>exp4</h3><p>字符串连接时，普通的方式可以用 + 操作</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="string">', '</span>.join(names))</span><br></pre></td></tr></table></figure><h3 id="exp5"><a href="#exp5" class="headerlink" title="exp5"></a>exp5</h3><p>直接赋值,默认浅拷贝传递对象的引用而已,原始列表改变，被赋值的b也会做相同的改变</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; b=alist</span><br><span class="line">&gt;&gt;&gt; print b</span><br><span class="line">[1, 2, 3, [&apos;a&apos;, &apos;b&apos;]]</span><br><span class="line">&gt;&gt;&gt; alist.append(5)</span><br><span class="line">&gt;&gt;&gt; print alist;print b</span><br><span class="line">[1, 2, 3, [&apos;a&apos;, &apos;b&apos;], 5]</span><br><span class="line">[1, 2, 3, [&apos;a&apos;, &apos;b&apos;], 5]</span><br></pre></td></tr></table></figure><p>copy浅拷贝，没有拷贝子对象，所以原始数据改变，子对象会改变</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; import copy</span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt; c=copy.copy(alist)</span><br><span class="line">&gt;&gt;&gt; print alist;print c</span><br><span class="line">[1, 2, 3, [&apos;a&apos;, &apos;b&apos;]]</span><br><span class="line">[1, 2, 3, [&apos;a&apos;, &apos;b&apos;]]</span><br><span class="line">&gt;&gt;&gt; alist.append(5)</span><br><span class="line">&gt;&gt;&gt; print alist;print c</span><br><span class="line">[1, 2, 3, [&apos;a&apos;, &apos;b&apos;], 5]</span><br><span class="line">[1, 2, 3, [&apos;a&apos;, &apos;b&apos;]]</span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt; alist[3]</span><br><span class="line">[&apos;a&apos;, &apos;b&apos;]</span><br><span class="line">&gt;&gt;&gt; alist[3].append(&apos;cccc&apos;)</span><br><span class="line">&gt;&gt;&gt; print alist;print c</span><br><span class="line">[1, 2, 3, [&apos;a&apos;, &apos;b&apos;, &apos;cccc&apos;], 5]</span><br><span class="line">[1, 2, 3, [&apos;a&apos;, &apos;b&apos;, &apos;cccc&apos;]] 里面的子对象被改变了</span><br></pre></td></tr></table></figure><p>深拷贝，包含对象里面的自对象的拷贝，所以原始对象的改变不会造成深拷贝里任何子元素的改变</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; import copy</span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt; d=copy.deepcopy(alist)</span><br><span class="line">&gt;&gt;&gt; print alist;print d</span><br><span class="line">[1, 2, 3, [&apos;a&apos;, &apos;b&apos;]]</span><br><span class="line">[1, 2, 3, [&apos;a&apos;, &apos;b&apos;]]始终没有改变</span><br><span class="line">&gt;&gt;&gt; alist.append(5)</span><br><span class="line">&gt;&gt;&gt; print alist;print d</span><br><span class="line">[1, 2, 3, [&apos;a&apos;, &apos;b&apos;], 5]</span><br><span class="line">[1, 2, 3, [&apos;a&apos;, &apos;b&apos;]]始终没有改变</span><br><span class="line">&gt;&gt;&gt; alist[3]</span><br><span class="line">[&apos;a&apos;, &apos;b&apos;]</span><br><span class="line">&gt;&gt;&gt; alist[3].append(&quot;ccccc&quot;)</span><br><span class="line">&gt;&gt;&gt; print alist;print d</span><br><span class="line">[1, 2, 3, [&apos;a&apos;, &apos;b&apos;, &apos;ccccc&apos;], 5]</span><br><span class="line">[1, 2, 3, [&apos;a&apos;, &apos;b&apos;]]  始终没有改变</span><br></pre></td></tr></table></figure><blockquote style="margin: 2em 0 0;padding: 0.5em 1em;border-left: 3px solid #F44336;background-color: #F5F5F5;list-style: none;"><p> <strong>本文使用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/" target="_blank" rel="noopener">CC BY-NC-SA 3.0 中国大陆</a> 协议许可<br>具体请参见 <a href="https://zyhang8.github.io/agree/" target="_blank" rel="noopener">知识共享协议</a></strong><br> <strong>本文链接：</strong><a href="https://zyhang8.github.io/2019/10/11/pythonic/" target="_blank" rel="noopener">https://zyhang8.github.io/2019/10/11/pythonic/</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python之chan </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>心理学效应积累</title>
      <link href="/2019/10/10/psychology/"/>
      <url>/2019/10/10/psychology/</url>
      
        <content type="html"><![CDATA[<h2 id="心理学知识积累"><a href="#心理学知识积累" class="headerlink" title="心理学知识积累"></a>心理学知识积累</h2><blockquote><p>代码打多了，互联网呆久了，自然而然感悟到一些效应，这对提高经济效益和工作效率有莫大影响</p></blockquote><blockquote style="margin: 2em 0 0;padding: 0.5em 1em;border-left: 3px solid #F44336;background-color: #F5F5F5;list-style: none;"><p> <strong>本文使用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/" target="_blank" rel="noopener">CC BY-NC-SA 3.0 中国大陆</a> 协议许可<br>具体请参见 <a href="https://zyhang8.github.io/agree/" target="_blank" rel="noopener">知识共享协议</a></strong><br> <strong>本文链接：</strong><a href="https://zyhang8.github.io/2019/07/18/Ningbo/" target="_blank" rel="noopener">https://zyhang8.github.io/2019/07/18/Ningbo/</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 心理学 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 心理学 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>机器学习｜损失函数</title>
      <link href="/2019/10/09/loss-function/"/>
      <url>/2019/10/09/loss-function/</url>
      
        <content type="html"><![CDATA[<h2 id="损失函数总结"><a href="#损失函数总结" class="headerlink" title="损失函数总结"></a>损失函数总结</h2><blockquote><p>在做cptn时，进行了有监督学习，在此期间学习了gt标注，期间用损失函数来判断标注质量，借此博客来记录常用损失函数</p></blockquote><p>损失函数分为经验风险损失函数和结构风险损失函数，经验风险损失函数反映的是预测结果和实际结果之间的差别，结构风险损失函数则是经验风险损失函数加上正则项(L0、L1（Lasso）、L2（Ridge）)，且不同的算法常用的损失函数。</p><h3 id="0-1损失函数（gold-standard-标准式）"><a href="#0-1损失函数（gold-standard-标准式）" class="headerlink" title="0-1损失函数（gold standard 标准式）"></a>0-1损失函数（gold standard 标准式）</h3><p>0-1损失是指，预测值和目标值不相等为1，否则为0：</p><p><img src="https://img-blog.csdn.net/20180820220028511?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2Noa2F5Mzk5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="glod"></p><p>该损失函数不考虑预测值和真实值的误差程度，也就是说只要预测错误，预测错误差一点和差很多是一样的。感知机就是用的这种损失函数，但是由于相等这个条件太过严格，我们可以放宽条件，即满足 |Y−f(X)|&lt;T时认为相等</p><p><img src="https://img-blog.csdn.net/20180820220135589?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2Noa2F5Mzk5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="glod1"></p><p>这种损失函数用在实际场景中比较少，更多的是用俩衡量其他损失函数的效果。</p><h3 id="绝对值损失函数"><a href="#绝对值损失函数" class="headerlink" title="绝对值损失函数"></a>绝对值损失函数</h3><p>绝对值损失函数，（暂时还不知道用在啥场合，了解后改正）：</p><p><img src="https://img-blog.csdn.net/2018082119194194?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2Noa2F5Mzk5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="absolute"></p><h3 id="平方损失函数（squared-loss）"><a href="#平方损失函数（squared-loss）" class="headerlink" title="平方损失函数（squared loss）"></a>平方损失函数（squared loss）</h3><p>实际结果和观测结果之间差距的平方和，一般用在线性回归中，可以理解为最小二乘法：</p><p><img src="https://img-blog.csdn.net/20180821144144551?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2Noa2F5Mzk5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="squared"></p><h3 id="对数损失函数（logarithmic-loss）"><a href="#对数损失函数（logarithmic-loss）" class="headerlink" title="对数损失函数（logarithmic loss）"></a>对数损失函数（logarithmic loss）</h3><p>主要在逻辑回归中使用，样本预测值和实际值的误差符合高斯分布，使用极大似然估计的方法，取对数得到损失函数：</p><p><img src="https://img-blog.csdn.net/20180821144804563?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2Noa2F5Mzk5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="logarithmic"></p><p>损失函数L(Y,P(Y|X))L(Y,P(Y|X))是指样本X在分类Y的情况下，使概率P(Y|X)达到最大值。</p><p>经典的对数损失函数包括entropy和softmax，一般在做分类问题的时候使用（而回归时多用绝对值损失（拉普拉斯分布时，μ值为中位数）和平方损失（高斯分布时，μ值为均值））。</p><h3 id="指数损失函数（Exp-Loss）"><a href="#指数损失函数（Exp-Loss）" class="headerlink" title="指数损失函数（Exp-Loss）"></a>指数损失函数（Exp-Loss）</h3><p>在boosting算法中比较常见，比如Adaboosting中，标准形式是：</p><p><img src="https://img-blog.csdn.net/20180821192935130?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2Noa2F5Mzk5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="Exp-Loss"></p><h3 id="铰链损失函数（Hinge-Loss）"><a href="#铰链损失函数（Hinge-Loss）" class="headerlink" title="铰链损失函数（Hinge Loss）"></a>铰链损失函数（Hinge Loss）</h3><p>铰链损失函数主要用在SVM中，Hinge Loss的标准形式为：</p><p><img src="https://img-blog.csdn.net/20180821194802763?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2Noa2F5Mzk5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="hinge"></p><p>y是预测值，在-1到+1之间，t为目标值（-1或+1）。其含义为，y的值在-1和+1之间就可以了，并不鼓励|y|&gt;1|y|&gt;1，即并不鼓励分类器过度自信，让某个正确分类的样本的距离分割线超过1并不会有任何奖励，从而使分类器可以更专注于整体的分类误差。</p><blockquote style="margin: 2em 0 0;padding: 0.5em 1em;border-left: 3px solid #F44336;background-color: #F5F5F5;list-style: none;"><p> <strong>本文使用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/" target="_blank" rel="noopener">CC BY-NC-SA 3.0 中国大陆</a> 协议许可<br>具体请参见 <a href="https://zyhang8.github.io/agree/" target="_blank" rel="noopener">知识共享协议</a></strong><br> <strong>本文链接：</strong><a href="https://zyhang8.github.io/2019/10/09/loss-function/" target="_blank" rel="noopener">https://zyhang8.github.io/2019/10/09/loss-function/</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 机器学习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> loss </tag>
            
            <tag> machine_learning </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>游记·Shandong</title>
      <link href="/2019/10/07/Shandong/"/>
      <url>/2019/10/07/Shandong/</url>
      
        <content type="html"><![CDATA[<h1 id="青岛-济南-泰安-曲阜"><a href="#青岛-济南-泰安-曲阜" class="headerlink" title="青岛-济南-泰安-曲阜"></a>青岛-济南-泰安-曲阜</h1><h2 id="出行准备"><a href="#出行准备" class="headerlink" title="出行准备"></a>出行准备</h2><p>马蜂窝(本地菜景点)<br>高德(导航)<br>电影/书籍(路上消磨时间)<br>身份证/学生证 随身(景点必备)</p><h2 id="交通准备"><a href="#交通准备" class="headerlink" title="交通准备"></a>交通准备</h2><ul><li><p>青岛地铁-青岛地铁APP</p></li><li><p>青岛公交-微信乘车码/青岛地铁APP/支付宝</p></li><li><p>青岛实时公交-青岛公交查询/支付宝</p></li><li><p>济南地铁-济南地铁APP</p></li><li><p>济南公交-支付宝</p></li><li><p>济南实时公交-支付宝</p></li><li><p>泰安公交-支付宝</p></li><li><p>泰安实时公交-交通魏生活</p></li><li><p>济宁公交-支付宝</p></li><li><p>曲阜公交实时查询-公交e出行APP</p></li></ul><h2 id="美食"><a href="#美食" class="headerlink" title="美食"></a>美食</h2><ul><li><p>鲛鱼水饺，海菜凉粉，大虾烧白菜，啤酒酥，青岛锅贴，笔管鱼炒韭菜，辣炒蛤喇，爆炒海螺</p></li><li><p>鸡汤馄饨，海凉粉，青岛豆花，酱猪蹄，烧烤，甜沫</p></li><li><p>济南特色小吃——油旋，把子肉，孟家扒蹄，草包包子（千佛山）</p></li><li><p>奶汤蒲菜，猪肘汤面，烤全羊</p></li><li><p>白菜、豆腐、水，肥城桃，山东煎饼，范镇火烧，泰山豆腐面</p></li><li><p>孔府宴，熏豆腐，带子上朝，孔府一品锅，孔府糕点</p></li></ul><h2 id="出行"><a href="#出行" class="headerlink" title="出行"></a>出行</h2><h2 id="第一天"><a href="#第一天" class="headerlink" title="第一天"></a>第一天</h2><p>本来打算下午出发，但是由于风雨太大，在学校闲着不想干别的事，于是早上就从学校出发，顺便坐了同学的model3去了上海汽车东站。由于还早，于是去了附近的世博源逛了逛商场，吃了午饭，买了星爸爸。路上还有一个保安老伯伯帮忙看了行李，回去顺便买了一块蛋糕给他，后来就在汽车东站闲着了，到了5点多，不想出站吃饭，买了方便面就将就吃了。到了晚上7点，出发了。</p><p>这一晚真难过，本来打算下午睡了一宿，晚上通宵打代码，可事与愿违，汽车上的床位实在不舒服，况且在部署ctpn时发现，tensorflow不支持A卡，教程很少，用着远程连接连着iMac还是感觉很不算，后来以CPU失败告终。电脑也将就没电。后来开始了我很久没玩的游戏，把欢乐斗地主刷到好友第一名，把天天象棋刷到8-3等级，后来完了几个小游戏后，看了下短信，发现已经欠了900多m，一个晚上冲的优惠流量总给我退回来，只能原价买流量了，心疼。。由于没有防备，整个晚上冷的很，况且还下大雨，床被淋湿了，正面睡这不爽，于是整个人倒着睡，就这样到了晚上2点多。。发现车子不动了，一开始以为司机在休息，后来过了20分钟，有乘客开始提出疑问了，司机也不在车里不知道去哪了，但外面雨大，谁也没下车，有的人觉得司机在等货，也有点道理。4点多再次醒来，车子还在原地，这次就真的很奇怪了，但是谁也没提出怀疑。我也继续睡。就这样睡睡醒醒，到了9点多不再睡了。车子也在高速上，到了高速检票口，排起了长龙，等了不只30分钟才过，到了市区，慢慢悠悠，12点才到了目的地。</p><h2 id="第二天"><a href="#第二天" class="headerlink" title="第二天"></a>第二天</h2><p>后来打车去了酒店，开了半小时终于到了，在酒店洗漱，整理后出门。由于原计划是早上6点多到，现在已经中午了，先去吃了饭（王小二炒鸡店），由于点了太多，鸡也没吃完，菜也没吃完。吃完按计划去了青岛奥林匹克帆船中心，好多帆船，还有帆船建筑，在那里还可以看到五四广场，还有青岛的沿海发达地区，实在美丽。</p><p>后来去了八大关，欣赏欧式风格建筑物，还有海岸第二浴场，看到大海波光粼粼，老人小孩都在戏耍。</p><p>过了一阵子回到了酒店休息，晚上出来吃了姜北串店，点了一扎青岛原浆啤酒，足足2.5L，当然是没喝完，喝了4分之1投降了。串串还不错，吃的有滋有味。</p><h2 id="第三天"><a href="#第三天" class="headerlink" title="第三天"></a>第三天</h2><p>本来今天要去崂山的，不过因为昨天耽误了计划，所以就按昨天早上计划出行，先去了青岛啤酒博物馆，参观了青岛啤酒工厂，瞬间感觉里面高大上，还有免费啤酒豆和啤酒喝，对此印象深刻。逛完去了天主教堂，周围都是欧式风格，还有很多夫妻在这里拍婚纱照，结婚的数不胜数，教堂里面看到了耶稣和圣母索利亚，还有圣经发放（当然没拿）。完事之后去了栈桥，人很多很多，啥看不到什么好风景，栈桥上面都是人挤人，于是放弃去了劈柴院，本来想去春和楼吃饭，不过人太多了，还的赶火车，于是到劈柴院逛了逛，买了烤鱿鱼，鱿鱼片，牛肉饺子，海水豆腐，打糕，山楂糕，小笼包后回酒店前往高铁站。</p><p>接下来在青岛北站坐高铁去了济南东站，在酒店放好行李后，就前往芙蓉街。骑着共享单车到了正门，发现正门关闭，得从后门进，绕了一大圈后发现进去小吃街还的得排队，在拥挤之下被人海推进去了，一路也没什么特别好吃的东西，吃了有点恶心的菠萝饭，点了奶茶，前往醉得意饭店吃了。这个饭店还可以，每个菜都是大份（北方特点把），又是吃不完的一顿，南方的蓝莓山药还不如手掌大，北方的蓝莓山药比手还大。后骑单车回了酒店。</p><h2 id="第四天"><a href="#第四天" class="headerlink" title="第四天"></a>第四天</h2><p>早上在酒店附近的早餐店简餐后，前往了附近的大佛山。一开始坐了索道上山，确实有点害怕。不过轻松了许多，逛了一圈后，拍了一些照片，然后就走路下山了，下山途中看到刚好有美食节，各式各样的小店都有，云南，重庆，山西，内蒙各种特产，在那逛了逛后准备下山了，也开始下起了小雨。</p><p>后来去了趵（Dao）突泉，跟新闻的相似，在天下第一泉那里简直人山人海，为了大大的一圈，里面的水实在是清澈，感觉就像透明的。景区里面也有各种大人物的纪念馆和故居，李清照就曾在此居住，想象得出当时是多回享受生活。</p><p>逛完去了泉城广场，风实在大（蓝色大风预警），我穿着短裤像各弟弟一样怂着，在广场待了没多久就去了附近的商业广场找饭吃了。</p><p>在大众点评看了之后选择了城南往事，等了半小时之后终于轮到了，点了的菜实在甜，好吃倒是好吃，也做的很精致，就是太甜……吃完逛了下商场，然后在桂源铺买了奶茶，继续出发</p><p>在等公交车的时候突然看到车把人撞飞的全过程，雨太多还直接过马路，车也没看到开得太快直接撞上，看样子人也没流血，应该无大碍，到了大明湖，雨和风更大了，手撑伞撑得快断了。大明湖进去后，拍了一下照片就赶紧溜出来了（伞实在撑不住），然后回酒店拿了行李去了火车站，买了kfc就在火车上随便吃吃了</p><p>在济南站坐了一小时火车到了泰山站，下站后发现更冷了，到了酒店后出来买了下干粮和长裤，不买明天上山准冻死。</p><h2 id="第五天"><a href="#第五天" class="headerlink" title="第五天"></a>第五天</h2><p>吃完早餐去了泰山，在泰山山脚租了一件羽绒服后就山上了，一开始坐着大巴上山，到了一会儿就下车准备爬楼梯，可是这人实在有点多。山上路上都是人堵人，不能走快也不能走慢，到了十八盘后越来越陡，走走歇歇，千辛万苦到了南门。在这吃了方便面和面包后继续前进，又爬了很久到了玉皇顶，也就是泰山最高峰，顿时心旷神怡，看到祖国大好河山不经自喜。下山坐了索道，速度也有点快，但是风景确实漂亮。</p><p>下山后把羽绒服还后前往了岱庙，确实是个小故宫，但比起故宫还相距甚远，不过里面文物倒是很多，各种石碑，还有泰山博物馆，还有宏伟的城墙，逛完就回到了酒店。</p><p>晚上出来吃了韩式烤肉，顺便买了绿豆饼，贼便宜而且特别好吃就是需要排队而且限量。</p><h2 id="第六天"><a href="#第六天" class="headerlink" title="第六天"></a>第六天</h2><p>这是坐车的一天，刚好买到下午1点曲阜回上海的票，本来想去一下三孔玩一玩，但是时间太赶就没去了，于是乘高铁回到上海。</p><h2 id="感悟"><a href="#感悟" class="headerlink" title="感悟"></a>感悟</h2><p>听了一路的东北话实在有意思，很遗憾没吃到山东煎饼果子。但是迟到饿好多好吃的东西，泰山确实印象深刻，不愧是五岳之首。山东人也特别好，但是空气和水质量确实不太好，感觉经济还是跟不太上，不过旅游业确实做的不错。下次有机会再把曲阜补起来，嘻嘻！</p><blockquote style="margin: 2em 0 0;padding: 0.5em 1em;border-left: 3px solid #F44336;background-color: #F5F5F5;list-style: none;"><p> <strong>本文使用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/" target="_blank" rel="noopener">CC BY-NC-SA 3.0 中国大陆</a> 协议许可<br>具体请参见 <a href="https://zyhang8.github.io/agree/" target="_blank" rel="noopener">知识共享协议</a></strong><br> <strong>本文链接：</strong><a href="https://zyhang8.github.io/2019/10/07/Shandong/" target="_blank" rel="noopener">https://zyhang8.github.io/2019/10/07/Shandong/</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 游记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 游行 </tag>
            
            <tag> 济南 </tag>
            
            <tag> 青岛 </tag>
            
            <tag> 泰安 </tag>
            
            <tag> 曲阜 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>互联网应用</title>
      <link href="/2019/10/06/android-exp8/"/>
      <url>/2019/10/06/android-exp8/</url>
      
        <content type="html"><![CDATA[<h1 id="互联网应用"><a href="#互联网应用" class="headerlink" title="互联网应用"></a>互联网应用</h1><h2 id="实验目的"><a href="#实验目的" class="headerlink" title="实验目的"></a>实验目的</h2><p>1.了解android客户端访问互联网的原理；<br>2.了解http协议、Web API和JSON；<br>3.掌握WebView和OkHttp库的使用方法。</p><h2 id="实验内容"><a href="#实验内容" class="headerlink" title="实验内容"></a>实验内容</h2><p>1.创建一个新闻客户端，从指定的网站的Web API接口获取JSON数据并进行解析为Java对象；<br>2.根据获得的数据（图片需要下载）填充新闻列表并呈现；<br>3.当用户点击某一条新闻时，打开一个包含WebView的Activity显示新闻内容；<br>4.用户可以通过单击顶部的“返回”按钮回到新闻列表，然后再查看下一条新闻的详情。<br>5.本次实验的新闻数据来自于news.163.com和money.163.com。<br>实验完成后能获得新闻列表并查看新闻，如图1和图2所示。</p><p><img src="https://s2.ax1x.com/2019/10/31/Ko4OnP.png" alt="Ko4OnP.png"></p><p>图1新闻列表</p><p><img src="https://s2.ax1x.com/2019/10/31/Ko4H1A.png" alt="Ko4H1A.png"></p><p>图2 新闻详情<br>实验原理：<br>Android客户端访问互联网的方式有多种，其中最常见的一种是访问在互联网（云端）的服务器，通过Web API接口请求数据，数据以JSON形式返回到客户端，客户端解析后（可能需要进一步下载数据）将结果呈现给用户（如图3所示）。</p><p><img src="https://s2.ax1x.com/2019/10/31/Ko4b6I.png" alt="Ko4b6I.png"></p><p>图3 Android应用访问互联网时序图</p><p>具体来说，就是：Android客户端负责发出HTTP请求（可以使用系统原生组件HttpClient和UrlConnection或者使用第三方库如OkHttp实现）；服务器响应请求，返回数据（JSON格式），Android客户端收到数据后进行解析，一般会使用GSON将其转化为Java对象以便进一步处理；为了将数据友好地呈现出来，客户端一般会使用一些控件（Widget如ListView）显示数据，为此需要某种类型的Adapter实现用数据填充控件；为了数据能够流畅展示，需要使用Holder模式；为了获得更好的用户体验（如下拉刷新和返回顶部），一般需要使用一些额外的UI组件；当用户点击某一新闻的标题时，客户端将打开一个新的Activtiy，它包含了一个用来显示网页内容的WebView，新闻内容将在这里显示，用户可以随时通过左上角的按钮返回到新闻列表。</p><h2 id="实验步骤"><a href="#实验步骤" class="headerlink" title="实验步骤"></a>实验步骤</h2><p>分析项目：</p><p>该项目使用的是<a href="https://news.163.com网站，于是找到国内网站的url，发现其直接显示再前端，一般容易抓取信息" target="_blank" rel="noopener">https://news.163.com网站，于是找到国内网站的url，发现其直接显示再前端，一般容易抓取信息</a></p><p><img src="https://s2.ax1x.com/2019/10/31/Ko4qXt.png" alt="Ko4qXt.png"></p><p>再分析<a href="https://money.163.com网站，发现其也是直接暴露再href标签上" target="_blank" rel="noopener">https://money.163.com网站，发现其也是直接暴露再href标签上</a></p><p><img src="https://s2.ax1x.com/2019/10/31/Ko47pd.png" alt="Ko47pd.png"></p><p>1 使用Android Studio（3.0以上）打开提供的初始工程包（Android API28），修改包名为com.example.internetapp_自己的学号，如“com.example.internetapp_1751302”。具体方法为，在项目的包上右键在菜单中依次选择Refactor-&gt;Rename（图4），在弹出的警告框中选择Rename package（图5），在Rename对话框中修改包名（注意：只需要填写”internetapp_自己的学号”即可，图6），修改后点击Refactor将打开预览窗口，单击窗口左下角的Do Refactor按钮完成修改（图7）。</p><p><img src="https://s2.ax1x.com/2019/10/31/Ko4X0f.png" alt="Ko4X0f.png"></p><p>2.添加Title和TitleAdapter类，如图8所示。</p><p><img src="https://s2.ax1x.com/2019/10/31/Ko55D0.png" alt="Ko55D0.png"></p><p>图8添加类菜单</p><p><img src="https://s2.ax1x.com/2019/10/31/Ko5Pcn.png" alt="Ko5Pcn.png"></p><p>图9 添加类对话框</p><p>3.在Title类中添加以下代码：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> String title;</span><br><span class="line"><span class="keyword">private</span> String picSrc;</span><br><span class="line"><span class="keyword">private</span> String link;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">Title</span><span class="params">(String title, String picSrc, String link)</span></span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.title = title;</span><br><span class="line">    <span class="keyword">this</span>.picSrc= picSrc;</span><br><span class="line">    <span class="keyword">this</span>.link = link;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">getTitle</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> title;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">getPicSrc</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> picSrc;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">getLink</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> link;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>4 修改TitleAdapter类的内容如下：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.internetapp_1759116;<span class="comment">//包名按自己的来</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.content.Context;</span><br><span class="line"><span class="keyword">import</span> android.support.annotation.LayoutRes;</span><br><span class="line"><span class="keyword">import</span> android.support.annotation.NonNull;</span><br><span class="line"><span class="keyword">import</span> android.support.annotation.Nullable;</span><br><span class="line"><span class="keyword">import</span> android.view.LayoutInflater;</span><br><span class="line"><span class="keyword">import</span> android.view.View;</span><br><span class="line"><span class="keyword">import</span> android.view.ViewGroup;</span><br><span class="line"><span class="keyword">import</span> android.widget.ArrayAdapter;</span><br><span class="line"><span class="keyword">import</span> android.widget.ImageView;</span><br><span class="line"><span class="keyword">import</span> android.widget.TextView;</span><br><span class="line"><span class="keyword">import</span> com.bumptech.glide.Glide;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TitleAdapter</span> <span class="keyword">extends</span> <span class="title">ArrayAdapter</span>&lt;<span class="title">Title</span>&gt; </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> resourceId;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">TitleAdapter</span><span class="params">(@NonNull Context context, @LayoutRes <span class="keyword">int</span> resource, @NonNull List&lt;Title&gt; objects)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(context, resource, objects);</span><br><span class="line">        resourceId = resource;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@NonNull</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> View <span class="title">getView</span><span class="params">(<span class="keyword">int</span> position, @Nullable View convertView, @NonNull ViewGroup parent)</span> </span>&#123;</span><br><span class="line">        Title title = getItem(position);</span><br><span class="line">        View view;</span><br><span class="line">        ViewHolder viewHolder;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (convertView == <span class="keyword">null</span>)&#123;</span><br><span class="line">            view = LayoutInflater.from(getContext()).inflate(resourceId,parent,<span class="keyword">false</span>);</span><br><span class="line">            viewHolder = <span class="keyword">new</span> ViewHolder();</span><br><span class="line">            viewHolder.titleText = (TextView)view.findViewById(R.id.title_text);</span><br><span class="line">            viewHolder.titlePic = (ImageView) view.findViewById(R.id.title_pic);</span><br><span class="line">            view.setTag(viewHolder);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            view = convertView;</span><br><span class="line">            viewHolder = (ViewHolder) view.getTag();</span><br><span class="line">        &#125;</span><br><span class="line"><span class="comment">//加载照片</span></span><br><span class="line">        Glide.with(getContext()).load(title.getPicSrc()).into(viewHolder.titlePic);</span><br><span class="line">        viewHolder.titleText.setText(title.getTitle());</span><br><span class="line">        <span class="keyword">return</span> view;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ViewHolder</span></span>&#123;</span><br><span class="line">        TextView titleText;</span><br><span class="line">        ImageView titlePic;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>5．在MainActivity中添加一个titleList和adapter成员，如图10</p><p><img src="https://s2.ax1x.com/2019/10/31/Ko4ztg.png" alt="Ko4ztg.png"></p><p><img src="https://s2.ax1x.com/2019/10/31/Ko4j78.png" alt="Ko4j78.png"></p><p>图10 titleList和adapter成员</p><p>6.在MainActivity中添加一个request函数，封装http请求，当服务器返回数据后，它将JSON数据转换为News对象放入List中，并且设置TitleList供TitleAdapter使用(见Response回调函数)。注意：address变量为请求的服务器地址，本实验服务器地址支持以下三个，同学们可以随意选择一个：</p><p><img src="https://s2.ax1x.com/2019/10/31/Ko4xAS.png" alt="Ko4xAS.png"></p><p><img src="https://s2.ax1x.com/2019/10/31/Ko5ShQ.png" alt="Ko5ShQ.png"></p><p>尝试了</p><p><a href="http://10.199.105.121:8800/api/news/world" target="_blank" rel="noopener">http://10.199.105.121:8800/api/news/world</a></p><p><a href="http://10.199.105.121:8800/api/news/money" target="_blank" rel="noopener">http://10.199.105.121:8800/api/news/money</a></p><p>PS.服务器使用的是海洋大学内网地址，宿舍网络和手机需要使用SSL VPN连接。由于服务器丢包严重（学校网络问题），可能会有数据获取不到的情况，过段时间应该就会好的</p><p>详细代码如下：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">requestNew</span><span class="params">()</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 根据返回到的 URL 链接进行申请和返回数据</span></span><br><span class="line">    String address = <span class="string">"http://10.199.105.121:8800/api/news/domestic"</span>;</span><br><span class="line">    HttpUtil.sendOkHttpRequest(address, <span class="keyword">new</span> Callback() &#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onFailure</span><span class="params">(Call call, <span class="keyword">final</span> IOException e)</span> </span>&#123;</span><br><span class="line">            runOnUiThread(<span class="keyword">new</span> Runnable() &#123;</span><br><span class="line">                <span class="meta">@Override</span></span><br><span class="line">                <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                    Toast.makeText(MainActivity.<span class="keyword">this</span>, e.getMessage(), Toast.LENGTH_SHORT).show();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onResponse</span><span class="params">(Call call, Response response)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">            <span class="keyword">final</span> String responseText = response.body().string();</span><br><span class="line">            <span class="comment">/**</span></span><br><span class="line"><span class="comment">             * 将json数据解析为newlist对象</span></span><br><span class="line"><span class="comment">             */</span></span><br><span class="line">            <span class="keyword">final</span> NewsList newlist = Utility.parseJsonWithGson(responseText);</span><br><span class="line"></span><br><span class="line">                titleList.clear();</span><br><span class="line">                <span class="keyword">for</span> (News news:newlist.newsList)&#123;</span><br><span class="line">                    Title title = <span class="keyword">new</span> Title(news.Title,news.PicSrc,news.Link);</span><br><span class="line">                    titleList.add(title);</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                runOnUiThread(<span class="keyword">new</span> Runnable() &#123;</span><br><span class="line">                    <span class="meta">@Override</span></span><br><span class="line">                    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                        adapter.notifyDataSetChanged();</span><br><span class="line">                        listView.setSelection(<span class="number">0</span>);</span><br><span class="line">                        refreshLayout.setRefreshing(<span class="keyword">false</span>);</span><br><span class="line">                    &#125;;</span><br><span class="line">                &#125;);</span><br><span class="line">            &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>7.在MainActivity的OnCreate中添加如下代码：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">refreshLayout = (SwipeRefreshLayout)findViewById(R.id.swipe_layout);</span><br><span class="line">refreshLayout.setColorSchemeColors(getResources().getColor(R.color.colorPrimary));</span><br><span class="line">listView = (ListView)findViewById(R.id.list_view);</span><br><span class="line">adapter = <span class="keyword">new</span> TitleAdapter(<span class="keyword">this</span>,R.layout.list_view_item, titleList);</span><br><span class="line">listView.setAdapter(adapter);</span><br><span class="line">listView.setOnItemClickListener(<span class="keyword">new</span> AdapterView.OnItemClickListener() &#123;</span><br><span class="line">    Intent intent = <span class="keyword">new</span> Intent(MainActivity.<span class="keyword">this</span>,ContentActivity.class);</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onItemClick</span><span class="params">(AdapterView&lt;?&gt; parent, View view, <span class="keyword">int</span> position, <span class="keyword">long</span> id)</span> </span>&#123;</span><br><span class="line">        Title title = titleList.get(position);</span><br><span class="line">        intent.putExtra(<span class="string">"title"</span>,actionBar.getTitle());</span><br><span class="line">        intent.putExtra(<span class="string">"link"</span>,title.getLink());</span><br><span class="line">        startActivity(intent);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 点击回到顶部按钮，回到顶部</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">Button button=findViewById(R.id.rollback);</span><br><span class="line">button.setOnClickListener(<span class="keyword">new</span> View.OnClickListener() &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View view)</span> </span>&#123;</span><br><span class="line">        listView.smoothScrollToPositionFromTop(<span class="number">0</span>,<span class="number">0</span>);   <span class="comment">//可以滑动着到顶部,后边的第一个参数设置要滑动到哪一个item，第二个不用管</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line">refreshLayout.setOnRefreshListener(<span class="keyword">new</span> SwipeRefreshLayout.OnRefreshListener() &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onRefresh</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        refreshLayout.setRefreshing(<span class="keyword">true</span>);</span><br><span class="line">        requestNew();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 向服务器请求数据</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">requestNew();</span><br></pre></td></tr></table></figure><p>8.在ContentActivity的OnCreate函数中加入如下代码：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 得到MainActivity传过来的url和title</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">String uri = getIntent().getStringExtra(<span class="string">"link"</span>);</span><br><span class="line">String title = getIntent().getStringExtra(<span class="string">"title"</span>);</span><br><span class="line">actionBar.setDisplayShowTitleEnabled(<span class="keyword">true</span>);</span><br><span class="line">actionBar.setTitle(title);</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 根据uri加载页面</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">webView.loadUrl(uri);</span><br></pre></td></tr></table></figure><p>9.检查最终项目的结构如图11，构建并在模拟器运行程序，测试功能是否正常。</p><p><img src="https://s2.ax1x.com/2019/10/31/Ko59pj.png" alt="Ko59pj.png"></p><p>图11 项目结构</p><p>思考：</p><p>1.查看项目完整代码（包括AndroidManifest和Gradle脚本），理解项目的结构，学习新的控件的使用方法，掌握OkHttp库的使用。</p><p>2.如果客户端需要登陆才能查看新闻，该如何实现？</p><p>1.控件之前都已经学习过。该实验没有可以学习的控件，通过列表动态新增行的话已经在我的大作业中实现</p><p><img src="https://s2.ax1x.com/2019/10/31/Ko5C1s.png" alt="Ko5C1s.png"></p><p>这个为okhttp工具的前期配置</p><p>TitleAdapter为对布局和实例进行渲染，建立ListView界面与数据之间的桥梁</p><p>contentActivity为对各种控件加以逻辑操作</p><p>2.可以建立一个BaseFragment作为父类，在加载数据前对BaseFragment中的用户登陆情况进行验证。</p><p>自己按照水产新闻对其进行接口解析</p><p><img src="https://s2.ax1x.com/2019/10/31/Ko5kn0.png" alt="Ko5kn0.png"></p><p><a href="http://www.linyujing.club:59017/json" target="_blank" rel="noopener">http://www.linyujing.club:59017/json</a></p><p>换成该外网网址</p><p>String address = “<a href="http://192.168.169.17:5901/json&quot;" target="_blank" rel="noopener">http://192.168.169.17:5901/json&quot;</a>;</p><p>内网地址</p><p><img src="https://s2.ax1x.com/2019/10/31/Ko5iXq.png" alt="Ko5iXq.png"></p><p>json解析结果</p><blockquote style="margin: 2em 0 0;padding: 0.5em 1em;border-left: 3px solid #F44336;background-color: #F5F5F5;list-style: none;"><p> <strong>本文使用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/" target="_blank" rel="noopener">CC BY-NC-SA 3.0 中国大陆</a> 协议许可<br>具体请参见 <a href="https://zyhang8.github.io/agree/" target="_blank" rel="noopener">知识共享协议</a></strong><br> <strong>本文链接：</strong><a href="https://zyhang8.github.io/2019/10/06/android-exp8/" target="_blank" rel="noopener">https://zyhang8.github.io/2019/10/06/android-exp8/</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> android </category>
          
      </categories>
      
      
        <tags>
            
            <tag> android </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>数据存储二：数据库存储</title>
      <link href="/2019/10/05/android-exp7/"/>
      <url>/2019/10/05/android-exp7/</url>
      
        <content type="html"><![CDATA[<h1 id="数据存储二：数据库存储"><a href="#数据存储二：数据库存储" class="headerlink" title="数据存储二：数据库存储"></a>数据存储二：数据库存储</h1><h2 id="实验目的"><a href="#实验目的" class="headerlink" title="实验目的"></a>实验目的</h2><p>1.掌握使用adb访问SQLite的基本命令；<br>2.掌握Android操作系统下对SQLite关系型数据库实现增、删、改、查等基本操作；<br>3.掌握实用ContentProvider共享数据的方法。</p><h2 id="实验内容"><a href="#实验内容" class="headerlink" title="实验内容"></a>实验内容</h2><p>分别使用sqlite3工具和Android代码的方式建立SQLite数据库，数据库名称为staff.db，并建立staff数据表，表内的属性值如下表所示：<br>属性 | 数据类型 |说明<br>:-: | :-: | :-:<br>_id | integer | 主键<br>name | text | 姓名（非空）<br>sex | text | 性别<br>department | text | 所在部门<br>salary | float | 工资</p><p>在完成建立数据库的工作后，编程实现基本的数据库操作功能，包括数据的添加、删除和更新，并尝试将下表中的数据添加到staff表中。<br>_id | name | sex | department | salary<br>:-: | :-: | :-: | :-: | :-:<br>1 | Tom | male | computer | 5400<br>2 | Einstein | male | computer | 4800<br>3 | Lily | female | finance | 5000<br>4 | Warner | male | finance | 5500<br>5 | Napoleon | male | HR | 6000</p><p>最后，建立一个ContentProvider，用来共享新建的数据库，并尝试使用ContentResolver在其它进程中对数据库进行操作。</p><h2 id="实验原理"><a href="#实验原理" class="headerlink" title="实验原理"></a>实验原理</h2><h3 id="一、SQLite数据库"><a href="#一、SQLite数据库" class="headerlink" title="一、SQLite数据库"></a>一、SQLite数据库</h3><p>Android操作系统采用标准SQLite数据库，提供管理数据库相关的API。SQLite数据库与常用PostgresSQL和MySQL一样，是属于RDBMS的一种，但不同的是，SQLite数据库常用到的类有4种：SQLiteOpenHelper，负责创建与打开数据库和版本管理，建立此类时，同时需要建立3个回调（Call Back）方法，分别是创建（onCreat）、更新（onUpdate）和打开（onOpen）；SQLiteDataBase类管理数据库本体，提供添加（Insert）、更新（Update）、删除（Delete）、检索（Query）、执行SQL指令和其他管理数据库的功能；SQLiteCursor，表示当检索（Query）数据库时，指示到查询结果的初始位置；ContentValues，用来存储和保持表中的某行的相关数据，提供添加（Insert）、更新（Update）和删除（Delete）功能。<br>首先，利用SQLiteOpenHelper类来创建与打开数据库，建立此类时，同时需要建立3个Call Back方法，分别是创建onCreat()、更新onUpdate()和打开onOpen()。但是，SQLiteOpenHelper类并没有实际上创建与打开数据库，仅仅保持和数据接连的管道，还需要在SQLiteOpenHelper类上调用getWriteableDatabase()或getReadableDatabase()方法才会得到数据库SQLiteOpen类。</p><h3 id="二、Content-Providers"><a href="#二、Content-Providers" class="headerlink" title="二、Content Providers"></a>二、Content Providers</h3><p>一般计算机所使用的操作系统大都会提供共享文件机制，让应用程序彼此间可以存储和访问文件，数据可以相互共享。Android操作系统所采用的方法是不同的，在Android操作系统中，所有应用程序的数据和文件都是属于该应用程序所私有的。但是Android操作系统通过提供内容提供器（Content Providers）方法来公开数据，可以公开数据到数据内容容器内，其他应用程序经过授权可以读取。数据内容提供器的数据类型可以是图像（Image）、音频（Audio）、视频（Video）和个人通讯薄（Personal Content Information）。Content Providers 为存储和获取数据提供了统一的接口，使得在不同的应用程序之间可以共享数据。调用Content Providers可以访问这些数据库，而不用关心存储的细节。内容提供器是应用程序的一个可选的机制，它提供标准语法来读取和写入数据。<br>实现内容提供器和实现SQLite数据库有什么不同呢？应用程序实现SQLite数据库时，由应用程序直接和数据库接口，所以在应用程序中需要实现SQLite的接口db.onCreate()、db.insert ()、db.update()、db.delete()、db.query()和db.close()，而实现内容提供器时，在应用程序和数据库之间要实现一个Content Providers程序，这个Content Providers程序会直接和数据库接口，此时应用程序需要实现和Content Providers程序接口的方法。<br>建立内容提供器的实现，要先完成以下3项工作：建立一个系统来存储数据，大部分内容提供器（Content Providers）采用Android文件存储方法或以SQLite数据库来管理；继承ContentProvider类来读取数据，要读取数据的应用程序要通过ContentResolver和Cursor类来实现；在要读取数据的应用程序的AndroidManifest.XML配置文件内声明一个公开的URI。<br>实验步骤：<br>要求：<br>1）可以参考教材上的例子，但一定不要直接拷贝；<br>2）将实验代码和运行效果截图放在实验报告中提交。</p><h4 id="1-使用adb手工创建数据库。"><a href="#1-使用adb手工创建数据库。" class="headerlink" title="1.使用adb手工创建数据库。"></a>1.使用adb手工创建数据库。</h4><p>使用adb shell连接到模拟器，并使用sqlite3工具创建一个名为Staff.db（注意大小写）的数据库，并建立一个名为“Staffinfo”的表（可以使用sql插入部分数据）。建立好的Staff.db如下图所示。<br><img src="https://s2.ax1x.com/2019/06/02/VG7Gh8.png" alt="VG7Gh8.png"></p><h4 id="2-创建应用程序并在应用程序中创建数据库并实现添加、修改、删除、查询数据。"><a href="#2-创建应用程序并在应用程序中创建数据库并实现添加、修改、删除、查询数据。" class="headerlink" title="2.创建应用程序并在应用程序中创建数据库并实现添加、修改、删除、查询数据。"></a>2.创建应用程序并在应用程序中创建数据库并实现添加、修改、删除、查询数据。</h4><p><img src="https://s2.ax1x.com/2019/06/02/VG7Y9S.png" alt="VG7Y9S.png"></p><h4 id="3-在应用程序中创建一个名为“StaffProvider”的ContentProvider，对外提供对Staff数据库的查询、插入、更新和删除操作"><a href="#3-在应用程序中创建一个名为“StaffProvider”的ContentProvider，对外提供对Staff数据库的查询、插入、更新和删除操作" class="headerlink" title="3.在应用程序中创建一个名为“StaffProvider”的ContentProvider，对外提供对Staff数据库的查询、插入、更新和删除操作"></a>3.在应用程序中创建一个名为“StaffProvider”的ContentProvider，对外提供对Staff数据库的查询、插入、更新和删除操作</h4><h4 id="4-新建一个包含Activity的项目，在项目中调用步骤3的接口，实现数据查询的功能。如下图所示。"><a href="#4-新建一个包含Activity的项目，在项目中调用步骤3的接口，实现数据查询的功能。如下图所示。" class="headerlink" title="4.新建一个包含Activity的项目，在项目中调用步骤3的接口，实现数据查询的功能。如下图所示。"></a>4.新建一个包含Activity的项目，在项目中调用步骤3的接口，实现数据查询的功能。如下图所示。</h4><p><img src="https://s2.ax1x.com/2019/06/02/VG78tf.png" alt="VG78tf.png"></p><h2 id="程序一源代码"><a href="#程序一源代码" class="headerlink" title="程序一源代码"></a>程序一源代码</h2><p>DisplayActivity.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.greendaodemo.activity;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.content.Context;</span><br><span class="line"><span class="keyword">import</span> android.os.Bundle;</span><br><span class="line"><span class="keyword">import</span> android.support.annotation.Nullable;</span><br><span class="line"><span class="keyword">import</span> android.support.v7.app.AppCompatActivity;</span><br><span class="line"><span class="keyword">import</span> android.widget.ListView;</span><br><span class="line"><span class="keyword">import</span> com.example.greendaodemo.R;</span><br><span class="line"><span class="keyword">import</span> com.example.greendaodemo.adapter.UserAdapter;</span><br><span class="line"><span class="keyword">import</span> com.example.greendaodemo.app.DaoApp;</span><br><span class="line"><span class="keyword">import</span> com.example.greendaodemo.sqlit.entity.Users;</span><br><span class="line"><span class="keyword">import</span> com.example.greendaodemo.sqlit.entity.UsersDao;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Created by Administrator on 2019/6/3.</span></span><br><span class="line"><span class="comment"> * Copyright (c) 2019 . All rights reserved.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DisplayActivity</span> <span class="keyword">extends</span> <span class="title">AppCompatActivity</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Context mContext;</span><br><span class="line">    <span class="keyword">private</span> List&lt;Users&gt; mDataList;</span><br><span class="line">    <span class="keyword">private</span> ListView mListView;</span><br><span class="line">    <span class="keyword">private</span> UserAdapter mAdapter;</span><br><span class="line">    <span class="keyword">private</span> UsersDao mUsersDao;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(@Nullable Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">        setContentView(R.layout.activity_display);</span><br><span class="line"></span><br><span class="line">        initParamsAndValues();</span><br><span class="line"></span><br><span class="line">        initViews();</span><br><span class="line"></span><br><span class="line">        initData();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">initParamsAndValues</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        mContext = <span class="keyword">this</span>;</span><br><span class="line">        DaoApp daoApp = (DaoApp) getApplication();</span><br><span class="line">        mUsersDao = daoApp.getDaoSession().getUsersDao();</span><br><span class="line"></span><br><span class="line">        mDataList = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        mAdapter = <span class="keyword">new</span> UserAdapter(mContext, mDataList);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">initViews</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        mListView = findViewById(R.id.listview);</span><br><span class="line">        mListView.setAdapter(mAdapter);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">initData</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">final</span> List&lt;Users&gt; list = mUsersDao.queryBuilder()</span><br><span class="line">                .build().list();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (list != <span class="keyword">null</span> &amp;&amp; !list.isEmpty()) &#123;</span><br><span class="line">            mDataList.addAll(list);</span><br><span class="line">            mAdapter.notifyDataSetChanged();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>MainActivity.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.greendaodemo.activity;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.content.Context;</span><br><span class="line"><span class="keyword">import</span> android.content.Intent;</span><br><span class="line"><span class="keyword">import</span> android.support.v7.app.AppCompatActivity;</span><br><span class="line"><span class="keyword">import</span> android.os.Bundle;</span><br><span class="line"><span class="keyword">import</span> android.text.TextUtils;</span><br><span class="line"><span class="keyword">import</span> android.view.View;</span><br><span class="line"><span class="keyword">import</span> android.widget.EditText;</span><br><span class="line"><span class="keyword">import</span> android.widget.Toast;</span><br><span class="line"><span class="keyword">import</span> android.widget.TextView;</span><br><span class="line"><span class="keyword">import</span> com.example.greendaodemo.R;</span><br><span class="line"><span class="keyword">import</span> com.example.greendaodemo.app.DaoApp;</span><br><span class="line"><span class="keyword">import</span> com.example.greendaodemo.sqlit.entity.Users;</span><br><span class="line"><span class="keyword">import</span> com.example.greendaodemo.sqlit.entity.UsersDao;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Array;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.Random;  <span class="comment">//一开始看UI以为ID是随机产生……，被坑了</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Package: com.self.user.sharedpreferencesdemo</span></span><br><span class="line"><span class="comment"> * Created by zyh</span></span><br><span class="line"><span class="comment"> * on 2019/6/2</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">AppCompatActivity</span> <span class="keyword">implements</span> <span class="title">View</span>.<span class="title">OnClickListener</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//    Random r=new Random();</span></span><br><span class="line">    <span class="keyword">private</span> Context mContext;</span><br><span class="line">    <span class="keyword">private</span> DaoApp mDaoApp;</span><br><span class="line">    <span class="keyword">private</span> TextView tv;</span><br><span class="line">    <span class="keyword">private</span> UsersDao mUsersDao;</span><br><span class="line">    <span class="comment">//    long l1=r.nextLong();    //生成一个随机长整型值</span></span><br><span class="line">    <span class="keyword">private</span> EditText mNameEt;</span><br><span class="line">    <span class="keyword">private</span> EditText mSexEt;</span><br><span class="line">    <span class="keyword">private</span> EditText mSalaryEt;</span><br><span class="line">    <span class="keyword">private</span> EditText mDepartmentEt;</span><br><span class="line">    <span class="keyword">private</span> EditText mIdEt;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">        setContentView(R.layout.activity_main);</span><br><span class="line"></span><br><span class="line">        initParamsAndValues();</span><br><span class="line"></span><br><span class="line">        initViews();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">initParamsAndValues</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        mContext = <span class="keyword">this</span>;</span><br><span class="line">        mDaoApp = (DaoApp) getApplication();</span><br><span class="line">        mUsersDao = mDaoApp.getDaoSession().getUsersDao();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">initViews</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        findViewById(R.id.btn_add).setOnClickListener(<span class="keyword">this</span>);</span><br><span class="line">        findViewById(R.id.btn_display).setOnClickListener(<span class="keyword">this</span>);</span><br><span class="line">        findViewById(R.id.btn_delete_all).setOnClickListener(<span class="keyword">this</span>);</span><br><span class="line">        findViewById(R.id.btn_delete_id).setOnClickListener(<span class="keyword">this</span>);</span><br><span class="line">        findViewById(R.id.btn_search_id).setOnClickListener(<span class="keyword">this</span>);</span><br><span class="line">        findViewById(R.id.btn_update_id).setOnClickListener(<span class="keyword">this</span>);</span><br><span class="line"></span><br><span class="line">        mNameEt = findViewById(R.id.et_name);</span><br><span class="line">        mSexEt = findViewById(R.id.et_sex);</span><br><span class="line">        mSalaryEt = findViewById(R.id.et_salary);</span><br><span class="line">        mDepartmentEt = findViewById(R.id.et_department);</span><br><span class="line">        mIdEt = findViewById(R.id.et_id);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View v)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">switch</span> (v.getId()) &#123;</span><br><span class="line">            <span class="keyword">case</span> R.id.btn_add:</span><br><span class="line">                addUserToDb();</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> R.id.btn_display:</span><br><span class="line">                Intent intent = <span class="keyword">new</span> Intent(mContext, DisplayActivity.class);</span><br><span class="line">                startActivity(intent);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> R.id.btn_delete_all:</span><br><span class="line">                Toast.makeText(mContext, <span class="string">"删除成功"</span>, Toast.LENGTH_SHORT).show();</span><br><span class="line">                deleteUserToDb();</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> R.id.btn_delete_id:</span><br><span class="line">                deleteIdUserToDb(Long.parseLong(mIdEt.getText().toString().trim()));</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> R.id.btn_search_id:</span><br><span class="line"><span class="comment">//                List&lt;Users&gt; list1 = mUsersDao.queryBuilder().where(UsersDao.Properties.Id.eq("1")).list();</span></span><br><span class="line">                Intent intent1 = <span class="keyword">new</span> Intent();</span><br><span class="line">                intent1.setClass(mContext, SearchActivity.class);</span><br><span class="line">                <span class="comment">// 创建一个Bundle对象</span></span><br><span class="line"><span class="comment">//                Bundle data = new Bundle();</span></span><br><span class="line"><span class="comment">//                data.putSerializable("data", (Serializable)list1);</span></span><br><span class="line">                intent1.putExtra(<span class="string">"data"</span>, mIdEt.getText().toString().trim());</span><br><span class="line">                startActivity(intent1);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> R.id.btn_update_id:</span><br><span class="line">                updateIdUserToDb();</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 添加记录</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">addUserToDb</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">final</span> Users users = <span class="keyword">new</span> Users();</span><br><span class="line">        users.setName(mNameEt.getText().toString().trim());</span><br><span class="line">        users.setSex(mSexEt.getText().toString().trim());</span><br><span class="line">        users.setSalary(mSalaryEt.getText().toString().trim());</span><br><span class="line">        users.setDepartment(mDepartmentEt.getText().toString().trim());</span><br><span class="line">        users.setId(Long.parseLong(mIdEt.getText().toString().trim()));</span><br><span class="line">        <span class="keyword">if</span> (TextUtils.isEmpty(users.getName()) | TextUtils.isEmpty(users.getId().toString())) &#123;</span><br><span class="line">            Toast.makeText(mContext, <span class="string">"添加失败"</span>, Toast.LENGTH_SHORT).show();</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            Toast.makeText(mContext, <span class="string">"添加成功"</span>, Toast.LENGTH_SHORT).show();</span><br><span class="line">            mUsersDao.insert(users);</span><br><span class="line">            mNameEt.getText().clear();</span><br><span class="line">            mSexEt.getText().clear();</span><br><span class="line">            mSalaryEt.getText().clear();</span><br><span class="line">            mDepartmentEt.getText().clear();</span><br><span class="line">            mIdEt.getText().clear();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> !TextUtils.isEmpty(users.getName());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 删除全部记录</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">deleteUserToDb</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        mUsersDao.deleteAll();</span><br><span class="line">        Toast.makeText(mContext, <span class="string">"删除成功"</span>, Toast.LENGTH_SHORT).show();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 根据ID删除</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">deleteIdUserToDb</span><span class="params">(<span class="keyword">long</span> id)</span> </span>&#123;</span><br><span class="line">        mUsersDao.deleteByKey(id);</span><br><span class="line">        Toast.makeText(mContext, <span class="string">"删除成功"</span>, Toast.LENGTH_SHORT).show();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 根据ID更新</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">updateIdUserToDb</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        Long id = Long.valueOf(mIdEt.getText().toString().trim());</span><br><span class="line"></span><br><span class="line">        <span class="keyword">final</span> Users users = mUsersDao.load(id);</span><br><span class="line">        users.setName(mNameEt.getText().toString().trim());</span><br><span class="line">        users.setSex(mSexEt.getText().toString().trim());</span><br><span class="line">        users.setSalary(mSalaryEt.getText().toString().trim());</span><br><span class="line">        users.setDepartment(mDepartmentEt.getText().toString().trim());</span><br><span class="line">        mUsersDao.update(users);</span><br><span class="line">        mNameEt.getText().clear();</span><br><span class="line">        mSexEt.getText().clear();</span><br><span class="line">        mSalaryEt.getText().clear();</span><br><span class="line">        mDepartmentEt.getText().clear();</span><br><span class="line">        mIdEt.getText().clear();</span><br><span class="line">        mUsersDao.update(users);</span><br><span class="line">        Toast.makeText(mContext, <span class="string">"更新成功"</span>, Toast.LENGTH_SHORT).show();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>SearchActivity.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.greendaodemo.activity;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.content.Context;</span><br><span class="line"><span class="keyword">import</span> android.support.annotation.Nullable;</span><br><span class="line"><span class="keyword">import</span> android.support.v7.app.AppCompatActivity;</span><br><span class="line"><span class="keyword">import</span> android.os.Bundle;</span><br><span class="line"><span class="keyword">import</span> android.widget.ListView;</span><br><span class="line"><span class="keyword">import</span> android.content.Intent;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.example.greendaodemo.R;</span><br><span class="line"><span class="keyword">import</span> com.example.greendaodemo.adapter.UserAdapter;</span><br><span class="line"><span class="keyword">import</span> com.example.greendaodemo.app.DaoApp;</span><br><span class="line"><span class="keyword">import</span> com.example.greendaodemo.sqlit.entity.Users;</span><br><span class="line"><span class="keyword">import</span> com.example.greendaodemo.sqlit.entity.UsersDao;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Created by Administrator on 2019/6/3.</span></span><br><span class="line"><span class="comment"> * Copyright (c) 2019 . All rights reserved.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SearchActivity</span> <span class="keyword">extends</span> <span class="title">AppCompatActivity</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Context mContext;</span><br><span class="line">    <span class="keyword">private</span> List&lt;Users&gt; mDataList;</span><br><span class="line">    <span class="keyword">private</span> ListView mListView;</span><br><span class="line">    <span class="keyword">private</span> UserAdapter mAdapter;</span><br><span class="line">    <span class="keyword">private</span> UsersDao mUsersDao;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(@Nullable Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">        setContentView(R.layout.activity_display);</span><br><span class="line">        initParamsAndValues();</span><br><span class="line"></span><br><span class="line">        initViews();</span><br><span class="line"></span><br><span class="line">        initData();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">initParamsAndValues</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        mContext = <span class="keyword">this</span>;</span><br><span class="line">        DaoApp daoApp = (DaoApp) getApplication();</span><br><span class="line">        mUsersDao = daoApp.getDaoSession().getUsersDao();</span><br><span class="line"></span><br><span class="line">        mDataList = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        mAdapter = <span class="keyword">new</span> UserAdapter(mContext, mDataList);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">initViews</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        mListView = findViewById(R.id.listview);</span><br><span class="line">        mListView.setAdapter(mAdapter);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">initData</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        Intent intent = getIntent();</span><br><span class="line">        Bundle bundle = intent.getExtras();<span class="comment">//.getExtras()得到intent所附带的额外数据</span></span><br><span class="line">        String data_id = bundle.getString(<span class="string">"data"</span>);<span class="comment">//getString()返回指定key的值</span></span><br><span class="line">        <span class="keyword">final</span> List&lt;Users&gt; list = mUsersDao.queryBuilder().where(UsersDao.Properties.Id.eq(data_id)).list();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (list != <span class="keyword">null</span> &amp;&amp; !list.isEmpty()) &#123;</span><br><span class="line">            mDataList.addAll(list);</span><br><span class="line">            mAdapter.notifyDataSetChanged();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>UserAdapter.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.greendaodemo.adapter;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.content.Context;</span><br><span class="line"><span class="keyword">import</span> android.support.v7.widget.RecyclerView;</span><br><span class="line"><span class="keyword">import</span> android.view.LayoutInflater;</span><br><span class="line"><span class="keyword">import</span> android.view.View;</span><br><span class="line"><span class="keyword">import</span> android.view.ViewGroup;</span><br><span class="line"><span class="keyword">import</span> android.widget.BaseAdapter;</span><br><span class="line"><span class="keyword">import</span> android.widget.TextView;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.example.greendaodemo.R;</span><br><span class="line"><span class="keyword">import</span> com.example.greendaodemo.sqlit.entity.Users;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Created by Administrator on 2019/6/3.</span></span><br><span class="line"><span class="comment"> * Copyright (c) 2019 . All rights reserved.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserAdapter</span> <span class="keyword">extends</span> <span class="title">BaseAdapter</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> List&lt;Users&gt; mDataList;</span><br><span class="line">    <span class="keyword">private</span> Context mContext;</span><br><span class="line">    <span class="keyword">private</span> LayoutInflater mLayoutInflater;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">UserAdapter</span><span class="params">(Context context, List&lt;Users&gt; dataList)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.mDataList = dataList;</span><br><span class="line">        <span class="keyword">this</span>.mContext = context;</span><br><span class="line">        mLayoutInflater = LayoutInflater.from(mContext);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getCount</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> mDataList.size();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Users <span class="title">getItem</span><span class="params">(<span class="keyword">int</span> position)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> mDataList.get(position);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">long</span> <span class="title">getItemId</span><span class="params">(<span class="keyword">int</span> position)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> position;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> View <span class="title">getView</span><span class="params">(<span class="keyword">int</span> position, View convertView, ViewGroup parent)</span> </span>&#123;</span><br><span class="line">        ViewHolder holder;</span><br><span class="line">        <span class="keyword">if</span> (convertView == <span class="keyword">null</span>) &#123;</span><br><span class="line">            convertView = mLayoutInflater.inflate(R.layout.layout_list_item, <span class="keyword">null</span>);</span><br><span class="line">            holder = <span class="keyword">new</span> ViewHolder();</span><br><span class="line"></span><br><span class="line">            holder.name = convertView.findViewById(R.id.tv_item_name);</span><br><span class="line">            holder.sex = convertView.findViewById(R.id.tv_item_sex);</span><br><span class="line">            holder.salary = convertView.findViewById(R.id.tv_item_salary);</span><br><span class="line">            holder.department = convertView.findViewById(R.id.tv_item_department);</span><br><span class="line">            holder.id = convertView.findViewById(R.id.tv_item_id);</span><br><span class="line">            convertView.setTag(holder);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            holder = (ViewHolder) convertView.getTag();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        Users users = getItem(position);</span><br><span class="line">        holder.name.setText(mContext.getString(R.string.main_user_name_, users.getName()));</span><br><span class="line">        holder.sex.setText(mContext.getString(R.string.main_user_sex_, users.getSex()));</span><br><span class="line">        holder.salary.setText(mContext.getString(R.string.main_user_salary_, users.getSalary()));</span><br><span class="line">        holder.department.setText(mContext.getString(R.string.main_user_department_, users.getDepartment()));</span><br><span class="line">        holder.id.setText(mContext.getString(R.string.main_user_id_, String.valueOf(users.getId())));</span><br><span class="line">        <span class="keyword">return</span> convertView;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="class"><span class="keyword">class</span> <span class="title">ViewHolder</span> </span>&#123;</span><br><span class="line">        <span class="keyword">private</span> TextView name;</span><br><span class="line">        <span class="keyword">private</span> TextView sex;</span><br><span class="line">        <span class="keyword">private</span> TextView department;</span><br><span class="line">        <span class="keyword">private</span> TextView salary;</span><br><span class="line">        <span class="keyword">private</span> TextView id;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>DaoApp.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.greendaodemo.app;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.app.Application;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.example.greendaodemo.sqlit.entity.DaoMaster;</span><br><span class="line"><span class="keyword">import</span> com.example.greendaodemo.sqlit.entity.DaoSession;</span><br><span class="line"><span class="keyword">import</span> com.example.greendaodemo.sqlit.helper.SQLiteDBOpenHelper;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.greenrobot.greendao.database.Database;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Created by Administrator on 2019/6/3.</span></span><br><span class="line"><span class="comment"> * Copyright (c) 2019 . All rights reserved.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DaoApp</span> <span class="keyword">extends</span> <span class="title">Application</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> DaoSession mDaoSession;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onCreate();</span><br><span class="line"></span><br><span class="line">        configureDb(<span class="keyword">this</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">configureDb</span><span class="params">(DaoApp daoApp)</span> </span>&#123;</span><br><span class="line">        SQLiteDBOpenHelper helper = <span class="keyword">new</span> SQLiteDBOpenHelper(<span class="keyword">this</span>, <span class="string">"test_db"</span>);</span><br><span class="line">        Database db = helper.getWritableDb();</span><br><span class="line">        mDaoSession = <span class="keyword">new</span> DaoMaster(db).newSession();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> DaoSession <span class="title">getDaoSession</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> mDaoSession;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Users.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.greendaodemo.app;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.app.Application;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.example.greendaodemo.sqlit.entity.DaoMaster;</span><br><span class="line"><span class="keyword">import</span> com.example.greendaodemo.sqlit.entity.DaoSession;</span><br><span class="line"><span class="keyword">import</span> com.example.greendaodemo.sqlit.helper.SQLiteDBOpenHelper;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.greenrobot.greendao.database.Database;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Created by Administrator on 2019/6/3.</span></span><br><span class="line"><span class="comment"> * Copyright (c) 2019 . All rights reserved.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DaoApp</span> <span class="keyword">extends</span> <span class="title">Application</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> DaoSession mDaoSession;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onCreate();</span><br><span class="line"></span><br><span class="line">        configureDb(<span class="keyword">this</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">configureDb</span><span class="params">(DaoApp daoApp)</span> </span>&#123;</span><br><span class="line">        SQLiteDBOpenHelper helper = <span class="keyword">new</span> SQLiteDBOpenHelper(<span class="keyword">this</span>, <span class="string">"test_db"</span>);</span><br><span class="line">        Database db = helper.getWritableDb();</span><br><span class="line">        mDaoSession = <span class="keyword">new</span> DaoMaster(db).newSession();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> DaoSession <span class="title">getDaoSession</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> mDaoSession;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>MigrationHelper.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.greendaodemo.sqlit.helper;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.database.Cursor;</span><br><span class="line"><span class="keyword">import</span> android.database.SQLException;</span><br><span class="line"><span class="keyword">import</span> android.database.sqlite.SQLiteDatabase;</span><br><span class="line"><span class="keyword">import</span> android.support.annotation.NonNull;</span><br><span class="line"><span class="keyword">import</span> android.text.TextUtils;</span><br><span class="line"><span class="keyword">import</span> android.util.Log;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.greenrobot.greendao.AbstractDao;</span><br><span class="line"><span class="keyword">import</span> org.greenrobot.greendao.database.Database;</span><br><span class="line"><span class="keyword">import</span> org.greenrobot.greendao.database.StandardDatabase;</span><br><span class="line"><span class="keyword">import</span> org.greenrobot.greendao.internal.DaoConfig;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.InvocationTargetException;</span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Method;</span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * please call &#123;<span class="doctag">@link</span> #migrate(SQLiteDatabase, Class[])&#125;</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">MigrationHelper</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">boolean</span> DEBUG = <span class="keyword">false</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> String TAG = <span class="string">"MigrationHelper"</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">migrate</span><span class="params">(SQLiteDatabase db, Class&lt;? extends AbstractDao&lt;?, ?&gt;&gt;... daoClasses)</span> </span>&#123;</span><br><span class="line">        Database database = <span class="keyword">new</span> StandardDatabase(db);</span><br><span class="line">        Log.i(<span class="string">"tag"</span>,<span class="string">"状态："</span>+DEBUG);</span><br><span class="line">        <span class="keyword">if</span> (DEBUG) &#123;</span><br><span class="line">            Log.d(TAG, <span class="string">"【Database Version】"</span> + db.getVersion());</span><br><span class="line">            Log.d(TAG, <span class="string">"【Generate temp table】start"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        generateTempTables(database, daoClasses);</span><br><span class="line">        <span class="keyword">if</span> (DEBUG) &#123;</span><br><span class="line">            Log.d(TAG, <span class="string">"【Generate temp table】complete"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        dropAllTables(database, <span class="keyword">true</span>, daoClasses);</span><br><span class="line">        createAllTables(database, <span class="keyword">false</span>, daoClasses);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (DEBUG) &#123;</span><br><span class="line">            Log.d(TAG, <span class="string">"【Restore data】start"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        restoreData(database, daoClasses);</span><br><span class="line">        <span class="keyword">if</span> (DEBUG) &#123;</span><br><span class="line">            Log.d(TAG, <span class="string">"【Restore data】complete"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">generateTempTables</span><span class="params">(Database db, Class&lt;? extends AbstractDao&lt;?, ?&gt;&gt;... daoClasses)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; daoClasses.length; i++) &#123;</span><br><span class="line">            String tempTableName = <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                DaoConfig daoConfig = <span class="keyword">new</span> DaoConfig(db, daoClasses[i]);</span><br><span class="line">                String tableName = daoConfig.tablename;</span><br><span class="line">                tempTableName = daoConfig.tablename.concat(<span class="string">"_TEMP"</span>);</span><br><span class="line"></span><br><span class="line">                StringBuilder dropTableStringBuilder = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">                dropTableStringBuilder.append(<span class="string">"DROP TABLE IF EXISTS "</span>).append(tempTableName).append(<span class="string">";"</span>);</span><br><span class="line">                db.execSQL(dropTableStringBuilder.toString());</span><br><span class="line"></span><br><span class="line">                StringBuilder insertTableStringBuilder = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">                insertTableStringBuilder.append(<span class="string">"CREATE TEMPORARY TABLE "</span>).append(tempTableName);</span><br><span class="line">                insertTableStringBuilder.append(<span class="string">" AS SELECT * FROM "</span>).append(tableName).append(<span class="string">";"</span>);</span><br><span class="line">                db.execSQL(insertTableStringBuilder.toString());</span><br><span class="line">                <span class="keyword">if</span> (DEBUG) &#123;</span><br><span class="line">                    Log.d(TAG, <span class="string">"【Table】"</span> + tableName +<span class="string">"\n ---Columns--&gt;"</span>+getColumnsStr(daoConfig));</span><br><span class="line">                    Log.d(TAG, <span class="string">"【Generate temp table】"</span> + tempTableName);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">                Log.e(TAG, <span class="string">"【Failed to generate temp table】"</span> + tempTableName, e);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> String <span class="title">getColumnsStr</span><span class="params">(DaoConfig daoConfig)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (daoConfig == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">"no columns"</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        StringBuilder builder = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; daoConfig.allColumns.length; i++) &#123;</span><br><span class="line">            builder.append(daoConfig.allColumns[i]);</span><br><span class="line">            builder.append(<span class="string">","</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (builder.length() &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            builder.deleteCharAt(builder.length() - <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> builder.toString();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">dropAllTables</span><span class="params">(Database db, <span class="keyword">boolean</span> ifExists, @NonNull Class&lt;? extends AbstractDao&lt;?, ?&gt;&gt;... daoClasses)</span> </span>&#123;</span><br><span class="line">        reflectMethod(db, <span class="string">"dropTable"</span>, ifExists, daoClasses);</span><br><span class="line">        <span class="keyword">if</span> (DEBUG) &#123;</span><br><span class="line">            Log.d(TAG, <span class="string">"【Drop all table】"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">createAllTables</span><span class="params">(Database db, <span class="keyword">boolean</span> ifNotExists, @NonNull Class&lt;? extends AbstractDao&lt;?, ?&gt;&gt;... daoClasses)</span> </span>&#123;</span><br><span class="line">        reflectMethod(db, <span class="string">"createTable"</span>, ifNotExists, daoClasses);</span><br><span class="line">        <span class="keyword">if</span> (DEBUG) &#123;</span><br><span class="line">            Log.d(TAG, <span class="string">"【Create all table】"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * dao class already define the sql exec method, so just invoke it</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">reflectMethod</span><span class="params">(Database db, String methodName, <span class="keyword">boolean</span> isExists, @NonNull Class&lt;? extends AbstractDao&lt;?, ?&gt;&gt;... daoClasses)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (daoClasses.length &lt; <span class="number">1</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">for</span> (Class cls : daoClasses) &#123;</span><br><span class="line">                Method method = cls.getDeclaredMethod(methodName, Database.class, <span class="keyword">boolean</span>.class);</span><br><span class="line">                method.invoke(<span class="keyword">null</span>, db, isExists);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (NoSuchMethodException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InvocationTargetException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IllegalAccessException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">restoreData</span><span class="params">(Database db, Class&lt;? extends AbstractDao&lt;?, ?&gt;&gt;... daoClasses)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; daoClasses.length; i++) &#123;</span><br><span class="line">            String tempTableName = <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                DaoConfig daoConfig = <span class="keyword">new</span> DaoConfig(db, daoClasses[i]);</span><br><span class="line">                String tableName = daoConfig.tablename;</span><br><span class="line">                tempTableName = daoConfig.tablename.concat(<span class="string">"_TEMP"</span>);</span><br><span class="line">                <span class="comment">// get all columns from tempTable, take careful to use the columns list</span></span><br><span class="line">                List&lt;String&gt; columns = getColumns(db, tempTableName);</span><br><span class="line">                ArrayList&lt;String&gt; properties = <span class="keyword">new</span> ArrayList&lt;&gt;(columns.size());</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; daoConfig.properties.length; j++) &#123;</span><br><span class="line">                    String columnName = daoConfig.properties[j].columnName;</span><br><span class="line">                    <span class="keyword">if</span> (columns.contains(columnName)) &#123;</span><br><span class="line">                        properties.add(columnName);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (properties.size() &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                    <span class="keyword">final</span> String columnSQL = TextUtils.join(<span class="string">","</span>, properties);</span><br><span class="line"></span><br><span class="line">                    StringBuilder insertTableStringBuilder = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">                    insertTableStringBuilder.append(<span class="string">"INSERT INTO "</span>).append(tableName).append(<span class="string">" ("</span>);</span><br><span class="line">                    insertTableStringBuilder.append(columnSQL);</span><br><span class="line">                    insertTableStringBuilder.append(<span class="string">") SELECT "</span>);</span><br><span class="line">                    insertTableStringBuilder.append(columnSQL);</span><br><span class="line">                    insertTableStringBuilder.append(<span class="string">" FROM "</span>).append(tempTableName).append(<span class="string">";"</span>);</span><br><span class="line">                    db.execSQL(insertTableStringBuilder.toString());</span><br><span class="line">                    <span class="keyword">if</span> (DEBUG) &#123;</span><br><span class="line">                        Log.d(TAG, <span class="string">"【Restore data】 to "</span> + tableName);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                StringBuilder dropTableStringBuilder = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">                dropTableStringBuilder.append(<span class="string">"DROP TABLE "</span>).append(tempTableName);</span><br><span class="line">                db.execSQL(dropTableStringBuilder.toString());</span><br><span class="line">                <span class="keyword">if</span> (DEBUG) &#123;</span><br><span class="line">                    Log.d(TAG, <span class="string">"【Drop temp table】"</span> + tempTableName);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">                Log.e(TAG, <span class="string">"【Failed to restore data from temp table (probably new table)】"</span> + tempTableName, e);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> List&lt;String&gt; <span class="title">getColumns</span><span class="params">(Database db, String tableName)</span> </span>&#123;</span><br><span class="line">        List&lt;String&gt; columns = <span class="keyword">null</span>;</span><br><span class="line">        Cursor cursor = <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            cursor = db.rawQuery(<span class="string">"SELECT * FROM "</span> + tableName + <span class="string">" limit 0"</span>, <span class="keyword">null</span>);</span><br><span class="line">            <span class="keyword">if</span> (<span class="keyword">null</span> != cursor &amp;&amp; cursor.getColumnCount() &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                columns = Arrays.asList(cursor.getColumnNames());</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (cursor != <span class="keyword">null</span>)</span><br><span class="line">                cursor.close();</span><br><span class="line">            <span class="keyword">if</span> (<span class="keyword">null</span> == columns)</span><br><span class="line">                columns = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> columns;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>SQLiteDBOpenHelper</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.greendaodemo.sqlit.helper;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.content.Context;</span><br><span class="line"><span class="keyword">import</span> android.database.sqlite.SQLiteDatabase;</span><br><span class="line"><span class="keyword">import</span> android.util.Log;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.example.greendaodemo.sqlit.entity.DaoMaster;</span><br><span class="line"><span class="keyword">import</span> com.example.greendaodemo.sqlit.entity.UsersDao;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Created by Administrator on 2019/6/3.</span></span><br><span class="line"><span class="comment"> * Copyright (c) 2019 . All rights reserved.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SQLiteDBOpenHelper</span> <span class="keyword">extends</span> <span class="title">DaoMaster</span>.<span class="title">OpenHelper</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">SQLiteDBOpenHelper</span><span class="params">(Context context, String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(context, name);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">SQLiteDBOpenHelper</span><span class="params">(Context context, String name, SQLiteDatabase.CursorFactory factory)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(context, name, factory);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 新建表；增加字段；减少字段</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> db</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> oldVersion</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> newVersion</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onUpgrade</span><span class="params">(SQLiteDatabase db, <span class="keyword">int</span> oldVersion, <span class="keyword">int</span> newVersion)</span> </span>&#123;</span><br><span class="line">        MigrationHelper.DEBUG = <span class="keyword">true</span>;</span><br><span class="line">        MigrationHelper.migrate(db, UsersDao.class);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>activity_display.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">RelativeLayout</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">ListView</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">"@+id/listview"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">RelativeLayout</span>&gt;</span></span><br></pre></td></tr></table></figure><p>activity_main.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">LinearLayout</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:app</span>=<span class="string">"http://schemas.android.com/apk/res-auto"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:tools</span>=<span class="string">"http://schemas.android.com/tools"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:orientation</span>=<span class="string">"vertical"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">tools:context</span>=<span class="string">"com.example.greendaodemo.activity.MainActivity"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--添加信息--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">LinearLayout</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:background</span>=<span class="string">"@color/color_app_bg"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:orientation</span>=<span class="string">"vertical"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">LinearLayout</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:background</span>=<span class="string">"@android:color/white"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:orientation</span>=<span class="string">"horizontal"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:paddingLeft</span>=<span class="string">"@dimen/dp_12"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:paddingRight</span>=<span class="string">"@dimen/dp_12"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:gravity</span>=<span class="string">"center_vertical"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:text</span>=<span class="string">"@string/main_user_name"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:textColor</span>=<span class="string">"@android:color/black"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="tag">&lt;<span class="name">EditText</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:id</span>=<span class="string">"@+id/et_name"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_marginLeft</span>=<span class="string">"@dimen/dp_10"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:hint</span>=<span class="string">"@string/main_hint_name"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:inputType</span>=<span class="string">"text"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:lines</span>=<span class="string">"1"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">LinearLayout</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_marginTop</span>=<span class="string">"@dimen/dp_8"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:background</span>=<span class="string">"@android:color/white"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:orientation</span>=<span class="string">"horizontal"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:paddingLeft</span>=<span class="string">"@dimen/dp_12"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:paddingRight</span>=<span class="string">"@dimen/dp_12"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:gravity</span>=<span class="string">"center_vertical"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:text</span>=<span class="string">"@string/main_user_sex"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:textColor</span>=<span class="string">"@android:color/black"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="tag">&lt;<span class="name">EditText</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:id</span>=<span class="string">"@+id/et_sex"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_marginLeft</span>=<span class="string">"@dimen/dp_10"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:hint</span>=<span class="string">"@string/main_hint_sex"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:inputType</span>=<span class="string">"text"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:lines</span>=<span class="string">"1"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">LinearLayout</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_marginTop</span>=<span class="string">"@dimen/dp_8"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:background</span>=<span class="string">"@android:color/white"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:orientation</span>=<span class="string">"horizontal"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:paddingLeft</span>=<span class="string">"@dimen/dp_12"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:paddingRight</span>=<span class="string">"@dimen/dp_12"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:gravity</span>=<span class="string">"center_vertical"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:text</span>=<span class="string">"@string/main_user_department"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:textColor</span>=<span class="string">"@android:color/black"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="tag">&lt;<span class="name">EditText</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:id</span>=<span class="string">"@+id/et_department"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_marginLeft</span>=<span class="string">"@dimen/dp_10"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:hint</span>=<span class="string">"@string/main_hint_department"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:inputType</span>=<span class="string">"text"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:lines</span>=<span class="string">"1"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">LinearLayout</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_marginTop</span>=<span class="string">"@dimen/dp_8"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:background</span>=<span class="string">"@android:color/white"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:orientation</span>=<span class="string">"horizontal"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:paddingLeft</span>=<span class="string">"@dimen/dp_12"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:paddingRight</span>=<span class="string">"@dimen/dp_12"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:gravity</span>=<span class="string">"center_vertical"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:text</span>=<span class="string">"@string/main_user_salary"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:textColor</span>=<span class="string">"@android:color/black"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="tag">&lt;<span class="name">EditText</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:id</span>=<span class="string">"@+id/et_salary"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_marginLeft</span>=<span class="string">"@dimen/dp_10"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:hint</span>=<span class="string">"@string/main_hint_salary"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:inputType</span>=<span class="string">"text"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:lines</span>=<span class="string">"1"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">LinearLayout</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_marginTop</span>=<span class="string">"@dimen/dp_8"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:background</span>=<span class="string">"@android:color/white"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:orientation</span>=<span class="string">"horizontal"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:paddingLeft</span>=<span class="string">"@dimen/dp_12"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:paddingRight</span>=<span class="string">"@dimen/dp_12"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_width</span>=<span class="string">"42dp"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:gravity</span>=<span class="string">"center_vertical"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:text</span>=<span class="string">"@string/main_user_id"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:textColor</span>=<span class="string">"@android:color/black"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="tag">&lt;<span class="name">EditText</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:id</span>=<span class="string">"@+id/et_id"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_marginLeft</span>=<span class="string">"@dimen/dp_10"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:hint</span>=<span class="string">"@string/main_hint_id"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:inputType</span>=<span class="string">"text"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:lines</span>=<span class="string">"1"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">RelativeLayout</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_gravity</span>=<span class="string">"center_horizontal"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_marginTop</span>=<span class="string">"@dimen/dp_16"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:id</span>=<span class="string">"@+id/btn_add"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:text</span>=<span class="string">"@string/all_add"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:id</span>=<span class="string">"@+id/btn_display"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_marginLeft</span>=<span class="string">"@dimen/dp_16"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_toRightOf</span>=<span class="string">"@+id/btn_add"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:text</span>=<span class="string">"@string/all_display"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">            <span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:id</span>=<span class="string">"@+id/btn_delete_all"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_marginLeft</span>=<span class="string">"@dimen/dp_16"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_toRightOf</span>=<span class="string">"@+id/btn_display"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:text</span>=<span class="string">"@string/all_delete"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">RelativeLayout</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">RelativeLayout</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_gravity</span>=<span class="string">"center_horizontal"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_marginTop</span>=<span class="string">"@dimen/dp_16"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:id</span>=<span class="string">"@+id/btn_delete_id"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:text</span>=<span class="string">"@string/id_delete"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:id</span>=<span class="string">"@+id/btn_search_id"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_marginLeft</span>=<span class="string">"@dimen/dp_16"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_toRightOf</span>=<span class="string">"@+id/btn_delete_id"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:text</span>=<span class="string">"@string/id_search"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">            <span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:id</span>=<span class="string">"@+id/btn_update_id"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_marginLeft</span>=<span class="string">"@dimen/dp_16"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_toRightOf</span>=<span class="string">"@+id/btn_search_id"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:text</span>=<span class="string">"@string/id_update"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;/<span class="name">RelativeLayout</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">ListView</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:id</span>=<span class="string">"@+id/show"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">            /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br></pre></td></tr></table></figure><p>activity_search.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">RelativeLayout</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">ListView</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">"@+id/list_search_view"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">RelativeLayout</span>&gt;</span></span><br></pre></td></tr></table></figure><p>layout_list_item.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">android.support.v7.widget.CardView</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:app</span>=<span class="string">"http://schemas.android.com/apk/res-auto"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:tools</span>=<span class="string">"http://schemas.android.com/tools"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_gravity</span>=<span class="string">"center"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_marginLeft</span>=<span class="string">"@dimen/dp_4"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_marginRight</span>=<span class="string">"@dimen/dp_4"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">app:cardBackgroundColor</span>=<span class="string">"@android:color/white"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">app:cardCornerRadius</span>=<span class="string">"4dp"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">app:cardElevation</span>=<span class="string">"2dp"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">app:cardUseCompatPadding</span>=<span class="string">"true"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">LinearLayout</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:orientation</span>=<span class="string">"vertical"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:padding</span>=<span class="string">"@dimen/dp_8"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">RelativeLayout</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:id</span>=<span class="string">"@+id/tv_item_name"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_centerVertical</span>=<span class="string">"true"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:textColor</span>=<span class="string">"@android:color/black"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">tools:text</span>=<span class="string">"@string/main_user_name_"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="tag">&lt;<span class="name">ImageView</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:id</span>=<span class="string">"@+id/iv_icon"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_alignParentRight</span>=<span class="string">"true"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_marginRight</span>=<span class="string">"@dimen/dp_12"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:src</span>=<span class="string">"@drawable/tm_interfun_ic_avatar_default"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;/<span class="name">RelativeLayout</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:id</span>=<span class="string">"@+id/tv_item_sex"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:paddingTop</span>=<span class="string">"@dimen/dp_4"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">tools:text</span>=<span class="string">"@string/main_user_sex_"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:id</span>=<span class="string">"@+id/tv_item_id"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:paddingTop</span>=<span class="string">"@dimen/dp_8"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">tools:text</span>=<span class="string">"@string/main_user_id_"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:id</span>=<span class="string">"@+id/tv_item_department"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_marginTop</span>=<span class="string">"@dimen/dp_8"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:paddingTop</span>=<span class="string">"@dimen/dp_4"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">tools:text</span>=<span class="string">"@string/main_user_department_"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:id</span>=<span class="string">"@+id/tv_item_salary"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_marginTop</span>=<span class="string">"@dimen/dp_8"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:paddingTop</span>=<span class="string">"@dimen/dp_4"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:scrollHorizontally</span>=<span class="string">"true"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">tools:text</span>=<span class="string">"@string/main_user_salary_"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">android.support.v7.widget.CardView</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="程序一功能简介"><a href="#程序一功能简介" class="headerlink" title="程序一功能简介"></a>程序一功能简介</h2><p><a href="https://imgchr.com/i/VtgkdO" target="_blank" rel="noopener"><img src="https://s2.ax1x.com/2019/06/04/VtgkdO.png" alt="VtgkdO.png"></a></p><p>（中间有一段视频）需要打开html文件进行观看</p><iframe height="498" width="510" src="http://player.youku.com/embed<p>支持六项功能的操作，一开始看到sqlite题目，立马想用ORM完成该实验，后来使用了greenDao框架踩了不少坑后完成</p><p>最后发现需要完成contentProvider内容，而ORM框架与其不能同时兼得，只能使用原声的SQL语句</p><p>而经过网上查询，现在系统使用的contentProvider并不多，不多都是想调用系统数据才实验这个功能，接下来使用contentProviders进行我的实验二</p><h2 id="实验二源代码"><a href="#实验二源代码" class="headerlink" title="实验二源代码"></a>实验二源代码</h2><p>DictProvider.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.crazyit.content;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.content.ContentProvider;</span><br><span class="line"><span class="keyword">import</span> android.content.ContentUris;</span><br><span class="line"><span class="keyword">import</span> android.content.ContentValues;</span><br><span class="line"><span class="keyword">import</span> android.content.UriMatcher;</span><br><span class="line"><span class="keyword">import</span> android.database.Cursor;</span><br><span class="line"><span class="keyword">import</span> android.database.sqlite.SQLiteDatabase;</span><br><span class="line"><span class="keyword">import</span> android.net.Uri;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DictProvider</span> <span class="keyword">extends</span> <span class="title">ContentProvider</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> UriMatcher matcher</span><br><span class="line">            = <span class="keyword">new</span> UriMatcher(UriMatcher.NO_MATCH);</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> WORDS = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> WORD = <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">private</span> MyDatabaseHelper dbOpenHelper;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> &#123;</span><br><span class="line">        <span class="comment">// 为UriMatcher注册两个Uri</span></span><br><span class="line">        matcher.addURI(Words.AUTHORITY, <span class="string">"words"</span>, WORDS);</span><br><span class="line">        matcher.addURI(Words.AUTHORITY, <span class="string">"word/#"</span>, WORD);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 第一次调用该DictProvider时，系统先创建DictProvider对象，并回调该方法</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">onCreate</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        dbOpenHelper = <span class="keyword">new</span> MyDatabaseHelper(<span class="keyword">this</span>.getContext(),</span><br><span class="line">                <span class="string">"myDict.db3"</span>, <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 返回指定Uri参数对应的数据的MIME类型</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getType</span><span class="params">(Uri uri)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">switch</span> (matcher.match(uri)) &#123;</span><br><span class="line">            <span class="comment">// 如果操作的数据是多项记录</span></span><br><span class="line">            <span class="keyword">case</span> WORDS:</span><br><span class="line">                <span class="keyword">return</span> <span class="string">"vnd.android.cursor.dir/org.crazyit.dict"</span>;</span><br><span class="line">            <span class="comment">// 如果操作的数据是单项记录</span></span><br><span class="line">            <span class="keyword">case</span> WORD:</span><br><span class="line">                <span class="keyword">return</span> <span class="string">"vnd.android.cursor.item/org.crazyit.dict"</span>;</span><br><span class="line">            <span class="keyword">default</span>:</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">"未知Uri:"</span> + uri);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 查询数据的方法</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Cursor <span class="title">query</span><span class="params">(Uri uri, String[] projection, String where,</span></span></span><br><span class="line"><span class="function"><span class="params">                        String[] whereArgs, String sortOrder)</span> </span>&#123;</span><br><span class="line">        SQLiteDatabase db = dbOpenHelper.getReadableDatabase();</span><br><span class="line">        <span class="keyword">switch</span> (matcher.match(uri)) &#123;</span><br><span class="line">            <span class="comment">// 如果Uri参数代表操作全部数据项</span></span><br><span class="line">            <span class="keyword">case</span> WORDS:</span><br><span class="line">                <span class="comment">// 执行查询</span></span><br><span class="line">                <span class="keyword">return</span> db.query(<span class="string">"dict"</span>, projection, where,</span><br><span class="line">                        whereArgs, <span class="keyword">null</span>, <span class="keyword">null</span>, sortOrder);</span><br><span class="line">            <span class="comment">// 如果Uri参数代表操作指定数据项</span></span><br><span class="line">            <span class="keyword">case</span> WORD:</span><br><span class="line">                <span class="comment">// 解析出想查询的记录ID</span></span><br><span class="line">                <span class="keyword">long</span> id = ContentUris.parseId(uri);</span><br><span class="line">                String whereClause = Words.Word._ID + <span class="string">"="</span> + id;</span><br><span class="line">                <span class="comment">// 如果原来的where子句存在，拼接where子句</span></span><br><span class="line">                <span class="keyword">if</span> (where != <span class="keyword">null</span> &amp;&amp; !<span class="string">""</span>.equals(where)) &#123;</span><br><span class="line">                    whereClause = whereClause + <span class="string">" and "</span> + where;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">return</span> db.query(<span class="string">"dict"</span>, projection, whereClause, whereArgs,</span><br><span class="line">                        <span class="keyword">null</span>, <span class="keyword">null</span>, sortOrder);</span><br><span class="line">            <span class="keyword">default</span>:</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">"未知Uri:"</span> + uri);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 插入数据方法</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Uri <span class="title">insert</span><span class="params">(Uri uri, ContentValues values)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// 获得数据库实例</span></span><br><span class="line">        SQLiteDatabase db = dbOpenHelper.getReadableDatabase();</span><br><span class="line">        <span class="keyword">switch</span> (matcher.match(uri)) &#123;</span><br><span class="line">            <span class="comment">// 如果Uri参数代表操作全部数据项</span></span><br><span class="line">            <span class="keyword">case</span> WORDS:</span><br><span class="line">                <span class="comment">// 插入数据，返回插入记录的ID</span></span><br><span class="line">                <span class="keyword">long</span> rowId = db.insert(<span class="string">"dict"</span>, Words.Word._ID, values);</span><br><span class="line">                <span class="comment">// 如果插入成功返回uri</span></span><br><span class="line">                <span class="keyword">if</span> (rowId &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                    <span class="comment">// 在已有的 Uri的后面追加ID</span></span><br><span class="line">                    Uri wordUri = ContentUris.withAppendedId(uri, rowId);</span><br><span class="line">                    <span class="comment">// 通知数据已经改变</span></span><br><span class="line">                    getContext().getContentResolver()</span><br><span class="line">                            .notifyChange(wordUri, <span class="keyword">null</span>);</span><br><span class="line">                    <span class="keyword">return</span> wordUri;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">default</span>:</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">"未知Uri:"</span> + uri);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 修改数据的方法</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">update</span><span class="params">(Uri uri, ContentValues values, String where,</span></span></span><br><span class="line"><span class="function"><span class="params">                      String[] whereArgs)</span> </span>&#123;</span><br><span class="line">        SQLiteDatabase db = dbOpenHelper.getWritableDatabase();</span><br><span class="line">        <span class="comment">// 记录所修改的记录数</span></span><br><span class="line">        <span class="keyword">int</span> num = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">switch</span> (matcher.match(uri)) &#123;</span><br><span class="line">            <span class="comment">// 如果Uri参数代表操作全部数据项</span></span><br><span class="line">            <span class="keyword">case</span> WORDS:</span><br><span class="line">                num = db.update(<span class="string">"dict"</span>, values, where, whereArgs);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="comment">// 如果Uri参数代表操作指定数据项</span></span><br><span class="line">            <span class="keyword">case</span> WORD:</span><br><span class="line">                <span class="comment">// 解析出想修改的记录ID</span></span><br><span class="line">                <span class="keyword">long</span> id = ContentUris.parseId(uri);</span><br><span class="line">                String whereClause = Words.Word._ID + <span class="string">"="</span> + id;</span><br><span class="line">                <span class="comment">// 如果原来的where子句存在，拼接where子句</span></span><br><span class="line">                <span class="keyword">if</span> (where != <span class="keyword">null</span> &amp;&amp; !where.equals(<span class="string">""</span>)) &#123;</span><br><span class="line">                    whereClause = whereClause + <span class="string">" and "</span> + where;</span><br><span class="line">                &#125;</span><br><span class="line">                num = db.update(<span class="string">"dict"</span>, values, whereClause, whereArgs);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">default</span>:</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">"未知Uri:"</span> + uri);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 通知数据已经改变</span></span><br><span class="line">        getContext().getContentResolver().notifyChange(uri, <span class="keyword">null</span>);</span><br><span class="line">        <span class="keyword">return</span> num;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 删除数据的方法</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">delete</span><span class="params">(Uri uri, String where, String[] whereArgs)</span> </span>&#123;</span><br><span class="line">        SQLiteDatabase db = dbOpenHelper.getReadableDatabase();</span><br><span class="line">        <span class="comment">// 记录所删除的记录数</span></span><br><span class="line">        <span class="keyword">int</span> num = <span class="number">0</span>;</span><br><span class="line">        <span class="comment">// 对uri进行匹配</span></span><br><span class="line">        <span class="keyword">switch</span> (matcher.match(uri)) &#123;</span><br><span class="line">            <span class="comment">// 如果Uri参数代表操作全部数据项</span></span><br><span class="line">            <span class="keyword">case</span> WORDS:</span><br><span class="line">                num = db.delete(<span class="string">"dict"</span>, where, whereArgs);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="comment">// 如果Uri参数代表操作指定数据项</span></span><br><span class="line">            <span class="keyword">case</span> WORD:</span><br><span class="line">                <span class="comment">// 解析出所需要删除的记录ID</span></span><br><span class="line">                <span class="keyword">long</span> id = ContentUris.parseId(uri);</span><br><span class="line">                String whereClause = Words.Word._ID + <span class="string">"="</span> + id;</span><br><span class="line">                <span class="comment">// 如果原来的where子句存在，拼接where子句</span></span><br><span class="line">                <span class="keyword">if</span> (where != <span class="keyword">null</span> &amp;&amp; !where.equals(<span class="string">""</span>)) &#123;</span><br><span class="line">                    whereClause = whereClause + <span class="string">" and "</span> + where;</span><br><span class="line">                &#125;</span><br><span class="line">                num = db.delete(<span class="string">"dict"</span>, whereClause, whereArgs);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">default</span>:</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">"未知Uri:"</span> + uri);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 通知数据已经改变</span></span><br><span class="line">        getContext().getContentResolver().notifyChange(uri, <span class="keyword">null</span>);</span><br><span class="line">        <span class="keyword">return</span> num;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">MainActivity.java</span><br><span class="line"></span><br><span class="line">```java</span><br><span class="line"><span class="keyword">package</span> org.crazyit.content;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.app.Activity;</span><br><span class="line"><span class="keyword">import</span> android.content.Intent;</span><br><span class="line"><span class="keyword">import</span> android.database.Cursor;</span><br><span class="line"><span class="keyword">import</span> android.database.sqlite.SQLiteDatabase;</span><br><span class="line"><span class="keyword">import</span> android.os.Bundle;</span><br><span class="line"><span class="keyword">import</span> android.view.View;</span><br><span class="line"><span class="keyword">import</span> android.view.View.OnClickListener;</span><br><span class="line"><span class="keyword">import</span> android.widget.Button;</span><br><span class="line"><span class="keyword">import</span> android.widget.EditText;</span><br><span class="line"><span class="keyword">import</span> android.widget.Toast;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">Activity</span> </span>&#123;</span><br><span class="line">    MyDatabaseHelper dbHelper;</span><br><span class="line">    Button insert = <span class="keyword">null</span>;</span><br><span class="line">    Button search = <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">        setContentView(R.layout.main);</span><br><span class="line">        <span class="comment">// 创建MyDatabaseHelper对象，指定数据库版本为1，此处使用相对路径即可</span></span><br><span class="line">        <span class="comment">// 数据库文件自动会保存在程序的数据文件夹的databases目录下</span></span><br><span class="line">        dbHelper = <span class="keyword">new</span> MyDatabaseHelper(<span class="keyword">this</span>, <span class="string">"myDict.db3"</span>, <span class="number">1</span>);</span><br><span class="line">        insert = (Button) findViewById(R.id.insert);</span><br><span class="line">        search = (Button) findViewById(R.id.search);</span><br><span class="line">        insert.setOnClickListener(<span class="keyword">new</span> OnClickListener() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View source)</span> </span>&#123;</span><br><span class="line">                <span class="comment">// 获取用户输入</span></span><br><span class="line">                String word = ((EditText) findViewById(R.id.word))</span><br><span class="line">                        .getText().toString();</span><br><span class="line">                String detail = ((EditText) findViewById(R.id.detail))</span><br><span class="line">                        .getText().toString();</span><br><span class="line">                <span class="comment">// 插入生词记录</span></span><br><span class="line">                insertData(dbHelper.getReadableDatabase(), word, detail);</span><br><span class="line">                <span class="comment">// 显示提示信息</span></span><br><span class="line">                Toast.makeText(MainActivity.<span class="keyword">this</span>, <span class="string">"添加生词成功！"</span></span><br><span class="line">                        , Toast.LENGTH_LONG).show();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        search.setOnClickListener(<span class="keyword">new</span> OnClickListener() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View source)</span> </span>&#123;</span><br><span class="line">                <span class="comment">// 获取用户输入</span></span><br><span class="line">                String key = ((EditText) findViewById(R.id.key)).getText()</span><br><span class="line">                        .toString();</span><br><span class="line">                <span class="comment">// 执行查询</span></span><br><span class="line">                Cursor cursor = dbHelper.getReadableDatabase().rawQuery(</span><br><span class="line">                        <span class="string">"select * from dict where word like ? or detail like ?"</span>,</span><br><span class="line">                        <span class="keyword">new</span> String[]&#123;<span class="string">"%"</span> + key + <span class="string">"%"</span>, <span class="string">"%"</span> + key + <span class="string">"%"</span>&#125;);</span><br><span class="line">                <span class="comment">// 创建一个Bundle对象</span></span><br><span class="line">                Bundle data = <span class="keyword">new</span> Bundle();</span><br><span class="line">                data.putSerializable(<span class="string">"data"</span>, converCursorToList(cursor));</span><br><span class="line">                <span class="comment">// 创建一个Intent</span></span><br><span class="line">                Intent intent = <span class="keyword">new</span> Intent(MainActivity.<span class="keyword">this</span></span><br><span class="line">                        , ResultActivity.class);</span><br><span class="line">                intent.putExtras(data);</span><br><span class="line">                <span class="comment">// 启动Activity</span></span><br><span class="line">                startActivity(intent);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">protected</span> ArrayList&lt;Map&lt;String, String&gt;&gt;</span><br><span class="line">    converCursorToList(Cursor cursor) &#123;</span><br><span class="line">        ArrayList&lt;Map&lt;String, String&gt;&gt; result =</span><br><span class="line">                <span class="keyword">new</span> ArrayList&lt;Map&lt;String, String&gt;&gt;();</span><br><span class="line">        <span class="comment">// 遍历Cursor结果集</span></span><br><span class="line">        <span class="keyword">while</span> (cursor.moveToNext()) &#123;</span><br><span class="line">            <span class="comment">// 将结果集中的数据存入ArrayList中</span></span><br><span class="line">            Map&lt;String, String&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">            <span class="comment">// 取出查询记录中第2列、第3列的值</span></span><br><span class="line">            map.put(<span class="string">"word"</span>, cursor.getString(<span class="number">1</span>));</span><br><span class="line">            map.put(<span class="string">"detail"</span>, cursor.getString(<span class="number">2</span>));</span><br><span class="line">            result.add(map);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">insertData</span><span class="params">(SQLiteDatabase db, String word</span></span></span><br><span class="line"><span class="function"><span class="params">            , String detail)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// 执行插入语句</span></span><br><span class="line">        db.execSQL(<span class="string">"insert into dict values(null , ? , ?)"</span></span><br><span class="line">                , <span class="keyword">new</span> String[]&#123;word, detail&#125;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onDestroy</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onDestroy();</span><br><span class="line">        <span class="comment">// 退出程序时关闭MyDatabaseHelper里的SQLiteDatabase</span></span><br><span class="line">        <span class="keyword">if</span> (dbHelper != <span class="keyword">null</span>) &#123;</span><br><span class="line">            dbHelper.close();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>MyDatabaseHelper.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.crazyit.content;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.content.Context;</span><br><span class="line"><span class="keyword">import</span> android.database.sqlite.SQLiteDatabase;</span><br><span class="line"><span class="keyword">import</span> android.database.sqlite.SQLiteOpenHelper;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyDatabaseHelper</span> <span class="keyword">extends</span> <span class="title">SQLiteOpenHelper</span> </span>&#123;</span><br><span class="line">    <span class="keyword">final</span> String CREATE_TABLE_SQL =</span><br><span class="line">            <span class="string">"create table dict(_id integer primary "</span> +</span><br><span class="line">                    <span class="string">"key autoincrement , word , detail)"</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">MyDatabaseHelper</span><span class="params">(Context context, String name, <span class="keyword">int</span> version)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(context, name, <span class="keyword">null</span>, version);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(SQLiteDatabase db)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// 第一次使用数据库时自动建表</span></span><br><span class="line">        db.execSQL(CREATE_TABLE_SQL);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onUpgrade</span><span class="params">(SQLiteDatabase db</span></span></span><br><span class="line"><span class="function"><span class="params">            , <span class="keyword">int</span> oldVersion, <span class="keyword">int</span> newVersion)</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"--------onUpdate Called--------"</span></span><br><span class="line">                + oldVersion + <span class="string">"---&gt;"</span> + newVersion);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Words.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.crazyit.content;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.net.Uri;</span><br><span class="line"><span class="keyword">import</span> android.provider.BaseColumns;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">Words</span> </span>&#123;</span><br><span class="line">    <span class="comment">// 定义该ContentProvider的Authorities</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String AUTHORITY</span><br><span class="line">            = <span class="string">"org.crazyit.providers.dictprovider"</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 定义一个静态内部类，定义该ContentProvider所包含的数据列的列名</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">Word</span> <span class="keyword">implements</span> <span class="title">BaseColumns</span> </span>&#123;</span><br><span class="line">        <span class="comment">// 定义Content所允许操作的三个数据列</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">static</span> String _ID = <span class="string">"_id"</span>;</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">static</span> String WORD = <span class="string">"word"</span>;</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">static</span> String DETAIL = <span class="string">"detail"</span>;</span><br><span class="line">        <span class="comment">// 定义该Content提供服务的两个Uri</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">static</span> Uri DICT_CONTENT_URI = Uri</span><br><span class="line">                .parse(<span class="string">"content://"</span> + AUTHORITY + <span class="string">"/words"</span>);</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">static</span> Uri WORD_CONTENT_URI = Uri</span><br><span class="line">                .parse(<span class="string">"content://"</span> + AUTHORITY + <span class="string">"/word"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ResultActivity.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.crazyit.content;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.app.Activity;</span><br><span class="line"><span class="keyword">import</span> android.content.Intent;</span><br><span class="line"><span class="keyword">import</span> android.os.Bundle;</span><br><span class="line"><span class="keyword">import</span> android.widget.ListView;</span><br><span class="line"><span class="keyword">import</span> android.widget.SimpleAdapter;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ResultActivity</span> <span class="keyword">extends</span> <span class="title">Activity</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">        setContentView(R.layout.popup);</span><br><span class="line">        ListView listView = (ListView) findViewById(R.id.show);</span><br><span class="line">        Intent intent = getIntent();</span><br><span class="line">        <span class="comment">// 获取该intent所携带的数据</span></span><br><span class="line">        Bundle data = intent.getExtras();</span><br><span class="line">        <span class="comment">// 从Bundle数据包中取出数据</span></span><br><span class="line">        <span class="meta">@SuppressWarnings</span>(<span class="string">"unchecked"</span>)</span><br><span class="line">        List&lt;Map&lt;String, String&gt;&gt; list = (List&lt;Map&lt;String, String&gt;&gt;)</span><br><span class="line">                data.getSerializable(<span class="string">"data"</span>);</span><br><span class="line">        <span class="comment">// 将List封装成SimpleAdapter</span></span><br><span class="line">        SimpleAdapter adapter = <span class="keyword">new</span> SimpleAdapter(ResultActivity.<span class="keyword">this</span></span><br><span class="line">                , list,</span><br><span class="line">                R.layout.line, <span class="keyword">new</span> String[]&#123;<span class="string">"word"</span>, <span class="string">"detail"</span>&#125;</span><br><span class="line">                , <span class="keyword">new</span> <span class="keyword">int</span>[]&#123;R.id.word, R.id.detail&#125;);</span><br><span class="line">        <span class="comment">// 填充ListView</span></span><br><span class="line">        listView.setAdapter(adapter);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>line.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">LinearLayout</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:orientation</span>=<span class="string">"vertical"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">EditText</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">"@+id/word"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:width</span>=<span class="string">"120px"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:editable</span>=<span class="string">"false"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:text</span>=<span class="string">"@string/detail"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">EditText</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">"@+id/detail"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:editable</span>=<span class="string">"false"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:lines</span>=<span class="string">"3"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br></pre></td></tr></table></figure><p>main.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">LinearLayout</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:orientation</span>=<span class="string">"vertical"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">EditText</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">"@+id/word"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">EditText</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">"@+id/detail"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:lines</span>=<span class="string">"3"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">"@+id/insert"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:text</span>=<span class="string">"@string/insert"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">EditText</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">"@+id/key"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">"@+id/search"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:text</span>=<span class="string">"@string/search"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">ListView</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">"@+id/show"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br></pre></td></tr></table></figure><p>popup.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">LinearLayout</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:divider</span>=<span class="string">"?android:attr/dividerVertical"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:dividerPadding</span>=<span class="string">"2dp"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:gravity</span>=<span class="string">"center"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:orientation</span>=<span class="string">"vertical"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:showDividers</span>=<span class="string">"beginning"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">ListView</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">"@+id/show"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="程序二功能简介"><a href="#程序二功能简介" class="headerlink" title="程序二功能简介"></a>程序二功能简介</h2><p>（中间有一段视频）需要打开html文件进行观看</p><iframe height=498 width=510 src=" http: player.youku.com embed xndixntm5nzgxng="='" frameborder="0" 'allowfullscreen'></iframe><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>ContentProvider使用时太麻烦，还的需要源系统提供接口以便其他系统进行调用，并且不适用与较大较复杂的数据库，因为会对数据库操作时需要大量的SQL语言，代码冗余量太高，而使用ORM正式可以避免这个缺点，外键创建也比较方便，相对于ContentProvider代码少很对，很方便维护，但不具备ContentProvider的android生态系统内的组件支持是他的一个弊端，所以需要根据需求来使用这两个框架</p><blockquote style="margin: 2em 0 0;padding: 0.5em 1em;border-left: 3px solid #F44336;background-color: #F5F5F5;list-style: none;"><p> <strong>本文使用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/" target="_blank" rel="noopener">CC BY-NC-SA 3.0 中国大陆</a> 协议许可<br>具体请参见 <a href="https://zyhang8.github.io/agree/" target="_blank" rel="noopener">知识共享协议</a></strong><br> <strong>本文链接：</strong><a href="https://zyhang8.github.io/2019/10/05/android-exp7/" target="_blank" rel="noopener">https://zyhang8.github.io/2019/10/05/android-exp7/</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> android </category>
          
      </categories>
      
      
        <tags>
            
            <tag> android </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>algorithm</title>
      <link href="/2019/10/04/algorithm/"/>
      <url>/2019/10/04/algorithm/</url>
      
        <content type="html"><![CDATA[<blockquote><p>算法积累</p></blockquote><p><code>持续更新…………</code></p><h2 id="排序"><a href="#排序" class="headerlink" title="排序"></a>排序</h2><h3 id="冒泡排序"><a href="#冒泡排序" class="headerlink" title="冒泡排序"></a>冒泡排序</h3><p>冒泡排序/沉降排序。遍历要排序的列表，把相邻两个不符合排列规则的数据项交换位置，然后重复遍历列表，直到不再出现需要交换的数据项。当没有数据项需要交换时，则表明该列表已排序。</p><h3 id="桶排序算法"><a href="#桶排序算法" class="headerlink" title="桶排序算法"></a>桶排序算法</h3><p>桶排序/箱排序。将数组分到有限数量的桶子里。每个桶子再个别排序，有可能再使用别的排序算法或是以递归方式继续使用桶排序进行排序。</p><h3 id="鸡尾酒排序"><a href="#鸡尾酒排序" class="headerlink" title="鸡尾酒排序"></a>鸡尾酒排序</h3><p>鸡尾酒排序/定向冒泡排序/鸡尾酒搅拌排序，搅拌排序（也可以视作选择排序的一种变形），涟漪排序，来回排序或快乐小时排序，都是冒泡排序的一种变形。此算法与冒泡排序的不同处在于排序时是以双向在序列中进行排序。</p><h3 id="插入排序"><a href="#插入排序" class="headerlink" title="插入排序"></a>插入排序</h3><p>通过构建有序序列，对于未排序数据，在已排序序列中从后向前扫描，找到相应位置并插入。插入排序在实现上，通常采用in-place排序的额外空间的排序，因而在从后向前扫描过程中，需要反复把已排序元素逐步向后挪位，为最新元素提供插入空间。</p><h3 id="归并排序"><a href="#归并排序" class="headerlink" title="归并排序"></a>归并排序</h3><p>归并排序，是创建在归并操作上的一种有效的排序算法，效率为O(n log n)（大O符号）。</p><h3 id="堆"><a href="#堆" class="headerlink" title="堆"></a>堆</h3><p>将其输入划分为已排序和未排序的区域，并通过提取最大元素,将其移动到已排序区域来迭代缩小未排序区域。</p><h3 id="基数排序"><a href="#基数排序" class="headerlink" title="基数排序"></a>基数排序</h3><p>将整数按位数切割成不同的数字，然后按每个位数分别比较。</p><h3 id="选择排序"><a href="#选择排序" class="headerlink" title="选择排序"></a>选择排序</h3><p>首先在未排序序列中找到最小（大）元素，存放到排序序列的起始位置，然后，再从剩余未排序元素中继续寻找最小（大）元素，然后放到已排序序列的末尾。以此类推，直到所有元素均排序完毕。</p><h3 id="Shell排序"><a href="#Shell排序" class="headerlink" title="Shell排序"></a>Shell排序</h3><p>安排元素列表，以便从任何地方开始，考虑到每个第n个元素都会给出一个排序列表。这样的列表叫做h排序。等效地，可以被认为是h交错列表，每个元素都是单独排序的。</p><h3 id="拓扑"><a href="#拓扑" class="headerlink" title="拓扑"></a>拓扑</h3><p>在一个有向图中，对所有的节点进行排序，要求没有一个节点指向它前面的节点。先统计所有节点的入度，对于入度为0的节点就可以分离出来，然后把这个节点指向的节点的入度减一。一直做改操作，直到所有的节点都被分离出来。如果最后不存在入度为0的节点，那就说明有环，不存在拓扑排序，也就是很多题目的无解的情况。</p><h2 id="搜索"><a href="#搜索" class="headerlink" title="搜索"></a>搜索</h2><h3 id="线性搜索"><a href="#线性搜索" class="headerlink" title="线性搜索"></a>线性搜索</h3><p>线性搜索或顺序搜索是用于在列表中查找目标值的方法。它按顺序检查列表中的每个元素的目标值，直到找到匹配或直到搜索完所有元素。</p><h3 id="Binary-二进制搜索"><a href="#Binary-二进制搜索" class="headerlink" title="Binary 二进制搜索"></a>Binary 二进制搜索</h3><p>二进制搜索，也称为半间隔搜索或对数搜索，用于查找已排序数组中目标值的位置。它将目标值与数组的中间元素进行比较，如果它们不相等，则目标的一半被消除，并且在剩下的一半上继续搜索直到成功。</p><h3 id="插值搜索"><a href="#插值搜索" class="headerlink" title="插值搜索"></a>插值搜索</h3><p>插值搜索是一种用于搜索已按照键值的数值排序的数组中键的算法。</p><h3 id="跳跃搜索"><a href="#跳跃搜索" class="headerlink" title="跳跃搜索"></a>跳跃搜索</h3><p>跳转搜索是指有序列表的搜索算法。它首先检查所有项目的Lkm，其中K∈N，并且m是块大小，直到找到大于搜索关键字的项目。为了在列表中找到搜索关键字的确切位置，在子列表L[（k-1）m，km]上执行线性搜索。</p><h3 id="快速选择算法"><a href="#快速选择算法" class="headerlink" title="快速选择算法"></a>快速选择算法</h3><p>快速选择（Quicksort）是一种从无序列表找到第k小元素的选择算法。它从原理上来说与快速排序有关。与快速排序一样都由托尼·霍尔提出的，因而也被称为霍尔选择算法。</p><h3 id="禁忌搜索"><a href="#禁忌搜索" class="headerlink" title="禁忌搜索"></a>禁忌搜索</h3><p>禁忌算法是一种亚启发式随机搜索算法，它从一个初始可行解出发，选择一系列的特定搜索方向（移动）作为试探，选择实现让特定的目标函数值变化最多的移动。为了避免陷入局部最优解，TS搜索中采用了一种灵活的“记忆”技术，对已经进行的优化过程进行记录和选择，指导下一步的搜索方向，这就是Tabu表的建立。</p><p>标记已经解得的局部最优解或求解过程，并在进一步的迭代中避开这些局部最优解或求解过程。局部搜索的缺点在于，太过于对某一局部区域以及其邻域的搜索，导致一叶障目。为了找到全局最优解，禁忌搜索就是对于找到的一部分局部最优解，有意识地避开它，从而或得更多的搜索区域。</p><p>比喻：兔子们找到了泰山，它们之中的一只就会留守在这里，其他的再去别的地方寻找。就这样，一大圈后，把找到的几个山峰一比较，珠穆朗玛峰脱颖而出</p><h2 id="密码"><a href="#密码" class="headerlink" title="密码"></a>密码</h2><h3 id="凯撒密码"><a href="#凯撒密码" class="headerlink" title="凯撒密码"></a>凯撒密码</h3><p>凯撒密码，也称为凯撒密码，移位密码，凯撒代码或凯撒移位，是最简单和最广为人知的加密技术之一。</p><h3 id="Vigenere密码"><a href="#Vigenere密码" class="headerlink" title="Vigenère密码"></a>Vigenère密码</h3><p>Vigenère密码是一种通过使用基于关键字字母的一系列交织的凯撒密码来加密字母文本的方法。它是一种多字母替代形式。</p><h3 id="转置密码"><a href="#转置密码" class="headerlink" title="转置密码"></a>转置密码</h3><p>转置密码是一种加密方法，通过该加密方法，明文单元（通常是字符或字符组）所保持的位置根据常规系统移位，使得密文构成明文的排列。也就是说，单位的顺序改变（明文被重新排序）。</p><h3 id="RSA"><a href="#RSA" class="headerlink" title="RSA"></a>RSA</h3><p>RSA算法是第一个能同时用于加密和数字签名的算法，也易于理解和操作。RSA是被研究得最广泛的公钥算法，从提出到现今的三十多年里，经历了各种攻击的考验，逐渐为人们接受，普遍认为是目前最优秀的公钥方案之一。RSA公开密钥密码体制。所谓的公开密钥密码体制就是使用不同的加密密钥与解密密钥，是一种“由已知加密密钥推导出解密密钥在计算上是不可行的”密码体制。</p><h3 id="ROT13"><a href="#ROT13" class="headerlink" title="ROT13"></a>ROT13</h3><p>ROT13（“旋转13个位置”，有时用连字符ROT-13）是一个简单的字母替换密码，用字母表后面的第13个字母替换一个字母。</p><blockquote style="margin: 2em 0 0;padding: 0.5em 1em;border-left: 3px solid #F44336;background-color: #F5F5F5;list-style: none;"><p> <strong>本文使用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/" target="_blank" rel="noopener">CC BY-NC-SA 3.0 中国大陆</a> 协议许可<br>具体请参见 <a href="https://zyhang8.github.io/agree/" target="_blank" rel="noopener">知识共享协议</a></strong><br> <strong>本文链接：</strong><a href="https://zyhang8.github.io/2019/10/04/algorithm/" target="_blank" rel="noopener">https://zyhang8.github.io/2019/10/04/algorithm/</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 算法 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 算法 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>GIt三剑客</title>
      <link href="/2019/10/03/it-exp3/"/>
      <url>/2019/10/03/it-exp3/</url>
      
        <content type="html"><![CDATA[<h1 id="GIt三剑客"><a href="#GIt三剑客" class="headerlink" title="GIt三剑客"></a>GIt三剑客</h1><h2 id="一、-Github"><a href="#一、-Github" class="headerlink" title="一、 Github"></a>一、 Github</h2><h3 id="什么是Github"><a href="#什么是Github" class="headerlink" title="什么是Github?"></a>什么是Github?</h3><p>github是一个基于git的代码托管平台，付费用户可以建私人仓库，我们一般的免费用户只能使用公共仓库，也就是代码要公开。</p><p>Github 由Chris Wanstrath, PJ Hyett 与Tom Preston-Werner三位开发者在2008年4月创办。迄今拥有59名全职员工，主要提供基于git的版本托管服务。</p><h3 id="2-Github仓库管理使用"><a href="#2-Github仓库管理使用" class="headerlink" title="2. Github仓库管理使用"></a>2. Github仓库管理使用</h3><h4 id="2-1repository"><a href="#2-1repository" class="headerlink" title="2.1repository"></a>2.1repository</h4><p>在右上角，单击“new repository”</p><p><img src="https://img2018.cnblogs.com/blog/1612169/201905/1612169-20190520180126386-1560978954.png" alt="1"></p><h5 id="Branch"><a href="#Branch" class="headerlink" title="Branch"></a>Branch</h5><p>分支和快照是类似的概念，快照指的是在某一时间点的数据状态集合，相当于一种特殊的镜像文件。默认情况下，您的存储库有一个名为master的分支，它被认为是确定的分支。如果有人在你的分支机构工作时对主分支进行了更改，那么你可以把它拉取那些更新。</p><p><img src="https://img2018.cnblogs.com/blog/1612169/201905/1612169-20190520180201099-1317364354.gif" alt="2"></p><p>如何创建详情git板块</p><h5 id="Star"><a href="#Star" class="headerlink" title="Star"></a>Star</h5><p>Star folk意义：可以体现出社区活跃度，无论是issues 还是邮件列表、论坛，如果提问的人少之又少，即使 watch、star、fork 再多也不要用，因为这几个数据是结果，不是过程，制造结果比制造过程容易得多，小编也想哈好多的star。</p><p><img src="https://img2018.cnblogs.com/blog/1612169/201905/1612169-20190520180218891-1901106145.gif" alt="3"></p><h3 id="3-Github-Desktop"><a href="#3-Github-Desktop" class="headerlink" title="3. Github Desktop"></a>3. Github Desktop</h3><p>Github的官方git软件，其实现在很多IDE都自带这种版本控制软件，通过该GUI后版本控制软件上手就很简单了很多，</p><p>比如，当克隆到本地的repository增删查改里面里面的任何内容，Github Desktop会实时自动同步，并且可以通过左下角的Commit to master上传到git云端，并通过上面Fetch origin和master选择分支并上传，改图为小编最近刚好在左爬虫小任务。 </p><p><img src="https://img2018.cnblogs.com/blog/1612169/201905/1612169-20190520180234197-284413213.gif" alt="4"></p><p><img src="https://img2018.cnblogs.com/blog/1612169/201905/1612169-20190520180247357-307581475.gif" alt="5"></p><h2 id="二、-Gitlab项目管理"><a href="#二、-Gitlab项目管理" class="headerlink" title="二、 Gitlab项目管理"></a>二、 Gitlab项目管理</h2><p>GitLab 是一个用于仓库管理系统的开源项目，使用Git作为代码管理工具，并在此基础上搭建起来的web服务。</p><p>个人觉得github方便个人使用，而gitlab更适合作为团队编辑和团队开发项目仓库。</p><p>1.Gitlab项目管理</p><p><img src="https://img2018.cnblogs.com/blog/1612169/201905/1612169-20190520180308442-1888414257.gif" alt="6"></p><p>基本使用流程跟github差不多</p><p>只是如果共同开发项目时，可以看到各成员的进度，还有一个亮点就是可以看到源代码的修改程度，以及项目成员的动态信息。</p><p><img src="https://img2018.cnblogs.com/blog/1612169/201905/1612169-20190520180321479-617285351.gif" alt="7"></p><p><img src="https://img2018.cnblogs.com/blog/1612169/201905/1612169-20190520180337829-1047206652.gif" alt="8"></p><p>github可以与gitlab项目一键共享仓库，期待后面会出现可以实时同步两个仓库的神器^^</p><h2 id="三、Git"><a href="#三、Git" class="headerlink" title="三、Git"></a>三、Git</h2><p>Git 是一个开源的分布式版本控制系统，用于敏捷高效地处理任何或小或大的项目。</p><p>Git 是 Linus Torvalds 为了帮助管理 Linux 内核开发而开发的一个开放源码的版本控制软件。</p><p>Git 与常用的版本控制工具 CVS, Subversion 等不同，它采用了分布式版本库的方式，不必服务器端软件支持。</p><p>本人觉得如果用好git，对于分布式的概念会更加清晰哦，本人也是通过分布式爬虫了解到分布式的强大。</p><p>写git文档简直就是大海捞针，下面仅通过创建分支进行介绍</p><p>首先我创建修复bug的分支hot_fix,git branch -v 查看下分支</p><p><img src="https://img2018.cnblogs.com/blog/1612169/201905/1612169-20190520180406613-1739661512.gif" alt="9"></p><p>git checkout hot_fix来切换分支</p><p><img src="https://img2018.cnblogs.com/blog/1612169/201905/1612169-20190520180430762-1584197741.gif" alt="10"></p><p>git branch -v 查看下分支，现在就切换到hot_fix分支了</p><p><img src="https://img2018.cnblogs.com/blog/1612169/201905/1612169-20190520180438341-392728584.gif" alt="11"></p><p>在hot_fix分支，输入ll,在查看下之前的内容</p><p><img src="https://img2018.cnblogs.com/blog/1612169/201905/1612169-20190520180446753-782576981.gif" alt="12"></p><p><img src="https://img2018.cnblogs.com/blog/1612169/201905/1612169-20190520180448873-163952932.gif" alt="13"></p><p>其实hot_fix复制了一份master分支的内容</p><p>其余git简单教程：</p><p> git init:在本地新建一个repo,进入一个项目目录,执行git init,会初始化一个repo,并在当前文件夹下创建一个.git文件夹。</p><pre><code>git clone：获取一个url对应的远程Git repo, 创建一个local copy。 一般的格式是git clone [url]。git add：在提交之前,Git有一个暂存区(staging area),可以放入新添加的文件或者加入新的改动.。commit时提交的改动是上一次加入到staging area中的改动,而不是我们disk上的改动。git commit：提交已经被add进来的改动。git pull：fetch from a remote repo and try to merge into the current branch。pull == fetch + merge FETCH_HEAD。git pull会首先执行git fetch,然后执行git merge,把取来的分支的head merge到当前分支。这个merge操作会产生一个新的commit。如果使用--rebase参数,它会执行git rebase来取代原来的git merge。git push：push your new branches and data to a remote repository。git push [alias] [branch]。将会把当前分支merge到alias上的[branch]分支.如果分支已经存在,将会更新,如果不存在,将会添加这个分支。如果有多个人向同一个remote repo push代码, Git会首先在你试图push的分支上运行git log,检查它的历史中是否能看到server上的branch现在的tip,如果本地历史中不能看到server的tip,说明本地的代码不是最新的,Git会拒绝你的push,让你先fetch,merge,之后再push,这样就保证了所有人的改动都会被考虑进来。</code></pre><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>用了三剑客也有很长时间，还有很多该方面知识写不完，通过三剑客可以对自己之前所开发的项目进行管理，特别是在项目分享环节，我们可以查看到他人的代码，并进行自己意见的改正修正以及对于对方知识点的学习和吸收，git不仅帮助项目成员提供了合作效率，也是一种使我们能够快速学习，促进学习的一个平台方式。</p><blockquote style="margin: 2em 0 0;padding: 0.5em 1em;border-left: 3px solid #F44336;background-color: #F5F5F5;list-style: none;"><p> <strong>本文使用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/" target="_blank" rel="noopener">CC BY-NC-SA 3.0 中国大陆</a> 协议许可<br>具体请参见 <a href="https://zyhang8.github.io/agree/" target="_blank" rel="noopener">知识共享协议</a></strong><br> <strong>本文链接：</strong><a href="https://zyhang8.github.io/2019/10/03/it-exp3/" target="_blank" rel="noopener">https://zyhang8.github.io/2019/10/03/it-exp3/</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> IT项目管理 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> IT项目管理 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>小账本软件设计之数据库设计模式构建</title>
      <link href="/2019/10/02/it-exp2/"/>
      <url>/2019/10/02/it-exp2/</url>
      
        <content type="html"><![CDATA[<h1 id="小账本软件设计之数据库设计模式构建"><a href="#小账本软件设计之数据库设计模式构建" class="headerlink" title="小账本软件设计之数据库设计模式构建"></a>小账本软件设计之数据库设计模式构建</h1><h2 id="编写目的"><a href="#编写目的" class="headerlink" title="编写目的"></a>编写目的</h2><p>该博客是小账本在前期开发阶段针对用户所进行的数据库设计，通过ER图，数据字典，数据流图来对该软件的数据库开发进行设计，并且附上部分源代码进行参考。</p><h3 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h3><p>待开发的软件名称为：小账本</p><h3 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h3><p>ER图：E-R图也称实体-联系图(Entity Relationship Diagram)，提供了表示实体类型、属性和联系的方法，用来描述现实世界的概念模型<br>UML图：UML-Unified Model Language 统一建模语言，又称标准建模语言。是用来对软件密集系统进行可视化建模的一种语言。UML的定义包括UML语义和UML表示法两个元素。<br>数据字典：数据字典是指对数据的数据项、数据结构、数据流、数据存储、处理逻辑等进行定义和描述，其目的是对数据流程图中的各个元素做出详细的说明，使用数据字典为简单的建模项目。<br>数据流图：简称DFD，它从数据传递和加工角度，以图形方式来表达系统的逻辑功能、数据在系统内部的逻辑流向和逻辑变换过程，是结构化系统分析方法的主要表达工具及用于表示软件模型的一种图示方法。</p><h2 id="小账本ER图设计"><a href="#小账本ER图设计" class="headerlink" title="小账本ER图设计"></a>小账本ER图设计</h2><p>由于该任务的小组成员表示目前的er图已经渐渐往uml图的趋势发展，所以该er图包含了一部分uml图的特征</p><p><img src="https://www.cnblogs.com/images/cnblogs_com/pipi-pig/1409644/o_WechatIMG9.jpg" alt="1"></p><h2 id="小账本数据表"><a href="#小账本数据表" class="headerlink" title="小账本数据表"></a>小账本数据表</h2><p>数据表的设计通过数据流图和数据字典分别设计</p><h3 id="数据字典"><a href="#数据字典" class="headerlink" title="数据字典"></a>数据字典</h3><h4 id="用户表"><a href="#用户表" class="headerlink" title="用户表"></a>用户表</h4><table><thead><tr><th align="center">字段名</th><th align="center">中文名</th><th align="center">数据类型</th><th align="center">主键</th><th align="center">外键</th><th align="center">说明</th></tr></thead><tbody><tr><td align="center">U_id</td><td align="center">用户id</td><td align="center">int</td><td align="center">PK</td><td align="center"></td><td align="center">不能为空</td></tr><tr><td align="center">Con_id</td><td align="center">配置id</td><td align="center">int</td><td align="center"></td><td align="center">FK1</td><td align="center">不能为空</td></tr><tr><td align="center">U_number</td><td align="center">登录账号</td><td align="center">varchar(20)</td><td align="center"></td><td align="center">FK2</td><td align="center">不能为空</td></tr><tr><td align="center">U_name</td><td align="center">用户名</td><td align="center">varchar(50)</td><td align="center"></td><td align="center"></td><td align="center">用户昵称</td></tr><tr><td align="center">U_gender</td><td align="center">性别</td><td align="center">char(2)</td><td align="center"></td><td align="center"></td><td align="center">性别可为空</td></tr><tr><td align="center">U_phone</td><td align="center">电话</td><td align="center">Char(11)</td><td align="center"></td><td align="center"></td><td align="center"></td></tr></tbody></table><h4 id="分类表"><a href="#分类表" class="headerlink" title="分类表"></a>分类表</h4><table><thead><tr><th align="center">字段名</th><th align="center">中文名</th><th align="center">数据类型</th><th align="center">主键</th><th align="center">外键</th><th align="center">说明</th></tr></thead><tbody><tr><td align="center">C_id</td><td align="center">类别id</td><td align="center">int</td><td align="center">PK</td><td align="center"></td><td align="center">不能为空</td></tr><tr><td align="center">type</td><td align="center">类别</td><td align="center">varchar(255)</td><td align="center"></td><td align="center"></td><td align="center"></td></tr></tbody></table><h4 id="配置表"><a href="#配置表" class="headerlink" title="配置表"></a>配置表</h4><table><thead><tr><th align="center">字段名</th><th align="center">中文名</th><th align="center">数据类型</th><th align="center">主键</th><th align="center">外键</th><th align="center">说明</th></tr></thead><tbody><tr><td align="center">Con_id</td><td align="center">配置id</td><td align="center">int</td><td align="center">PK</td><td align="center"></td><td align="center">不能为空</td></tr><tr><td align="center">U_id</td><td align="center">用户id</td><td align="center">int</td><td align="center"></td><td align="center">FK</td><td align="center">不能为空</td></tr><tr><td align="center">key_</td><td align="center">配置信息</td><td align="center">varchar(255)</td><td align="center"></td><td align="center"></td><td align="center">配置信息按照键值对的形式出现 ，类型是varchar(255)</td></tr><tr><td align="center">value</td><td align="center">配置信息的值</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center">配置信息的值, 类型是 varchar(255)</td></tr></tbody></table><h4 id="登录表"><a href="#登录表" class="headerlink" title="登录表"></a>登录表</h4><table><thead><tr><th align="center">字段名</th><th align="center">中文名</th><th align="center">数据类型</th><th align="center">主键</th><th align="center">外键</th><th align="center">说明</th></tr></thead><tbody><tr><td align="center">U_number</td><td align="center">账号</td><td align="center">varchar(20)</td><td align="center">PK</td><td align="center"></td><td align="center">不能为空</td></tr><tr><td align="center">U_id</td><td align="center">用户id</td><td align="center">int</td><td align="center"></td><td align="center">FK</td><td align="center">不能为空</td></tr><tr><td align="center">U_password</td><td align="center">密码</td><td align="center">varchar(50)</td><td align="center"></td><td align="center"></td><td align="center">密码要求保密性高</td></tr></tbody></table><h4 id="消费表"><a href="#消费表" class="headerlink" title="消费表"></a>消费表</h4><table><thead><tr><th align="center">字段名</th><th align="center">中文名</th><th align="center">数据类型</th><th align="center">主键</th><th align="center">外键</th><th align="center">说明</th></tr></thead><tbody><tr><td align="center">U_id</td><td align="center">用户id</td><td align="center">int</td><td align="center">PK</td><td align="center">FK1</td><td align="center">不能为空</td></tr><tr><td align="center">C_id</td><td align="center">类别id</td><td align="center">int</td><td align="center">PK</td><td align="center">FK2</td><td align="center">不能为空</td></tr><tr><td align="center">spend</td><td align="center">消费金额</td><td align="center">int</td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center">date</td><td align="center">日期</td><td align="center">Date</td><td align="center"></td><td align="center"></td><td align="center">默认系统时间</td></tr><tr><td align="center">Comment</td><td align="center">备注</td><td align="center">varchar(255)</td><td align="center"></td><td align="center"></td><td align="center"></td></tr></tbody></table><h4 id="收入表"><a href="#收入表" class="headerlink" title="收入表"></a>收入表</h4><table><thead><tr><th align="center">字段名</th><th align="center">中文名</th><th align="center">数据类型</th><th align="center">主键</th><th align="center">外键</th><th align="center">说明</th></tr></thead><tbody><tr><td align="center">U_id</td><td align="center">用户id</td><td align="center">int</td><td align="center">PK</td><td align="center">FK1</td><td align="center">不能为空</td></tr><tr><td align="center">C_id</td><td align="center">类别id</td><td align="center">int</td><td align="center">PK</td><td align="center">FK2</td><td align="center">不能为空</td></tr><tr><td align="center">earn</td><td align="center">收入金额</td><td align="center">int</td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center">date</td><td align="center">日期</td><td align="center">Date</td><td align="center"></td><td align="center"></td><td align="center">默认系统时间</td></tr><tr><td align="center">Comment</td><td align="center">备注</td><td align="center">varchar(255)</td><td align="center"></td><td align="center"></td><td align="center"></td></tr></tbody></table><h3 id="数据流图"><a href="#数据流图" class="headerlink" title="数据流图"></a>数据流图</h3><h4 id="小账本顶层数据流图"><a href="#小账本顶层数据流图" class="headerlink" title="小账本顶层数据流图"></a>小账本顶层数据流图</h4><p><img src="https://img2018.cnblogs.com/blog/1612169/201905/1612169-20190513153305044-54285368.gif" alt="2"></p><p>细化记账功能数据流图</p><p><img src="https://img2018.cnblogs.com/blog/1612169/201905/1612169-20190513153326350-752118836.gif" alt="3"></p><p>再次细化该数据流图</p><p><img src="https://img2018.cnblogs.com/blog/1612169/201905/1612169-20190513153349206-1135797988.gif" alt="4"></p><p>用户登录数据流图</p><p><img src="https://img2018.cnblogs.com/blog/1612169/201905/1612169-20190513153404043-133274642.gif" alt="5"></p><p>查询功能数据流图</p><p><img src="https://img2018.cnblogs.com/blog/1612169/201905/1612169-20190513153417533-277382436.gif" alt="6"></p><p>心愿功能数据流图</p><p><img src="https://img2018.cnblogs.com/blog/1612169/201905/1612169-20190513153432522-1899398238.gif" alt="7"></p><h3 id="数据库源代码设计"><a href="#数据库源代码设计" class="headerlink" title="数据库源代码设计"></a>数据库源代码设计</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SET</span> FOREIGN_KEY_CHECKS = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> <span class="keyword">IF</span> <span class="keyword">EXISTS</span> <span class="string">`user`</span>;</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> <span class="keyword">IF</span> <span class="keyword">EXISTS</span> <span class="string">`property`</span>;</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> <span class="keyword">IF</span> <span class="keyword">EXISTS</span> <span class="string">`operating`</span>;</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> <span class="keyword">IF</span> <span class="keyword">EXISTS</span> <span class="string">`budget`</span>;</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> <span class="keyword">IF</span> <span class="keyword">EXISTS</span> <span class="string">`wish`</span>;</span><br><span class="line"><span class="keyword">SET</span> FOREIGN_KEY_CHECKS = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> <span class="string">`user`</span> (</span><br><span class="line">    <span class="string">`id`</span> <span class="built_in">char</span>(<span class="number">12</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span>,</span><br><span class="line">    <span class="string">`username`</span> <span class="built_in">char</span>(<span class="number">20</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span>,</span><br><span class="line">    <span class="string">`descriptin`</span> <span class="built_in">varchar</span> <span class="keyword">NOT</span> <span class="literal">NULL</span>,</span><br><span class="line">    PRIMARY <span class="keyword">KEY</span> (<span class="string">`id`</span>)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> <span class="string">`property`</span> (</span><br><span class="line">    <span class="string">`id`</span> <span class="built_in">char</span>(<span class="number">1</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span>,</span><br><span class="line">    <span class="string">`account`</span> <span class="built_in">char</span>(<span class="number">18</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span>,</span><br><span class="line">    <span class="string">`balance`</span> <span class="built_in">float</span>(<span class="number">8</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span>,</span><br><span class="line">    <span class="string">`uid`</span> <span class="built_in">char</span>(<span class="number">12</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span>,</span><br><span class="line">    PRIMARY <span class="keyword">KEY</span> (<span class="string">`id`</span>, <span class="string">`uid`</span>)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> <span class="string">`operating`</span> (</span><br><span class="line">    <span class="string">`id`</span> <span class="built_in">char</span>(<span class="number">12</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span>,</span><br><span class="line">    <span class="string">`type`</span> <span class="built_in">bool</span> <span class="keyword">NOT</span> <span class="literal">NULL</span>,</span><br><span class="line">    <span class="string">`account`</span> <span class="built_in">float</span>(<span class="number">8</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span>,</span><br><span class="line">    <span class="string">`uid`</span> <span class="built_in">char</span>(<span class="number">12</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span>,</span><br><span class="line">    <span class="string">`pid`</span> <span class="built_in">char</span>(<span class="number">1</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span>,</span><br><span class="line">    PRIMARY <span class="keyword">KEY</span> (<span class="string">`id`</span>, <span class="string">`uid`</span>, <span class="string">`pid`</span>)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> <span class="string">`budget`</span> (</span><br><span class="line">    <span class="string">`id`</span> <span class="built_in">char</span>(<span class="number">12</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span>,</span><br><span class="line">    <span class="string">`schedule`</span> <span class="built_in">float</span>(<span class="number">8</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span>,</span><br><span class="line">    <span class="string">`uid`</span> <span class="built_in">char</span>(<span class="number">12</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span>,</span><br><span class="line">    PRIMARY <span class="keyword">KEY</span> (<span class="string">`id`</span>, <span class="string">`uid`</span>)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> <span class="string">`wish`</span> (</span><br><span class="line">    <span class="string">`id`</span> <span class="built_in">char</span>(<span class="number">12</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span>,</span><br><span class="line">    <span class="string">`description`</span> <span class="built_in">varchar</span> <span class="keyword">NOT</span> <span class="literal">NULL</span>,</span><br><span class="line">    <span class="string">`finishtime`</span> <span class="built_in">date</span> <span class="keyword">NOT</span> <span class="literal">NULL</span>,</span><br><span class="line">    <span class="string">`uid`</span> <span class="built_in">char</span>(<span class="number">12</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span>,</span><br><span class="line">    PRIMARY <span class="keyword">KEY</span> (<span class="string">`id`</span>, <span class="string">`uid`</span>)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> <span class="string">`property`</span> <span class="keyword">ADD</span> <span class="keyword">FOREIGN</span> <span class="keyword">KEY</span> (<span class="string">`uid`</span>) <span class="keyword">REFERENCES</span> <span class="string">`user`</span>(<span class="string">`id`</span>);</span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> <span class="string">`operating`</span> <span class="keyword">ADD</span> <span class="keyword">FOREIGN</span> <span class="keyword">KEY</span> (<span class="string">`uid`</span>) <span class="keyword">REFERENCES</span> <span class="string">`user`</span>(<span class="string">`id`</span>);</span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> <span class="string">`operating`</span> <span class="keyword">ADD</span> <span class="keyword">FOREIGN</span> <span class="keyword">KEY</span> (<span class="string">`pid`</span>) <span class="keyword">REFERENCES</span> <span class="string">`property`</span>(<span class="string">`id`</span>);</span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> <span class="string">`budget`</span> <span class="keyword">ADD</span> <span class="keyword">FOREIGN</span> <span class="keyword">KEY</span> (<span class="string">`uid`</span>) <span class="keyword">REFERENCES</span> <span class="string">`user`</span>(<span class="string">`id`</span>);</span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> <span class="string">`wish`</span> <span class="keyword">ADD</span> <span class="keyword">FOREIGN</span> <span class="keyword">KEY</span> (<span class="string">`uid`</span>) <span class="keyword">REFERENCES</span> <span class="string">`user`</span>(<span class="string">`id`</span>);</span><br></pre></td></tr></table></figure><blockquote style="margin: 2em 0 0;padding: 0.5em 1em;border-left: 3px solid #F44336;background-color: #F5F5F5;list-style: none;"><p> <strong>本文使用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/" target="_blank" rel="noopener">CC BY-NC-SA 3.0 中国大陆</a> 协议许可<br>具体请参见 <a href="https://zyhang8.github.io/agree/" target="_blank" rel="noopener">知识共享协议</a></strong><br> <strong>本文链接：</strong><a href="https://zyhang8.github.io/2019/10/02/it-exp2/" target="_blank" rel="noopener">https://zyhang8.github.io/2019/10/02/it-exp2/</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> IT项目管理 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> IT项目管理 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>小账本APP——软件项目风险管理及解决办法案例</title>
      <link href="/2019/10/01/it-exp1/"/>
      <url>/2019/10/01/it-exp1/</url>
      
        <content type="html"><![CDATA[<h1 id="小账本APP——软件项目风险管理及解决办法案例"><a href="#小账本APP——软件项目风险管理及解决办法案例" class="headerlink" title="小账本APP——软件项目风险管理及解决办法案例"></a>小账本APP——软件项目风险管理及解决办法案例</h1><h2 id="摘要"><a href="#摘要" class="headerlink" title="摘要"></a>摘要</h2><p>软件项目风险是指在软件开发过程中遇到的预算和进度等方面的问题以及这些问题对软件项目的影响。软件项目风险会影响项目计划的实现，如果项目风险变成现实，就有可能影响项目的进度，增加项目的成本，甚至使软件项目不能实现。如果对项目进行风险管理，就可以最大限度的减少风险的发生。</p><h3 id="项目风险管理"><a href="#项目风险管理" class="headerlink" title="项目风险管理"></a>项目风险管理</h3><h4 id="人员风险（Personal-risk）"><a href="#人员风险（Personal-risk）" class="headerlink" title="人员风险（Personal risk）"></a>人员风险（Personal risk）</h4><p>一、人员流动风险：</p><p>在团队本项目过程中，技术人员的流动可能会给这款软件的开发带来很大损失，人员流动需要很高的成本，雇佣一个新员工的成本相当于老员工4.5~5个月的工资，人员的频繁流动还将抑制企业引进新技术、指定培训计划和发展策略，也就导致这款软件的开发、发展以及更新进度停滞不前</p><p>二、人员商业泄密风险：</p><p>在软件开发过程中，技术人员需要有着较好的保密性，如果在职开发人员将该软件的核心特色方面等泄漏给相似产品的竞争对手，那么对于我们软件的发布的初期将会造成非常大的阻碍以及损失。</p><p>三、人员恶意犯罪风险：</p><p>在软件开发中，有着极小概率的但不是没可能的会产生一种极端的情况：开发人员由于巨大的压力和各种负面化的情绪挤压，导致突发的情绪崩溃或者报复心理的激发，使得恶意的破坏整个软件的开发进度和内容，这种情况带来的损失将会是非常巨大的</p><p>四、人员技术风险：</p><p>对于账本业务而言，是指账本技术系统发生技术故障，导致数据中断、更新停滞、不畅，或在容量、运作等方面不能保障业务正常、有序、高效、顺利地进行，而可能给客户造成损失，创作团队因承担赔偿责任而带来经济或声誉损失的风险。还包括因软件设计缺陷，造成用户记录数据计算错误，给用户财产造成损失，作为先决条件的任务(如培训及其他项目)不能按时完成。以及在信息技术层面，用户数据数据被破坏、修改、泄漏等等风险。</p><p>五、人员关系风险：</p><p>开发人员和管理层之间关系不佳，导致整个软件的开发进度和内容；</p><p>六、人员冲突风险：</p><p>冲突的形成，原因包括个性差异的因素，创业团队内部资源的有限性，价值观的差异，角色的不同，职责划分不清等原因。而由于项目组成员之间发生冲突，导致沟通不畅、设计欠佳、接口出现错误和额外的重复工作。</p><p>七、人员滞留风险：</p><p>不适应工作的成员没有调离项目组，影响了项目组其他成员的积极性，拖慢整个项目团队的工作；</p><p>八、人员缺乏风险：</p><p>若在一段时间内，没有找到项目急需的具有特定技能的人，或者缺乏可以对新功能进行决策和开发的人员。那么将拉低整个团队的业绩，拖慢整个项目的进度。</p><h4 id="问题解决方案"><a href="#问题解决方案" class="headerlink" title="问题解决方案"></a>问题解决方案</h4><p>1）对于人员流动风险方案：</p><p>①找出人员流动的原因。可以与项目现有人员一起探讨人员流动的问题。</p><p>②当项目启动后，假设会发生人员流动并采取一些技术措施保证当人员离开时的工作连续性。</p><p>③对所有工作进行详细复审，使得不止一个人熟悉该项工作。</p><p>④对于每一个关键的技术人员都制定一个后备人员。</p><p>⑤满足员工的个人成长需要，进行丰富的再培养计划，缓解员工压力，保证员工个人需求。</p><p>⑥持续培养团队文化，强调以人为本，给员工成就感，提供各种保证策略以提高员工对自己的满意度，给他们在企业足够的发展空间。</p><p>2）对于人员商业泄密风险：</p><p>①明确严格的规章制度，对于泄漏者采取法律手段严惩。</p><p>②当项目启动后，将项目小组的成员与其他无关该项目的人员分隔开，达到该项目的内容计划只有该项目的内部人员知道，将人员经行分区化管理</p><p>3）对于人员恶意犯罪风险：</p><p>①适时的开展一些活动拓展，缓解人员的压力，释放他们的情绪以及提高人员的幸福感</p><p>②及时了解开发成员的情况，对于员工的不满等倾诉，进行合理的，及时的解决，决不能放任不管</p><p>4）对于人员技术风险：</p><p>①PM重视是搞好团队培训的前提</p><p>②科学确定培训内容</p><p>③创新技能培训方式是搞好团队培训的保证</p><p>④选择适当的培训方式。包括贴身式学习，独立式学习，度假式学习，轮换式学习。</p><p>5）对于人员关系风险：</p><p>作为管理层，多倾听员工心声。开展团体活动，管理层多与员工进行沟通交流。指定详细的行为规范，用于以后闹矛盾有依可寻。</p><p>6）对于人员冲突风险：</p><p>开展员工活动，指定良好的奖励制度。促进员工之间的交流。平时之前员工可以达成共识，管理层不偏袒员工。</p><p>7）对于人员滞留风险：</p><p>①与有问题的员工进行开诚布公的交流是正确解决问题的一个好办法。在你发现哪位员工有问题时，应该第一时间与其交谈。</p><p>②不要等到他们自己也意识到同样的问题，也许这样的事情不会发生。如果你延误了这个时间，那么有问题的员工会以为他们的工作表现是被接受的，在你发现哪位员工有问题时，应该第一时间与其交谈。</p><p>③不要等到他们自己也意识到同样的问题，也许这样的事情不会发生。如果你延误了这个时间，那么有问题的员工会以为他们的工作表现是被接受的。</p><p>8）对于人员缺乏风险：</p><p>合理划分员工的职位需求，建立预测模型，观察基于饱和度的数据，可计算该职位所需人数。</p><h4 id="流程风险（Process-risk）"><a href="#流程风险（Process-risk）" class="headerlink" title="流程风险（Process risk）"></a>流程风险（Process risk）</h4><p>一、流程临时变更风险：</p><p>在软件开发的过程中，由于用户需求的临时变更，人员流动的变化，资金链的暂时短缺等各种因素可能会导致整个项目流程的临时变更，如果应对的措手不及，带了的损失也将会是巨大的</p><p>二、流程制定不妥当风险：</p><p>一个妥当完善的开发流程对于一款软件的开发是非常重要的，如果项目进行到一半发现后续流程有问题，不符合该软件的开发，那么在中途重新规划流程，不仅在时间上耽误了，更是浪费了大量的财力物力，直接将成本提高了不少，对于产品发布后的盈利也将造成不小的损失</p><p>三、流程纸面风险</p><p>大量的纸面工作导致进程比预期的慢。向管理层撰写进程报告占用开发人员的时间比预期的多。</p><p>四、流程正规风险</p><p>①太不正规(缺乏对软件开发策略和标准的遵循)，导致沟通不足，质量欠佳，甚至需重新开发。过于正规(教条地坚持软件开发策略和标准)，导致过多耗时于无用的工作。</p><h4 id="问题解决方案-1"><a href="#问题解决方案-1" class="headerlink" title="问题解决方案"></a>问题解决方案</h4><p>1）对于流程临时变更风险：</p><p>①在项目开发启动之前，确定好用户需需求，并对未来可能的需求变化做好应对措施，同时对于其他各种情况造成的流程变更做好第二方案，使得整个项目留有足够应对大部分高概率情况造成的流程变更问题的后备流程方案</p><p>②在整个项目开发按照流程进行的过程中，制定的流程应该保证后一流程的变更不会对前一流程造成十分大的影响，能够在后备方案排不上用场的时候，仅仅改变后续流程即可接着进行项目</p><p>2）对于流程制定不妥当风险：</p><p>①在初期制定好一个妥当、晚上的流程，对流程的各个方面的可行性经行严格的分析和审核</p><p>②同样的，在整个项目开发按照流程进行的过程中，制定的流程应该保证后一流程的变更不会对前一流程造成十分大的影响，在发现流程有问题的时候，仅仅改变后续流程即可接着进行项目，将损失减到最小</p><p>3）对于流程纸面风险：</p><p>①缩减不必要的纸面材料，让开发人员专注于开发。</p><p>②招募一定数量的编写纸质材料的员工</p><p>③提前编辑好纸质材料的样式和模板。</p><p>4）对于流程制定不妥当风险：</p><p>①招募一定数量的需求分析师对产品进行分析</p><p>②做好完整的调查分析，规划软件的发展方向。</p><h4 id="技术风险（Technologyrisk）"><a href="#技术风险（Technologyrisk）" class="headerlink" title="技术风险（Technologyrisk）"></a>技术风险（Technologyrisk）</h4><p>一、技术不足风险:</p><p>现有开发人员不足以实现软件全部功能,导致产品流产;</p><p>二、技术落后风险：</p><p>由于在软件项目的过程中，我们的软件还没完全开发出来，市面上就会产生新的技术来匹配同类的产品，那么这也许就意味着我们需要丢弃前面的开发进度，重新开始，这是一种在财力，人力，物力以及时间上的一种巨大损失，及时强行投入市面上也得不到可观的效益。举个例子，就好比几年前街道旁刚开始有出租车按钮，按一下过一会就会有的士收到信息并过来的的士按钮站，但它刚出现不久，就有手机打车软件出现，那么这种情况对于的士按钮站这个软件来说，无疑是一种巨大的冲击。</p><p>三、技术重点不匹配风险：</p><p>如果在项目中，没有把握好软件的定位以及功能，将技术的重点研究方向与产品不匹配，这样开发出来的软件将会是没有市场的，等于做了无用功。比如银行相关App的技术重点多半是放在加密技术和防入侵上。但如果你将界面视觉效果作为技术重点放在银行App上，那么结果可想而知，是没有前景和市场的，并且给用户和我们自己带来巨大的损失</p><p>四、技术更新缓慢：</p><p>在软件发布后，随着市场的发展，软件内的各种技术更新换代也是非常快的，如果没有及时的做好这一点，那么根据市场导向我们的软件也将会被逐渐淘汰</p><p>五、技术冗余风险:</p><p>开发额外的不需要的功能，延长了计划进度；重复开发已有技术;</p><h4 id="问题解决方案-2"><a href="#问题解决方案-2" class="headerlink" title="问题解决方案"></a>问题解决方案</h4><p>1）对于技术不足风险:</p><p>①认真做好可行性研究中的技术分析</p><p>②明确产品需要用到哪些技术</p><p>③仔细了解所用技术的局限性</p><p>④确保开发人员的能力符合要求,并定期开展相关技术培训</p><p>⑤认真考虑是否能遵循所用技术的版权协议</p><p>2）对于技术落后风险：</p><p>①首先最基本的是要求开发人员有着深厚的技术功底，能应对技术变更比软件开发进度快的风险，对新技术的学习能力强，能很快的对自身软件进行更新</p><p>②在软件开发中应考虑到留有一个技术相关的接口，能快速的将市面上出现的新技术嵌入我们的软件中</p><p>③使用敏捷开发思想,合理规划,即时上线,快速迭代</p><p>3）对于技术重点不匹配风险：</p><p>①结合需求和可行性定位好自己软件的主打方向，避免盲目开发</p><p>②将资金，物资，人力等分配，按照重点级别分配，这样即使在软件的技术不小心发展在了在非重点的方向上，也会因为各方面短缺的阻碍使得整个项目组停下里经行重新分析，使得项目组意识到存在的问题</p><p>4）对于技术更新缓慢风险：</p><p>①及时了解和掌握市面上的技术更新方向，对技术的更新换代进行及时处理，不能拖延</p><p>②要求开发人员有着深厚的技术功底，对新技术的学习能力强，能很快的对自身软件进行更新换代</p><p>③接纳变化,及时安排重构</p><p>5）对于技术冗余风险:</p><p>①认真做好需求分析,明确系统边界</p><p>②以业余理财为核心,认真划分各模块的重要等级</p><p>③严格控制项目进度,必要时放弃不重要模块的开发</p><p>④需求分析中合理划分模块,确保代码可重用性</p><h4 id="环境风险（Environmentrisk）"><a href="#环境风险（Environmentrisk）" class="headerlink" title="环境风险（Environmentrisk）"></a>环境风险（Environmentrisk）</h4><p>一、市场环境风险：</p><p>可能会发生金融危机等市场大变动的环境风险，在这个期间开发软件，不管是对开发过程、初期发布以及后期发展都是巨大的阻碍，处理不当严重的甚至会导致项目直接宣告失败</p><p>二、内部环境风险：</p><p>开发软件的公司或者团队可能由于不良的负面新闻、失策的公关等内部因素的，导致人们对软件的了解度很低或者严重的是对我们自身而不是软件有着很低的评分以及负面的看法，那么即使你的软件做的再好，也会在初期造成十分大的损失。</p><p>三、开发环境风险:</p><p>①开发工具多样化,开发环境不统一,造成项目编译运行混乱,严重影响开发进度</p><p>②开发工具不如期望的那样有效,开发人员需要时间创建工作环境或者切换新的工具</p><p>③新的开发工具的学习期比预期的长,内容繁多</p><h4 id="问题解决方案-3"><a href="#问题解决方案-3" class="headerlink" title="问题解决方案"></a>问题解决方案</h4><p>1）市场环境风险：</p><p>①在软件开发的每个阶段，都做好应对市场动荡的后备方案</p><p>②实时了解和分析市场情动荡，并根据情况及时修改后备方案以应对风险</p><p>2）内部环境风险：</p><p>①做好合理的公关，在做好软件的同时，打造团队的良好口碑</p><p>②在每一阶段适当的公开软件相关信息，提高人们的关注度</p><p>3）开发环境风险:</p><p>①开发工具应适合项目,功能强大,易于学习,最好请有经验且涉猎较广的开发人员推荐</p><p>②开发环境应与本软件项目密切相关</p><p>③必要时使用较多经费用于购买开发工具</p><p>④必要时向第三方购买解决方案</p><p>⑤统一开发环境</p><p>⑥为开发人员预留一定时间用于熟悉开发工具与开发环境</p><blockquote style="margin: 2em 0 0;padding: 0.5em 1em;border-left: 3px solid #F44336;background-color: #F5F5F5;list-style: none;"><p> <strong>本文使用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/" target="_blank" rel="noopener">CC BY-NC-SA 3.0 中国大陆</a> 协议许可<br>具体请参见 <a href="https://zyhang8.github.io/agree/" target="_blank" rel="noopener">知识共享协议</a></strong><br> <strong>本文链接：</strong><a href="https://zyhang8.github.io/2019/10/01/it-exp1/" target="_blank" rel="noopener">https://zyhang8.github.io/2019/10/01/it-exp1/</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> IT项目管理 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> IT项目管理 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Oracle数据库安全管理</title>
      <link href="/2019/09/30/oracle-exp4/"/>
      <url>/2019/09/30/oracle-exp4/</url>
      
        <content type="html"><![CDATA[<h1 id="Oracle数据库安全管理"><a href="#Oracle数据库安全管理" class="headerlink" title="Oracle数据库安全管理"></a>Oracle数据库安全管理</h1><h2 id="一、实验目的"><a href="#一、实验目的" class="headerlink" title="一、实验目的"></a>一、实验目的</h2><p>1 掌握Oracle安全控制的实现；</p><p>2 掌握Oracle用户管理；权限管理；</p><p>3 掌握Oracle数据库角色管理；</p><p>4 了解Oracle数据库概要文件的管理；</p><p>5 了解Oracle数据库审计；</p><h2 id="二、实验要求（具体步骤进行截屏展示并配以文字说明）"><a href="#二、实验要求（具体步骤进行截屏展示并配以文字说明）" class="headerlink" title="二、实验要求（具体步骤进行截屏展示并配以文字说明）"></a>二、实验要求（具体步骤进行截屏展示并配以文字说明）</h2><h3 id="1创建一个名为Tom的用户，采用口令认证方式，口令为Tom，默认表空间为USERS，默认临时空间为TEMP。（与创建Tom类似，继续创建用户Jack，Bob）；创建完三个用户后，授予相应权限使他们都能连接到数据库；"><a href="#1创建一个名为Tom的用户，采用口令认证方式，口令为Tom，默认表空间为USERS，默认临时空间为TEMP。（与创建Tom类似，继续创建用户Jack，Bob）；创建完三个用户后，授予相应权限使他们都能连接到数据库；" class="headerlink" title="1创建一个名为Tom的用户，采用口令认证方式，口令为Tom，默认表空间为USERS，默认临时空间为TEMP。（与创建Tom类似，继续创建用户Jack，Bob）；创建完三个用户后，授予相应权限使他们都能连接到数据库；"></a>1创建一个名为Tom的用户，采用口令认证方式，口令为Tom，默认表空间为USERS，默认临时空间为TEMP。（与创建Tom类似，继续创建用户Jack，Bob）；创建完三个用户后，授予相应权限使他们都能连接到数据库；</h3><p><strong>由于之前的win10oracle和imac中docker两个oracle镜像崩溃，本想再安个虚拟机再装，后来嫌太麻烦于是在林宇靖同学的VM上进行了这次实验</strong></p><p><em>下面的TOM，JACK, BOB的用户名将用TOM_zyh, Jack_zyh, Bob_zyh用户名进行代替，由于该VM没有之前作也的HR表导致一些命令无法实现，但原理经过学习已经掌握大概</em></p><p>CREATE TABLESPACE TEMP_zyh DATAFILE ‘C:\1759116\TEMP_1.DBF’ SIZE 50M;</p><p><img src="https://s2.ax1x.com/2019/06/01/V11BJx.png" alt="V11BJx.png"></p><p>CREATE USER Tom_zyh IDENTIFIED BY Tom DEFAULT TABLESPACE USERS TEMPORARY TABLESPACE TEMP;</p><p>CREATE USER Jack_zyh IDENTIFIED BY Jack DEFAULT TABLESPACE USERS TEMPORARY TABLESPACE TEMP;</p><p>CREATE USER Bob_zyh IDENTIFIED BY Bob DEFAULT TABLESPACE USERS TEMPORARY TABLESPACE TEMP;</p><p>创建用户Tom_zyh,Jack_zyh,Bob_zyh</p><p><img src="https://s2.ax1x.com/2019/06/01/V110F1.png" alt="V110F1.png"></p><p><img src="https://s2.ax1x.com/2019/06/01/V116yD.png" alt="V116yD.png"></p><p>GRANT CREATE SESSION TO Tom_zyh;</p><p>GRANT CREATE SESSION TO Jack_zyh;</p><p>GRANT CREATE SESSION TO Bob_zyh;</p><p><img src="https://s2.ax1x.com/2019/06/01/V11doR.png" alt="V11doR.png"></p><p>给Tom_zyh、Jack_zyh、Bob_zyh授权连接数据库</p><h3 id="2-为Tom授予CREATE-TABLE-CREATE-VIEW系统权限，并可以进行权限传递；将HR方案中EMPLOYEES对象的SELECT-UPDATE-INSERT-DELETE权限授予TOM，并允许对象权限的传递；"><a href="#2-为Tom授予CREATE-TABLE-CREATE-VIEW系统权限，并可以进行权限传递；将HR方案中EMPLOYEES对象的SELECT-UPDATE-INSERT-DELETE权限授予TOM，并允许对象权限的传递；" class="headerlink" title="2 为Tom授予CREATE TABLE, CREATE VIEW系统权限，并可以进行权限传递；将HR方案中EMPLOYEES对象的SELECT, UPDATE, INSERT, DELETE权限授予TOM，并允许对象权限的传递；"></a>2 为Tom授予CREATE TABLE, CREATE VIEW系统权限，并可以进行权限传递；将HR方案中EMPLOYEES对象的SELECT, UPDATE, INSERT, DELETE权限授予TOM，并允许对象权限的传递；</h3><p>GRANT CREATE TABLE,CREATE VIEW TO Tom_zyh WITH ADMIN OPTION;</p><p>授予Tom_zyh系统权限，用WITH ADMIN OPTION可以进行权限传递</p><p><img src="https://s2.ax1x.com/2019/06/01/V11aw9.png" alt="V11aw9.png"></p><p>GRANT SELECT,UPDATE,INSERT,DELETE ON HR.EMPLOYEES TO Tom_zyh WITH GRANT OPTION;</p><p>授予Tom_zyh HR方案中EMPLOYEES对象的权限，使用WITH GRANT OPTION 可以进行对象权限的传递<br>用于没有该原始表，依旧错误</p><p><img src="https://s2.ax1x.com/2019/06/01/V112eH.png" alt="V112eH.png"></p><h3 id="3-查看Tom-Jack-Bob用户所具有的对象权限和系统权限的详细信息；"><a href="#3-查看Tom-Jack-Bob用户所具有的对象权限和系统权限的详细信息；" class="headerlink" title="3 查看Tom, Jack, Bob用户所具有的对象权限和系统权限的详细信息；"></a>3 查看Tom, Jack, Bob用户所具有的对象权限和系统权限的详细信息；</h3><p><strong>这里没有系统和对象权限应该跟原始表确实有关，跟王金峰同学代码运行依旧报错</strong></p><p>SELECT * FROM DBA_TAB_PRIVS WHERE GRANTEE=’TOM’;<br>没有对象权限</p><p>SELECT * FROM DBA_SYS_PRIVS WHERE GRANTEE=’TOM_zyh’;<br>没有系统权限</p><p>SELECT * FROM DBA_TAB_PRIVS WHERE GRANTEE=’JACK_zyh’;</p><p>没有对象权限</p><p>SELECT * FROM DBA_SYS_PRIVS WHERE GRANTEE=’JACK_zyh’;</p><p>没有系统权限</p><p>SELECT * FROM DBA_TAB_PRIVS WHERE GRANTEE=’Bob_zyh’;</p><p>没有对象权限</p><p>SELECT * FROM DBA_SYS_PRIVS WHERE GRANTEE=’Bob_zyh’;</p><p>没有系统权限</p><p><img src="https://s2.ax1x.com/2019/06/01/V11sSK.png" alt="V11sSK.png"></p><h3 id="4-以Tom用户登录系统，将CREATE-TABLE-CREATE-VIEW系统权限，HR方案中EMPLOYEES对象的SELECT-UPDATE-INSERT-DELETE权限授予Jack和Bob-并查看Tom-Jack-Bob用户所具有的对象权限和系统权限的详细信息；"><a href="#4-以Tom用户登录系统，将CREATE-TABLE-CREATE-VIEW系统权限，HR方案中EMPLOYEES对象的SELECT-UPDATE-INSERT-DELETE权限授予Jack和Bob-并查看Tom-Jack-Bob用户所具有的对象权限和系统权限的详细信息；" class="headerlink" title="4 以Tom用户登录系统，将CREATE TABLE, CREATE VIEW系统权限，HR方案中EMPLOYEES对象的SELECT, UPDATE, INSERT, DELETE权限授予Jack和Bob,并查看Tom, Jack, Bob用户所具有的对象权限和系统权限的详细信息；"></a>4 以Tom用户登录系统，将CREATE TABLE, CREATE VIEW系统权限，HR方案中EMPLOYEES对象的SELECT, UPDATE, INSERT, DELETE权限授予Jack和Bob,并查看Tom, Jack, Bob用户所具有的对象权限和系统权限的详细信息；</h3><p>退出系统用户，用Tom_zyh用户登录系统</p><p>GRANT CREATE TABLE,CREATE VIEW TO JACK WITH ADMIN OPTION;</p><p>GRANT SELECT,UPDATE,INSERT,DELETE ON HR.EMPLOYEES TO JACK WITH GRANT OPTION;</p><p>GRANT CREATE TABLE,CREATE VIEW TO BOB WITH ADMIN OPTION;</p><p>GRANT SELECT,UPDATE,INSERT,DELETE ON HR.EMPLOYEES TO BOB WITH GRANT OPTION;</p><p><img src="https://s2.ax1x.com/2019/06/01/V11DW6.png" alt="V11DW6.png"></p><p>SELECT * FROM DBA_TAB_PRIVS WHERE GRANTEE=’TOM_zyh’;</p><p>SELECT * FROM DBA_SYS_PRIVS WHERE GRANTEE=’TOM_zyh’;</p><p><img src="https://s2.ax1x.com/2019/06/01/V11yQO.png" alt="V11yQO.png"></p><p>SELECT * FROM DBA_TAB_PRIVS WHERE GRANTEE=’Jack_zyh’;</p><p>SELECT * FROM DBA_SYS_PRIVS WHERE GRANTEE=’Jack_zyh’;</p><p>SELECT * FROM DBA_TAB_PRIVS WHERE GRANTEE=’Bob_zyh’;</p><p>SELECT * FROM DBA_SYS_PRIVS WHERE GRANTEE=’Bob_zyh’;</p><p><img src="https://s2.ax1x.com/2019/06/01/V11cOe.png" alt="V11cOe.png"></p><p>看到TOM_zyh授权给Jack_zyh和Bob_zyh的对象权限和系统权限</p><h3 id="5-以SYSTEM用户登录系统，收回用户Tom的CREATE-TABLE-CREATE-VIEW系统权限，HR方案中EMPLOYEES对象的SELECT-UPDATE-INSERT-DELETE权限，查看Tom-zyh-Jack-zyh-Bob-zyh用户所具有的对象权限和系统权限的详细信息；讨论在收回具有权限传递的系统权限和对象权限的级联效应。"><a href="#5-以SYSTEM用户登录系统，收回用户Tom的CREATE-TABLE-CREATE-VIEW系统权限，HR方案中EMPLOYEES对象的SELECT-UPDATE-INSERT-DELETE权限，查看Tom-zyh-Jack-zyh-Bob-zyh用户所具有的对象权限和系统权限的详细信息；讨论在收回具有权限传递的系统权限和对象权限的级联效应。" class="headerlink" title="5 以SYSTEM用户登录系统，收回用户Tom的CREATE TABLE, CREATE VIEW系统权限，HR方案中EMPLOYEES对象的SELECT, UPDATE, INSERT, DELETE权限，查看Tom_zyh, Jack_zyh, Bob_zyh用户所具有的对象权限和系统权限的详细信息；讨论在收回具有权限传递的系统权限和对象权限的级联效应。"></a>5 以SYSTEM用户登录系统，收回用户Tom的CREATE TABLE, CREATE VIEW系统权限，HR方案中EMPLOYEES对象的SELECT, UPDATE, INSERT, DELETE权限，查看Tom_zyh, Jack_zyh, Bob_zyh用户所具有的对象权限和系统权限的详细信息；讨论在收回具有权限传递的系统权限和对象权限的级联效应。</h3><p>REVOKE CREATE TABLE,CREATE VIEW FROM TOM_zyh;</p><p>REVOKE SELECT,UPDATE,INSERT,DELETE ON HR.EMPLOYEES FROM TOM_zyh;</p><p>回收系统权限和对象权限</p><p><img src="https://s2.ax1x.com/2019/06/01/V11Rwd.png" alt="V11Rwd.png"></p><p>SELECT * FROM DBA_TAB_PRIVS WHERE GRANTEE=’TOM_zyh’;</p><p>SELECT * FROM DBA_SYS_PRIVS WHERE GRANTEE=’TOM_zyh’;</p><p><img src="https://s2.ax1x.com/2019/06/01/V11WTA.png" alt="V11WTA.png"></p><p>SELECT * FROM DBA_TAB_PRIVS WHERE GRANTEE=’JACK_zyh’;</p><p>SELECT * FROM DBA_SYS_PRIVS WHERE GRANTEE=’JACK_zyh’;</p><p><img src="https://s2.ax1x.com/2019/06/01/V115fP.png" alt="V115fP.png"></p><p>SELECT * FROM DBA_TAB_PRIVS WHERE GRANTEE=’BOB_zyh’;</p><p>SELECT * FROM DBA_SYS_PRIVS WHERE GRANTEE=’BOB_zyh’;</p><p><img src="https://s2.ax1x.com/2019/06/01/V114Yt.png" alt="V114Yt.png"></p><p>讨论在收回具有权限传递的系统权限和对象权限的级联效应。</p><p>TOM_zyh的权限被收回，由TOM_zyh授予Jack_zyh和Bob_zyh的权限同样也被收回</p><h3 id="6-创建一个角色（名字自拟），授予该角色CREATE-TABLE-CREATE-VIEW系统权限，HR方案中EMPLOYEES对象的SELECT-UPDATE-INSERT-DELETE权限，并将该角色指派给Tom，查看Tom用户所具有的对象权限和系统权限的详细信息；"><a href="#6-创建一个角色（名字自拟），授予该角色CREATE-TABLE-CREATE-VIEW系统权限，HR方案中EMPLOYEES对象的SELECT-UPDATE-INSERT-DELETE权限，并将该角色指派给Tom，查看Tom用户所具有的对象权限和系统权限的详细信息；" class="headerlink" title="6 创建一个角色（名字自拟），授予该角色CREATE TABLE, CREATE VIEW系统权限，HR方案中EMPLOYEES对象的SELECT, UPDATE, INSERT, DELETE权限，并将该角色指派给Tom，查看Tom用户所具有的对象权限和系统权限的详细信息；"></a>6 创建一个角色（名字自拟），授予该角色CREATE TABLE, CREATE VIEW系统权限，HR方案中EMPLOYEES对象的SELECT, UPDATE, INSERT, DELETE权限，并将该角色指派给Tom，查看Tom用户所具有的对象权限和系统权限的详细信息；</h3><p>CREATE USER ZYH IDENTIFIED BY ZYH DEFAULT TABLESPACE USERS TEMPORARY TABLESPACE TEMP;<br>GRANT CREATE SESSION TO ZYH;</p><p>GRANT CREATE TABLE,CREATE VIEW TO ZYH WITH ADMIN OPTION;</p><p>GRANT SELECT,UPDATE,INSERT,DELETE ON HR.EMPLOYEES TO ZYH WITH GRANT OPTION;</p><p>重复之前的操作，创建用户ZYH</p><p><img src="https://s2.ax1x.com/2019/06/01/V11hFI.png" alt="V11hFI.png"></p><p>登录ZYH，授予TOM权限</p><p>GRANT CREATE TABLE,CREATE VIEW TO TOM_zyh WITH ADMIN OPTION;</p><p>GRANT SELECT,UPDATE,INSERT,DELETE ON HR.EMPLOYEES TO TOM_zyh WITH GRANT OPTION;</p><p><img src="https://s2.ax1x.com/2019/06/01/V1176S.png" alt="V1176S.png"></p><p>SELECT * FROM DBA_TAB_PRIVS WHERE GRANTEE=’TOM_zyh’;</p><p>SELECT * FROM DBA_SYS_PRIVS WHERE GRANTEE=’TOM_zyh’;</p><p><img src="https://s2.ax1x.com/2019/06/01/V11oSf.png" alt="V11oSf.png"></p><p>To_zyh的权限来自ZYH</p><p>SELECT * FROM DBA_TAB_PRIVS WHERE GRANTEE=’JACK_zyh’;</p><p>SELECT * FROM DBA_SYS_PRIVS WHERE GRANTEE=’JACK_zyh’;</p><p>SELECT * FROM DBA_TAB_PRIVS WHERE GRANTEE=’Bob_zyh’;</p><p>SELECT * FROM DBA_SYS_PRIVS WHERE GRANTEE=’Bob_zyh’;</p><p><img src="https://s2.ax1x.com/2019/06/01/V11Tl8.png" alt="V11Tl8.png"></p><p>JACK_zyh和Bob_zyh的权限随着TOM的权限被收回而消失，ZYH授予TOM_zyh的权限不能进行权限传递，JACK_zyh和Bob_zyh没有获得权限</p><h3 id="7-创建一个概要文件，DEMO。要求每个用户的最多会话数为3个，最长的连接时间为60分钟，最大空闲时间为20分钟，每个会话占用CPU的最大时间为10秒；用户使用口令登录系统的最大尝试次数为3次，登录失败后账户锁定7天。"><a href="#7-创建一个概要文件，DEMO。要求每个用户的最多会话数为3个，最长的连接时间为60分钟，最大空闲时间为20分钟，每个会话占用CPU的最大时间为10秒；用户使用口令登录系统的最大尝试次数为3次，登录失败后账户锁定7天。" class="headerlink" title="7 创建一个概要文件，DEMO。要求每个用户的最多会话数为3个，最长的连接时间为60分钟，最大空闲时间为20分钟，每个会话占用CPU的最大时间为10秒；用户使用口令登录系统的最大尝试次数为3次，登录失败后账户锁定7天。"></a>7 创建一个概要文件，DEMO。要求每个用户的最多会话数为3个，最长的连接时间为60分钟，最大空闲时间为20分钟，每个会话占用CPU的最大时间为10秒；用户使用口令登录系统的最大尝试次数为3次，登录失败后账户锁定7天。</h3><p>CREATE PROFILE DEMO_zyh LIMIT</p><p>SESSIONS_PER_USER 3 CONNECT_TIME 60 IDLE_TIME 20</p><p>CPU_PER_CALL 100 FAILED_LOGIN_ATTEMPTS 3 PASSWORD_LOCK_TIME 7;</p><p>创建概要文件DEMO：create profile demo</p><p>限制：limit</p><p>最多会话数3个：sessions_per_user 3</p><p>最长的连接时间为60分钟：connect_time 60</p><p>最大空闲时间20分钟：idle_time 20</p><p>每个会话占用CPU的最大时间为10秒：cpu_per_call 100</p><p>用户使用口令登录系统的最大尝试次数为3次：failed_login_attempts 3</p><p>登陆失败后账户锁定7天：password_lock_time 7</p><p><img src="https://s2.ax1x.com/2019/06/01/V11OTs.png" alt="V11OTs.png"></p><h3 id="8-将概要文件指派给用户Jack，然后以Jack账户登录系统并连续三次输入错误口令，查看账户状态。"><a href="#8-将概要文件指派给用户Jack，然后以Jack账户登录系统并连续三次输入错误口令，查看账户状态。" class="headerlink" title="8 将概要文件指派给用户Jack，然后以Jack账户登录系统并连续三次输入错误口令，查看账户状态。"></a>8 将概要文件指派给用户Jack，然后以Jack账户登录系统并连续三次输入错误口令，查看账户状态。</h3><p>ALTER USER JACK PROFILE DEMO_zyh;</p><p><img src="https://s2.ax1x.com/2019/06/01/V11Lwj.png" alt="V11Lwj.png"></p><p>连续输入三次错误口令后闪退</p><p><img src="https://s2.ax1x.com/2019/06/01/V11HOg.png" alt="V11HOg.png"></p><p>查看账号状态</p><p>SELECT ACCOUNT_STATUS FROM DBA_USERS WHERE USERNAME=’Jack_zyh’;</p><p><img src="https://s2.ax1x.com/2019/06/01/V11qmQ.png" alt="V11qmQ.png"></p><p>用户Jack_zyh被锁定LOCKED(TIMED)</p><blockquote style="margin: 2em 0 0;padding: 0.5em 1em;border-left: 3px solid #F44336;background-color: #F5F5F5;list-style: none;"><p> <strong>本文使用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/" target="_blank" rel="noopener">CC BY-NC-SA 3.0 中国大陆</a> 协议许可<br>具体请参见 <a href="https://zyhang8.github.io/agree/" target="_blank" rel="noopener">知识共享协议</a></strong><br> <strong>本文链接：</strong><a href="https://zyhang8.github.io/2019/10/01/oracle-exp4/" target="_blank" rel="noopener">https://zyhang8.github.io/2019/10/01/oracle-exp4/</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> oracle </category>
          
      </categories>
      
      
        <tags>
            
            <tag> oracle </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Oracle对象的创建与管理</title>
      <link href="/2019/09/29/oracle-exp2/"/>
      <url>/2019/09/29/oracle-exp2/</url>
      
        <content type="html"><![CDATA[<h1 id="Oracle对象的创建与管理"><a href="#Oracle对象的创建与管理" class="headerlink" title="Oracle对象的创建与管理"></a>Oracle对象的创建与管理</h1><h2 id="一、实验目的"><a href="#一、实验目的" class="headerlink" title="一、实验目的"></a>一、实验目的</h2><p>1掌握Oracle数据库表的创建与管理；</p><p>2掌握Oracle数据库索引的创建与管理；</p><h2 id="二、实验要求（具体步骤进行截屏展示并配以文字说明）"><a href="#二、实验要求（具体步骤进行截屏展示并配以文字说明）" class="headerlink" title="二、实验要求（具体步骤进行截屏展示并配以文字说明）"></a>二、实验要求（具体步骤进行截屏展示并配以文字说明）</h2><p>1完成表管理操作；包括表的创建，修改表；查询表信息；删除表。</p><p>（1）创建新的表空间MYTABLESAPCE，MYINDX创建以下表存于MYTABLESAPCE。</p><p>REGIONS</p><table><thead><tr><th align="center">字段名</th><th align="center">数据类型</th><th align="center">长度</th><th align="center">约束</th><th align="center">说明</th></tr></thead><tbody><tr><td align="center">region_id</td><td align="center">NUMBER</td><td align="center"></td><td align="center">PRIMARY KEY</td><td align="center">区域编号                                                                                                                                                                                                                                                                                NUMBER        PRIMARY KEY    区域编号</td></tr><tr><td align="center">region_name</td><td align="center">VARCHAR2</td><td align="center">25</td><td align="center">NOT NULL</td><td align="center">区域名称</td></tr></tbody></table><p>COUNTRIES</p><table><thead><tr><th align="center">字段名</th><th align="center">数据类型</th><th align="center">长度</th><th align="center">约束</th><th align="center">说明</th></tr></thead><tbody><tr><td align="center">country_id</td><td align="center">CHAR</td><td align="center">2</td><td align="center">PRIMAR KEY</td><td align="center">国家编号</td></tr><tr><td align="center">country_name</td><td align="center">VARCHAR2</td><td align="center">40</td><td align="center">NOT NULL</td><td align="center">国家名称</td></tr><tr><td align="center">region_id</td><td align="center">NUMBER</td><td align="center"></td><td align="center">FOREIGN KEY</td><td align="center">所属区域编号</td></tr></tbody></table><p>LOCATIONS</p><table><thead><tr><th align="center">字段名</th><th align="center">数据类型</th><th align="center">长度</th><th align="center">约束</th><th align="center">说明</th></tr></thead><tbody><tr><td align="center">location_id</td><td align="center">NUMBER</td><td align="center">4</td><td align="center">PRIMAR KEY</td><td align="center">位置编号</td></tr><tr><td align="center">street_address</td><td align="center">VARCHAR2</td><td align="center">40</td><td align="center">街道</td><td align="center"></td></tr><tr><td align="center">postal_code</td><td align="center">VARCHAR2</td><td align="center">12</td><td align="center">邮编</td><td align="center"></td></tr><tr><td align="center">city</td><td align="center">VARCHAR2</td><td align="center">30</td><td align="center">NOT NULL</td><td align="center">城市名称</td></tr><tr><td align="center">state_province</td><td align="center">VARCHAR2</td><td align="center">25</td><td align="center">州或省名称</td><td align="center"></td></tr><tr><td align="center">country_id</td><td align="center">CHAR</td><td align="center">2</td><td align="center">FOREIGN KEY</td><td align="center">所属国家编号</td></tr></tbody></table><p>DEPARTMENTS</p><table><thead><tr><th align="center">字段名</th><th align="center">数据类型</th><th align="center">长度</th><th align="center">约束</th><th align="center">说明</th></tr></thead><tbody><tr><td align="center">department_id</td><td align="center">NUMBER</td><td align="center">4</td><td align="center">PRIMAR KEY</td><td align="center">部门编号</td></tr><tr><td align="center">department_name</td><td align="center">VARCHAR2</td><td align="center">30</td><td align="center">NOT NULL</td><td align="center">部门名称</td></tr><tr><td align="center">manager_id</td><td align="center">NUMBER</td><td align="center">6</td><td align="center">部门管理者工号</td><td align="center"></td></tr><tr><td align="center">location_id</td><td align="center">NUMBER</td><td align="center">4</td><td align="center">FOREIGN KEY</td><td align="center">位置编号</td></tr></tbody></table><p>JOBS</p><table><thead><tr><th align="center">字段名</th><th align="center">数据类型</th><th align="center">长度</th><th align="center">约束</th><th align="center">说明</th></tr></thead><tbody><tr><td align="center">job_id</td><td align="center">VARCHAR2</td><td align="center">10</td><td align="center">PRIMAR KEY</td><td align="center">职位编号</td></tr><tr><td align="center">job_title</td><td align="center">VARCHAR2</td><td align="center">35</td><td align="center">NOT NULL</td><td align="center">职位名称</td></tr><tr><td align="center">min_salary</td><td align="center">NUMBER</td><td align="center">6</td><td align="center">职位最低工资</td><td align="center"></td></tr><tr><td align="center">max_salary</td><td align="center">NUMBER</td><td align="center">6</td><td align="center">职位最高工资</td><td align="center"></td></tr></tbody></table><p>EMPLOYEES</p><table><thead><tr><th align="center">字段名</th><th align="center">数据类型</th><th align="center">长度</th><th align="center">约束</th><th align="center">说明</th></tr></thead><tbody><tr><td align="center">employee_id</td><td align="center">NUMBER</td><td align="center">6</td><td align="center">PRIMARY KEY</td><td align="center"></td></tr><tr><td align="center">first_name</td><td align="center">VARCHAR2</td><td align="center">20</td><td align="center"></td><td align="center"></td></tr><tr><td align="center">last_name</td><td align="center">VARCHAR2</td><td align="center">25</td><td align="center">NOT NULL</td><td align="center"></td></tr><tr><td align="center">email</td><td align="center">VARCHAR2</td><td align="center">25</td><td align="center">NOT NULL</td><td align="center"></td></tr><tr><td align="center">phone_number</td><td align="center">VARCHAR2</td><td align="center">20</td><td align="center"></td><td align="center"></td></tr><tr><td align="center">hire_date</td><td align="center">DATE</td><td align="center"></td><td align="center">NOT NULL</td><td align="center"></td></tr><tr><td align="center">job_id</td><td align="center">VARCHAR2</td><td align="center">10</td><td align="center">NOT NULL,FOREIGN KEY</td><td align="center"></td></tr><tr><td align="center">salary</td><td align="center">NUMBER</td><td align="center">8,2</td><td align="center">大于0</td><td align="center"></td></tr><tr><td align="center">commission_pct</td><td align="center">NUMBER</td><td align="center">2,2</td><td align="center"></td><td align="center"></td></tr><tr><td align="center">manager_id</td><td align="center">NUMBER</td><td align="center">6</td><td align="center">FOREIGEN KEY</td><td align="center"></td></tr><tr><td align="center">department_id</td><td align="center">NUMBER</td><td align="center">4</td><td align="center">FOREIGN KEY</td><td align="center"></td></tr></tbody></table><p>JOB_HISTORY</p><table><thead><tr><th align="center">字段名</th><th align="center">数据类型</th><th align="center">长度</th><th align="center">约束</th><th align="center">说明</th></tr></thead><tbody><tr><td align="center">employee_id</td><td align="center">NUMBER</td><td align="center">6</td><td align="center">PRIMARY KEY</td><td align="center"></td></tr><tr><td align="center">start_date</td><td align="center">DATE</td><td align="center"></td><td align="center">PRIMARY KEY</td><td align="center"></td></tr><tr><td align="center">end_date</td><td align="center">DATE</td><td align="center"></td><td align="center">NOT NULL, end_date&gt;start_date</td><td align="center"></td></tr><tr><td align="center">job_id</td><td align="center">VARCHAR2</td><td align="center">10</td><td align="center"></td><td align="center"></td></tr><tr><td align="center">department_id</td><td align="center">NUMBER</td><td align="center">4</td><td align="center">FOREIGN KEY</td><td align="center"></td></tr></tbody></table><p>SAL_GRADES</p><table><thead><tr><th align="center">字段名</th><th align="center">数据类型</th><th align="center">长度</th><th align="center">约束</th><th align="center">说明</th></tr></thead><tbody><tr><td align="center">grade</td><td align="center">NUMBER</td><td align="center">2</td><td align="center">PRIMAR KEY</td><td align="center">工资等级</td></tr><tr><td align="center">min_salary</td><td align="center">NUMBER</td><td align="center">6</td><td align="center">NOT NULL</td><td align="center">职位最低工资</td></tr><tr><td align="center">max_salary</td><td align="center">NUMBER</td><td align="center">6</td><td align="center">NOT NULL</td><td align="center">职位最高工资</td></tr></tbody></table><p>（2）为DEPARTMENTS添加一个列headcount，数据类型为number,可以为空；为EMPLOYEES添加一个列gender数据类型为char(1)，约束是该列的取值只能是M或者F; 通过查询相关视图检验操作是否成功。</p><p>（3）为EMPLOYEES表的email列添加唯一性约束（UNIQUE），通过查询相关视图检验操作是否成功。</p><p>（4）在EMPLOYEES表的（first_name,last_name）上创建一个B树索引，要求索引值为大写字母并存于MYINDX表空间；在gender上创建位图索引。通过查询相关视图检验操作是否成功。</p><h2 id="三、实验步骤和结果"><a href="#三、实验步骤和结果" class="headerlink" title="三、实验步骤和结果"></a>三、实验步骤和结果</h2><p>1完成表管理操作；包括表的创建，修改表；查询表信息；删除表。</p><p>（1）创建新的表空间MYTABLESAPCE，MYINDX创建以下表存于MYTABLESAPCE。</p><p>1）首先查询表空间信息，输入</p><p>SQL&gt; SELECT TABLESPACE_NAME, EXTENT_MANAGEMENT, ALLOCATION_TYPE, CONTENTS FROM DBA_TABLESPACES;</p><p>出现</p><p><img src="https://s2.ax1x.com/2019/11/01/KTOWlT.png" alt="KTOWlT.png"></p><p>2）找出打开数据库的时候报错的地方</p><p>SQL&gt; select open_mode from v$database;</p><p><img src="https://s2.ax1x.com/2019/11/01/KTOgf0.png" alt="KTOgf0.png"></p><p>3）抛出的错误：</p><p>SQL&gt; alter database open;</p><p><img src="https://s2.ax1x.com/2019/11/01/KTORpV.png" alt="KTORpV.png"></p><p>后分析为上次实验二的残留文件还未删除</p><p>4）删除残留文件</p><p>SQL&gt; alter database datafile ‘C:\USERS\901\DESKTOP\DATAFILE2.DBF’ offline drop;</p><p><img src="https://s2.ax1x.com/2019/11/01/KTOcYq.png" alt="KTOcYq.png"></p><p>5）删除完查看状态</p><p>SQL&gt; alter database open;</p><p><img src="https://s2.ax1x.com/2019/11/01/KTO6kn.png" alt="KTO6kn.png"></p><p>6）查看表空间信息成功</p><p>SQL&gt; SELECT TABLESPACE_NAME, EXTENT_MANAGEMENT, ALLOCATION_TYPE, CONTENTS FROM DBA_TABLESPACES;</p><p><img src="https://s2.ax1x.com/2019/11/01/KTOf6U.png" alt="KTOf6U.png"></p><p>7）创建MYTABLESAPCE表空间</p><p>SQL&gt; CREATE TABLESPACE MYTABLESAPCE DATAFILE ‘D:\Test\MYTABLESAPCE.DBF’ SIZE 50M EXTENT MANAGEMENT LOCAL UNIFORM SIZE 512K SEGMENT SPACE MANAGEMENT MANUAL;</p><p><img src="https://s2.ax1x.com/2019/11/01/KTOhXF.png" alt="KTOhXF.png"></p><p>8）创建MYINDX表空间</p><p>SQL&gt; CREATE TABLESPACE MYINDX DATAFILE ‘D:\Test\MYINDX.DBF’ SIZE 50M EXTENT MANAGEMENT LOCAL UNIFORM SIZE 512K SEGMENT SPACE MANAGEMENT MANUAL;</p><p><img src="https://s2.ax1x.com/2019/11/01/KTO5m4.png" alt="KTO5m4.png"></p><p>9）创建REGIONS表</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">SQL&gt; create table REGIONS(</span><br><span class="line">           region_id  NUMBER primary key,</span><br><span class="line">           region_name VARCHAR(25) not null</span><br><span class="line">           );</span><br></pre></td></tr></table></figure><p>number加括号不加参数会显示错误</p><p><img src="https://s2.ax1x.com/2019/11/01/KTOI0J.png" alt="KTOI0J.png"></p><p>加括号后成功</p><p><img src="https://s2.ax1x.com/2019/11/01/KTOo79.png" alt="KTOo79.png"></p><p>number默认参数为p（精度）为38，小数点位数的合法值为-84~127</p><p>到第10步发现把VARCHAR2看成VARCHAR类型，并查找VARCHAR和VARCHAR2的区别，后删除表</p><p>SQL&gt; DROP TABLE DEPARTMENTS;</p><p>SQL&gt; DROP TABLE COUNTRIES;</p><p><img src="https://s2.ax1x.com/2019/11/01/KTO7kR.png" alt="KTO7kR.png"></p><p>重新创建</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">SQL&gt; create table REGIONS(</span><br><span class="line">region_id  NUMBER primary key,</span><br><span class="line">region_name VARCHAR2(25) not null</span><br><span class="line">);</span><br></pre></td></tr></table></figure><p><img src="https://s2.ax1x.com/2019/11/01/KTOHt1.png" alt="KTOHt1.png"></p><p>10）创建COUNTRIES表</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">SQL&gt; create table COUNTRIES(</span><br><span class="line">country_id CHAR(2) primary key,</span><br><span class="line">country_name VARCHAR2(40) not null，</span><br><span class="line">region_id number references REGIONS (region_id )</span><br><span class="line">);</span><br></pre></td></tr></table></figure><p>到注释添加时失败回过头来看发现字段名称打错</p><p><img src="https://s2.ax1x.com/2019/11/01/KTObfx.png" alt="KTObfx.png"></p><p>修改表字段名称</p><p>SQL&gt; alter table COUNTRIES rename column classid to region_id;</p><p><img src="https://s2.ax1x.com/2019/11/01/KTOLp6.png" alt="KTOLp6.png"></p><p>11）创建LOCATIONS表</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">SQL&gt; create table LOCATIONS (</span><br><span class="line">location_id NUMBER(4) primary key,</span><br><span class="line">street_address VARCHAR2(40)，</span><br><span class="line">postal_code VARCHAR2(12),</span><br><span class="line">city VARCHAR2(30) not null,</span><br><span class="line">state_province VARCHAR2(25),</span><br><span class="line">country_id CHAR references COUNTRIES (country_id)</span><br><span class="line">);</span><br></pre></td></tr></table></figure><p><img src="https://s2.ax1x.com/2019/11/01/KTOO1K.png" alt="KTOO1K.png"></p><p>12）创建DEPARTMENTS表</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">SQL&gt; create table DEPARTMENTS (</span><br><span class="line">department_id NUMBER(4) primary key ,</span><br><span class="line">department_name VARCHAR2(30) not null，</span><br><span class="line">manager_id NUMBER(6),</span><br><span class="line">location_id NUMBER(4) references LOCATIONS (location_id)</span><br><span class="line">);</span><br></pre></td></tr></table></figure><p><img src="https://s2.ax1x.com/2019/11/01/KTOX6O.png" alt="KTOX6O.png"></p><p>13）创建JOBS表</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">SQL&gt; create table JOBS (</span><br><span class="line">job_id VARCHAR2(10) primary key ,</span><br><span class="line">job_title VARCHAR2(35) not null，</span><br><span class="line">min_salary NUMBER(6),max_salary NUMBER(6)</span><br><span class="line">);</span><br></pre></td></tr></table></figure><p><img src="https://s2.ax1x.com/2019/11/01/KTOjXD.png" alt="KTOjXD.png"></p><p>14）创建EMPLOYEES表</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">SQL&gt; create table EMPLOYEES (</span><br><span class="line">employee_id  NUMBER(6) primary key,</span><br><span class="line">first_name VARCHAR2(20),</span><br><span class="line">last_name VARCHAR2(25) not null,</span><br><span class="line">email VARCHAR2(20) not null,</span><br><span class="line">phone_number VARCHAR2(20) ,</span><br><span class="line"> hire_date DATE not null ,</span><br><span class="line">job_id VARCHAR2(10) not null references JOBS (job_id),</span><br><span class="line">salary NUMBER(8,2) <span class="keyword">CHECK</span> (salary &gt; <span class="number">0</span>),</span><br><span class="line">commission_pct <span class="built_in">NUMBER</span>(<span class="number">2</span>,<span class="number">2</span>),</span><br><span class="line">manager_id <span class="built_in">NUMBER</span>(<span class="number">6</span>),</span><br><span class="line">department_id <span class="built_in">NUMBER</span>(<span class="number">4</span>) <span class="keyword">references</span> DEPARTMENTS (department_id)</span><br><span class="line">);</span><br></pre></td></tr></table></figure><p><img src="https://s2.ax1x.com/2019/11/01/KTOxne.png" alt="KTOxne.png"></p><p>于是查看DEPARTMENTS表中查看manage_id字段，他并不是主键，所以不能使用外键来进行约束，可能老师您题目出错了。<br>去掉manage_id的外键约束</p><p><img src="https://s2.ax1x.com/2019/11/01/KTOz0H.png" alt="KTOz0H.png"></p><p>成功。</p><p>15）创建JOB_HISTORY表</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">SQL&gt; create table JOB_HISTORY (</span><br><span class="line">employee_id  NUMBER(6) not null references employees(employee_id), </span><br><span class="line">start_date DATE not null,</span><br><span class="line">end_date DATE not null,</span><br><span class="line">job_id VARCHAR2(10),</span><br><span class="line">department_id NUMBER(4) references DEPARTMENTS (department_id),</span><br><span class="line">CONSTRAINT jhist_date_interval <span class="keyword">CHECK</span> (end_date &gt; start_date),</span><br><span class="line"><span class="keyword">CONSTRAINT</span> jhist_emp_id_st_date_pk PRIMARY <span class="keyword">KEY</span> (employee_id, start_date)</span><br><span class="line">);</span><br></pre></td></tr></table></figure><p>一开始按自己思路写，后显示错误，意识到表里不能有两个主键</p><p><img src="https://s2.ax1x.com/2019/11/01/KTXS7d.png" alt="KTXS7d.png"></p><p>修改为课本案例，修改后的CONSTRAINT的意思为添加约束，成功</p><p><img src="https://s2.ax1x.com/2019/11/01/KTX9AA.png" alt="KTX9AA.png"></p><p>16）创建SAL_GRADES表</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">SQL&gt; create table SAL_GRADES (</span><br><span class="line">grade  NUMBER(2) PRIMARY KEY,</span><br><span class="line">min_salary NUMBER(6) not null,</span><br><span class="line">max_salary NUMBER(6) not null</span><br><span class="line">);</span><br></pre></td></tr></table></figure><p><img src="https://s2.ax1x.com/2019/11/01/KTXCtI.png" alt="KTXCtI.png"></p><p>17）给所有表中的字段添加注释</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">SQL&gt; COMMENT ON COLUMN REGIONS.region_id IS '区域编号';</span><br><span class="line">SQL&gt; COMMENT ON COLUMN REGIONS.region_name IS '区域名称';</span><br><span class="line">SQL&gt; COMMENT ON COLUMN COUNTRIES.country_id IS '国家编号';</span><br><span class="line">SQL&gt; COMMENT ON COLUMN COUNTRIES.country_name IS '国家名称';</span><br><span class="line">SQL&gt; COMMENT ON COLUMN COUNTRIES.region_id IS '所属区域编号';</span><br><span class="line">SQL&gt; COMMENT ON COLUMN LOCATIONS.location_id IS '位置编号';</span><br><span class="line">SQL&gt; COMMENT ON COLUMN LOCATIONS.street_address IS '街道';</span><br><span class="line">SQL&gt; COMMENT ON COLUMN LOCATIONS.postal_code IS '邮编';</span><br><span class="line">SQL&gt; COMMENT ON COLUMN LOCATIONS.city IS '城市名称';</span><br><span class="line">SQL&gt; COMMENT ON COLUMN LOCATIONS.state_province IS '州或省名称';</span><br><span class="line">SQL&gt; COMMENT ON COLUMN LOCATIONS.country_id IS '所属国家编号';</span><br><span class="line">SQL&gt; COMMENT ON COLUMN DEPARTMENTS.department_id IS '部门编号';</span><br><span class="line">SQL&gt; COMMENT ON COLUMN DEPARTMENTS.department_name IS '部门名称';</span><br><span class="line">SQL&gt; COMMENT ON COLUMN DEPARTMENTS.manager_id IS '部门管理者工号';</span><br><span class="line">SQL&gt; COMMENT ON COLUMN DEPARTMENTS.location_id IS '位置编号';</span><br><span class="line">SQL&gt; COMMENT ON COLUMN JOBS.job_id IS '职位编号';</span><br><span class="line">SQL&gt; COMMENT ON COLUMN JOBS.job_title IS '职位名称';</span><br><span class="line">SQL&gt; COMMENT ON COLUMN JOBS.min_salary IS '职位最低工资';</span><br><span class="line">SQL&gt; COMMENT ON COLUMN JOBS.max_salary IS '职位最高工资';</span><br><span class="line">SQL&gt; COMMENT ON COLUMN SAL_GRADES.grade IS '工资等级';</span><br><span class="line">SQL&gt; COMMENT ON COLUMN SAL_GRADES.min_salary IS '职位最低工资';</span><br><span class="line">SQL&gt; COMMENT ON COLUMN SAL_GRADES.max_salary IS '职位最高工资';</span><br></pre></td></tr></table></figure><p><img src="https://s2.ax1x.com/2019/11/01/KTXPht.png" alt="KTXPht.png"></p><p><img src="https://s2.ax1x.com/2019/11/01/KTXF9P.png" alt="KTXF9P.png"></p><p>一开始出现3处备注错误</p><p>修改后成功</p><p><img src="https://s2.ax1x.com/2019/11/01/K73W8A.png" alt="K73W8A.png"></p><p><img src="https://s2.ax1x.com/2019/11/01/K73wg1.png" alt="K73wg1.png"></p><p><img src="https://s2.ax1x.com/2019/11/01/K730jx.png" alt="K730jx.png"></p><p>（2）为DEPARTMENTS添加一个列headcount，数据类型为number,可以为空；为EMPLOYEES添加一个列gender数据类型为char(1)，约束是该列的取值只能是M或者F; 通过查询相关视图检验操作是否成功。</p><p>1）添加列headcount</p><p>SQL&gt; ALTER TABLE DEPARTMENTS</p><p>ADD(headcount number);</p><p><img src="https://s2.ax1x.com/2019/11/01/K73d3R.png" alt="K73d3R.png"></p><p>2）添加列gender</p><p>SQL&gt; ALTER TABLE EMPLOYEES</p><p>ADD(gender char(1));</p><p><img src="https://s2.ax1x.com/2019/11/01/K73aC9.png" alt="K73aC9.png"></p><p>3)添加gender检查约束</p><p>SQL&gt;  ALTER TABLE EMPLOYEES ADD CONSTRAINT gender CHECK (gender in (‘F’,’M’));</p><p><img src="https://s2.ax1x.com/2019/11/01/K73Du6.png" alt="K73Du6.png"></p><p>4)查询相关视图</p><p>SQL&gt; select t.column_name, t.column_name from user_col_comments t where t.table_name = ‘DEPARTMENTS’; </p><p><img src="https://s2.ax1x.com/2019/11/01/K73rDK.png" alt="K73rDK.png"></p><p>SQL&gt; select t.column_name, t.column_name from user_col_comments t where t.table_name = ‘EMPLOYEES’; </p><p><img src="https://s2.ax1x.com/2019/11/01/K73sHO.png" alt="K73sHO.png"></p><p>select table_name,constraint_name,constraint_type from user_constraints where table_name=’EMPLOYEES’;</p><p><img src="https://s2.ax1x.com/2019/11/01/K736ED.png" alt="K736ED.png"></p><p>（3）为EMPLOYEES表的email列添加唯一性约束（UNIQUE），通过查询相关视图检验操作是否成功。</p><p>1)添加约束</p><p>SQL&gt; ALTER TABLE EMPLOYEES ADD CONSTRAINT E_UK UNIQUE(email);</p><p><img src="https://s2.ax1x.com/2019/11/01/K73cUe.png" alt="K73cUe.png"></p><p>2)查询检验</p><p>SQL&gt; select table_name,constraint_name,constraint_type from user_constraints where table_name=’EMPLOYEES’;</p><p><img src="https://s2.ax1x.com/2019/11/01/K73hvt.png" alt="K73hvt.png"></p><p>（4）在EMPLOYEES表的（first_name,last_name）上创建一个B树索引，要求索引值为大写字母并存于MYINDX表空间；在gender上创建位图索引。通过查询相关视图检验操作是否成功。</p><p>1）前提准备</p><p>之前知道什么是索引，但是不知道B树索引，于是寻找相关概念</p><p><img src="https://s2.ax1x.com/2019/11/01/K78YsP.png" alt="K78YsP.png"></p><p>2）创建B树索引</p><p>不知道索引值的概念，网上也查不到，我觉得老师您的意思应该是索引名吧</p><p>SQL&gt; CREATE INDEX B ON EMPLOYEES (first_name,last_name) TABLESPACE MYINDX;</p><p><img src="https://s2.ax1x.com/2019/11/01/K73g4H.png" alt="K73g4H.png"></p><p>3）创建位图索引</p><p>SQL&gt; CREATE BITMAP INDEX emp_gender_index ON EMPLOYEES (gender) TABLESPACE MYINDX;</p><p><img src="https://s2.ax1x.com/2019/11/01/K73RCd.png" alt="K73RCd.png"></p><p>4)查询检验</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">b.uniqueness, a.index_name, a.table_name, a.column_name</span><br><span class="line"><span class="keyword">FROM</span> all_ind_columns a, all_indexes b</span><br><span class="line"><span class="keyword">WHERE</span> a.index_name=b.index_name</span><br><span class="line"><span class="keyword">AND</span> a.table_name = <span class="keyword">upper</span>(<span class="string">'EMPLOYEES'</span>)</span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> a.table_name, a.index_name, a.column_position;</span><br></pre></td></tr></table></figure><p>一开始复制题目的EMPLOYEE结果总是出现</p><p><img src="https://s2.ax1x.com/2019/11/01/K78JMt.png" alt="K78JMt.png"></p><p>查询网上发现大部分情况为表为空，明明创了表怎么可能为空</p><p>结果发现之前表明是EMPLOYEES，题目少了S</p><p>修改语句中的表明</p><p><img src="https://s2.ax1x.com/2019/11/01/K735KP.png" alt="K735KP.png"></p><p>成功</p><blockquote style="margin: 2em 0 0;padding: 0.5em 1em;border-left: 3px solid #F44336;background-color: #F5F5F5;list-style: none;"><p> <strong>本文使用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/" target="_blank" rel="noopener">CC BY-NC-SA 3.0 中国大陆</a> 协议许可<br>具体请参见 <a href="https://zyhang8.github.io/agree/" target="_blank" rel="noopener">知识共享协议</a></strong><br> <strong>本文链接：</strong><a href="https://zyhang8.github.io/2019/09/29/oracle-exp2/" target="_blank" rel="noopener">https://zyhang8.github.io/2019/09/29/oracle-exp2/</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> oracle </category>
          
      </categories>
      
      
        <tags>
            
            <tag> oracle </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>鱼的记忆|gitgnore</title>
      <link href="/2019/09/28/gitgnore/"/>
      <url>/2019/09/28/gitgnore/</url>
      
        <content type="html"><![CDATA[<h2 id="gitgnore"><a href="#gitgnore" class="headerlink" title="gitgnore"></a>gitgnore</h2><blockquote><p>gitgnore语法记忆</p></blockquote><h3 id="忽略文件原则"><a href="#忽略文件原则" class="headerlink" title="忽略文件原则"></a>忽略文件原则</h3><ul><li>忽略操作系统自动生成的文件，比如缩略图等；</li><li>忽略编译生成的中间文件、可执行文件等，也就是如果一个文件是通过另一个文件自动生成的，那自动生成的文件就没必要放进版本库</li><li>忽略你自己的带有敏感信息的配置文件，比如存放口令的配置文件。</li></ul><h3 id="语法规范"><a href="#语法规范" class="headerlink" title="语法规范"></a>语法规范</h3><ul><li>空行或是以#开头的行即注释行将被忽略；</li><li>以斜杠 “/” 结尾表示目录；</li><li>以星号 “*” 通配多个字符；</li><li>以问号 “?” 通配单个字符</li><li>以方括号 “[]” 包含单个字符的匹配列表；</li><li>以叹号 “!” 表示不忽略(跟踪)匹配到的文件或目录；</li><li>可以在前面添加斜杠 “/” 来避免递归,下面的例子中可以很明白的看出来与下一条的区别。</li></ul><h3 id="配置文件实例"><a href="#配置文件实例" class="headerlink" title="配置文件实例"></a>配置文件实例</h3><ol><li>忽略 .a 文件</li></ol><p>*.a</p><ol start="2"><li>但否定忽略 lib.a, 尽管已经在前面忽略了 .a 文件<br>!lib.a</li><li>仅在当前目录下忽略 TODO 文件， 但不包括子目录下的 subdir/TODO<br>/TODO</li><li>忽略 build/ 文件夹下的所有文件<br>build/</li><li>忽略 doc/notes.txt, 不包括 doc/server/arch.txt<br>doc/*.txt</li><li>忽略所有的 .pdf 文件 在 doc/ directory 下的<br>doc/<em>*/</em>.pdf</li></ol><h3 id="python"><a href="#python" class="headerlink" title="python"></a>python</h3><h4 id="Byte-compiled-optimized-DLL-files"><a href="#Byte-compiled-optimized-DLL-files" class="headerlink" title="Byte-compiled / optimized / DLL files"></a>Byte-compiled / optimized / DLL files</h4><p><strong>pycache</strong>/<br>*.py[cod]<br>*$py.class</p><h4 id="C-extensions"><a href="#C-extensions" class="headerlink" title="C extensions"></a>C extensions</h4><p>*.so</p><h4 id="Distribution-packaging"><a href="#Distribution-packaging" class="headerlink" title="Distribution / packaging"></a>Distribution / packaging</h4><p>.Python<br>build/<br>develop-eggs/<br>dist/<br>downloads/<br>eggs/<br>.eggs/<br>lib/<br>lib64/<br>parts/<br>sdist/<br>var/<br>wheels/<br>pip-wheel-metadata/<br>share/python-wheels/<br>*.egg-info/<br>.installed.cfg<br>*.egg<br>MANIFEST</p><h4 id="PyInstaller"><a href="#PyInstaller" class="headerlink" title="PyInstaller"></a>PyInstaller</h4><blockquote><p>Usually these files are written by a python script from a template before PyInstaller builds the exe, so as to inject date/other infos into it.</p></blockquote><p>*.manifest<br>*.spec</p><h4 id="Installer-logs"><a href="#Installer-logs" class="headerlink" title="Installer logs"></a>Installer logs</h4><p>pip-log.txt<br>pip-delete-this-directory.txt</p><h4 id="Unit-test-coverage-reports"><a href="#Unit-test-coverage-reports" class="headerlink" title="Unit test / coverage reports"></a>Unit test / coverage reports</h4><p>htmlcov/<br>.tox/<br>.nox/<br>.coverage<br>.coverage.*<br>.cache<br>nosetests.xml<br>coverage.xml<br>*.cover<br>*.py,cover<br>.hypothesis/<br>.pytest_cache/</p><h4 id="Translations"><a href="#Translations" class="headerlink" title="Translations"></a>Translations</h4><p>*.mo<br>*.pot</p><h4 id="Django-stuff"><a href="#Django-stuff" class="headerlink" title="Django stuff"></a>Django stuff</h4><p>*.log<br>local_settings.py<br>db.sqlite3<br>db.sqlite3-journal</p><h4 id="Flask-stuff"><a href="#Flask-stuff" class="headerlink" title="Flask stuff"></a>Flask stuff</h4><p>instance/<br>.webassets-cache</p><h4 id="Scrapy-stuff"><a href="#Scrapy-stuff" class="headerlink" title="Scrapy stuff"></a>Scrapy stuff</h4><p>.scrapy</p><h4 id="Sphinx-documentation"><a href="#Sphinx-documentation" class="headerlink" title="Sphinx documentation"></a>Sphinx documentation</h4><p>docs/_build/</p><h4 id="PyBuilder"><a href="#PyBuilder" class="headerlink" title="PyBuilder"></a>PyBuilder</h4><p>target/</p><h4 id="Jupyter-Notebook"><a href="#Jupyter-Notebook" class="headerlink" title="Jupyter Notebook"></a>Jupyter Notebook</h4><p>.ipynb_checkpoints</p><h4 id="IPython"><a href="#IPython" class="headerlink" title="IPython"></a>IPython</h4><p>profile_default/<br>ipython_config.py</p><h4 id="pyenv"><a href="#pyenv" class="headerlink" title="pyenv"></a>pyenv</h4><p>.python-version</p><h4 id="pipenv"><a href="#pipenv" class="headerlink" title="pipenv"></a>pipenv</h4><blockquote><p>ccording to pypa/pipenv#598, it is recommended to include Pipfile.lock in version control.However, in case of collaboration, if having platform-specific dependencies or dependencies having no cross-platform support, pipenv may install dependencies that don’t work, or not install all needed dependencies.</p></blockquote><p>Pipfile.lock</p><h4 id="celery-beat-schedule-file"><a href="#celery-beat-schedule-file" class="headerlink" title="celery beat schedule file"></a>celery beat schedule file</h4><p>celerybeat-schedule</p><h4 id="SageMath-parsed-files"><a href="#SageMath-parsed-files" class="headerlink" title="SageMath parsed files"></a>SageMath parsed files</h4><p>*.sage.py</p><h4 id="Environments"><a href="#Environments" class="headerlink" title="Environments"></a>Environments</h4><p>.env<br>.venv<br>env/<br>venv/<br>ENV/<br>env.bak/<br>venv.bak/</p><h4 id="Spyder-project-settings"><a href="#Spyder-project-settings" class="headerlink" title="Spyder project settings"></a>Spyder project settings</h4><p>.spyderproject<br>.spyproject</p><h4 id="Rope-project-settings"><a href="#Rope-project-settings" class="headerlink" title="Rope project settings"></a>Rope project settings</h4><p>.ropeproject</p><h4 id="mkdocs-documentation"><a href="#mkdocs-documentation" class="headerlink" title="mkdocs documentation"></a>mkdocs documentation</h4><p>/site</p><h4 id="mypy"><a href="#mypy" class="headerlink" title="mypy"></a>mypy</h4><p>.mypy_cache/<br>.dmypy.json<br>dmypy.json</p><h4 id="Pyre-type-checker"><a href="#Pyre-type-checker" class="headerlink" title="Pyre type checker"></a>Pyre type checker</h4><p>.pyre/</p><blockquote style="margin: 2em 0 0;padding: 0.5em 1em;border-left: 3px solid #F44336;background-color: #F5F5F5;list-style: none;"><p> <strong>本文使用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/" target="_blank" rel="noopener">CC BY-NC-SA 3.0 中国大陆</a> 协议许可<br>具体请参见 <a href="https://zyhang8.github.io/agree/" target="_blank" rel="noopener">知识共享协议</a></strong><br> <strong>本文链接：</strong><a href="https://zyhang8.github.io/2019/09/28/gitgnore/" target="_blank" rel="noopener">https://zyhang8.github.io/2019/09/28/gitgnore/</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 鱼的记忆 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> gitgnore </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>多种密钥面临的的数学难题</title>
      <link href="/2019/09/27/cipher-exp3/"/>
      <url>/2019/09/27/cipher-exp3/</url>
      
        <content type="html"><![CDATA[<h1 id="多种密钥面临的的数学难题"><a href="#多种密钥面临的的数学难题" class="headerlink" title="多种密钥面临的的数学难题"></a>多种密钥面临的的数学难题</h1><h2 id="Diffie-Hellman密钥协商算法"><a href="#Diffie-Hellman密钥协商算法" class="headerlink" title="Diffie-Hellman密钥协商算法"></a>Diffie-Hellman密钥协商算法</h2><h3 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h3><p>Diffie-Hellman密钥协商算法主要解决秘钥配送问题，本身并非用来加密用的；该算法其背后有对应数学理论做支撑，简单来讲就是构造一个复杂的计算难题，使得对该问题的求解在现实的时间内无法快速有效的求解。</p><h3 id="解决思路"><a href="#解决思路" class="headerlink" title="解决思路"></a>解决思路</h3><p>为了解决第一个问题，原文提出两种方法：公钥加密系统(public key cryptosystem)和秘钥分发系统(public key distribution system)。对于公钥加密系统，原文只是勾画了一种比较抽象的公钥加密系统的概念模型，重点是加解密采用不同的秘钥，并总结了该系统应该满足的一些特性，相当于是一种思想实验，并没有给出具体的算法实现途径，但这在当时应该来说已经足够吸引人。后来RSA三人组（Ron Rivest、Adi Shamir 和 Leonard Adleman）受此启发，经过许多轮失败的尝试后，于第二年在论文A Method for Obtaining Digital Signatures and Public-Key Cryptosystems中提出了切实可行且很具体的公钥加密算法–RSA公钥加密算法。而对于秘钥分发系统，就是本文的DH秘钥协商算法。</p><p>为了解决第二个问题，原文通过单向函数（one-way function）来解决，这就是单向认证的问题。另外作者还讨论了这些密码学问题之间的关联性以及如何相互转化。比如一个安全的密码系统（可以防御明文攻击）可以用来生成一个的单向函数、公钥加密系统可以用来作为单向认证、陷门密码系统可以用来生成一个公钥加密系统。数学难题的计算复杂度被当成一种保障密码学安全问题的有效工具被利用起来，这一重要思想贯穿现代密码学的许多加密算法。</p><h3 id="存在的问题"><a href="#存在的问题" class="headerlink" title="存在的问题"></a>存在的问题</h3><p>是否DH秘钥协商算法就一定安全呢？应该说也不是，因为存在一种伪装者攻击（或者称为中间人攻击）能够对这种秘钥协商算法构成威胁。</p><p>假设秘钥协商过程中，在Alice和Bob中间有一个称为Mallory的主动攻击者，他能够截获Alice和Bob的消息并伪造假消息，考虑如下情况。</p><p>1）Alice和Bob已经共享一个素数𝑝及其该素数𝑝的本原根𝑔，当然Mallory监听到报文也得知了这两个消息。</p><p>2）此时Alice计算𝑌𝑎=𝑔𝐴𝑚𝑜𝑑𝑝，然而在将𝑌𝑎发送给Bob的过程中被Mallory拦截，Mallory自己选定一个随机数𝑆，计算𝑌𝑠𝑏=𝑔𝑆𝑚𝑜𝑑𝑝，然后将𝑌𝑠𝑏发送给了Bob。</p><p><img src="https://images2018.cnblogs.com/blog/653357/201805/653357-20180509203733832-1457088379.png" alt="avatar1"></p><p>3）同时Bob计算𝑌𝑏=𝑔𝐵𝑚𝑜𝑑𝑝，然而在将𝑌𝑏发送给Alice的过程中被Mallory拦截，Mallory自己选定一个随机数𝑇，计算𝑌𝑡𝑎=𝑔𝑇𝑚𝑜𝑑𝑝，然后将𝑌𝑡𝑎发送给了Alice。</p><p><img src="https://images2018.cnblogs.com/blog/653357/201805/653357-20180509204257982-320719224.png" alt="avatar2"></p><p>由于通讯消息被替换，Alice计算出的秘钥实际上是Alice和Mallory之间协商秘钥：𝐾𝑎𝑚=𝑔𝐴×𝑇𝑚𝑜𝑑𝑝；Bob计算出的秘钥实际上是Bob与Mallory之间协商的秘钥：𝐾𝑏𝑚=𝑔𝐵×𝑆𝑚𝑜𝑑𝑝。如果之后Alice和Bob用他们计算出的秘钥加密任何信</p><h2 id="ECC椭圆加密算法"><a href="#ECC椭圆加密算法" class="headerlink" title="ECC椭圆加密算法"></a>ECC椭圆加密算法</h2><h3 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h3><p>椭圆加密算法（ECC）是一种公钥加密体制，最初由Koblitz和Miller两人于1985年提出，其数学基础是利用椭圆曲线上的有理点构成Abel加法群上椭圆离散对数的计算困难性。</p><h3 id="难题"><a href="#难题" class="headerlink" title="难题"></a>难题</h3><p>ECC是建立在基于椭圆曲线的离散对数问题上的密码体制，给定椭圆曲线上的一个点G，并选取一个整数k，求解K=kG很容易(注意根据kG求解出来的K也是椭圆曲线上的一个点)；反过来，在椭圆曲线上给定两个点K和G，若使K=kG，求整数k是一个难题。ECC就是建立在此数学难题之上,这一数学难题称为椭圆曲线离散对数问题。其中椭圆曲线上的点K则为公钥(注意公钥K不是一个整数而是一个椭圆曲线点，这个点在OpenSSL里面是用结构体EC_Point来表示的，为了加深理解，建议自行下载OpenSSL进行查看学习)，整数k则为私钥(实际上是一个大整数)。</p><p>不知我说明白了没有，这是网上的一位网友总结的，供参考：<br>考虑如下等式：K=kG [其中 K,G为Ep(a,b)上的点，k为小于n（n是点G的阶）的整数]，不难发现，给定k和G，根据加法法则，计算K很容易；但给定K和G，求k就相对困难了。这就是椭圆曲线加密算法采用的难题，我们把点G称为基点（base point）。<br>现在我们描述一个利用椭圆曲线进行加密通信的过程：</p><p>1、用户A选定一条椭圆曲线Ep(a,b)，并取椭圆曲线上一点，作为基点G。<br>2、用户A选择一个私有密钥k，并生成公开密钥K=kG。<br>3、用户A将Ep(a,b)和点K，G传给用户B。<br>4、用户B接到信息后 ，将待传输的明文编码到Ep(a,b)上一点M（编码方法很多，这里不作讨论），并产生一个随机整数r。<br>5、用户B计算点C1=M+rK；C2=rG。<br>6、用户B将C1、C2传给用户A。<br>7、用户A接到信息后，计算C1-kC2，结果就是点M。因为 C1-kC2=M+rK-k(rG)=M+rK-r(kG)=M<br>      再对点M进行解码就可以得到明文。</p><p>在这个加密通信中，如果有一个偷窥者H ，他只能看到Ep(a,b)、K、G、C1、C2，而通过K、G 求k 或通过C2、G求r 都是相对困难的，因此，H无法得到A、B间传送的明文信息。</p><h2 id="ElGamal加密算法"><a href="#ElGamal加密算法" class="headerlink" title="ElGamal加密算法"></a>ElGamal加密算法</h2><h3 id="算法定义"><a href="#算法定义" class="headerlink" title="算法定义"></a>算法定义</h3><p>ELGamal密码体制是T.ElGamal在1985年提出的公钥密码体制。它的安全性是基于求解离散对数问题的困难性，是RSA以后比较有希望的一个公钥密码。美国的DSS(Digital Signature Standard)的DSA(Digital Signature Algorithm)算法就是经ElGamal算法演变而来。目前DSA算法应用也非常广泛。</p><h3 id="数学难题"><a href="#数学难题" class="headerlink" title="数学难题"></a>数学难题</h3><p>1、有两个全局公开的参数，一个素数q和一个整数a，a是q的一个原根。<br>2、假设用户A和B希望交换一个密钥，用户A选择一个作为私有密钥的随机数XA&lt;q，并计算公开密钥YA=a^XA mod q。A对XA的值保密存放而使YA能被B公开获得。类似地，用户B选择一个私有的随机数XB&lt;q，并计算公开密钥YB=a^XB mod q。B对XB的值保密存放而使YB能被A公开获得。<br>3、用户A产生共享秘密密钥的计算方式是K = (YB)^XA mod q。同样，用户B产生共享秘密密钥的计算是K = (YA)^XB mod q。这两个计算产生相同的结果：<br>K = (YB)^XA mod q<br>= (a^XB mod q)^XA mod q<br>= (a^XB)^XA mod q （根据取模运算规则得到）<br>= a^XBXA mod q<br>= (a^XA)^XB mod q<br>= (a^XA mod q)^XB mod q<br>= (YA)^XB mod q</p><p>因此相当于双方已经交换了一个相同的秘密密钥。<br>4、因为XA和XB是保密的，一个敌对方可以利用的参数只有q、a、YA和YB。因而敌对方被迫取离散对数来确定密钥。例如，要获取用户B的秘密密钥，敌对方必须先计算<br>XB = inda ,q(YB)<br>然后再使用用户B采用的同样方法计算其秘密密钥K。<br>Diffie-Hellman密钥交换算法的安全性依赖于这样一个事实：虽然计算以一个素数为模的指</p><blockquote style="margin: 2em 0 0;padding: 0.5em 1em;border-left: 3px solid #F44336;background-color: #F5F5F5;list-style: none;"><p> <strong>本文使用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/" target="_blank" rel="noopener">CC BY-NC-SA 3.0 中国大陆</a> 协议许可<br>具体请参见 <a href="https://zyhang8.github.io/agree/" target="_blank" rel="noopener">知识共享协议</a></strong><br> <strong>本文链接：</strong><a href="https://zyhang8.github.io/2019/09/27/cipher-exp3/" target="_blank" rel="noopener">https://zyhang8.github.io/2019/09/27/cipher-exp3/</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 信息安全 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 信息安全 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Oracle数据库物理存储结构管理</title>
      <link href="/2019/09/26/oracle-exp1/"/>
      <url>/2019/09/26/oracle-exp1/</url>
      
        <content type="html"><![CDATA[<h1 id="Oracle数据库物理存储结构管理"><a href="#Oracle数据库物理存储结构管理" class="headerlink" title="Oracle数据库物理存储结构管理"></a>Oracle数据库物理存储结构管理</h1><h2 id="一、实验目的"><a href="#一、实验目的" class="headerlink" title="一、实验目的"></a>一、实验目的</h2><p>1掌握Oracle数据库表空间及数据文件的管理；<br>2掌握Oracle数据库控制文件的管理；<br>3掌握Oracle数据库重做日志文件的管理</p><h2 id="二、实验要求（具体步骤进行截屏展示并配以文字说明）"><a href="#二、实验要求（具体步骤进行截屏展示并配以文字说明）" class="headerlink" title="二、实验要求（具体步骤进行截屏展示并配以文字说明）"></a>二、实验要求（具体步骤进行截屏展示并配以文字说明）</h2><h3 id="1完成表空间及文件的管理操作；包括表空间的创建，修改表空间大小；修改表空间的可用性；修改表空间的读写性；查询表空间信息；删除表空间。"><a href="#1完成表空间及文件的管理操作；包括表空间的创建，修改表空间大小；修改表空间的可用性；修改表空间的读写性；查询表空间信息；删除表空间。" class="headerlink" title="1完成表空间及文件的管理操作；包括表空间的创建，修改表空间大小；修改表空间的可用性；修改表空间的读写性；查询表空间信息；删除表空间。"></a>1完成表空间及文件的管理操作；包括表空间的创建，修改表空间大小；修改表空间的可用性；修改表空间的读写性；查询表空间信息；删除表空间。</h3><p>（1）通过相关视图(V$TABLESPACE, DBA_TABLESAPCES, DAB_TABSPACE_GROUPS, DBA_DATA_FILES, DBA_TMP_FILES, V$DATAFILE, V$TEMPFILE)查询当前数据库的表空间信息。（表空间的数目、名字、状态、以及其数据文件的数目和存储位置）<br>（2）创建一个永久性的表空间MYTBS（数据文件MYTBS01.DBF存于D：\学号\），区定制分配，段采用手动管理方式，并通过查询相关视图确认是否创建成功。<br>（3）为表空间MYTBS添加一个大小为10M数据文件MYTBS02.DBF，并通过查询视图检查是否添加成功；<br>（4）修改表空间MYTBS中MYTBS01.DBF为自动增长方式且无上限；将表空间MYTBS中MYTBS02.DBF的大小改为30M。<br>（5）将表空间MYTBS中MYTBS01.DBF移动到D：\姓名\目录中；并通过视图查询确认是否成功。<br>（6）将表空间MYTBS联机备份到D：\学号\表空间备份;并检查备份是否成功；<br>（7）删除表空间MYTBS及其包含的所有数据文件；检查是否删除成功；</p><h3 id="2完成控制文件相关操作"><a href="#2完成控制文件相关操作" class="headerlink" title="2完成控制文件相关操作"></a>2完成控制文件相关操作</h3><p>（1）通过相关视图(V$CONTROLFILE, V$CONTROLFILE_RECORD_SECTION, V$PARAMETER)查询当前数据库的控制文件信息。（控制文件的名称、状态、以及控制文件的数目和存储位置）<br>（2）为当前数据库再添加一个名为CONTROL04.CTL的控制文件。存放于D：\学号\，通过查询相关视图检查多路复用控制文件是否成功(无权限关闭数据库，不做)。<br>（3）删除控制文件CONTROL04.CTL，通过查询相关视图检查是否成功。(无权限关闭数据库，不做)。</p><h3 id="3-重做日志文件的设置与管理"><a href="#3-重做日志文件的设置与管理" class="headerlink" title="3 重做日志文件的设置与管理"></a>3 重做日志文件的设置与管理</h3><p>（1）首先通过相关视图（V$LOG, V$LOGFILE, V$LOG_HISTORY）查询当前数据库的重做日志文件组的信息。（重做日志文件组数目、每个重做组中的成员数及其存储位置、重做日志文件组的状态）<br>（2）为当前数据库创建一个包括两个成员文件的重做日志文件组(GROUP4存放于D：\学号)并通过视图查询确认是否成功。<br>（3）为重做日志文件组GROUP4，添加一个成员文件；并通过视图查询操作是否成功。<br>（4）查询当前重做日志组的组号；并手动切换，并检查切换是否成功。<br>（5）将（3）中添加的成员文件删除，检查是否成功；将重做日志文件组GROUP4删除，检查是否成功；</p><h2 id="三、实验步骤和结果"><a href="#三、实验步骤和结果" class="headerlink" title="三、实验步骤和结果"></a>三、实验步骤和结果</h2><p>终端使用sqlplus登录system账号后</p><h3 id="1-1查表空间信息"><a href="#1-1查表空间信息" class="headerlink" title="1.1查表空间信息"></a>1.1查表空间信息</h3><p>SQL&gt; SELECT TABLESPACE_NAME, EXTENT_MANAGEMENT, ALLOCATION_TYPE, CONTENTS FROM DBA_TABLESPACES;</p><p><img src="https://s2.ax1x.com/2019/10/31/KozNcV.png" alt="KozNcV.png"></p><h3 id="1-2-创建永久性的表空间MYTBS-并查询确认"><a href="#1-2-创建永久性的表空间MYTBS-并查询确认" class="headerlink" title="1.2 创建永久性的表空间MYTBS,并查询确认"></a>1.2 创建永久性的表空间MYTBS,并查询确认</h3><p>SQL&gt; CREATE TABLESPACE MYTBS DATAFILE ‘D:/1759116/MYTBS01.DBF’ SIZE 50M EXTENT MANAGEMENT LOCAL UNIFORM SIZE 512K SEGMENT SPACE MANAGEMENT MANUAL;</p><p><img src="https://s2.ax1x.com/2019/10/31/KozYpq.png" alt="KozYpq.png"></p><p><img src="https://s2.ax1x.com/2019/10/31/KozGhn.png" alt="KozGhn.png"></p><p><img src="https://s2.ax1x.com/2019/10/31/Kozl7Q.png" alt="Kozl7Q.png"></p><h3 id="1-3-为表空间MYTBS添加一个大小为10M数据文件MYTBS02-DBF，并通过查询视图检查是否添加成功；"><a href="#1-3-为表空间MYTBS添加一个大小为10M数据文件MYTBS02-DBF，并通过查询视图检查是否添加成功；" class="headerlink" title="1.3 为表空间MYTBS添加一个大小为10M数据文件MYTBS02.DBF，并通过查询视图检查是否添加成功；"></a>1.3 为表空间MYTBS添加一个大小为10M数据文件MYTBS02.DBF，并通过查询视图检查是否添加成功；</h3><p>SQL&gt; ALTER TABLESPACE MYTBS ADD DATAFILE ‘D:\1759116\MYTBS02.DBF’ SIZE 10M;</p><p><img src="https://s2.ax1x.com/2019/10/31/Koz3kj.png" alt="Koz3kj.png"></p><p><img src="https://s2.ax1x.com/2019/10/31/KozdnU.png" alt="KozdnU.png"></p><h3 id="1-4-修改自动增长方式"><a href="#1-4-修改自动增长方式" class="headerlink" title="1.4 修改自动增长方式"></a>1.4 修改自动增长方式</h3><p>SQL&gt; ALTER DATABASE DATAFILE ‘D:\1759116\MYTBS01.DBF’ AUTOEXTEND ON NEXT 1M MAXSIZE UNLIMITED;</p><p><img src="https://s2.ax1x.com/2019/10/31/KozUXT.png" alt="KozUXT.png"></p><p>SQL&gt; ALTER DATABASE DATAFILE ‘D:\1759116\MYTBS02.DBF’ RESIZE 30M;</p><p><img src="https://s2.ax1x.com/2019/10/31/Koz074.png" alt="Koz074.png"></p><h3 id="1-5-移动表空间到“D-zhongyuhang-MYTBS01-DBF”下；并通过视图查询确认是否成功。"><a href="#1-5-移动表空间到“D-zhongyuhang-MYTBS01-DBF”下；并通过视图查询确认是否成功。" class="headerlink" title="1.5 移动表空间到“D:\zhongyuhang\MYTBS01.DBF”下；并通过视图查询确认是否成功。"></a>1.5 移动表空间到“D:\zhongyuhang\MYTBS01.DBF”下；并通过视图查询确认是否成功。</h3><p>SQL&gt; ALTER TABLESPACE MYTBS OFFLINE;</p><p><img src="https://s2.ax1x.com/2019/10/31/KozDAJ.png" alt="KozDAJ.png"></p><p>SQL&gt; HOST COPY D:\1759116\MYTBS01.DBF D:\zhongyuhang\MYTBS01.DBF;</p><p>SQL&gt; ALTER TABLESPACE MYTBS ONLINE;</p><p><img src="https://s2.ax1x.com/2019/10/31/Koz691.png" alt="Koz691.png"></p><p><img src="https://s2.ax1x.com/2019/10/31/Kozc1x.png" alt="Kozc1x.png"></p><h3 id="1-6-将MYTBS备份到“D-1759116-表空间备份-”下；并检查备份是否成功；"><a href="#1-6-将MYTBS备份到“D-1759116-表空间备份-”下；并检查备份是否成功；" class="headerlink" title="1.6 将MYTBS备份到“D:\1759116\表空间备份\”下；并检查备份是否成功；"></a>1.6 将MYTBS备份到“D:\1759116\表空间备份\”下；并检查备份是否成功；</h3><p>SQL&gt; ALTER TABLESPACE MYTBS BEGIN BACKUP</p><p><img src="https://s2.ax1x.com/2019/10/31/Koz2jK.png" alt="Koz2jK.png"></p><p>出错后通过网上寻找错误原因：</p><p>在noarchive模式下不能做alter tablespace XXX begin backup，联机备份只有在数据库位于archivelog模式中才能进行。</p><p>后进行下列操作</p><p>①查看归档情况：</p><p>SQL&gt; ARCHIVE LOG LIST;</p><p><img src="https://s2.ax1x.com/2019/10/31/KozWnO.png" alt="KozWnO.png"></p><p>②以archive模式启动数据库：</p><p>SQL&gt; shutdown immediate</p><p><img src="https://s2.ax1x.com/2019/10/31/KozhHe.png" alt="KozhHe.png"></p><p>SQL&gt; startup mount</p><p><img src="https://s2.ax1x.com/2019/10/31/Koz5AH.png" alt="Koz5AH.png"></p><p>SQL&gt; alter database archivelog;</p><p><img src="https://s2.ax1x.com/2019/11/01/KTHbM4.png" alt="KTHbM4.png"></p><p>③查看归档情况：</p><p>SQL&gt; archive log list</p><p><img src="https://s2.ax1x.com/2019/11/01/KTHjd1.png" alt="KTHjd1.png"></p><p>④开启数据库</p><p>SQL&gt; alter database open;</p><p><img src="https://s2.ax1x.com/2019/11/01/KTHqsJ.png" alt="KTHqsJ.png"></p><p>⑤开启联机备份模式</p><p>SQL&gt; alter tablespace users begin backup;</p><p><img src="https://s2.ax1x.com/2019/11/01/KTHLL9.png" alt="KTHLL9.png"></p><p>host copy D:\1759116\MYTBS01.DBF D:\1759116\表空间备份</p><p><img src="https://s2.ax1x.com/2019/11/01/KTH7zF.png" alt="KTH7zF.png"></p><p>SQL&gt; alter tablespace users end backup;</p><p><img src="https://s2.ax1x.com/2019/11/01/KTHXZR.png" alt="KTHXZR.png"></p><p><img src="https://s2.ax1x.com/2019/11/01/KTHvIx.png" alt="KTHvIx.png"></p><h3 id="1-7-删除表空间MYTBS及其包含的所有数据文件；检查是否删除成功"><a href="#1-7-删除表空间MYTBS及其包含的所有数据文件；检查是否删除成功" class="headerlink" title="1.7 删除表空间MYTBS及其包含的所有数据文件；检查是否删除成功"></a>1.7 删除表空间MYTBS及其包含的所有数据文件；检查是否删除成功</h3><p>SQL&gt; drop tablespace MYTBS including contents;</p><p><img src="https://s2.ax1x.com/2019/11/01/KTHzi6.png" alt="KTHzi6.png"></p><p><img src="https://s2.ax1x.com/2019/11/01/KTbSJK.png" alt="KTbSJK.png"></p><h3 id="2-1-查询控制文件信息"><a href="#2-1-查询控制文件信息" class="headerlink" title="2.1 查询控制文件信息"></a>2.1 查询控制文件信息</h3><p>SQL&gt; SELECT NAME FROM V$CONTROLFILE;</p><p><img src="https://s2.ax1x.com/2019/11/01/KTbpRO.png" alt="KTbpRO.png"></p><h3 id="2-2-添加控制文件到“D-1551137-”下-并查询确认"><a href="#2-2-添加控制文件到“D-1551137-”下-并查询确认" class="headerlink" title="2.2 添加控制文件到“D:\1551137\”下,并查询确认"></a>2.2 添加控制文件到“D:\1551137\”下,并查询确认</h3><p>①查看原有控制文件副本：</p><p>SQL&gt; show parameter control_files;</p><p><img src="https://s2.ax1x.com/2019/11/01/KTb9zD.png" alt="KTb9zD.png"></p><p>②关闭数据库：</p><p>SQL&gt; shutdown immediate;</p><p><img src="https://s2.ax1x.com/2019/11/01/KTbPQe.png" alt="KTbPQe.png"></p><p>③复制控制文件并赋权限：</p><p>copy D:\software\oracle\oradata\orcl\CONTROL01.CTL D:\1759116\CONTROL04.CTL</p><p><img src="https://s2.ax1x.com/2019/11/01/KTbisH.png" alt="KTbisH.png"></p><p>copy D:\software\oracle\oradata\orcl\CONTROL01.CTL D:\software\oracle\oradata\orcl\CONTROL02.CTL</p><p><img src="https://s2.ax1x.com/2019/11/01/KTbFLd.png" alt="KTbFLd.png"></p><p>④SQL&gt; startup nomount;</p><p><img src="https://s2.ax1x.com/2019/11/01/KTbAeA.png" alt="KTbAeA.png"></p><p>⑤修改参数文件，指定多路复用控制文件路径：</p><p>alter system set </p><p>control_files=”D:\software\oracle\oradata\orcl\CONTROL01.CTL”,”D:\software\oracle\oradata\orcl\CONTROL02.CTL”,”D:\1759116\CONTROL04.CTL” scope=spfile;</p><p><img src="https://s2.ax1x.com/2019/11/01/KTbEdI.png" alt="KTbEdI.png"></p><p>⑥关闭数据库</p><p>SQL&gt; shutdown immediate;</p><p><img src="https://s2.ax1x.com/2019/11/01/KTbVot.png" alt="KTbVot.png"></p><p>⑦重新启动数据库：</p><p>SQL&gt; startup;</p><p><img src="https://s2.ax1x.com/2019/11/01/KTbeFP.png" alt="KTbeFP.png"></p><p>⑧查看参数文件：</p><p>SQL&gt; show parameter control_files;</p><p><img src="https://s2.ax1x.com/2019/11/01/KTbmJf.png" alt="KTbmJf.png"></p><h3 id="2-3-删除并查询确认"><a href="#2-3-删除并查询确认" class="headerlink" title="2.3 删除并查询确认"></a>2.3 删除并查询确认</h3><p>①关闭数据库：</p><p>SQL&gt; shutdown immediate;</p><p><img src="https://s2.ax1x.com/2019/11/01/KTbnW8.png" alt="KTbnW8.png"></p><p>②重启数据库</p><p>SQL&gt; startup;</p><p><img src="https://s2.ax1x.com/2019/11/01/KTbKSS.png" alt="KTbKSS.png"></p><p>③查看参数文件：</p><p>SQL&gt; show parameter control_files;</p><p><img src="https://s2.ax1x.com/2019/11/01/KTbMQg.png" alt="KTbMQg.png"></p><p>④删除物理文件</p><p>SQL&gt; host del D:\1759116\CONTROL04.CTL;</p><p><img src="https://s2.ax1x.com/2019/11/01/KTbQyQ.png" alt="KTbQyQ.png"></p><p>重启Sqlplus</p><p><img src="https://s2.ax1x.com/2019/11/01/KTblLj.png" alt="KTblLj.png"></p><p>依然是这样不知道，可以删除，但是暴力删除怕是会影响数据库及其文件，所以暂时留着</p><h3 id="3-1-查询当前数据库的重做日志日志文件组的信息"><a href="#3-1-查询当前数据库的重做日志日志文件组的信息" class="headerlink" title="3.1 查询当前数据库的重做日志日志文件组的信息"></a>3.1 查询当前数据库的重做日志日志文件组的信息</h3><p>SQL&gt; select group#, sequence#, members, archived, status from v$log;</p><p><img src="https://s2.ax1x.com/2019/11/01/KTb3es.png" alt="KTb3es.png"></p><h3 id="3-2-创建一个包括两个成员文件的重做日志文件组置于“C-1759116-”并查询确认"><a href="#3-2-创建一个包括两个成员文件的重做日志文件组置于“C-1759116-”并查询确认" class="headerlink" title="3.2 创建一个包括两个成员文件的重做日志文件组置于“C:\1759116\”并查询确认"></a>3.2 创建一个包括两个成员文件的重做日志文件组置于“C:\1759116\”并查询确认</h3><p>SQL&gt; alter database add logfile group 4 (‘D:\1759116\redo04a.log’,’D:\1759116\redo04b.log’) size 10m;</p><p><img src="https://s2.ax1x.com/2019/11/01/KTb8wn.png" alt="KTb8wn.png"></p><p><img src="https://s2.ax1x.com/2019/11/01/KTbGoq.png" alt="KTbGoq.png"></p><h3 id="3-3-添加成员文件并查询确认"><a href="#3-3-添加成员文件并查询确认" class="headerlink" title="3.3 添加成员文件并查询确认"></a>3.3 添加成员文件并查询确认</h3><p>SQL&gt; alter database add logfile member ‘D:\1759116\redo04c.log’ to group 4;</p><p><img src="https://s2.ax1x.com/2019/11/01/KTbYF0.png" alt="KTbYF0.png"></p><p>select group#, sequence#, members, archived, status from v$log;</p><p><img src="https://s2.ax1x.com/2019/11/01/KTbtYV.png" alt="KTbtYV.png"></p><h3 id="3-4-查询重做日志组号并收手动切换-查询确认"><a href="#3-4-查询重做日志组号并收手动切换-查询确认" class="headerlink" title="3.4 查询重做日志组号并收手动切换,查询确认"></a>3.4 查询重做日志组号并收手动切换,查询确认</h3><p>SQL&gt; alter system switch logfile;</p><p><img src="https://s2.ax1x.com/2019/11/01/KTbNWT.png" alt="KTbNWT.png"></p><p>select group#, sequence#, members, archived, status from v$log;</p><p><img src="https://s2.ax1x.com/2019/11/01/KTbaSU.png" alt="KTbaSU.png"></p><h3 id="3-5-将（3）中添加的成员文件删除，检查是否成功；将重做日志文件组GROUP4删除，检查是否成功；"><a href="#3-5-将（3）中添加的成员文件删除，检查是否成功；将重做日志文件组GROUP4删除，检查是否成功；" class="headerlink" title="3.5 将（3）中添加的成员文件删除，检查是否成功；将重做日志文件组GROUP4删除，检查是否成功；"></a>3.5 将（3）中添加的成员文件删除，检查是否成功；将重做日志文件组GROUP4删除，检查是否成功；</h3><p>①alter database drop logfile group 4;</p><p><img src="https://s2.ax1x.com/2019/11/01/KTbdlF.png" alt="KTbdlF.png"></p><p>②查询</p><p>select group#, sequence#, members, archived, status from v$log;</p><p><img src="https://s2.ax1x.com/2019/11/01/KTbwy4.png" alt="KTbwy4.png"></p><p>③查看日志组</p><p>select GROUP#,status from v$log;</p><p><img src="https://s2.ax1x.com/2019/11/01/KTb0OJ.png" alt="KTb0OJ.png"></p><p>④查看日志文件</p><p>select GROUP#,MEMBER from v$logfile order by 1,2;</p><p><img src="https://s2.ax1x.com/2019/11/01/KTbDm9.png" alt="KTbDm9.png"></p><p>⑤删除日志文件</p><p>alter database drop logfile member</p><p><img src="https://s2.ax1x.com/2019/11/01/KTbrwR.png" alt="KTbrwR.png"></p><p>‘D:\SOFTWARE\ORACLE\ORADATA\ORCL\REDO01’;,’D:\SOFTWARE\ORACLE\ORADATA\ORCL\REDO02.’,’D:\SOFTWARE\ORACLE\ORADATA\ORCL\REDO03.LOG’;</p><p>无法删除…问了其他同学都是一个命令删除，不知道是哪里出问题，网上也找不到适合的方法</p><blockquote style="margin: 2em 0 0;padding: 0.5em 1em;border-left: 3px solid #F44336;background-color: #F5F5F5;list-style: none;"><p> <strong>本文使用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/" target="_blank" rel="noopener">CC BY-NC-SA 3.0 中国大陆</a> 协议许可<br>具体请参见 <a href="https://zyhang8.github.io/agree/" target="_blank" rel="noopener">知识共享协议</a></strong><br> <strong>本文链接：</strong><a href="https://zyhang8.github.io/2019/09/26/oracle-exp1/" target="_blank" rel="noopener">https://zyhang8.github.io/2019/09/26/oracle-exp1/</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> oracle </category>
          
      </categories>
      
      
        <tags>
            
            <tag> oracle </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>基于JMeter的Quick Easy FTP Server性能测试</title>
      <link href="/2019/09/25/ftp/"/>
      <url>/2019/09/25/ftp/</url>
      
        <content type="html"><![CDATA[<h1 id="基于JMeter的Quick-Easy-FTP-Server性能测试"><a href="#基于JMeter的Quick-Easy-FTP-Server性能测试" class="headerlink" title="基于JMeter的Quick Easy FTP Server性能测试"></a>基于JMeter的Quick Easy FTP Server性能测试</h1><h2 id="引言"><a href="#引言" class="headerlink" title="引言"></a>引言</h2><h3 id="背景说明"><a href="#背景说明" class="headerlink" title="背景说明"></a>背景说明</h3><pre><code>本测试选用的是一个小型的FTP服务器软件：Quick Easy FTP Server。Quick Easy FTP Server是一个全中文的FTP服务器软件,反应迅速,操作方便,实现了标准FTP服务器所具有的功能。</code></pre><p>该软件具有以下特点：1.软件安装程序极小,但性能毫不逊色于专业的那些FTP服务器软件2.功能全面.具备完整的帐户管理,便捷的服务器配置,安全性设置,在线用户信息, 服务器日志,实时数据统计,检软件界面查更新一应俱全3.支持断点续传4.完整的帮助系统5.全中文,更适合中国人使用。</p><p>之前使用FileZilla搭建服务器顺便搭建了WordPress网站，这次尝试用Quick Easy FTP Server搭建ftp服务器并进行网络传输性能测试</p><h3 id="1-2文档目的"><a href="#1-2文档目的" class="headerlink" title="1.2文档目的"></a>1.2文档目的</h3><pre><code>通过JMeter来测试Quick Easy FTP Server的上传与下载性能。</code></pre><h2 id="测试环境"><a href="#测试环境" class="headerlink" title="测试环境"></a>测试环境</h2><h3 id="测试配置"><a href="#测试配置" class="headerlink" title="测试配置"></a>测试配置</h3><pre><code>Windows10 i5-7200CPU @ 3.30GHz；RAM：8GB；64位操作系统JDK 1.8测试软件 ：Apache JMeter 5.1.1FTP服务软件：Quick Easy FTP Server 4.0.0</code></pre><h2 id="性能测试需求"><a href="#性能测试需求" class="headerlink" title="性能测试需求"></a>性能测试需求</h2><p>作为一个小型的FTP服务器软件，Quick Easy FTP Server理论上能够承受每秒几十次的并发访问，以实现在同一局域网内文件上传下载的目的。</p><h2 id="性能测试描述过程"><a href="#性能测试描述过程" class="headerlink" title="性能测试描述过程"></a>性能测试描述过程</h2><p>安装压缩包，配置软件信息</p><p><img src="https://s2.ax1x.com/2019/10/31/Ko79aV.png" alt="Ko79aV.png"></p><p>绑定端口失败，可能有另一个进程使用该端口</p><p><img src="https://s2.ax1x.com/2019/10/31/KoTvKs.png" alt="KoTvKs.png"></p><p>众所周知ftp默认端口为21，查询端口占用情况</p><p><img src="https://s2.ax1x.com/2019/10/31/KoTzbq.png" alt="KoTzbq.png"></p><p>杀掉端口所属的进程</p><p><img src="https://s2.ax1x.com/2019/10/31/KoTxrn.png" alt="KoTxrn.png"></p><p>重新查询端口</p><p><img src="https://s2.ax1x.com/2019/10/31/Ko7pV0.png" alt="Ko7pV0.png"></p><p>网上查找后发下该进程为系统核心进程无法杀掉</p><p>于是，更改端口为2222，启动成功</p><p><img src="https://s2.ax1x.com/2019/10/31/Ko7C5T.png" alt="Ko7C5T.png"></p><p>用户权限设计，设置下载及上传无上限</p><p><img src="https://s2.ax1x.com/2019/10/31/Ko7AxJ.png" alt="Ko7AxJ.png"></p><p>1秒1线程访问额</p><p><img src="https://s2.ax1x.com/2019/10/31/Ko7iPU.png" alt="Ko7iPU.png"></p><p>配置FTP请求缺省值</p><p><img src="https://s2.ax1x.com/2019/10/31/Ko7FGF.png" alt="Ko7FGF.png"></p><p>get请求</p><p><img src="https://s2.ax1x.com/2019/10/31/Ko7k24.png" alt="Ko7k24.png"></p><p>put请求</p><p><img src="https://s2.ax1x.com/2019/10/31/Ko7VM9.png" alt="Ko7VM9.png"></p><p>创建监听器</p><p><img src="https://s2.ax1x.com/2019/10/31/Ko7ZrR.png" alt="Ko7ZrR.png"></p><p>创建表格查看结果</p><p><img src="https://s2.ax1x.com/2019/10/31/Ko7eq1.png" alt="Ko7eq1.png"></p><p>创建图形结果</p><p><img src="https://s2.ax1x.com/2019/10/31/Ko7nVx.png" alt="Ko7nVx.png"></p><p>其他配置过程相同</p><p>1秒30线程访问额</p><p><img src="https://s2.ax1x.com/2019/10/31/Ko71Re.png" alt="Ko71Re.png"></p><p>其他配置过程相同</p><p>性能测试结果分析</p><p>1秒1线程访问额</p><p>get:完成了1个sample，平均响应时间为130ms，响应时间的中值为130s，所有sample中90%的sample的响应时间都小于130ms，最小响应时间为130ms，最大响应时间为130ms，错误率为0%。</p><pre><code>put:完成了1个sample，平均响应时间为84ms，响应时间的中值为84ms，所有sample中90%的sample的响应时间都小于84ms，最小响应时间为84ms，最大响应时间为84ms，错误率为0%。</code></pre><p><img src="https://s2.ax1x.com/2019/10/31/Ko7ua6.png" alt="Ko7ua6.png"></p><p><img src="https://s2.ax1x.com/2019/10/31/Ko7KIK.png" alt="Ko7KIK.png"></p><p><img src="https://s2.ax1x.com/2019/10/31/Ko7QPO.png" alt="Ko7QPO.png"></p><p>1秒30线程访问额</p><p>get:完成了30个sample，平均响应时间为164ms，响应时间的中值为8ms，所有sample中90%的sample的响应时间都小于576ms，最小响应时间为2ms，最大响应时间为786ms，错误率为60%。</p><p>put:完成了30个sample，平均响应时间为27ms，响应时间的中值为12ms，所有sample中90%的sample的响应时间都小于30ms，最小响应时间为3ms，最大响应时间为212，ms，错误率为90%。</p><p><img src="https://s2.ax1x.com/2019/10/31/Ko7lGD.png" alt="Ko7lGD.png"></p><p><img src="https://s2.ax1x.com/2019/10/31/Ko7JsA.png" alt="Ko7JsA.png"></p><p><img src="https://s2.ax1x.com/2019/10/31/Ko7GMd.png" alt="Ko7GMd.png"></p><p>1秒50线程访问额</p><p>get:完成了50个sample，平均响应时间为113ms，响应时间的中值为7ms，所有sample中90%的sample的响应时间都小于476ms，最小响应时间为1ms，最大响应时间为665ms，错误率为74%。</p><p>put:完成了50个sample，平均响应时间为23ms，响应时间的中值为7ms，所有sample中90%的sample的响应时间都小于23ms，最小响应时间为2ms，最大响应时间为264ms，错误率为92%。</p><p><img src="https://s2.ax1x.com/2019/10/31/Ko73xH.png" alt="Ko73xH.png"></p><p><img src="https://s2.ax1x.com/2019/10/31/Ko7YqI.png" alt="Ko7YqI.png"></p><p><img src="https://s2.ax1x.com/2019/10/31/Ko70JS.png" alt="Ko70JS.png"></p><p>1秒100线程访问额</p><p>get:完成了100个sample，平均响应时间为155ms，响应时间的中值为145ms，所有sample中90%的sample的响应时间都小于191ms，最小响应时间为3ms，最大响应时间为1412ms，错误率为95%。</p><p>put:完成了100个sample，平均响应时间为85ms，响应时间的中值为97ms，所有sample中90%的sample的响应时间都小于112ms，最小响应时间为3ms，最大响应时间为263ms，错误率为99%。</p><p><img src="https://s2.ax1x.com/2019/10/31/Ko7NZt.png" alt="Ko7NZt.png"></p><p><img src="https://s2.ax1x.com/2019/10/31/Ko7aIf.png" alt="Ko7aIf.png"></p><p><img src="https://s2.ax1x.com/2019/10/31/Ko7UdP.png" alt="Ko7UdP.png"></p><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>该软件在1秒中内同一时间的线程访问额度达到50的时候，就已经出现了将近74%的错误率，而在访问额度达到100的时候，错误率甚至达到了95%左右。这说明，在1秒内同一时间访问额度达到50的时候就需要谨慎使用了，而1秒内同一时间访问额度达到100的时候，该软件已经不建议使用了。</p><pre><code>通过以上数据和分析，我们认为该软件在小班化教学或者公司小范围开会的时候，用在局域网内的上传与下载文档非常适合。以上就是对小型FTP服务软件Quick Easy FTP Server的上传与下载数值的分析。这个实验，之前遇到最大的坑在于没有填写正确的ip以及ftp虚拟路径，而且后面发现一但ip无响应不仅关不了进程，连任务管理器还没有用，只能重启来解决，差点把我的文档给丢了。。。总而言之，通过关于FTP的这个大作业，让我对FTP的性能测试的大致流程有了一定的熟悉度，并通过搭配环境的过程，也对FTP这个协议有了更深的了解。</code></pre><blockquote style="margin: 2em 0 0;padding: 0.5em 1em;border-left: 3px solid #F44336;background-color: #F5F5F5;list-style: none;"><p> <strong>本文使用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/" target="_blank" rel="noopener">CC BY-NC-SA 3.0 中国大陆</a> 协议许可<br>具体请参见 <a href="https://zyhang8.github.io/agree/" target="_blank" rel="noopener">知识共享协议</a></strong><br> <strong>本文链接：</strong><a href="https://zyhang8.github.io/2019/09/25/ftp/" target="_blank" rel="noopener">https://zyhang8.github.io/2019/09/25/ftp/</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 测试 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 测试 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>鱼的记忆|database</title>
      <link href="/2019/09/24/fish-database/"/>
      <url>/2019/09/24/fish-database/</url>
      
        <content type="html"><![CDATA[<p>database个人常用易忘语法</p><blockquote><p>以前也经常用mysql,mongodb,redis,sql server等进行项目数据操作，但是很多基本操作总是忘，现在就记录一下语法和操作</p></blockquote><h2 id="mysql"><a href="#mysql" class="headerlink" title="mysql"></a>mysql</h2><p>启动</p><p>net start mysql</p><p>登陆</p><p>mysql -u root -p</p><p>使用某数据库</p><p>use database;</p><p>给ip登陆权限，局域网内可是使用</p><p>grant all on database.* to <a href="mailto:root@192.168.169.251" target="_blank" rel="noopener">root@192.168.169.251</a> identified by “ok”;</p><p>database代表数据库名称;root代表登录的账号;192.168.169.251代表给哪台电脑的授权  ok代表密码</p><p>重新激活</p><p>flush privileges</p><blockquote style="margin: 2em 0 0;padding: 0.5em 1em;border-left: 3px solid #F44336;background-color: #F5F5F5;list-style: none;"><p> <strong>本文使用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/" target="_blank" rel="noopener">CC BY-NC-SA 3.0 中国大陆</a> 协议许可<br>具体请参见 <a href="https://zyhang8.github.io/agree/" target="_blank" rel="noopener">知识共享协议</a></strong><br> <strong>本文链接：</strong><a href="https://zyhang8.github.io/2019/09/24/fish-database/" target="_blank" rel="noopener">https://zyhang8.github.io/2019/09/24/fish-database/</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 鱼的记忆 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> database </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>海洋生物识别系统-需求获取安排计划书</title>
      <link href="/2019/09/23/requirement-exp3/"/>
      <url>/2019/09/23/requirement-exp3/</url>
      
        <content type="html"><![CDATA[<p><a href="https://files.cnblogs.com/files/pipi-pig/%E9%9C%80%E6%B1%82%E8%8E%B7%E5%8F%96%E8%AE%A1%E5%88%92%E4%B9%A6.docx.zip" target="_blank" rel="noopener">海洋生物识别系统需求获取安排计划书</a></p><blockquote style="margin: 2em 0 0;padding: 0.5em 1em;border-left: 3px solid #F44336;background-color: #F5F5F5;list-style: none;"><p> <strong>本文使用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/" target="_blank" rel="noopener">CC BY-NC-SA 3.0 中国大陆</a> 协议许可<br>具体请参见 <a href="https://zyhang8.github.io/agree/" target="_blank" rel="noopener">知识共享协议</a></strong><br> <strong>本文链接：</strong><a href="https://zyhang8.github.io/2019/09/23/requirement-exp3/" target="_blank" rel="noopener">https://zyhang8.github.io/2019/09/23/requirement-exp3/</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 需求分析 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 需求分析 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>海洋生物识别系统-前景与范围文档</title>
      <link href="/2019/09/21/requirement-exp2/"/>
      <url>/2019/09/21/requirement-exp2/</url>
      
        <content type="html"><![CDATA[<p><a href="https://files.cnblogs.com/files/pipi-pig/%E5%89%8D%E6%99%AF%E4%B8%8E%E9%97%AE%E9%A2%98%E6%96%87%E6%A1%A3.docx.zip" target="_blank" rel="noopener">海洋生物识别系统前景与范围文档</a></p><blockquote style="margin: 2em 0 0;padding: 0.5em 1em;border-left: 3px solid #F44336;background-color: #F5F5F5;list-style: none;"><p> <strong>本文使用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/" target="_blank" rel="noopener">CC BY-NC-SA 3.0 中国大陆</a> 协议许可<br>具体请参见 <a href="https://zyhang8.github.io/agree/" target="_blank" rel="noopener">知识共享协议</a></strong><br> <strong>本文链接：</strong><a href="https://zyhang8.github.io/2019/09/21/requirement-exp2/" target="_blank" rel="noopener">https://zyhang8.github.io/2019/09/21/requirement-exp2/</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 需求分析 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 需求分析 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>海洋生物识别系统-问题分析文档</title>
      <link href="/2019/09/20/requirement-exp1/"/>
      <url>/2019/09/20/requirement-exp1/</url>
      
        <content type="html"><![CDATA[<p><a href="https://files.cnblogs.com/files/pipi-pig/%E9%97%AE%E9%A2%98%E5%88%86%E6%9E%90%E6%96%87%E6%A1%A3.docx.zip" target="_blank" rel="noopener">海洋生物识别系统问题分析文档</a></p><blockquote style="margin: 2em 0 0;padding: 0.5em 1em;border-left: 3px solid #F44336;background-color: #F5F5F5;list-style: none;"><p> <strong>本文使用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/" target="_blank" rel="noopener">CC BY-NC-SA 3.0 中国大陆</a> 协议许可<br>具体请参见 <a href="https://zyhang8.github.io/agree/" target="_blank" rel="noopener">知识共享协议</a></strong><br> <strong>本文链接：</strong><a href="https://zyhang8.github.io/2019/09/20/requirement-exp1/" target="_blank" rel="noopener">https://zyhang8.github.io/2019/09/20/requirement-exp1/</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 需求分析 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 需求分析 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>构建之法 -源代码管理</title>
      <link href="/2019/09/19/it-exp4/"/>
      <url>/2019/09/19/it-exp4/</url>
      
        <content type="html"><![CDATA[<h1 id="构建之法-源代码管理"><a href="#构建之法-源代码管理" class="headerlink" title="构建之法 -源代码管理"></a>构建之法 -源代码管理</h1><h2 id="源代码管理"><a href="#源代码管理" class="headerlink" title="源代码管理"></a>源代码管理</h2><p>在第十四周的团队博客作业上，王老师让我们针对团队项目源代码管理提出了是个问题并进行了解析，我们根据自己的实际情况，给出了这十个问题的答案，并整理成了团队博客发布。</p><p>作为一个程序猿，源码的管理是一个头等大事来的，想象一下，修改完成却发现文件丢失了，该怎么办？有了源代码管理工具，能够帮助我们查看某个代码文件的修改内存及历史修改记录。</p><p>软件工程中，也有类似脚手架，塔吊这样的工程系统，工具和流程。 软件的源代码管理工具（source code control system），加上构建系统 （build system）, 能保证一个复杂软件能在多个角色，多个团队的合作下，按时以合适的质量发布。 如果你写一个Hello World 程序， 当然不需要这些工具， 就像你用儿童积木搭房子过家家，你自己高兴，但这不是建筑工程。在经过（实际不到）一年的学习（入坑），我使用过Gitlab，GitHub，Gitee作为源代码管理器</p><h3 id="源代码管理的10-个实践问题"><a href="#源代码管理的10-个实践问题" class="headerlink" title="源代码管理的10 个实践问题"></a>源代码管理的10 个实践问题</h3><p>1.你的团队的源代码控制在哪里？用的是什么系统？如何处理文件的锁定问题？</p><p>场景：程序员1正在对几个文件进行修改，实现一个大的功能，这时候，程序员2也要改其中一个文件，快速修复一个问题，该怎么办？</p><p>一个代码文件被签出后，另一个团队成员可以签出这个文件，并修改，然后签入吗？</p><p>有几种设计？各有什么优缺点？</p><p>答：源代码的控制在github上，当一个人签出一个文件后，另一个人不可以签出这个文件，这样的优点是保证文件不会混乱，如果两个人修改了同一个地方，就不知道最后采取谁的方法，缺点是可能会影响程序开发的效率，因为如果两个人同时修改这个文件不同的地方便会加快开发的效率。 </p><ol start="2"><li>如何看到这个文件和之前版本的差异？如何看到代码修改和工作项（work item），缺陷修复 （bug fix) 的关系。</li></ol><p>答：每次push时在commit中的message部分注明修改内容，这样本次checkin做了什么改动一目了然；也可以在coding.net代码详情中查看具体做了哪些修改。另外我们小组的开发工具也支持版本控制，可查看具体的修改。</p><p>例如：</p><p><img src="https://img2018.cnblogs.com/blog/1612169/201905/1612169-20190527164837232-760480827.png" alt="1"></p><p><img src="https://img2018.cnblogs.com/blog/1612169/201905/1612169-20190527161251228-1636045783.png" alt="2"></p><p><img src="https://img2018.cnblogs.com/blog/1612169/201905/1612169-20190527161304842-185523394.png" alt="3"></p><p>假设场景，例如当某团队程序员看到某个文件被修改了，并且想要阅读到这个文件在最近的修改酒精改动了哪些地方，或者说看到某个文件在最新版本被改动了几百行，那么这几百行对应的其他修改在何处文件中，这些修改所要解决的问题以及工作项，如何找寻到这些bug或是问题来源呢？</p><p>1、本团队发现很多开发工具都有show history（查看历史）的功能，那么我们点击此功能，就可以查询到历史改动痕迹或者是历史版本，就像一个时光穿梭机，对于文件的提交历史和提交修改也可以轻松的阅览到，例如由我们安卓开发软件Android studio我们就可以看到有的history查看功能：</p><p><img src="https://img2018.cnblogs.com/blog/1612169/201905/1612169-20190527161451798-679718942.png" alt="4"></p><p><img src="https://img2018.cnblogs.com/blog/1612169/201905/1612169-20190527161457215-1740213874.png" alt="5"></p><p>2、当我们打开github的时候，我们也可以看到在github网页版主页中，当我们选中我们的其中一个项目之后，进入code界面，点击comparing changes，就会看到你的项目的改动</p><p><img src="https://img2018.cnblogs.com/blog/1612169/201905/1612169-20190527161527967-786014834.png" alt="6"></p><p><img src="https://img2018.cnblogs.com/blog/1612169/201905/1612169-20190527161538610-2136781800.png" alt="7"></p><p>3、对于查询历史改动在何处的场景问题，基本是通过查看提交时候的comment来确定这次提交的修改原因是什么。Bug和功能列表通常在另外一个系统记录，比如：Excel，在Excel里面对Bug和功能进行标记（已完成，未完成，进行中），一般开会的时候大家对近期修复的Bug和功能按照这个Excel表的内容一起来过一遍。对于和这个几百多行的修改一起签入的其他修改，在Eclipse+SVN下可以查看相关修改的文件以及修改原因：</p><p>在某个文件上点击右键：Team-&gt;显示资源历史纪录：</p><p><img src="https://img2018.cnblogs.com/blog/1612169/201905/1612169-20190527161558529-1584948265.png" alt="8"></p><p>也可以自动关联bug/issue和每次签入的修改之间的关系，用户可以提交Issue，并把Issue标记为bug，开发人员提交代码的时候，加上以下描述信息，对应的Issue就会被Close，fix #+Issue编号，如：fix #1 对应编号为1的Issue被关闭  </p><p><img src="https://img2018.cnblogs.com/blog/1612169/201905/1612169-20190527161701662-1726581351.png" alt="9"></p><p><img src="https://img2018.cnblogs.com/blog/1612169/201905/1612169-20190527161645056-1558602309.png" alt="10"></p><ol start="3"><li>如果某个文件在你签出之后已经被别人修改，并且签入了，那么你在签入你的修改的时候， 如何合并不同的修改（merge)? 你用了什么工具来帮助你？</li></ol><p>本团队想到可以使用GitBash工具更新本地仓库，有冲突时对比解决冲突，然后签入代码。又或者备份本地自己开发的一份代码，先把别人签入的代码更新到本地，然后在本地手动合并修改，用的工具是Beyond Compare。 </p><p><img src="https://img2018.cnblogs.com/blog/1612169/201905/1612169-20190527161715584-1194087577.png" alt="11"></p><p>4.你有20个文件都是关于同一个功能的修改，你要如何保证这些文件都同时签入成功，或者同时签入不成功？</p><p>场景：程序员1要签入20 个文件，他一个一个地签入， 在签入完5 个 .h 文件之后， 他发现一些 .cpp 文件和最新的版本有冲突，他正在花时间琢磨如何合并… 这时候， 程序员2从客户端同步了所有最新代码，开始编译，但是编译不成功- 因为有不同步的 .h 文件和 .cpp 文件！  这时候， 别的程序员也来抱怨同样的问题，程序员1应该怎么办？</p><p>答：在签入之前，一定要先对比处理有冲突的文件，这样可以方便他人使用修改</p><p>在签入的时候，先把冲突文件更新下来，与本地自己要签入的文件进行一轮合并。再去签入。</p><p>5、你的PC 上有关于三个功能的修改， 但是都没有完成，有很多文件处于半完工的状态，这时你要紧急修改一个新的 bug，如何把本地修改放一边，保证在干净的环境中修改这个 bug, 并成功地签入你的修改 — changelist management。 </p><p>答：1)在new分支上的时候在命令行输入：</p><p>git stash</p><p>或者</p><p>git stash save “修改的信息”。</p><p>这样以后你的代码就回到自己上一个commit了，直接git stash的话git stash的栈会直接给你一个hash值作为版本的说明，如果用git stash save “修改的信息”，git stash的栈会把你填写的“修改的信息”作为版本的说明。</p><p>2)接下来你回到old分支修改代码完成，你又再回到new分支，输入：</p><p>git stash pop</p><p>或者</p><p>git stash list</p><p>git stash apply stash@{0}</p><p>就可以回到保存的版本了。git stash pop的作用是将git stash栈中最后一个版本取出来，git stash apply stash@{0}的作用是可以指定栈中的一个版本</p><p>3)通过git stash list可以看到所有的版本信息：</p><p>stash@{0}: On order-master-bugfix: 22222</p><p>stash@{1}: On order-master-bugfix: 22222</p><p>4)然后你可以选择一个你需要的版本执行：</p><p>git stash apply stash@{0}</p><p>这时候你搁置的代码就回来了。</p><p>6、规范操作和自动化</p><pre><code>你的团队规定开发者签入的时候要做这些事情：- 运行单元测试，相关的代码质量测试。- 代码复审 （要有别的员工的名字）- 和这次签入相关的issue 编号， 任务/task， 缺陷/bug 编号，等等， 以备查询。请问你的团队有这样的自动化工具让开发者方便地一次性填入所有信息然后提交么？  （高级功能， 代码提交之后， 相关bug 的状态会改动为  “fixed”， 并且有链接指向这次签入。）</code></pre><p>答：暂时没有。</p><ol start="8"><li><p>一个源文件，如何知道它的每一行都是什么时候签入的，为了什么目的签入的 （解决了哪个任务，或者哪个bug）？</p><p>场景： 一个重要的软件历经几年，几个团队的开发和维护，忽然出现在某个条件下崩溃的事故， 程序员果冻经过各种debug手段，发现问题是在某一个文件中有一行代码似乎显然出了问题， 但是这个模块被很多其他模块调用，  这行代码是什么时候，为了什么目的，经过谁签入的呢？  如果贸然修改， 会不会导致其他问题呢？  怎么办？</p></li></ol><p>成员在Gitlab上提交修改过的代码，都会要求添加备注，比如修改的地方，还有修改的原因。这样，当代码出现问题之后，就可以很容易的找到当时的修改人，查看原因，有助于代码的修改。</p><p><img src="https://img2018.cnblogs.com/blog/1612169/201905/1612169-20190527164447367-1397794011.png" alt="12"></p><p>下面的commit可以填写该项目需要备注的信息，比如可以编辑 人员/update/时间等信息 方便对项目进行管理</p><ol start="8"><li><p>一个源文件，如何知道它的每一行都是什么时候签入的，为了什么目的签入的 （解决了哪个任务，或者哪个bug）？</p><p>场景： 一个重要的软件历经几年，几个团队的开发和维护，忽然出现在某个条件下崩溃的事故， 程序员果冻经过各种debug手段，发现问题是在某一个文件中有一行代码似乎显然出了问题， 但是这个模块被很多其他模块调用，  这行代码是什么时候，为了什么目的，经过谁签入的呢？  如果贸然修改， 会不会导致其他问题呢？  怎么办？</p></li></ol><p>1)查看分支</p><p>git branch    查看本地仓库</p><p>git branch -r 查看远程仓库</p><p>2)创建分支</p><p>git checkout -b feature-A</p><p>3)切换分支</p><pre><code>git checkout master 切换到master分支git checkout -    切换回上一个分支</code></pre><p>4)获取仓库代码</p><p>git pull origin master</p><p>5)修改代码提交到feature-A分支上</p><pre><code>git add .    添加文件git commit -m &apos;add branch&apos; 提交代码git push -u origin feature-A 推送至远程仓库master以外的分支</code></pre><p>6)合并代码到master分支</p><p>   假设分支feature-A已经实现完成，想要将它合并到主干分支master中。首先切换到master分支</p><p>git checkout master</p><p>git merge –no-ff feature-A</p><p>7)以图表形式查看分支</p><p>git log –graph</p><p>也可以通过可视化工具进行创建分支</p><p><img src="https://img2018.cnblogs.com/blog/1612169/201905/1612169-20190527235909410-1692973782.png" alt="13"></p><ol start="9"><li><p>如何给一个系统的所有源文件都打上标签，这样别人可以同步所有有这个标签的文件版本？</p><p>代码每天都在变， 有时质量变好，有时变差，我们需要一个 Last Known Good （最后稳定的好版本） 版本， 这样新员工就可以同步这个版本， 我们如果需要发布，也是从这个版本开始。  那么如何标记这个 Last Known Good 版本呢？ </p></li></ol><p>用户手册</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">meel@YLIN-VPC MINGW64 /t/Desktop/scrap_bilibili (master)</span><br><span class="line">$ git tag -h</span><br><span class="line">usage: git tag [-a | -s | -u &lt;key-id&gt;] [-f] [-m &lt;msg&gt; | -F &lt;file&gt;] &lt;tagname&gt; [&lt;head&gt;]</span><br><span class="line">   or: git tag -d &lt;tagname&gt;...</span><br><span class="line">   or: git tag -l [-n[&lt;num&gt;]] [--contains &lt;commit&gt;] [--no-contains &lt;commit&gt;] [--points-at &lt;object&gt;]</span><br><span class="line">                [--format=&lt;format&gt;] [--[no-]merged [&lt;commit&gt;]] [&lt;pattern&gt;...]</span><br><span class="line">   or: git tag -v [--format=&lt;format&gt;] &lt;tagname&gt;...</span><br><span class="line"></span><br><span class="line">    -l, --list            list tag names</span><br><span class="line">    -n[&lt;n&gt;]               <span class="built_in">print</span> &lt;n&gt; lines of each tag message</span><br><span class="line">    -d, --delete          delete tags</span><br><span class="line">    -v, --verify          verify tags</span><br><span class="line"></span><br><span class="line">Tag creation options</span><br><span class="line">    -a, --annotate        annotated tag, needs a message</span><br><span class="line">    -m, --message &lt;message&gt;</span><br><span class="line">                          tag message</span><br><span class="line">    -F, --file &lt;file&gt;     <span class="built_in">read</span> message from file</span><br><span class="line">    -e, --edit            force edit of tag message</span><br><span class="line">    -s, --sign            annotated and GPG-signed tag</span><br><span class="line">    --cleanup &lt;mode&gt;      how to strip spaces and <span class="comment">#comments from message</span></span><br><span class="line">    -u, --<span class="built_in">local</span>-user &lt;key-id&gt;</span><br><span class="line">                          use another key to sign the tag</span><br><span class="line">    -f, --force           replace the tag <span class="keyword">if</span> exists</span><br><span class="line">    --create-reflog       create a reflog</span><br><span class="line"></span><br><span class="line">Tag listing options</span><br><span class="line">    --column[=&lt;style&gt;]    show tag list <span class="keyword">in</span> columns</span><br><span class="line">    --contains &lt;commit&gt;   <span class="built_in">print</span> only tags that contain the commit</span><br><span class="line">    --no-contains &lt;commit&gt;</span><br><span class="line">                          <span class="built_in">print</span> only tags that don\<span class="string">'t contain the commit</span></span><br><span class="line"><span class="string">    --merged &lt;commit&gt;     print only tags that are merged</span></span><br><span class="line"><span class="string">    --no-merged &lt;commit&gt;  print only tags that are not merged</span></span><br><span class="line"><span class="string">    --sort &lt;key&gt;          field name to sort on</span></span><br><span class="line"><span class="string">    --points-at &lt;object&gt;  print only tags of the object</span></span><br><span class="line"><span class="string">    --format &lt;format&gt;     format to use for the output</span></span><br><span class="line"><span class="string">    --color[=&lt;when&gt;]      respect format colors</span></span><br><span class="line"><span class="string">    -i, --ignore-case     sorting and filtering are case insensitive</span></span><br></pre></td></tr></table></figure><h4 id="列出现有标签"><a href="#列出现有标签" class="headerlink" title="列出现有标签"></a>列出现有标签</h4><p>命令:git tag</p><h4 id="参数说明"><a href="#参数说明" class="headerlink" title="参数说明"></a>参数说明</h4><p>-l:接通配符表达式实现筛选</p><p>例子:</p><p>刚开始进入项目，发现没有标签,后面会逐一补充</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">meel@YLIN-VPC MINGW64 /t/Desktop/scrap_bilibili (master)</span><br><span class="line">$ git tag</span><br></pre></td></tr></table></figure><h4 id="新建标签"><a href="#新建标签" class="headerlink" title="新建标签"></a>新建标签</h4><p>命令:git tag -a v0.1.0 -m ‘init’</p><p>参数说明:</p><p>-a/–annotated:注释，后接标签名，不需要引号</p><p>-m/–message:信息，后接注释说明文字，需带引号</p><p>结果:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">meel@YLIN-VPC MINGW64 /t/Desktop/scrap_bilibili (master)</span><br><span class="line">$ git tag -a v0.1.0 -m <span class="string">'init'</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">meel@YLIN-VPC MINGW64 /t/Desktop/scrap_bilibili (master)</span><br><span class="line">$ git tag</span><br><span class="line">v0.1.0</span><br><span class="line"></span><br><span class="line">meel@YLIN-VPC MINGW64 /t/Desktop/scrap_bilibili (master)</span><br><span class="line">$ git show v0.1.0</span><br><span class="line">tag v0.1.0</span><br><span class="line">Tagger: unknown &lt;545641826@qq.com&gt;</span><br><span class="line">Date:   Mon May 27 04:58:08 2019 +0800</span><br><span class="line"></span><br><span class="line">init</span><br><span class="line"></span><br><span class="line">commit b30d3b3e00a93e43d8219ca584b4ce380c6f6be8 (HEAD -&gt; master, tag: v0.1.0, origin/master, origin/HEAD)</span><br><span class="line">Author: ylin &lt;545641826@qq.com&gt;</span><br><span class="line">Date:   Tue Dec 11 11:46:10 2018 +0800</span><br><span class="line"></span><br><span class="line">    first commit</span><br><span class="line"></span><br><span class="line">diff --git a/.gitignore b/.gitignore</span><br><span class="line">index 871bb87..8fbdcbe 100644</span><br><span class="line">--- a/.gitignore</span><br><span class="line">+++ b/.gitignore</span><br><span class="line">@@ -1 +1,2 @@</span><br><span class="line"> cookie</span><br><span class="line">+.idea*</span><br></pre></td></tr></table></figure><p>注:git show 接标签名可查看当前项目指定标签具体信息</p><h4 id="上传标签"><a href="#上传标签" class="headerlink" title="上传标签"></a>上传标签</h4><p>命令:git push origin v0.1.0</p><p>参数说明:</p><p>需要在push时指定远程仓库（默认当前分支）,后加标签名.</p><p>例子:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">meel@YLIN-VPC MINGW64 /t/Desktop/scrap_bilibili (master)</span><br><span class="line">$ touch <span class="built_in">test</span></span><br><span class="line"></span><br><span class="line">meel@YLIN-VPC MINGW64 /t/Desktop/scrap_bilibili (master)</span><br><span class="line">$ ls</span><br><span class="line">headers  memorandom.txt  rename.py*  scrap.py*  <span class="built_in">test</span></span><br><span class="line"></span><br><span class="line">meel@YLIN-VPC MINGW64 /t/Desktop/scrap_bilibili (master)</span><br><span class="line">$ git add .</span><br><span class="line"></span><br><span class="line">meel@YLIN-VPC MINGW64 /t/Desktop/scrap_bilibili (master)</span><br><span class="line">$ git commit -m<span class="string">'test'</span></span><br><span class="line">[master b57b583] <span class="built_in">test</span></span><br><span class="line"> 1 file changed, 0 insertions(+), 0 deletions(-)</span><br><span class="line"> create mode 100644 <span class="built_in">test</span></span><br><span class="line"></span><br><span class="line">meel@YLIN-VPC MINGW64 /t/Desktop/scrap_bilibili (master)</span><br><span class="line">$ git push</span><br><span class="line">Enumerating objects: 4, <span class="keyword">done</span>.</span><br><span class="line">Counting objects: 100% (4/4), <span class="keyword">done</span>.</span><br><span class="line">Delta compression using up to 32 threads</span><br><span class="line">Compressing objects: 100% (2/2), <span class="keyword">done</span>.</span><br><span class="line">Writing objects: 100% (3/3), 255 bytes | 255.00 KiB/s, <span class="keyword">done</span>.</span><br><span class="line">Total 3 (delta 1), reused 0 (delta 0)</span><br><span class="line">remote: Resolving deltas: 100% (1/1), completed with 1 <span class="built_in">local</span> object.</span><br><span class="line">To https://github.com/545641826/scrap_bilibili.git</span><br><span class="line">   b30d3b3..b57b583  master -&gt; master</span><br></pre></td></tr></table></figure><p><img src="https://img2018.cnblogs.com/blog/1612169/201905/1612169-20190527163225263-1407758990.jpg" alt="14"></p><p>此时可在git上看到如图所示标签<br>回退到标签版本</p><p>新建文件模拟bug</p><p><img src="https://img2018.cnblogs.com/blog/1612169/201905/1612169-20190527163216423-1849533307.jpg" alt="15"></p><p>此时远程仓库如图:</p><p>回退:</p><p>首先通过标签查看提交id</p><p>然后通过reset –hard 回退到指定提交版本.</p><p>最后提交</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">meel@YLIN-VPC MINGW64 /t/Desktop/scrap_bilibili (master)</span><br><span class="line">$ git show v0.1.0</span><br><span class="line">tag v0.1.0</span><br><span class="line">Tagger: unknown &lt;545641826@qq.com&gt;</span><br><span class="line">Date:   Mon May 27 04:58:08 2019 +0800</span><br><span class="line"></span><br><span class="line">init</span><br><span class="line"></span><br><span class="line">commit b30d3b3e00a93e43d8219ca584b4ce380c6f6be8 (tag: v0.1.0)</span><br><span class="line">Author: ylin &lt;545641826@qq.com&gt;</span><br><span class="line">Date:   Tue Dec 11 11:46:10 2018 +0800</span><br><span class="line"></span><br><span class="line">    first commit</span><br><span class="line"></span><br><span class="line">diff --git a/.gitignore b/.gitignore</span><br><span class="line">index 871bb87..8fbdcbe 100644</span><br><span class="line">--- a/.gitignore</span><br><span class="line">+++ b/.gitignore</span><br><span class="line">@@ -1 +1,2 @@</span><br><span class="line"> cookie</span><br><span class="line">+.idea*</span><br><span class="line"></span><br><span class="line">meel@YLIN-VPC MINGW64 /t/Desktop/scrap_bilibili (master)</span><br><span class="line">$ git reset --hard b30d</span><br><span class="line">HEAD is now at b30d3b3 first commit</span><br><span class="line"></span><br><span class="line">meel@YLIN-VPC MINGW64 /t/Desktop/scrap_bilibili (master)</span><br><span class="line">$ ls</span><br><span class="line">headers  memorandom.txt  rename.py*  scrap.py*</span><br></pre></td></tr></table></figure><ol start="10"><li>你的项目的源代码和测试这些代码的单元测试，以及其他测试脚本都是放在一起的么？ 修改源代码会确保相应的测试也更新么？你的团队是否能部署自动构建的任务？<br>在签入之前，程序员能否自动在自己的机器上运行自动测试，以保证本地修改不会影响整个软件的质量？<br>在程序员提交签入之后，服务器上是否有自动测试程序， 完成编译，测试，如果成功，就签入，否则，就取消签入？<br>团队是否配置了服务器，它自动同步所有文件，自动构建，自动运行相关的单元测试，碰到错误能自动发邮件给团队</li></ol><p>1：测试相关代码和源代码都在同一个项目的同一个文件夹下，相当于是放在一起了。 修改了源代码，相关测试会自动更新。团队暂时没有部署自动构建任务</p><p>2：自动测试暂时还没有去做，所以这一步可能还未涉及到</p><p>3：还未涉及到服务器以及自动测试相关，所以这一步暂时没有</p><p>4：暂未配置服务器，所以暂时没有自动同步以及相关功能</p><h2 id="心得体会"><a href="#心得体会" class="headerlink" title="心得体会"></a>心得体会</h2><p>在做这项作业的时候，我们团队一开始很多人都针对这些问题有许多不理解的点，和不理解的专业术语专业问题等等，但在我们探索的过程中和团队间的互相交流中我们了解了许多其他的辅助我们团队开发的软件，以及对于协助团队更改更新代码的软件，通过解答问题，我们团队对于这些软件的操作也愈加熟练起来，针对源文件签入，bug修改，查找历史修改文件，为所有源文件打上标签，同步所有有这个标签的文件版本，自动运行单元测试，从一开始的需求分析，到软件制作，到软件技术层面上的代码bug修改，到最后的测试环节，在本报告中所提及的问题中都有所涉及，我们在思考探索如果自动同步所有文件，自动构建，自动运行单元测试，碰到错误如何能够自动发邮件给团队，等等我们以往从未考虑到的问题，或者考虑到但从未想过该如何解决的问题时，通过这项作业我们每一个成员都有了新的思考和结果，我们也学会了如何运用软件协助我们完成一个新的项目，并监督每个成员期间的过程和操作，推动整项项目的顺利进展。</p><blockquote style="margin: 2em 0 0;padding: 0.5em 1em;border-left: 3px solid #F44336;background-color: #F5F5F5;list-style: none;"><p> <strong>本文使用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/" target="_blank" rel="noopener">CC BY-NC-SA 3.0 中国大陆</a> 协议许可<br>具体请参见 <a href="https://zyhang8.github.io/agree/" target="_blank" rel="noopener">知识共享协议</a></strong><br> <strong>本文链接：</strong><a href="https://zyhang8.github.io/2019/09/19/it-exp4/" target="_blank" rel="noopener">https://zyhang8.github.io/2019/09/19/it-exp4/</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> IT项目管理 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> IT项目管理 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>数据库管理与开发期末作业</title>
      <link href="/2019/09/18/amazon-oracle/"/>
      <url>/2019/09/18/amazon-oracle/</url>
      
        <content type="html"><![CDATA[<!-- TOC --><ul><li><a href="#为亚马逊设计一个数据库从一下5点入手">为亚马逊设计一个数据库,从一下5点入手</a></li><li><a href="#11完成需求分析">1.1完成需求分析</a><ul><li><a href="#引言">引言</a></li><li><a href="#项目背景">项目背景</a></li><li><a href="#系统业务需求">系统业务需求</a></li><li><a href="#系统功能需求">系统功能需求</a><ul><li><a href="#店铺管理功能">店铺管理功能</a></li><li><a href="#商品管理功能">商品管理功能</a></li><li><a href="#订单管理功能">订单管理功能</a></li><li><a href="#物流发货功能">物流发货功能</a></li></ul></li><li><a href="#系统非功能性需求">系统非功能性需求</a><ul><li><a href="#用例需求小结">用例需求小结</a></li></ul></li></ul></li><li><a href="#12概念模型er图">1.2概念模型(ER图)</a></li><li><a href="#21概念模型映射为关系模型">2.1概念模型映射为关系模型</a></li><li><a href="#22-将关系模型的范式优化到3nf通过模式分解算法消除非主属性对主属性的部分函数依赖传递函数依赖">2.2 将关系模型的范式优化到3NF(通过模式分解算法消除非主属性对主属性的部分函数依赖，传递函数依赖)</a><ul><li><a href="#第一范式1nf数据表中的每一列每个字段必须是不可拆分的最小单元也就是确保每一列的原子性">第一范式（1NF）：数据表中的每一列（每个字段）必须是不可拆分的最小单元，也就是确保每一列的原子性</a></li><li><a href="#第二范式2nf满足1nf后要求表中的所有列都必须依赖于主键而不能有任何一列与主键没有关系也就是说一个表只描述一件事情">第二范式（2NF）：满足1NF后，要求表中的所有列，都必须依赖于主键，而不能有任何一列与主键没有关系，也就是说一个表只描述一件事情</a></li><li><a href="#第三范式3nf必须先满足第二范式2nf要求表中的每一列只与主键直接相关而不是间接相关表中的每一列只能依赖于主键">第三范式（3NF）：必须先满足第二范式（2NF），要求：表中的每一列只与主键直接相关而不是间接相关（表中的每一列只能依赖于主键）</a></li></ul></li><li><a href="#3根据优化后的关系模型建表按oracle的语法重点利用dbms提供的约束和触发器来保证数据库的完整性">3.根据优化后的关系模型建表（按ORACLE的语法），重点利用DBMS提供的约束和触发器来保证数据库的完整性。</a><ul><li><a href="#建表约束">建表+约束</a></li><li><a href="#创建触发器">创建触发器</a></li></ul></li><li><a href="#分析数据库面对的用户的种类完成数据库用户的权限授权建议确定合理的角色来完成权限的分配和回收">分析数据库面对的用户的种类，完成数据库用户的权限授权（建议确定合理的角色来完成权限的分配和回收）</a><ul><li><a href="#分析过程">分析过程</a></li><li><a href="#角色设计">角色设计</a></li></ul></li><li><a href="#制定合理的数据库备份恢复策略">制定合理的数据库备份恢复策略。</a><ul><li><a href="#备份策略确立">备份策略确立</a><ul><li><a href="#备份需求分析">备份需求分析</a></li><li><a href="#备份设备选型">备份设备选型</a></li><li><a href="#备份策略制定">备份策略制定</a></li></ul></li></ul></li><li><a href="#参考文献">参考文献</a></li></ul><!-- /TOC --><h2 id="为亚马逊设计一个数据库-从一下5点入手"><a href="#为亚马逊设计一个数据库-从一下5点入手" class="headerlink" title="为亚马逊设计一个数据库,从一下5点入手"></a>为亚马逊设计一个数据库,从一下5点入手</h2><blockquote><p>1.完成需求分析，给出概念模型(ER模型 )，认真讨论实体之间联系（1:1；1：n; m :n ）<br>2.将概念模型映射为关系模型，{ 例如： Customer( id  ,name, phone,……..)}，并将关系模型的范式优化到3NF ( 通过模式分解算法消除非主属性对主属性的部分函数依赖，传递函数依赖 )。<br>3.根据优化后的关系模型建表（按ORACLE的语法），重点利用DBMS提供的约束和触发器来保证数据库的完整性。<br>4.分析数据库面对的用户的种类，完成数据库用户的权限授权（建议确定合理的角色来完成权限的分配和回收）<br>5.制定合理的数据库备份恢复策略。</p></blockquote><h2 id="1-1完成需求分析"><a href="#1-1完成需求分析" class="headerlink" title="1.1完成需求分析"></a>1.1完成需求分析</h2><h3 id="引言"><a href="#引言" class="headerlink" title="引言"></a>引言</h3><p>在软件工程中需求分析是极为重要的一个环节，需求分析的工作是分析系统的业务需求，确定系统的目的、功能范围和定义。先介绍项目的需求背景，接着分析系统的业务需求和定义系统的体系结构,然后依据系统结构将系统分成多个业务模块，最后着重说明主要功能模块的用例。</p><h3 id="项目背景"><a href="#项目背景" class="headerlink" title="项目背景"></a>项目背景</h3><ol><li><p>现代社会正处在高速信息化的进程,人类生活在互联网的推动下正发生着超乎往常任何时代的变革，电子商务作为商业领域最先进的交易方式，已对传统经营理念和经营方式产生了巨大冲击。来自于中国电子商务协会数字服务中心(CECA)的数据显示，早在2011年世界各国电子商务市场规模总和已经突破40. 6万亿美元。目前，西方发达国家如美国、德国等，依然占据世界电子商务的主导地位,而中国等发展中国家的电子商务正处在蓬勃发展阶段，将在国际电子商务市场占据有力的地位”。近些年我国的电子商务能够快速发展，是因为中小企业在传统商业领域的生存和发展存在着资金短缺、技术落后、管理无序和人才素质不高等方面的障碍,而电子商务的出现很大程度地降低了中小企业的采购、营销和库存成本，帮助中小企业拓展市场、提升业务机会，提高运营效率,进一步优化企业服务，提升企业形象。</p></li><li><p>跨境电子商务作为电子商务发展的生力军,也是推动经济全球–体化的技术基础，具有极为重要的战略意义。发展跨境电子商务是国内企业缩小国外企业差距的一一个有效途径,对我国中小企业进入国际市场、充分利用整合国外各种有利资源是- - 个难得的机会，同时这也利于国外电子商务企业努力开拓中国市场。跨境电子商务构建的立体、开放的多边经贸合作模式，极大促进了企业优化整合多边资源以及企业间的互利共赢;同时跨境电商的发展和普及也使分散在全球各地的消费者能够容易地购买到其他国家和地区物美价廉的商品闻。</p></li><li><p>在众多的跨境电子商务平台中，亚马逊是全球用户数最多的网上零售平台，其规模远远超过了沃尔玛、苹果、eBay以及国内的阿里巴巴。来自ComScore的数据显示，早在2011年6月，亚马逊的独立用户数就已经位居全球首位，达到2.8亿人。越来越多的国内电商企业转战亚马逊平台，他们急切希望有基于亚马逊平台的电商系统，帮助他们整合生产厂家、IT 运营商、银行、物流公司形成的供应链，为企业在整个产业链上下游运作提供了创造新价值的驱动途径。</p></li></ol><h3 id="系统业务需求"><a href="#系统业务需求" class="headerlink" title="系统业务需求"></a>系统业务需求</h3><p>基于亚马逊平台的电商ERP系统是为了提高商品上架速度、加快订单处理和物流派送、降低外贸电商操作人员的从业门槛，优化电商供应链。作者在开发系统前详细阅读、熟悉亚马逊平台经营管理政策、规定,深入考察亚马逊平台的多个运营商，详细了解他们生产运营过程和遇到的困难，确定系统的基本业务。通过不断深入交流以及结合亚马逊提供的商城服务API接口确定基于亚马逊平台电商ERP系统的基本功能，包括店铺管理、商品管理、订单管理和物流发货等核心业务功能。</p><h3 id="系统功能需求"><a href="#系统功能需求" class="headerlink" title="系统功能需求"></a>系统功能需求</h3><h4 id="店铺管理功能"><a href="#店铺管理功能" class="headerlink" title="店铺管理功能"></a>店铺管理功能</h4><p>为了给消费者提供更好的本地化服务,亚马逊在全球多个国家和地区创建有独立运营的电商网站，如中国、德国、日本、加拿大、澳大利亚等，这些网站有独立的域名，在用户体验和商品类目上也存在一些差异。电商企业为了拥有更广泛的销售渠道和消费者群体,大多会入驻亚马逊的多个分站平台进行经营，为此系统需要支持接入多家店铺和管理多家店铺的商品、订单等。</p><p>店铺管理的功能包括:</p><ol><li>添加店铺<br>可以添加不同国家或地区的多个店铺,但不允许添加同名的店铺以便于区分管理。新增店铺时须调用亚马逊商城服务的API检验AppKey和AppSecret等信息是否有效,只有通过API验证的店铺才能成功添加到系统中。仅系统管理员才有权限添加店铺。</li><li>编辑店铺信息<br>编辑店铺信息页面可用于修改店铺的名称和AppSecret,而AppKey由于是店铺的唯一标识，一经绑定并添加成功不允许修改。出于安全考虑商家会定期更改店铺的AppSecret,如果AppSecret有修改，在保存店铺信息时须再次校验店铺API账号的有效性，只有账号信息通过API验证的修改才能成功保存。仅系统管理员才有权限修改店铺信息。</li><li>锁定店铺<br>商家在开启多家亚马逊店铺后，有可能由于在某些地区的经营状况不如预期，会做出暂停在该地区亚马逊平台上店铺的经营,譬如在西班牙亚马逊平台的店铺经营效益不佳，暂停该店铺的经营可节省西班牙语工作人员的投入。通过锁定店铺可以暂停店铺的经营活动,锁定店铺即停止该店铺同亚马逊商城服务的数据交换，只是更改店铺的状态，不影响店铺原有数据。仅系统管理员才有权限锁<br>定店铺。店铺管理的用例图如图3-1所示。</li></ol><p>根据亚马逊电商ERP系统的使用对象可以挖掘出店铺管理功能用例所涉及的参与者以及用例的前置条件、后置条件和具体操作的基本事件流店铺管理用</p><p><img src="https://s2.ax1x.com/2019/06/08/VD08CF.png" alt="VD08CF.png"></p><table><thead><tr><th>店铺管理用例说明</th></tr></thead><tbody><tr><td>用例名:店铺操作的用例</td></tr><tr><td>用例的标识符: StoreManageCase001</td></tr><tr><td>参与者:系统管理员</td></tr><tr><td>店铺管理用例简要的描述:系统管理员进入系统管理店铺信息</td></tr><tr><td>前置条件:系统管理员登录系统并进入店铺管理页面</td></tr><tr><td>基本事件流:</td></tr><tr><td>1.系统管理员进入店铺管理页面</td></tr><tr><td>2.管理员点击新增店铺按钮</td></tr><tr><td>3.按照页面上提示信息逐个填写店铺配置数据4.点击完成按钮，系统进行验证并添加店铺5.店铺添加成功，用例终止</td></tr><tr><td>后置条件:新添加的店铺显示在店铺列表页面，用户可修改店铺信息</td></tr></tbody></table><h4 id="商品管理功能"><a href="#商品管理功能" class="headerlink" title="商品管理功能"></a>商品管理功能</h4><p>电商吸引消费者的一个因素是款式全、选择多,所以电商店铺要频繁发布新款、更新商品。如此，商品管理就成了电商运营中既重要又繁琐的一项工作。对于有上千个单品在销售的商家，平均每天会上5-10个的新款，而在节假日或者平台活动大促到来之前还会大批量上新款。另外，根据销售情况和营销策略修改商品的标题、关键字、价格和库存也是商品操作人员每天需要重复进行的工作，商品管理涉及的业务比较多，为明确业务需求范围和功能定义，将商品管理划分为五个子功能:</p><ol><li>商品分类管理<br>用于管理商品的类目，合理的分类管理可以简化商品的其他操作，而且对生成销售报表并制定生产、营销策略有很大帮助。同时商品分类中也将作为商品名称在报关时使用。</li><li>商品规格管理<br>商品规格是指同一款式的商品拥有不同的颜色、尺寸或某方面属性等，通常会使用商品的规格和商品的类目、款式等组成商品编码。商品编码在商品的生产、销售和运输中都会使用到，而且商品编码生成条形码并借助扫描器进行捡货将大大提高这些环节的效率。</li><li>商品档案管理<br>商品的档案管理是指维护商品的标题、图片、价格、商品描述和搜索关键字等信息。消费者是否购买一款商品与商品档案的设置有着紧密的关系，另外合理地设置商品标题和搜索关键字等对商品的排名和曝光度也有很大的影响。</li><li>商品库存管理<br>商品的库存管理主要管理商品在各个仓库的可售商品数量,同时也维护仓库所支持的物流公司和物流服务方式，以及派送商品的物流运费等信息。</li><li>商品上架。<br>在系统中设置好商品的类目、规格、详细信息和库存之后，需要能够批量、快,速地将商品信息上传到亚马逊平台，从而取代手工在亚马逊后台逐个录入或者修改Excel文件上传。</li></ol><p><img src="https://s2.ax1x.com/2019/06/08/VDgj9x.png" alt="VDgj9x.png"></p><table><thead><tr><th>商品类别管理用例说明</th></tr></thead><tbody><tr><td>用例名:商品类别管理用例</td></tr><tr><td>用例的标识符: ProductManageCase001</td></tr><tr><td>参与者:系统管理员</td></tr><tr><td>商品类别管理用例简要的描述:系统管理员进入商品类别管理页面，可进行商品类别的新增、修改、维护</td></tr><tr><td>店铺管理用例简要的描述:系统管理员进入系统管理店铺信息</td></tr><tr><td>前置条件:系统管理员登录系统并进入商品类别管理页面</td></tr><tr><td>基本事件流:</td></tr><tr><td>1.系统管理员进入商品类别管理页面</td></tr><tr><td>2.管理员点击“新增”商品类别按钮</td></tr><tr><td>3.按照页面上提示信息逐个填写类别信息</td></tr><tr><td>4.点击“保存”按钮，新添加到类别显示在类目列表中</td></tr><tr><td>5.系统管理员选择刚新增的类目，点击“编辑”按钮</td></tr><tr><td>6.修改商品类别的名称</td></tr><tr><td>7.点击“保存”按钮</td></tr><tr><td>8.类别列表中显示修改后类别的名称</td></tr><tr><td>9.商品类别添加和修改完成，用例终止。</td></tr><tr><td>后置条件:管理员可在商品列表页面中删除指定类别</td></tr></tbody></table><table><thead><tr><th>商品档案用例说明</th></tr></thead><tbody><tr><td>用例名:商品档案操作用例</td></tr><tr><td>用例的标识符: ProductManageCase002</td></tr><tr><td>参与者:商品操作员</td></tr><tr><td>商品类别管理用例简要的描述:商品操作员站商品档案页面新增、管理商品档案信息</td></tr><tr><td>前置条件:商品所属类别已经创建</td></tr><tr><td>基本事件流:</td></tr><tr><td>1.系统管理员进入商品类别管理页面</td></tr><tr><td>2.商品操作员进入系统访问商品档案管理页面</td></tr><tr><td>3.设置所属类别</td></tr><tr><td>4.设置商品标题</td></tr><tr><td>5.填写UPC或ean</td></tr><tr><td>6.填写商品品牌</td></tr><tr><td>7.填写制造商规格编码</td></tr><tr><td>8.设置商品价格</td></tr><tr><td>9.上传商品图片</td></tr><tr><td>10.填写商品关键字</td></tr><tr><td>11.设置商品详细描述</td></tr><tr><td>12. 设置运费信息</td></tr><tr><td>13.点击“保存”按钮</td></tr><tr><td>14.返回商品档案列表页面，在页面中可以查看到新增的商品档案</td></tr><tr><td>15. 商品档案添加成功，用例终止</td></tr><tr><td>后置条件:商品操作员可修改商品档案信息、删除商品档案信息、修改商品库存、商品上架</td></tr></tbody></table><table><thead><tr><th>商品库存操作用例说明</th></tr></thead><tbody><tr><td>用例名:商品库存操作用例</td></tr><tr><td>用例的标识符: ProductManageCase003</td></tr><tr><td>参与者:商品操作员</td></tr><tr><td>商品类别管理用例简要的描述:商品操作员进入商品库存管理页面，可进行商品库存的修改</td></tr><tr><td>店铺管理用例简要的描述:系统管理员进入系统管理店铺信息</td></tr><tr><td>前置条件:商品档案已经创建</td></tr><tr><td>基本事件流:</td></tr><tr><td>1.商品操作员登录系统，访问商品库存管理页面</td></tr><tr><td>2.查找需要设置库存的商品</td></tr><tr><td>3.在查找到的商品列表中选择要设置库存的商品</td></tr><tr><td>4.设置商品库存</td></tr><tr><td>5.点击“保存”按钮</td></tr><tr><td>6.列表中商品的库存为更新后的库存</td></tr><tr><td>7.用例终止</td></tr><tr><td>后置条件:商品操作员可将商品的库存同步到亚马逊平台上</td></tr></tbody></table><table><thead><tr><th>商品上架的用例说明</th></tr></thead><tbody><tr><td>用例名:商品上架的用例</td></tr><tr><td>用例的标识符: ProductManageCase004</td></tr><tr><td>参与者:商品操作员</td></tr><tr><td>商品上架用例简要的描述:商品操作员进入商品管理页面，将已经配置好的商品上传到亚马逊平台</td></tr><tr><td>前置条件:商品档案已经创建，商品库存己设置</td></tr><tr><td>基本事件流:</td></tr><tr><td>1.商品操作 员登录系统，访问商品上传管理页面</td></tr><tr><td>2.查找并选中需要设置库存的商品</td></tr><tr><td>3.点击“上传商品到亚马逊”按钮</td></tr><tr><td>4.选中上传的商品添加到待上传商品列表</td></tr><tr><td>5.在上传商品页面中可以看到刚选中上传的商品，状态为“待上传”</td></tr><tr><td>6.后台任务调度程序定期将需要上传的商品上传到亚马逊平台</td></tr><tr><td>7.间隔几分钟后刷新上传商品页面，商品状态更新为“已上传”</td></tr><tr><td>8.间隔几分钟后在亚马逊商品管理后台检查商品是否上传成功</td></tr><tr><td>9.上传用例终止</td></tr><tr><td>后置条件:商品操作员可将商品的库存同步到亚马逊平台上</td></tr></tbody></table><h4 id="订单管理功能"><a href="#订单管理功能" class="headerlink" title="订单管理功能"></a>订单管理功能</h4><p>订单管理是从亚马逊平台获取最新的订单信息并保存到系统中，然后由操作人员进行订单审核和订单确认操作;订单在确认可以发货后将由仓储人员为订单进行捡货和打包装箱操作;在发货完成后将物流单号上传到亚马逊平台完成订单发货操作。个别情况下，如果有些订单所填写的收货地址物流无法送达或者所购买的商品在仓库中货源不足，在同买家沟通后需要对这些订单做取消操作。:<br>订单管理包含如下几个子功能:</p><ol><li>订单下载<br>由任务调度程序定时执行，将执行间隔期间亚马逊平台上买家新购买或者有修改的订单下载到系统中。下载订单的信息包括订单的付款时间、购买商品的编码和数量、买家账号、收货人姓名、收货人电话、收货人地址以及所选择的物流方式。新下载的订单须进行审核操作才能确定是否需要发货。</li><li>订单审核<br>审单人员的工作是检查订单信息是否准确、商品库存是否充足、收货地址是否物流可以到达，当出现特殊情况无法按预期给买家发货时，则发出订单报警，由客服人员联系买家协商处理。通过审核的订单将进入订单确认操作，出现异常的订单会由买家修改订单或者取消订单。</li><li>订单确认<br>订单审核通过后，将会从仓库中锁定该订单购买的商品，然后由仓储人员根据订单的商品清单从仓库捡货打包，并在发货成功后从库存中扣除相应商品数量。如果订单被取消，被锁定的商品将被解锁，订单回退到订单审核步骤。</li><li>取消订单<br>若出现仓库中没有买家所选定商品的足够库存，或者买家填写的收货地址不在物流派送范围内等客户，客服人员会同买家沟通协商，取得同意后将取消订单。只有当订单处于审核环节时才能执行取消订单操作,取消后的订单不会出现在订单审核页面中，只能在订单查询页面中查看。</li><li>订单同步<br>订单同步是将被取消的订单、已经发货或者有添加卖家备注的订单信息同步到亚马逊平台。该操作由任务调度系统定时检查系统中订单的状态，并调用亚马逊商城服务接口将有操作改动的订单同步到亚马逊平台。</li><li>订单查询<br>订单查询是与订单处理流程相独立的操作，可用于查询整个系统中的订单信息，包括己取消的订单。订单查询功能有丰富的查询条件，可以根据店铺、订单状态、订单日期、订单编号、买家名称、订单收货信息、物流方式、订单商品等条件中的-一个或多个进行组合查询。</li></ol><p><img src="https://s2.ax1x.com/2019/06/08/VD2puD.png" alt="VD2puD.png"></p><table><thead><tr><th>订单审核用例说明</th></tr></thead><tbody><tr><td>用例名:订单审核用例</td></tr><tr><td>用例的标识符: OrderManageCase001</td></tr><tr><td>参与者:订单操作员</td></tr><tr><td>订单审核用例简要的描述:订单操作员登录系统，访问“待审核订单”页面，对订单是否可进行后续流程进行审核</td></tr><tr><td>前置条件:订单从亚马逊平台下载到系统</td></tr><tr><td>基本事件流:</td></tr><tr><td>1.订单操作员登录系统，进入待审订单页面!</td></tr><tr><td>2.在订单列表中选择要审核的订单3.检查订单支付状态和付款金额</td></tr><tr><td>4.检查订单购买商品在仓库中的数量是否满足购买数量</td></tr><tr><td>5.检查订单收货地址信息，用户选择的物流方式是否提供指定收货地区的派送服务、收货人姓名清晰、联系电话符合规范</td></tr><tr><td>6.如果#3、#4、#5均满足，则该订单审核通过</td></tr><tr><td>7.如果#3、#4、#5有-项不满足，则审核不通过</td></tr><tr><td>8.订单审核完毕，用例终止</td></tr><tr><td>后置条件:订单取消，订单确认</td></tr></tbody></table><h4 id="物流发货功能"><a href="#物流发货功能" class="headerlink" title="物流发货功能"></a>物流发货功能</h4><p>订单经过前面的审核、确认之后，流程将进入仓储部门的操作。仓储部门的主要工作根据订单内的商品信息和数量从仓库中捡货并送到包装区,在包装区对商品进行打包、物流面单打印和报税等操作。</p><p>订单发货功能包含如下几个子功能:<br>1。 捡货扫描<br>仓储人员根据前面订单处理流程中订单确认流程生成的出货单,在仓库中挑拣订单指定数量的商品，并连同出库单运送到打包区等待打包。</p><ol start="2"><li>打包称重<br>打包人员依据商品数量和商品大小，选择合适的包装箱将商品打包装箱，并对打包后的箱子称重和量体积，供后面申请国际物流快递单使用。</li><li>打印快递单<br>物流操作人员根据出库单中商品的类目生成报关单和收据,并使用打包称重流程中记录的重量和体积等信息向物流服务提供商申请物流单号,再使用热敏打印机打印报关单和物流单。打印的报关单和物流单粘贴在包装箱上，等待物流人员上门收货。生成的物流单号将会填写到订单的发货信息中并由调度系统同步到亚马逊平台。;</li><li>线上物流填单<br>将生成的物流单号录入到订单的发货信息,然后更改订单在系统中的状态为“已发货”，该订单将会由任务调度系统同步到亚马逊平台。</li></ol><p><img src="https://s2.ax1x.com/2019/06/08/VDgv36.png" alt="VDgv36.png"></p><table><thead><tr><th>打印快递单用例说明</th></tr></thead><tbody><tr><td>用例名:打印快递单用例</td></tr><tr><td>用例的标识符: LogsticsManageCase001</td></tr><tr><td>参与者:仓储操作员</td></tr><tr><td>打印快递单用例简要的描述:</td></tr><tr><td>前置条件:订单已经完成“扫描捡货”和打包操作</td></tr><tr><td>基本事件流:</td></tr><tr><td>1.仓储操作员进入系统，并访问打印快递单页面</td></tr><tr><td>2.在待打印快递单的订单列表中选择-一个订单</td></tr><tr><td>3.点击“打印快递单”，在弹出的窗口中会显示订单商品详情</td></tr><tr><td>4.确认、修改商品的出入关商品名称，过海关时只需显示商品的核心信息，且长度有限制</td></tr><tr><td>5.依据订单买家给定的收货地址和物流服务，选择物流方式(如UPS、DHL等)</td></tr><tr><td>6.点击“打印快递单”，系统会将商品信息、买家地址信息、卖家地址信息等发送给物流公司，并返回物流电子面单</td></tr><tr><td>7.点击“打印发票”打印发票</td></tr><tr><td>8.将快2份递单贴在商品包装上</td></tr><tr><td>9.打印快递单操作完毕，用例终止</td></tr><tr><td>后置条件:线上发货，修改订单中亚马逊上的状态</td></tr></tbody></table><h3 id="系统非功能性需求"><a href="#系统非功能性需求" class="headerlink" title="系统非功能性需求"></a>系统非功能性需求</h3><p>除了对基于亚马逊平台电商ERP系统的业务功能进行确定外,在需求阶段还要考虑软件的安全性、易用性和性能等非功能性需求。</p><ol><li>安全性<br>基于亚马逊平台的电商ERP系统的数据涉及商业机密和客户隐私,保护数据安全性及其重要;<br>另外系统被广泛用于电商企业的日常工作,确保系统的安全和稳定运行才能确保企业正常有序运营;<br>使用B/S模式，服务器暴露在互联网中,且客户端的请求和操作容易被模拟和纂改，为了确保安全性须在服务器端设置网络防火墙;<br>对服务器收到的每条请求做有效性验证和权限验证:在代码编写时做好防范SQL注入和跨域攻击的工作和代码审查涉及商业账号、密码等重要信息或用户敏感信息的页面使用https加密,确保页面在传输过程中的数据安全;<br>另外，重要数据的操作步骤要有记录，当出现重大操作失误时可快速排除错误根源,这类操作账号登录、商品价格修改、收货信息修改、订单操作等。</li><li>易用性<br>该系统的直接使用人员包含电商运营过程中各环节的参与者,其计算机操作水平差异较大，且熟练程度也各有不同。因此要求系统的界面良好，信息简明易懂、可操作性强，商品管理和订单管理等流程操作要准确、清晰、不容易出错。</li><li>高性能<br>电商平台在全年的运营中会有-些如节假日、电商促销活动等时间段出现井喷似的高成交量，此时系统将可能承载数倍于平时的订单处理负荷。为确保高订单情况下系统能稳定顺畅运行,要求系统在性能方面能够支持每秒500次以上请求的响应能力，核心业务功能如订单处理功能的响应请求数不低于每秒300次。在保证服务器响应速度的同时，使用多服务器集群的部署方式，可以在业务量暴增时通过扩展服务器集群提升服务器端的响应能力。</li></ol><h4 id="用例需求小结"><a href="#用例需求小结" class="headerlink" title="用例需求小结"></a>用例需求小结</h4><p>本章主要阐述了基于亚马逊电商系统需求的主要内容，包括系统研发的总体流程、系统各业务模块的功能需求以及系统数据库模型等，为后面的系统设计提供了准确的需求信息。</p><h2 id="1-2概念模型-ER图"><a href="#1-2概念模型-ER图" class="headerlink" title="1.2概念模型(ER图)"></a>1.2概念模型(ER图)</h2><ol><li>看了一下<a href="https://www.amazon.cn/ap/signin" target="_blank" rel="noopener">亚马逊的官网注册界面</a>如下<br><img src="https://s2.ax1x.com/2019/06/07/Vwuj6s.png" alt="Vwuj6s.png"><br><img src="https://s2.ax1x.com/2019/06/07/VwuvXn.png" alt="VwuvXn.png"></li></ol><p>为此设计用户实体 customer</p><ol start="2"><li>顾客根据购买力分为不同等级<br>用户等级 customer_level<br><img src="https://s2.ax1x.com/2019/06/08/VDeiBq.png" alt="VDeiBq.png"></li><li>用户地址 customer_address<br><img src="https://s2.ax1x.com/2019/06/08/VDePun.png" alt="VDePun.png"></li><li>用户积分 customer_point<br><img src="https://s2.ax1x.com/2019/06/08/VDepcj.png" alt="VDepcj.png"></li><li>用户登陆 costomer_login<br><img src="https://s2.ax1x.com/2019/06/08/VDe9js.png" alt="VDe9js.png"></li><li>用户余额 customer_account_balance<br><img src="https://s2.ax1x.com/2019/06/08/VDeENT.png" alt="VDeENT.png"></li><li>用户权限 costomer_auths<br><img src="https://s2.ax1x.com/2019/06/08/VDZz9g.png" alt="VDZz9g.png"></li></ol><p><img src="https://s2.ax1x.com/2019/06/07/VwMY24.png" alt="VwMY24.png"><br><img src="https://s2.ax1x.com/2019/06/07/VwM7Rg.png" alt="VwM7Rg.png"></p><ol start="8"><li>店铺基本信息 shop_basic_info<br><img src="https://s2.ax1x.com/2019/06/08/VDeFH0.png" alt="VDeFH0.png"></li><li>用户店铺权限 costomer_shop_premission<br><img src="https://s2.ax1x.com/2019/06/08/VDeAEV.png" alt="VDeAEV.png"></li></ol><p><img src="https://s2.ax1x.com/2019/06/07/Vwt3Is.png" alt="Vwt3Is.png"></p><ol start="10"><li>商品类别 commodity_catory<br><img src="https://s2.ax1x.com/2019/06/08/VD8AsO.png" alt="VD8AsO.png"></li><li>商品规格信息 commodity_type_info<br><img src="https://s2.ax1x.com/2019/06/08/VDZI9e.png" alt="VDZI9e.png"></li></ol><p><img src="https://s2.ax1x.com/2019/06/07/VwtAIA.png" alt="VwtAIA.png"></p><ol start="12"><li>商品档案 commodity_archives<br><img src="https://s2.ax1x.com/2019/06/08/VDZI9e.png" alt="VDZI9e.png"></li><li>品牌信息 brand_info<br><img src="https://s2.ax1x.com/2019/06/08/VDZ4hD.png" alt="VDZ4hD.png"></li><li>商品图片 commodity_picture<br><img src="https://s2.ax1x.com/2019/06/08/VDZo1H.png" alt="VDZo1H.png"></li><li>商品评论 commodity_comment<br><img src="https://s2.ax1x.com/2019/06/08/VDZbnI.png" alt="VDZbnI.png"></li><li>供应商信息 supplier_info<br><img src="https://s2.ax1x.com/2019/06/08/VDZTcd.png" alt="VDZTcd.png"></li><li>订单信息 order_note_info<br><img src="https://s2.ax1x.com/2019/06/08/VDZ7jA.png" alt="VDZ7jA.png"></li><li>子订单信息 child_order_note_info<br><img src="https://s2.ax1x.com/2019/06/08/VDZLHP.png" alt="VDZLHP.png"></li><li>购物车 shopping_cart<br><img src="https://s2.ax1x.com/2019/06/08/VDZqBt.png" alt="VDZqBt.png"></li><li>订单物流信息 order_logistics_info<br><img src="https://s2.ax1x.com/2019/06/08/VDZXAf.png" alt="VDZXAf.png"></li><li>仓库信息 warehouse_info<br><img src="https://s2.ax1x.com/2019/06/08/VDeeCF.png" alt="VDeeCF.png"></li><li>商品库存commodity_stock<br><img src="https://s2.ax1x.com/2019/06/08/VDZfAK.png" alt="VDZfAK.png"></li><li>物流信息 shipping_info<br><img src="https://s2.ax1x.com/2019/06/08/VDZhtO.png" alt="VDZhtO.png"></li></ol><p>最终ER图 各实体之间的关系<br><img src="https://s2.ax1x.com/2019/06/08/VDGYjK.png" alt="VDGYjK.png"></p><h2 id="2-1概念模型映射为关系模型"><a href="#2-1概念模型映射为关系模型" class="headerlink" title="2.1概念模型映射为关系模型"></a>2.1概念模型映射为关系模型</h2><blockquote><p>由于找了好久语法才知道md的波浪线怎么打，而且还是调用Latex公式进行编辑，不太美观</p></blockquote><ol><li>customer(<u>customer_id</u>,costomer_name,role,level,customer_create_time)</li><li>customer_level(<u>level</u>,level_name,min_point,max_point,create_time)</li><li>customer_address(<u>address_id</u>,customer_id,consignee_zipcode,country,province,city,district,address,default_or,create_time)</li><li>customer_point(<u>point_id</u>,customer_id,point_source,point_source_id,chang_point,create_time)</li><li>costomer_login(<u>login_id</u>,login_time,customer_id,login_ip,login_type,create_time)</li><li>customer_account_balance(<u>balance_id</u>,customer_id,source,source_bill_id,amount,create_time)</li><li>costomer_auths(<u>wechat_id</u>,access_token,head_sculptre,wechat_name,customer_id,identity_type(phone,password,email),create_time)</li><li>shop_basic_info(<u>shop_id</u>,shop_name,App_key,App_Secret,merchant_id,marketplaced,sale_sites,create_time)</li><li>costomer_shop_premission(<u>premission_id</u>,customer_id,shop_id,permission,create_time)</li><li>commodity_catory(<u>category_id</u>,category_name,category_code,parent_category_id,category_level,category_status,create_time)</li><li>commodity_type_info(<u>type_id</u>,type_name,type_parameter,commodity_id,weigh,length,width,color,production_date,expriy_date,create_time)</li><li>commodity_archives(<u>commodity_id</u>,commodity_core,shop_id,brand_id,publish_status,audit_status,category_id,business_id,UPC,leadtime,logistics_template,commodity_stock,price,keywords,commodity_describe,commodity_title,create_time)</li><li>brand_info(<u>brand_id</u>,brand_name,telephone,brand_web,brand_logo,brand_description,brand_status,brand_order,create_time)</li><li>commodity_picture(<u>commodity_pic</u>,commodity_id,pic_describe,pic_url,master_or,pic_status,create_time)</li><li>commodity_comment(<u>comment_id</u>,commodity_id,order_id,customer_id,comment_title,comment_content,audit_status,audit_time,create_time)</li><li>supplier_info(<u>supplier_id</u>,supplier_code,supplier_name,supplier_type,supplier_persion,phone_number,bank_name,bank_account,address,supplier_status,create_time)</li><li>order_note_info(<u>order_id</u>,order_code,customer_id,country,province,city,district,shop_id,consignee_name,consignee_phone,consignee_address,buyer_remark,order_system_state,order_online_state,pay_way,discount_amount,pay_money,pay_time,order_time,pay_amount,order_amount,platform_order_id,create_time,freight_amount,receive_time,order_point,invoice_time)</li><li>child_order_note_info(<u>child_order_id</u>,commodity_num,commodity_title,commodity_price,average_cost,order_id,commodity_id,weigh,free_money,warehouse_id,create_time)</li><li>shopping_cart(<u>cart_id</u>customer_id,commodity_id,commodity_num,commodity_price,create_time)</li><li>order_logistics_info(<u>logistics_id</u>,order_id,consignee_name,consignee_phone,consignee_zipcode,consignee_address,duty,logistics_code,package_num,logistics_state,logistics_way,logistics_company,create_time)</li><li>warehouse_info(<u>warehouse_id</u>,warehouse_code,warehouse_name,warehouse_phone,contact,country,province,city,distract,address,warehouse_status,warehouse_persion,create_time)</li><li>commodity_stock(<u>commodity_stock_id</u>,commodity_id,warehouse_id,commodity_stock,create_time)</li><li>shipping_info(<u>ship_id</u>,logistics_id,ship_persion,telephone,ship_price,create_time)</li></ol><h2 id="2-2-将关系模型的范式优化到3NF-通过模式分解算法消除非主属性对主属性的部分函数依赖，传递函数依赖"><a href="#2-2-将关系模型的范式优化到3NF-通过模式分解算法消除非主属性对主属性的部分函数依赖，传递函数依赖" class="headerlink" title="2.2 将关系模型的范式优化到3NF(通过模式分解算法消除非主属性对主属性的部分函数依赖，传递函数依赖)"></a>2.2 将关系模型的范式优化到3NF(通过模式分解算法消除非主属性对主属性的部分函数依赖，传递函数依赖)</h2><h3 id="第一范式（1NF）：数据表中的每一列（每个字段）必须是不可拆分的最小单元，也就是确保每一列的原子性"><a href="#第一范式（1NF）：数据表中的每一列（每个字段）必须是不可拆分的最小单元，也就是确保每一列的原子性" class="headerlink" title="第一范式（1NF）：数据表中的每一列（每个字段）必须是不可拆分的最小单元，也就是确保每一列的原子性"></a>第一范式（1NF）：数据表中的每一列（每个字段）必须是不可拆分的最小单元，也就是确保每一列的原子性</h3><blockquote><p>由于之前设计了主键，且设计过程中保证每一个数据都是最小单元，所以为第一范式<br>例如：之前是把用户登陆作为一个表，但是由于用户可以通过微信等其他方式进行登陆，所以需要划分出微信登陆的表，即costomer_auths，且customer_level,customer_address,customer_point,costomer_login,customer_account_balance均为用户表拆分出来，保证了字段的原子性<br>后来又翻了MYSQL深入浅出对范式优化知识进行了解，里面秒速通过拆分提高表的访问效率，其中包括垂直拆分和竖直拆分，对其他冗余数据表进行拆分，而本次数据库设计就是基于这种原则进行竖直拆分，把用户表字段等进行一范式优化</p></blockquote><ol><li>customer(<u>customer_id</u>,costomer_name,role,level,customer_create_time)</li><li>customer_level(<u>level</u>,level_name,min_point,max_point,create_time)</li><li>customer_address(<u>address_id</u>,customer_id,consignee_zipcode,country,province,city,district,address,default_or,create_time)</li><li>customer_point(<u>point_id</u>,customer_id,point_source,point_source_id,chang_point,create_time)</li><li>costomer_login(<u>login_id</u>,login_time,customer_id,login_ip,login_type,create_time)</li><li>customer_account_balance(<u>balance_id</u>,customer_id,source,source_bill_id,amount,create_time)</li><li>costomer_auths(<u>wechat_id</u>,access_token,head_sculptre,wechat_name,customer_id,phone,password,email,create_time)</li><li>shop_basic_info(<u>shop_id</u>,shop_name,App_key,App_Secret,merchant_id,marketplaced,sale_sites,create_time)</li><li>costomer_shop_premission(<u>premission_id</u>,customer_id,shop_id,permission,create_time)</li><li>commodity_catory(<u>category_id</u>,category_name,category_code,parent_category_id,category_level,category_status,create_time)</li><li>commodity_type_info(<u>type_id</u>,type_name,type_parameter,commodity_id,weigh,length,width,color,production_date,expriy_date,create_time)</li><li>commodity_archives(<u>commodity_id</u>,commodity_core,shop_id,brand_id,publish_status,audit_status,category_id,business_id,UPC,leadtime,logistics_template,commodity_stock,price,keywords,commodity_describe,commodity_title,create_time)</li><li>brand_info(<u>brand_id</u>,brand_name,telephone,brand_web,brand_logo,brand_description,brand_status,brand_order,create_time)</li><li>commodity_picture(<u>commodity_pic</u>,commodity_id,pic_describe,pic_url,master_or,pic_status,create_time)</li><li>commodity_comment(<u>comment_id</u>,commodity_id,order_id,customer_id,comment_title,comment_content,audit_status,audit_time,create_time)</li><li>supplier_info(<u>supplier_id</u>,supplier_code,supplier_name,supplier_type,supplier_persion,phone_number,bank_name,bank_account,address,supplier_status,create_time)</li><li>order_note_info(<u>order_id</u>,order_code,customer_id,country,province,city,district,shop_id,consignee_name,consignee_phone,consignee_address,buyer_remark,order_system_state,order_online_state,pay_way,discount_amount,pay_money,pay_time,order_time,pay_amount,order_amount,platform_order_id,create_time,freight_amount,receive_time,order_point,invoice_time)</li><li>child_order_note_info(<u>child_order_id</u>,commodity_num,commodity_title,commodity_price,average_cost,order_id,commodity_id,weigh,free_money,warehouse_id,create_time)</li><li>shopping_cart(<u>cart_id</u>customer_id,commodity_id,commodity_num,commodity_price,create_time)</li><li>order_logistics_info(<u>logistics_id</u>,order_id,consignee_name,consignee_phone,consignee_zipcode,consignee_address,duty,logistics_code,package_num,logistics_state,logistics_way,logistics_company,create_time)</li><li>warehouse_info(<u>warehouse_id</u>,warehouse_code,warehouse_name,warehouse_phone,contact,country,province,city,distract,address,warehouse_status,warehouse_persion,create_time)</li><li>commodity_stock(<u>commodity_stock_id</u>,commodity_id,warehouse_id,commodity_stock,create_time)</li><li>shipping_info(<u>ship_id</u>,logistics_id,ship_persion,telephone,ship_price,create_time)</li></ol><h3 id="第二范式（2NF）：满足1NF后，要求表中的所有列，都必须依赖于主键，而不能有任何一列与主键没有关系，也就是说一个表只描述一件事情"><a href="#第二范式（2NF）：满足1NF后，要求表中的所有列，都必须依赖于主键，而不能有任何一列与主键没有关系，也就是说一个表只描述一件事情" class="headerlink" title="第二范式（2NF）：满足1NF后，要求表中的所有列，都必须依赖于主键，而不能有任何一列与主键没有关系，也就是说一个表只描述一件事情"></a>第二范式（2NF）：满足1NF后，要求表中的所有列，都必须依赖于主键，而不能有任何一列与主键没有关系，也就是说一个表只描述一件事情</h3><blockquote><p>翻开上学期的数据库系统概念，查找相关概念<br>设R(U)是一个属性集U上的一个关系模式，X和Y是U的子集。若对于R(U)的任意两个可能的具体关系r1、r2，若r1[x] == r2[x]则r1[y] == r2[y]，或者若r1[x] != r2[x]则r1[y] != r2[y]，称X决定Y，或者Y函数依赖于X，记作X→Y。就像函数一样，给一个确定的输入（属性集X），有一个确定的输出（属性集Y）。<br>通俗的讲就是：存在主键（具有唯一性）</p></blockquote><p>设计过程中已自动把主键标志出来，并且对与主键完全依赖</p><ol><li>customer(<u>customer_id</u>,costomer_name,role,level,customer_create_time)</li><li>customer_level(<u>level</u>,level_name,min_point,max_point,create_time)</li><li>customer_address(<u>address_id</u>,customer_id,consignee_zipcode,country,province,city,district,address,default_or,create_time)</li></ol><p>在customer_point表中，发现存在point_source和point_source_id字段,point_source对id为唯一标识,所以需要继续垂直拆分,</p><ol start="4"><li>customer_point(<u>point_id</u>,customer_id,point_source_id,chang_point,create_time)</li><li>point_source(<u>point_source_id</u>,point_source)</li><li>costomer_login(<u>login_id</u>,login_time,customer_id,login_ip,login_type,create_time)</li><li>customer_account_balance(<u>balance_id</u>,customer_id,source,source_bill_id,amount,create_time)<br>8 costomer_auths(<u>wechat_id</u>,access_token,head_sculptre,wechat_name,customer_id,phone,password,email,create_time)</li><li>shop_basic_info(<u>shop_id</u>,shop_name,App_key,App_Secret,merchant_id,marketplaced,sale_sites,create_time)</li><li>costomer_shop_premission(<u>premission_id</u>,customer_id,shop_id,permission,create_time)</li><li>commodity_catory(<u>category_id</u>,category_name,category_code,parent_category_id,category_level,category_status,create_time)</li><li>commodity_type_info(<u>type_id</u>,type_name,type_parameter,commodity_id,weigh,length,width,color,production_date,expriy_date,create_time)</li><li>commodity_archives(<u>commodity_id</u>,commodity_core,shop_id,brand_id,publish_status,audit_status,category_id,business_id,UPC,leadtime,logistics_template,commodity_stock,price,keywords,commodity_describe,commodity_title,create_time)</li><li>brand_info(<u>brand_id</u>,brand_name,telephone,brand_web,brand_logo,brand_description,brand_status,brand_order,create_time)</li><li>commodity_picture(<u>commodity_pic</u>,commodity_id,pic_describe,pic_url,master_or,pic_status,create_time)</li><li>commodity_comment(<u>comment_id</u>,commodity_id,order_id,customer_id,comment_title,comment_content,audit_status,audit_time,create_time)</li><li>supplier_info(<u>supplier_id</u>,supplier_code,supplier_name,supplier_type,supplier_persion,phone_number,bank_name,bank_account,address,supplier_status,create_time)</li><li>order_note_info(<u>order_id</u>,order_code,customer_id,country,province,city,district,shop_id,consignee_name,consignee_phone,consignee_address,buyer_remark,order_system_state,order_online_state,pay_way,discount_amount,pay_money,pay_time,order_time,pay_amount,order_amount,platform_order_id,create_time,freight_amount,receive_time,order_point,invoice_time)</li><li>child_order_note_info(<u>child_order_id</u>,commodity_num,commodity_title,commodity_price,average_cost,order_id,commodity_id,weigh,free_money,warehouse_id,create_time)</li><li>shopping_cart(<u>cart_id</u>customer_id,commodity_id,commodity_num,commodity_price,create_time)</li><li>order_logistics_info(<u>logistics_id</u>,order_id,consignee_name,consignee_phone,consignee_zipcode,consignee_address,duty,logistics_code,package_num,logistics_state,logistics_way,logistics_company,create_time)</li><li>warehouse_info(<u>warehouse_id</u>,warehouse_code,warehouse_name,warehouse_phone,contact,country,province,city,distract,address,warehouse_status,warehouse_persion,create_time)</li><li>commodity_stock(<u>commodity_stock_id</u>,commodity_id,warehouse_id,commodity_stock,create_time)</li><li>shipping_info(<u>ship_id</u>,logistics_id,ship_persion,telephone,ship_price,create_time)</li></ol><h3 id="第三范式（3NF）：必须先满足第二范式（2NF），要求：表中的每一列只与主键直接相关而不是间接相关（表中的每一列只能依赖于主键）"><a href="#第三范式（3NF）：必须先满足第二范式（2NF），要求：表中的每一列只与主键直接相关而不是间接相关（表中的每一列只能依赖于主键）" class="headerlink" title="第三范式（3NF）：必须先满足第二范式（2NF），要求：表中的每一列只与主键直接相关而不是间接相关（表中的每一列只能依赖于主键）"></a>第三范式（3NF）：必须先满足第二范式（2NF），要求：表中的每一列只与主键直接相关而不是间接相关（表中的每一列只能依赖于主键）</h3><blockquote><p>波浪线可能只有md格式的文件才可以看到</p></blockquote><ol><li>customer(<u>customer_id</u>,costomer_name,role,$\underset{\sim}{level}$,customer_create_time)</li><li>customer_level(<u>level</u>,level_name,min_point,max_point,create_time)</li><li>customer_address(<u>address_id</u>,$\underset{\sim}{customer_id}$,consignee_zipcode,country,province,city,district,address,default_or,create_time)</li><li>customer_point(<u>point_id</u>,$\underset{\sim}{customer_id}$,$\underset{\sim}{point_source_id}$,chang_point,create_time)</li><li>costomer_login(<u>login_id</u>,login_time,$\underset{\sim}{customer_id}$,login_ip,login_type,create_time)</li><li>customer_account_balance(<u>balance_id</u>,$\underset{\sim}{customer_id}$,source,source_bill_id,amount,create_time)</li><li>costomer_auths(<u>wechat_id</u>,$\underset{\sim}{shop_id}$,access_token,head_sculptre,wechat_name,$\underset{\sim}{customer_id}$,phone,password,email,create_time)</li><li>shop_basic_info(<u>shop_id</u>,shop_name,App_key,App_Secret,merchant_id,marketplaced,sale_sites,create_time)</li><li>costomer_shop_premission(<u>premission_id</u>,$\underset{\sim}{customer_id}$,$\underset{\sim}{shop_id}$,permission,create_time)</li><li>commodity_catory(<u>category_id</u>,category_name,category_code,parent_category_id,category_level,category_status,create_time)</li><li>commodity_type_info(<u>type_id</u>,type_name,type_parameter,$\underset{\sim}{commodity_id}$,weigh,length,width,color,production_date,expriy_date,create_time)</li><li>commodity_archives(<u>commodity_id</u>,commodity_core,$\underset{\sim}{shop_id}$,$\underset{\sim}{brand_id}$,publish_status,audit_status,$\underset{\sim}{category_id}$,business_id,UPC,leadtime,logistics_template,commodity_stock,price,keywords,commodity_describe,commodity_title,create_time)</li><li>brand_info(<u>brand_id</u>,brand_name,telephone,brand_web,brand_logo,brand_description,brand_status,brand_order,create_time)</li><li>commodity_picture(<u>commodity_pic</u>,$\underset{\sim}{commodity_id}$,pic_describe,pic_url,master_or,pic_status,create_time)</li><li>commodity_comment(<u>comment_id</u>,$\underset{\sim}{commodity_id}$,$\underset{\sim}{order_id}$,$\underset{\sim}{customer_id}$,comment_title,comment_content,audit_status,audit_time,create_time)</li><li>supplier_info(<u>supplier_id</u>,supplier_code,supplier_name,supplier_type,supplier_persion,phone_number,bank_name,bank_account,address,supplier_status,create_time)</li><li>order_note_info(<u>order_id</u>,order_code,$\underset{\sim}{customer_id}$,country,province,city,district,$\underset{\sim}{shop_id}$,consignee_name,consignee_phone,consignee_address,buyer_remark,order_system_state,order_online_state,pay_way,discount_amount,pay_money,pay_time,order_time,pay_amount,order_amount,platform_order_id,create_time,freight_amount,receive_time,order_point,invoice_time)</li><li>child_order_note_info(<u>child_order_id</u>,commodity_num,commodity_title,commodity_price,average_cost,$\underset{\sim}{order_id}$,$\underset{\sim}{commodity_id}$,weigh,free_money,warehouse_id,create_time)</li><li>shopping_cart(<u>cart_id</u>,$\underset{\sim}{customer_id}$,$\underset{\sim}{commodity_id}$,commodity_num,commodity_price,create_time)</li><li>order_logistics_info(<u>logistics_id</u>,$\underset{\sim}{order_id}$,consignee_name,consignee_phone,consignee_zipcode,consignee_address,duty,logistics_code,package_num,logistics_state,logistics_way,logistics_company,create_time)</li><li>warehouse_info(<u>warehouse_id</u>,warehouse_code,warehouse_name,warehouse_phone,contact,country,province,city,distract,address,warehouse_status,warehouse_persion,create_time)</li><li>commodity_stock(<u>commodity_stock_id</u>,$\underset{\sim}{commodity_id}$,$\underset{\sim}{warehouse_id}$,commodity_stock,create_time)</li><li>shipping_info(<u>ship_id</u>,$\underset{\sim}{logistics_id}$,ship_persion,telephone,ship_price,create_time)</li><li>point_source(<u>point_source_id</u>,point_source)</li></ol><h2 id="3-根据优化后的关系模型建表（按ORACLE的语法），重点利用DBMS提供的约束和触发器来保证数据库的完整性。"><a href="#3-根据优化后的关系模型建表（按ORACLE的语法），重点利用DBMS提供的约束和触发器来保证数据库的完整性。" class="headerlink" title="3.根据优化后的关系模型建表（按ORACLE的语法），重点利用DBMS提供的约束和触发器来保证数据库的完整性。"></a>3.根据优化后的关系模型建表（按ORACLE的语法），重点利用DBMS提供的约束和触发器来保证数据库的完整性。</h2><h3 id="建表-约束"><a href="#建表-约束" class="headerlink" title="建表+约束"></a>建表+约束</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> customer_table</span><br><span class="line">(</span><br><span class="line">customer_id <span class="built_in">NUMBER</span> PRIMARY <span class="keyword">KEY</span>,</span><br><span class="line">customer_name VARCHAR2(<span class="number">20</span>) <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">customer_level VARCHAR2(<span class="number">20</span>) <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">costomer_create_time <span class="built_in">DATE</span> <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line"><span class="keyword">constraint</span>  fk_customer_level <span class="keyword">foreign</span> <span class="keyword">key</span>(customer_level) <span class="keyword">references</span> customer_level(customer_level)</span><br><span class="line">);</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> customer_level_table</span><br><span class="line">(</span><br><span class="line">customer_level <span class="built_in">NUMBER</span> PRIMARY <span class="keyword">KEY</span> <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">level_name VARCHAR2(<span class="number">20</span>) <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">max_point <span class="built_in">NUMBER</span> <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">create_time <span class="built_in">DATE</span> <span class="keyword">not</span> <span class="literal">null</span></span><br><span class="line">);</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> customer_address_table</span><br><span class="line">(</span><br><span class="line">address_id <span class="built_in">NUMBER</span> PRIMARY <span class="keyword">KEY</span>,</span><br><span class="line">customer_id <span class="built_in">NUMBER</span> <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">consignee_zipcode  <span class="built_in">NUMBER</span> <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">country VARCHAR2(<span class="number">20</span>) <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">province VARCHAR2(<span class="number">20</span>) <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">city VARCHAR2(<span class="number">20</span>) <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">district VARCHAR2(<span class="number">20</span>) <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">concrete_address VARCHAR2(<span class="number">100</span>) <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">default_or <span class="built_in">NUMBER</span>(<span class="number">1</span>) <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">create_time <span class="built_in">DATE</span> <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line"><span class="keyword">constraint</span>  fk_customer_id <span class="keyword">foreign</span> <span class="keyword">key</span>(customer_id) <span class="keyword">references</span> customer_table(customer_id)</span><br><span class="line">);</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> customer_point_table</span><br><span class="line">(</span><br><span class="line">address_id <span class="built_in">NUMBER</span> PRIMARY <span class="keyword">KEY</span>,</span><br><span class="line">customer_id <span class="built_in">NUMBER</span> <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">point_source  VARCHAR2(<span class="number">20</span>),</span><br><span class="line">point_source_id <span class="built_in">NUMBER</span> <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">chang_point <span class="built_in">NUMBER</span> <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">create_time <span class="built_in">DATE</span> <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line"><span class="keyword">constraint</span>  fk_customer_id <span class="keyword">foreign</span> <span class="keyword">key</span>(customer_id) <span class="keyword">references</span> customer_table(customer_id)</span><br><span class="line">);</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> costomer_login_table</span><br><span class="line">(</span><br><span class="line">login_id <span class="built_in">NUMBER</span> PRIMARY <span class="keyword">KEY</span>,</span><br><span class="line">login_time <span class="built_in">DATE</span> <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">customer_id <span class="built_in">NUMBER</span> <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">login_ip  VARCHAR2(<span class="number">20</span>) <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">logintype VARCHAR2(<span class="number">20</span>) <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">create_time <span class="built_in">DATE</span> <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line"><span class="keyword">constraint</span>  fk_customer_id <span class="keyword">foreign</span> <span class="keyword">key</span>(customer_id) <span class="keyword">references</span> customer_table(customer_id)</span><br><span class="line">);</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> customer_account_balance_table</span><br><span class="line">(</span><br><span class="line">balance_id <span class="built_in">NUMBER</span> PRIMARY <span class="keyword">KEY</span>,</span><br><span class="line">customer_id  <span class="keyword">not</span> nullNUMBER,</span><br><span class="line"><span class="keyword">source</span>  VARCHAR2(<span class="number">20</span>) <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">source_bill_id  <span class="keyword">not</span> nullNUMBER,</span><br><span class="line">amount <span class="built_in">NUMBER</span>,</span><br><span class="line">create_time <span class="built_in">DATE</span> <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line"><span class="keyword">constraint</span>  fk_customer_id <span class="keyword">foreign</span> <span class="keyword">key</span>(customer_id) <span class="keyword">references</span> customer_table(customer_id)</span><br><span class="line">);</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> costomer_auths_table</span><br><span class="line">(</span><br><span class="line">wechat_id <span class="built_in">NUMBER</span> PRIMARY <span class="keyword">KEY</span>,</span><br><span class="line">customer_id <span class="built_in">NUMBER</span> <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">shop_id  <span class="built_in">NUMBER</span> <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">access_token <span class="built_in">NUMBER</span> <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">head_sculptre <span class="built_in">NUMBER</span>,</span><br><span class="line">phone <span class="built_in">NUMBER</span> <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">customer_id <span class="built_in">NUMBER</span> <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">login_password  VARCHAR2(<span class="number">20</span>) <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">email VARCHAR2(<span class="number">20</span>) <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">create_time <span class="built_in">DATE</span> <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line"><span class="keyword">constraint</span>  fk_customer_id <span class="keyword">foreign</span> <span class="keyword">key</span>(customer_id) <span class="keyword">references</span> customer_table(customer_id),</span><br><span class="line"><span class="keyword">constraint</span>  fk_shop_id <span class="keyword">foreign</span> <span class="keyword">key</span>(shop_id) <span class="keyword">references</span> shop_basic_info_table(shop_id)</span><br><span class="line">);</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> shop_basic_info_table</span><br><span class="line">(</span><br><span class="line">shop_id <span class="built_in">NUMBER</span> PRIMARY <span class="keyword">KEY</span>,</span><br><span class="line">shop_name VARCHAR2(<span class="number">20</span>) <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">app_key  VARCHAR2(<span class="number">50</span>) <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">app_Secret VARCHAR2(<span class="number">50</span>) <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">merchant_id <span class="built_in">NUMBER</span> <span class="keyword">not</span> <span class="literal">null</span> <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">marketplaced VARCHAR2(<span class="number">10</span>), <span class="keyword">not</span> <span class="literal">null</span></span><br><span class="line">sale_sites VARCHAR2(<span class="number">10</span>) <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">create_time <span class="built_in">DATE</span> <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">);</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> costomer_shop_premission_table</span><br><span class="line">(</span><br><span class="line">premission_id <span class="built_in">NUMBER</span> PRIMARY <span class="keyword">KEY</span>,</span><br><span class="line">customer_id <span class="built_in">NUMBER</span> <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">shop_id  <span class="built_in">NUMBER</span> <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">permission VARCHAR2(<span class="number">20</span>), <span class="keyword">not</span> <span class="literal">null</span></span><br><span class="line">create_time <span class="built_in">DATE</span> <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line"><span class="keyword">constraint</span>  fk_customer_id <span class="keyword">foreign</span> <span class="keyword">key</span>(customer_id) <span class="keyword">references</span> customer_table(customer_id),</span><br><span class="line"><span class="keyword">constraint</span>  fk_shop_id <span class="keyword">foreign</span> <span class="keyword">key</span>(shop_id) <span class="keyword">references</span> shop_basic_info_table(shop_id)</span><br><span class="line">);</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> commodity_catory_table</span><br><span class="line">(</span><br><span class="line">category_id <span class="built_in">NUMBER</span> PRIMARY <span class="keyword">KEY</span>,</span><br><span class="line">category_name VARCHAR2(<span class="number">20</span>) <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">category_code  <span class="built_in">NUMBER</span> <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">category_level VARCHAR2(<span class="number">20</span>) <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">category_status VARCHAR2(<span class="number">20</span>) <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">create_time <span class="built_in">DATE</span>,</span><br><span class="line">);</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> commodity_type_info_table</span><br><span class="line">(</span><br><span class="line">commodity_type_id <span class="built_in">NUMBER</span> PRIMARY <span class="keyword">KEY</span>,</span><br><span class="line">commodity_type_name VARCHAR2(<span class="number">20</span>) <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">type_parameter  VARCHAR2(<span class="number">20</span>) <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">commodity_id <span class="built_in">NUMBER</span> <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">weigh <span class="built_in">NUMBER</span>,</span><br><span class="line">commodity_length <span class="built_in">NUMBER</span>,</span><br><span class="line">width  <span class="built_in">NUMBER</span>,</span><br><span class="line">color VARCHAR2(<span class="number">10</span>),</span><br><span class="line">production_date <span class="built_in">DATE</span>,</span><br><span class="line">expriy_date <span class="built_in">DATE</span>,</span><br><span class="line">create_time <span class="built_in">DATE</span> <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line"><span class="keyword">constraint</span>  fk_customer_id <span class="keyword">foreign</span> <span class="keyword">key</span>(customer_id) <span class="keyword">references</span> customer_table(customer_id),</span><br><span class="line">);</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> commodity_archives_table</span><br><span class="line">(</span><br><span class="line">commodity_id <span class="built_in">NUMBER</span> PRIMARY <span class="keyword">KEY</span>,</span><br><span class="line">customer_id <span class="built_in">NUMBER</span> <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">commodity_core  <span class="built_in">NUMBER</span>, <span class="keyword">not</span> <span class="literal">null</span></span><br><span class="line">shop_id <span class="built_in">NUMBER</span> <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">brand_id <span class="built_in">NUMBER</span>, <span class="keyword">not</span> <span class="literal">null</span></span><br><span class="line">publish_status <span class="built_in">NUMBER</span>(<span class="number">1</span>) <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">audit_status <span class="built_in">NUMBER</span>(<span class="number">1</span>) <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">category_id <span class="built_in">NUMBER</span>, <span class="keyword">not</span> <span class="literal">null</span></span><br><span class="line">business_id  <span class="built_in">NUMBER</span> <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">UPC VARCHAR2(<span class="number">20</span>) <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">leadtime <span class="built_in">DATE</span>, <span class="keyword">not</span> <span class="literal">null</span></span><br><span class="line">logistics_template VARCHAR2(<span class="number">20</span>),</span><br><span class="line">commodity_stock  <span class="built_in">NUMBER</span> <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">price <span class="built_in">NUMBER</span> <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">keywords VARCHAR2(<span class="number">20</span>),</span><br><span class="line">commodity_describe VARCHAR2(<span class="number">50</span>),</span><br><span class="line">commodity_title VARCHAR2(<span class="number">20</span>) <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">create_time <span class="built_in">DATE</span>,</span><br><span class="line"><span class="keyword">constraint</span>  fk_customer_id <span class="keyword">foreign</span> <span class="keyword">key</span>(customer_id) <span class="keyword">references</span> customer_table(customer_id),</span><br><span class="line"><span class="keyword">constraint</span>  fk_shop_id <span class="keyword">foreign</span> <span class="keyword">key</span>(shop_id) <span class="keyword">references</span> shop_basic_info_table(shop_id),</span><br><span class="line"><span class="keyword">constraint</span>  fk_category_id <span class="keyword">foreign</span> <span class="keyword">key</span>(category_id) <span class="keyword">references</span> commodity_catory_table(category_id)</span><br><span class="line">);</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> brand_info_table</span><br><span class="line">(</span><br><span class="line">brand_id <span class="built_in">NUMBER</span> PRIMARY <span class="keyword">KEY</span>,</span><br><span class="line">brand_name VARCHAR2(<span class="number">20</span>) <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">telephone  VARCHAR2(<span class="number">20</span>) <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">brand_web <span class="built_in">NUMBER</span>,</span><br><span class="line">brand_logo <span class="built_in">NUMBER</span>,</span><br><span class="line">brand_description <span class="built_in">NUMBER</span>,</span><br><span class="line">brand_status  <span class="built_in">NUMBER</span> <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">brand_order VARCHAR2(<span class="number">10</span>),</span><br><span class="line">create_time <span class="built_in">DATE</span> <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">);</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> commodity_picture_table</span><br><span class="line">(</span><br><span class="line">commodity_pic <span class="built_in">NUMBER</span> PRIMARY <span class="keyword">KEY</span>,</span><br><span class="line">commodity_id <span class="built_in">NUMBER</span> <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">pic_url VARCHAR2(<span class="number">50</span>),</span><br><span class="line">pic_describe VARCHAR2(<span class="number">50</span>),</span><br><span class="line">master_or  <span class="built_in">NUMBER</span>(<span class="number">1</span>), <span class="keyword">not</span> <span class="literal">null</span></span><br><span class="line">pic_status <span class="built_in">NUMBER</span>(<span class="number">1</span>) <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">create_time <span class="built_in">DATE</span> <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line"><span class="keyword">constraint</span>  fk_commodity_id <span class="keyword">foreign</span> <span class="keyword">key</span>(commodity_id) <span class="keyword">references</span> commodity_archives_table(commodity_id)</span><br><span class="line">);</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> commodity_comment_table</span><br><span class="line">(</span><br><span class="line">comment_id <span class="built_in">NUMBER</span> PRIMARY <span class="keyword">KEY</span>,</span><br><span class="line">order_id <span class="built_in">NUMBER</span>,</span><br><span class="line">customer_id  <span class="built_in">NUMBER</span> <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">commodity_id <span class="built_in">NUMBER</span> <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">comment_title VARCHAR2(<span class="number">20</span>), <span class="keyword">not</span> <span class="literal">null</span></span><br><span class="line">comment_content VARCHAR2(<span class="number">50</span>),</span><br><span class="line">audit_status  <span class="built_in">NUMBER</span>(<span class="number">1</span>) <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">audit_time <span class="built_in">DATE</span>(<span class="number">10</span>) <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">create_time <span class="built_in">DATE</span> <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line"><span class="keyword">constraint</span>  fk_commodity_id <span class="keyword">foreign</span> <span class="keyword">key</span>(commodity_id) <span class="keyword">references</span> commodity_archives_table(commodity_id),</span><br><span class="line"><span class="keyword">constraint</span>  fk_corder_id <span class="keyword">foreign</span> <span class="keyword">key</span>(order_id) <span class="keyword">references</span> order_note_info_table(order_id),</span><br><span class="line"><span class="keyword">constraint</span>  fk_customer_id <span class="keyword">foreign</span> <span class="keyword">key</span>(customer_id) <span class="keyword">references</span> customer_table(customer_id)</span><br><span class="line">);</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> supplier_info_table</span><br><span class="line">(</span><br><span class="line">supplier_id <span class="built_in">NUMBER</span> PRIMARY <span class="keyword">KEY</span>,</span><br><span class="line">supplier_code <span class="built_in">NUMBER</span> <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">phone_number  <span class="built_in">NUMBER</span>,</span><br><span class="line">supplier_persion VARCHAR2(<span class="number">20</span>), <span class="keyword">not</span> <span class="literal">null</span></span><br><span class="line">supplier_name VARCHAR2(<span class="number">20</span>) <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">supplier_type VARCHAR2(<span class="number">20</span>) <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">bank_name  VARCHAR2(<span class="number">20</span>) <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">bank_account VARCHAR2(<span class="number">50</span>) <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">supplier_status  <span class="built_in">NUMBER</span>(<span class="number">1</span>) <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">create_time <span class="built_in">DATE</span>, <span class="keyword">not</span> <span class="literal">null</span></span><br><span class="line"><span class="keyword">constraint</span>  fk_customer_id <span class="keyword">foreign</span> <span class="keyword">key</span>(customer_id) <span class="keyword">references</span> customer_table(customer_id),</span><br><span class="line">);</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> order_note_info_table</span><br><span class="line">(</span><br><span class="line">order_id <span class="built_in">NUMBER</span> PRIMARY <span class="keyword">KEY</span>,</span><br><span class="line">order_code <span class="built_in">NUMBER</span> <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">customer_id  <span class="built_in">NUMBER</span> <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">country VARCHAR2(<span class="number">20</span>) <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">province VARCHAR2(<span class="number">20</span>) <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">city VARCHAR2(<span class="number">20</span>) <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">district VARCHAR2(<span class="number">20</span>) <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">shop_id <span class="built_in">NUMBER</span> <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">consignee_name VARCHAR2(<span class="number">20</span>) <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">consignee_phone <span class="built_in">NUMBER</span> <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">consignee_address  VARCHAR2(<span class="number">100</span>) <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">buyer_remark VARCHAR2(<span class="number">50</span>),</span><br><span class="line">order_system_state  <span class="built_in">NUMBER</span>(<span class="number">1</span>) <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">pay_way VARCHAR2(<span class="number">10</span>) <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">discount_amount  <span class="built_in">NUMBER</span> <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">pay_money <span class="built_in">NUMBER</span> <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">pay_time  <span class="built_in">DATE</span> <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">order_time <span class="built_in">DATE</span> <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">pay_amount <span class="built_in">NUMBER</span> <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">order_amount <span class="built_in">NUMBER</span>, <span class="keyword">not</span> <span class="literal">null</span></span><br><span class="line">platform_order_id <span class="built_in">NUMBER</span> <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">freight_amount <span class="built_in">NUMBER</span> <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">receive_time <span class="built_in">DATE</span> <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">order_point <span class="built_in">NUMBER</span> <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">create_time <span class="built_in">DATE</span> <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">invoice_time <span class="built_in">DATE</span> <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line"><span class="keyword">constraint</span>  fk_customer_id <span class="keyword">foreign</span> <span class="keyword">key</span>(customer_id) <span class="keyword">references</span> customer_table(customer_id),</span><br><span class="line"><span class="keyword">constraint</span>  fk_shop_id <span class="keyword">foreign</span> <span class="keyword">key</span>(shop_id) <span class="keyword">references</span> shop_basic_info_table(shop_id),</span><br><span class="line">);</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> child_order_note_info_table</span><br><span class="line">(</span><br><span class="line">child_order_id <span class="built_in">NUMBER</span> PRIMARY <span class="keyword">KEY</span>,</span><br><span class="line">commodity_num <span class="built_in">NUMBER</span> <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">commodity_price  <span class="built_in">NUMBER</span> <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">commodity_title VARCHAR2(<span class="number">20</span>) <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">average_cost <span class="built_in">NUMBER</span>,</span><br><span class="line">order_id <span class="built_in">NUMBER</span> <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">commodity_id  <span class="built_in">NUMBER</span> <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">commodity_num <span class="built_in">NUMBER</span> <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">commodity_price  <span class="built_in">NUMBER</span> <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">create_time <span class="built_in">DATE</span> <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line"><span class="keyword">constraint</span>  fk_customer_id <span class="keyword">foreign</span> <span class="keyword">key</span>(customer_id) <span class="keyword">references</span> customer_table(customer_id),</span><br><span class="line"><span class="keyword">constraint</span>  fk_commodity_id <span class="keyword">foreign</span> <span class="keyword">key</span>(commodity_id) <span class="keyword">references</span> commodity_archives_table(commodity_id)</span><br><span class="line">);</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> shopping_cart_table</span><br><span class="line">(</span><br><span class="line">cart_id <span class="built_in">NUMBER</span> PRIMARY <span class="keyword">KEY</span>,</span><br><span class="line">customer_id <span class="built_in">NUMBER</span> <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">commodity_id  <span class="built_in">NUMBER</span>, <span class="keyword">not</span> <span class="literal">null</span></span><br><span class="line">commodity_num <span class="built_in">NUMBER</span> <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">commodity_price  <span class="built_in">NUMBER</span> <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">create_time <span class="built_in">DATE</span> <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line"><span class="keyword">constraint</span>  fk_customer_id <span class="keyword">foreign</span> <span class="keyword">key</span>(customer_id) <span class="keyword">references</span> customer_table(customer_id),</span><br><span class="line"><span class="keyword">constraint</span>  fk_commodity_id <span class="keyword">foreign</span> <span class="keyword">key</span>(commodity_id) <span class="keyword">references</span> commodity_archives_table(commodity_id)</span><br><span class="line">);</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> order_logistics_info_table</span><br><span class="line">(</span><br><span class="line">logistics_id <span class="built_in">NUMBER</span> PRIMARY <span class="keyword">KEY</span>,</span><br><span class="line">consignee_phone <span class="built_in">NUMBER</span>,</span><br><span class="line">consignee_zipcode  <span class="built_in">NUMBER</span>,</span><br><span class="line">consignee_name VARCHAR2(<span class="number">20</span>) <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">consignee_address VARCHAR2(<span class="number">20</span>),</span><br><span class="line">order_id <span class="built_in">NUMBER</span> <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">duty  <span class="built_in">NUMBER</span> <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">logistics_code <span class="built_in">NUMBER</span> <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">package_num  <span class="built_in">NUMBER</span> <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">logistics_state <span class="built_in">NUMBER</span>(<span class="number">1</span>) <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">logistics_way  VARCHAR2(<span class="number">20</span>) <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">logistics_company VARCHAR2(<span class="number">20</span>), <span class="keyword">not</span> <span class="literal">null</span></span><br><span class="line">consignee_address VARCHAR2(<span class="number">20</span>) <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">create_time <span class="built_in">DATE</span> <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line"><span class="keyword">constraint</span>  fk_order_id <span class="keyword">foreign</span> <span class="keyword">key</span>(order_id) <span class="keyword">references</span> order_note_info_table(order_id)</span><br><span class="line">);</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> warehouse_info_table</span><br><span class="line">(</span><br><span class="line">warehouse_id <span class="built_in">NUMBER</span> PRIMARY <span class="keyword">KEY</span>,</span><br><span class="line">warehouse_code <span class="built_in">NUMBER</span> <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">warehouse_phone  <span class="built_in">NUMBER</span>,</span><br><span class="line">warehouse_name VARCHAR2(<span class="number">20</span>) <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">contact VARCHAR2(<span class="number">20</span>) <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">country VARCHAR2(<span class="number">20</span>) <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">province VARCHAR2(<span class="number">20</span>) <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">city VARCHAR2(<span class="number">20</span>) <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">district VARCHAR2(<span class="number">20</span>) <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">concrete_address  VARCHAR2(<span class="number">100</span>),</span><br><span class="line">warehouse_persion  <span class="built_in">NUMBER</span> <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">warehouse_status <span class="built_in">NUMBER</span>(<span class="number">1</span>) <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">create_time <span class="built_in">DATE</span> <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">);</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> commodity_stock_table</span><br><span class="line">(</span><br><span class="line">commodity_stock_id <span class="built_in">NUMBER</span> PRIMARY <span class="keyword">KEY</span>,</span><br><span class="line">commodity_id <span class="built_in">NUMBER</span> <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">warehouse_id  <span class="built_in">NUMBER</span> <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">commodity_stock <span class="built_in">NUMBER</span> <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">create_time <span class="built_in">DATE</span> <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line"><span class="keyword">constraint</span>  fk_commodity_id <span class="keyword">foreign</span> <span class="keyword">key</span>(commodity_id) <span class="keyword">references</span> commodity_archives_table(commodity_id),</span><br><span class="line"><span class="keyword">constraint</span>  fk_warehouse_id <span class="keyword">foreign</span> <span class="keyword">key</span>(warehouse_id) <span class="keyword">references</span> warehouse_info_table(warehouse_id)</span><br><span class="line">);</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> shipping_info_table</span><br><span class="line">(</span><br><span class="line">ship_id <span class="built_in">NUMBER</span> PRIMARY <span class="keyword">KEY</span>,</span><br><span class="line">logistics_id <span class="built_in">NUMBER</span> <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">ship_persion  VARCHAR2(<span class="number">20</span>) <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">telephone <span class="built_in">NUMBER</span>,</span><br><span class="line">ship_price  <span class="built_in">NUMBER</span>,</span><br><span class="line">create_time <span class="built_in">DATE</span> <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line"><span class="keyword">constraint</span>  fk_logistics_id <span class="keyword">foreign</span> <span class="keyword">key</span>(logistics_id) <span class="keyword">references</span> order_logistics_info_table(logistics_id)</span><br><span class="line">);</span><br></pre></td></tr></table></figure><h3 id="创建触发器"><a href="#创建触发器" class="headerlink" title="创建触发器"></a>创建触发器</h3><p>首先对建立的表进行分析，对需要的触发器进行设计</p><ol><li>每个表创建后都自动生成修改时间并且存储<br>这里只对最后一个表shipping_info_table进行创建，其他表的原理一样。</li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">or</span> <span class="keyword">replace</span> <span class="keyword">trigger</span> <span class="string">"TR_CREATE_TIME"</span></span><br><span class="line"><span class="keyword">before</span> <span class="keyword">update</span> <span class="keyword">on</span> shipping_info_table</span><br><span class="line"><span class="keyword">for</span> <span class="keyword">each</span> <span class="keyword">row</span></span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">      <span class="keyword">if</span> :ship_id.facescore&lt;&gt;:new.facescore <span class="keyword">then</span></span><br><span class="line">          <span class="keyword">insert</span> <span class="keyword">into</span> shipping_info_table <span class="keyword">values</span>(shipping_info_table.ship_id,:old.ship_persion,:old.telephone,:old.ship_price,:new.createuser,<span class="keyword">sysdate</span>);</span><br><span class="line">      <span class="keyword">end</span> <span class="keyword">if</span>;</span><br><span class="line">      if :logistics_id.writerscore&lt;&gt;:new.writerscore then</span><br><span class="line">          <span class="keyword">insert</span> <span class="keyword">into</span> shipping_info_table <span class="keyword">values</span>(shipping_info_table.logistics_id,:old.ship_id,:old.telephone,:old.ship_price,:new.createuser,<span class="keyword">sysdate</span>);</span><br><span class="line">      <span class="keyword">end</span> <span class="keyword">if</span>;</span><br><span class="line">      if :ship_persion.facescore&lt;&gt;:new.facescore then</span><br><span class="line">          <span class="keyword">insert</span> <span class="keyword">into</span> shipping_info_table <span class="keyword">values</span>(shipping_info_table.ship_persion,:old.logistics_id,:old.telephone,:old.ship_price,:new.createuser,<span class="keyword">sysdate</span>);</span><br><span class="line">      <span class="keyword">end</span> <span class="keyword">if</span>;</span><br><span class="line">      if :telephone.writerscore&lt;&gt;:new.writerscore then</span><br><span class="line">          <span class="keyword">insert</span> <span class="keyword">into</span> shipping_info_table <span class="keyword">values</span>(shipping_info_table.telephone,:old.ship_id,:old.logistics_id,:old.ship_price,:new.createuser,<span class="keyword">sysdate</span>);</span><br><span class="line">      <span class="keyword">end</span> <span class="keyword">if</span>;</span><br><span class="line">      if :ship_price.facescore&lt;&gt;:new.facescore then</span><br><span class="line">          <span class="keyword">insert</span> <span class="keyword">into</span> shipping_info_table <span class="keyword">values</span>(shipping_info_table.ship_price,:old.ship_persion,:old.telephone,:old.logistics_id,:new.createuser,<span class="keyword">sysdate</span>);</span><br><span class="line">      <span class="keyword">end</span> <span class="keyword">if</span>;</span><br><span class="line"><span class="keyword">end</span>;</span><br></pre></td></tr></table></figure><ol start="2"><li><p>订单完成后status变为1[number(1)]类型</p></li><li><p>物流成功后status变成1</p></li><li><p>订单完成后status变为1</p></li><li><p>对运行成功通过触发器进行检验，打印出相应的语句再日志表中</p></li></ol><h2 id="分析数据库面对的用户的种类，完成数据库用户的权限授权（建议确定合理的角色来完成权限的分配和回收）"><a href="#分析数据库面对的用户的种类，完成数据库用户的权限授权（建议确定合理的角色来完成权限的分配和回收）" class="headerlink" title="分析数据库面对的用户的种类，完成数据库用户的权限授权（建议确定合理的角色来完成权限的分配和回收）"></a>分析数据库面对的用户的种类，完成数据库用户的权限授权（建议确定合理的角色来完成权限的分配和回收）</h2><blockquote><p>DBA:拥有全部特权,是系统最高权限,只有DBA才可以创建数据库结构。RESOURCE:拥有Resource权限的用户只可以创建实体,不可以创建数据库结构。CONNECT:拥有Connect权限的用户只可以登录Oracle,不可以创建实体,不可以创建数据库结构。系统权限授权命令的使用语法:GRANT权限名TO用户 角色 PUBLIC其中,PUBLIC表示将权限赋给数据库中所有</p></blockquote><h3 id="分析过程"><a href="#分析过程" class="headerlink" title="分析过程"></a>分析过程</h3><p>以亚马逊网商系统为背景进行Oracle数据库设计,首先以工领域中的用户操作人员分析出角色并为角色分配初始权限,然后针对具体岗位设置创建具体用户账号,最后根据该岗位的职能进行用户权限的具体配制。</p><h3 id="角色设计"><a href="#角色设计" class="headerlink" title="角色设计"></a>角色设计</h3><p>根据图书管的行政编制和岗位行政职能,分析出图书管理系统的角色包括master,开发者,测试员,管理员,普通用户，Primer用户六个角色。<br>master能够操作整个数据库的对象,并且具有创建和修改权限的权利。<br>开发者具有对表的修改权限。<br>测试员具有对表的修改权限。<br>普通用户具有普通权限。<br>Primer用户具有会员权限。</p><p>master:sys(超级管理员)</p><p>开发者:增删查改等开发权限<br>grant [grant_develop_privileges] to developer;<br>REVOKE[grant_develop_privileges] from developer;<br>测试员:增删查改等开发权限<br>grant [grant_develop_privileges] to developer;<br>REVOKE[grant_develop_privileges] from developer;<br>管理员:增删查改等管理权限<br>grant [grant_develop_privileges] to developer;<br>REVOKE[grant_develop_privileges] from developer;<br>普通用户:系统普通使用权限<br>grant [grant_develop_privileges] to developer;<br>REVOKE[grant_develop_privileges] from developer;<br>Primer用户:系统会员使用权限<br>grant [grant_develop_privileges] to developer;<br>REVOKE[grant_develop_privileges] from developer;</p><h2 id="制定合理的数据库备份恢复策略。"><a href="#制定合理的数据库备份恢复策略。" class="headerlink" title="制定合理的数据库备份恢复策略。"></a>制定合理的数据库备份恢复策略。</h2><h3 id="备份策略确立"><a href="#备份策略确立" class="headerlink" title="备份策略确立"></a>备份策略确立</h3><h4 id="备份需求分析"><a href="#备份需求分析" class="headerlink" title="备份需求分析"></a>备份需求分析</h4><p>根据亚马逊公司网商系统数据建设现状，分析威胁数据安全的主要因素，得出数据备份系统应该满足如下要求:</p><ol><li>具备灵活方便的可扩展能力。 数据库日益增长的数据量要求数据备份系统能在现有设备和运行环境的基础上顺利进行升级和扩容。</li><li>备份数据具备良好的可恢复性。 可以实现数据库统一、集中、安全的备份和管理，确保备份数据的可靠性和可恢复性，为进行数据恢复操作奠定 基础。</li><li>保持业务连续性。 在满足油田勘探系统业务连续性要求的前提下实施数据备份，避免数据存储设备长时间中断对应用系统的使用造成严重的影响。</li></ol><h4 id="备份设备选型"><a href="#备份设备选型" class="headerlink" title="备份设备选型"></a>备份设备选型</h4><p>根据对数据库进行备份需求分析，IBM TSM作为备份管理软件系统，用于支持备份数据管理。TSM 软件是为解决企业级的数据及系统安全而设计的备份解决方案，而亚马逊作为全球领先电商企业，该设备可以解决困扰信息技术部门的备份管理问题。TSM 的管理架构以其高度的扩展性和广泛的操作平台支持、集中式的自动存储管理等优势，为企业提供高效、自动、可扩展的备份管理体系。 TSM 的数据传输格式为经过加密处理的 TSM 独有的二进制格式，在每次数据备份和恢复时，TSM 自动进行 CRC数据校验，从而保证数据在备份和恢复过程中的完整性和安全性。</p><h4 id="备份策略制定"><a href="#备份策略制定" class="headerlink" title="备份策略制定"></a>备份策略制定</h4><p>通过详细分析亚马逊Oracle数据库存储结构、数据库运行方式、数据存储文件、数据增长速度和数据增长密度时段等实际情况，结合 Oracle 数据库几种备份方式的优缺点，本文制定了以下备份策略：</p><ol><li>由于该数据库复杂,采用Oracle提供的备份工具RMAN与冷备份、逻辑备份相结合的方式，其中，RMAN备份为主要备份方式，冷备份、逻辑备份为辅助备份方式。</li><li>RMAN 备份包括全备份和增量备份2种方式。本文采用了备份数据量小、存储空间要求较低的Differential增量备份方式。在进行一次级别n的Differential增量备份时，RMAN只会对那些与最近一次级别等于或小于n的增量备份相比发生变化的数据块进行备份。Differential 方式 RMAN 增量备份策略的实施，设定在每周日、周三进行 0 级数据库备份(相当于全备份)及归档日志备份；周一、周二、周四、周五、周六进行1级增量备份及归档日志备份。</li><li>备份触发方式：Unix 计划任务定时启动。建立系统CRON 任务，按照备份策略编辑命令，定时启动系统的计划任务(crontab)进程，调用 RMAN 备份或逻辑备份启动文件。</li><li>数据库归档方式：在 Archivelog(归档)模式下，数据库不仅可以进行一致备份，还可以在数据库打开的情况下进行联机备份。将所有使用 RMAN 备份的目标数据库全部切换为 Archivelog 模式，建立归档文件系统/oraarch，各 Oracle实例的归档目录统一设置为：/oraarch/$ORACLE_SID。</li></ol><h2 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h2><p>[1]刘意凡.基于Spring MVC的亚马逊物流信息平台的设计与实现[D].北京:北京交通大学,2017.</p><p>[2]刘锦木.基于亚马逊平台电商管理信息系统的设计与实现[D].厦门:厦门大学,2015.</p><p>[3]骆斌,丁二玉.需求工程[M].第二版.北京:高等教育出版社,2015.</p><p>[4]孙风栋,王澜.Oracle 11g数据库基础教程[M].第二版.北京:电子工业出版社,2015.</p><p>[5]王珊,萨师煊.数据库系统概论[M].第五版.北京:高等教育出版社,2014.</p><p>[6]张云帆.Oracle数据库备份与恢复策略浅析[C].计算机工程,2009</p><p>[7]赵晓娟.基于角色的ORACLE用户权限管理设计[D].湘潭:湖南城建职业技术学院信息工程系,2009</p><p>[8]王立新.Oracle 数据库备份与恢复策略浅析[D]长春.汽车工业高等专科学校</p><p>[8]唐汉明,翟振兴,关宝军,王洪权.深入浅出MySQL[M].北京:人民邮电出版社,2014</p><blockquote style="margin: 2em 0 0;padding: 0.5em 1em;border-left: 3px solid #F44336;background-color: #F5F5F5;list-style: none;"><p> <strong>本文使用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/" target="_blank" rel="noopener">CC BY-NC-SA 3.0 中国大陆</a> 协议许可<br>具体请参见 <a href="https://zyhang8.github.io/agree/" target="_blank" rel="noopener">知识共享协议</a></strong><br> <strong>本文链接：</strong><a href="https://zyhang8.github.io/2019/09/18/amazon-oracle/" target="_blank" rel="noopener">https://zyhang8.github.io/2019/09/18/amazon-oracle/</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> Database </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>空域图像增强</title>
      <link href="/2019/09/17/cv-exp2/"/>
      <url>/2019/09/17/cv-exp2/</url>
      
        <content type="html"><![CDATA[<h2 id="目的"><a href="#目的" class="headerlink" title="目的"></a>目的</h2><ol><li>掌握OPENCV中空域图像增强的一些基本方法</li><li>理解图像基于空域像素的处理：图像像素灰度级、点运算、逻辑运算、几何运算</li><li>理解图像直方图均衡化空域增强的基本原理</li><li>理解图像的空间滤波增强的基本原理和方法：平滑空间滤波、锐化空间滤波处理；比较不同滤波器处理的效果和优缺点</li></ol><h2 id="原理"><a href="#原理" class="headerlink" title="原理"></a>原理</h2><p>图像的点运算、代数运算、几何运算、直方图增强、空域平滑滤波、空域锐化滤波</p><p>实验内容或步骤:</p><p>对“lena.jpg”变换后的灰度图像进行如下操作:</p><p>1）统计每个灰度级（0-255）的像素点数，并打印显示；<br>2）实现幂律变换,并显示；（,将其封装为一个函数，公式中的参数(c, )作为函数参数传入）<br>3）用双线性插值将图像放到1.5倍和缩小0.8倍，并显示<br>4）将图像进行直方图均衡化处理，显示图像及其直方图；<br>5）分别以3x3、7x7模板进行均值滤波(或中值滤波)处理，并显示；<br>6）分别使用拉普拉斯算子和Sobel算子对图像进行锐化处理，并显示。</p><p>问题讨论:</p><ol><li><p>图像像素访问一般有三种方式，选择一种使用即可<br>参考<br><a href="https://blog.csdn.net/u013921430/article/details/81114644" target="_blank" rel="noopener">https://blog.csdn.net/u013921430/article/details/81114644</a></p></li><li><p>改变图像大小（resize）<br>void resize(InputArray src, OutputArray dst, Size dsize, double fx=0, double fy=0, int interpolation=INTER_LINEAR );<br>src：输入，原图像，即待改变大小的图像；<br>dst：输出，改变大小之后的图像；<br>dsize：输出图像的大小。<br>fx和fy是图像width方向和height方向的缩放比例<br>注意：dsize和fx/fy不能同时起作用，当dsize不为空的时候，fx，fy被忽略<br>例如：resize(img, imgDst, Size(100,100));将图像缩放到指定的像素大小<br>resize(img, imgDst, Size(), 0.5, 0.5); 将图像缩小一倍<br>interpolation：指定插值的方式<br>INTER_NEAREST - 最邻近插值<br>NTER_LINEAR - 双线性插值（默认参数）<br>INTER_CUBIC - 4x4像素邻域内的双立方插值<br>INTER_LANCZOS4 - 8x8像素邻域内的Lanczos插值</p></li><li><p>直方图均衡（equalizeHist）<br><a href="https://docs.opencv.org/3.4.5/d4/d1b/tutorial_histogram_equalization.html" target="_blank" rel="noopener">https://docs.opencv.org/3.4.5/d4/d1b/tutorial_histogram_equalization.html</a><br><a href="https://docs.opencv.org/3.4.5/d8/dbc/tutorial_histogram_calculation.html" target="_blank" rel="noopener">https://docs.opencv.org/3.4.5/d8/dbc/tutorial_histogram_calculation.html</a></p></li><li><p>均值滤波（blur）中值滤波(medianBlur)<br><a href="https://docs.opencv.org/3.4.5/dc/dd3/tutorial_gausian_median_blur_bilateral_filter.html" target="_blank" rel="noopener">https://docs.opencv.org/3.4.5/dc/dd3/tutorial_gausian_median_blur_bilateral_filter.html</a></p></li><li><p>拉普拉斯算子（Laplacian）<br><a href="https://docs.opencv.org/3.4.5/d4/d86/group__imgproc__filter.html#gad78703e4c8fe703d479c1860d76429e6" target="_blank" rel="noopener">https://docs.opencv.org/3.4.5/d4/d86/group__imgproc__filter.html#gad78703e4c8fe703d479c1860d76429e6</a><br><a href="http://www.opencv.org.cn/opencvdoc/2.3.2/html/modules/imgproc/doc/filtering.html#laplacian" target="_blank" rel="noopener">http://www.opencv.org.cn/opencvdoc/2.3.2/html/modules/imgproc/doc/filtering.html#laplacian</a></p></li><li><p>Sobel算子（Sobel）<br><a href="https://docs.opencv.org/3.0.0/d4/d86/group__imgproc__filter.html#gacea54f142e81b6758cb6f375ce782c8d" target="_blank" rel="noopener">https://docs.opencv.org/3.0.0/d4/d86/group__imgproc__filter.html#gacea54f142e81b6758cb6f375ce782c8d</a><br><a href="http://www.opencv.org.cn/opencvdoc/2.3.2/html/modules/imgproc/doc/filtering.html#sobel" target="_blank" rel="noopener">http://www.opencv.org.cn/opencvdoc/2.3.2/html/modules/imgproc/doc/filtering.html#sobel</a></p></li></ol><p>实验报告要求：<br>（1）描述实验的基本原理和步骤。<br>（2）用数据和图片给出各个步骤中取得的实验结果，包括原始图像及其处理后的图像，并进行必要的讨论。<br>（3）完整的源代码。</p><h2 id="步骤"><a href="#步骤" class="headerlink" title="步骤"></a>步骤</h2><h3 id="统计像素点数，打印显示"><a href="#统计像素点数，打印显示" class="headerlink" title="统计像素点数，打印显示"></a>统计像素点数，打印显示</h3><h4 id="实验方式1-傻瓜式操作"><a href="#实验方式1-傻瓜式操作" class="headerlink" title="实验方式1 傻瓜式操作"></a>实验方式1 傻瓜式操作</h4><p>灰度化原理：R=G=B</p><p><img src="https://s2.ax1x.com/2019/10/17/KE3a1x.png" alt="KE3a1x.png"></p><p>灰度值0-255，则灰度级为256<br>思路：使用指针访问记录各点像素并且输入到txt中</p><p><img src="https://s2.ax1x.com/2019/10/17/KE3YN9.png" alt="KE3YN9.png"></p><p>由于该图像的尺寸为500*500，则有250000个像素点</p><p><img src="https://s2.ax1x.com/2019/10/17/KE3JAJ.png" alt="KE3JAJ.png"></p><p>再通过 python（比较熟悉）进行统计每一集的像素数目</p><p><img src="https://s2.ax1x.com/2019/10/17/KE3rHe.png" alt="KE3rHe.png"></p><p>如图：一个键为灰度级，值为该灰度值的数目，并按键值从小到大排序</p><h4 id="实现方式2-正确操作"><a href="#实现方式2-正确操作" class="headerlink" title="实现方式2 正确操作"></a>实现方式2 正确操作</h4><p>指针访问记录各点像素，通过遍历每个像素值，并通过c++内嵌统计数值得出，之前做得太傻了，有轮子不用自己造……</p><p><img src="https://s2.ax1x.com/2019/10/17/KE3yAH.png" alt="KE3yAH.png"></p><h3 id="反转变换并显示"><a href="#反转变换并显示" class="headerlink" title="反转变换并显示"></a>反转变换并显示</h3><p>原理: 图像颜色的反转,比较简单的思路就是使用255减去当前值,从而得到反转后的图像</p><p>作用: 强图像的暗区中白色或灰色的细节，特别是黑色面积在尺寸上占主导地位时</p><p><img src="https://s2.ax1x.com/2019/10/17/KE3U91.png" alt="KE3U91.png"></p><h3 id="幂律变换并显示"><a href="#幂律变换并显示" class="headerlink" title="幂律变换并显示"></a>幂律变换并显示</h3><p>公式：s=cr^γ</p><p>其中c、γ 为常数。考虑偏移量上式可写为 s=c(ε+r)^γ</p><p>伽马变换可以很好地拉伸图像的对比度，扩展灰度级。</p><p>和s取值范围[0,1]，使用归一化处理参数</p><p>使用幂律变换进行对比度增强；灰度级压缩</p><p>函数封装：</p><p><img src="https://s2.ax1x.com/2019/10/17/KE3thR.png" alt="KE3thR.png"></p><p>显示</p><p><img src="https://s2.ax1x.com/2019/10/17/KE3dc6.png" alt="KE3dc6.png"></p><h3 id="双线性插值"><a href="#双线性插值" class="headerlink" title="双线性插值"></a>双线性插值</h3><p>原理：假设源图像大小为mxn，目标图像为axb。那么两幅图像的边长比分别为：m/a和n/b。注意，通常这个比例不是整数，编程存储的时候要用浮点型。目标图像的第（i,j）个像素点（i行j列）可以通过边长比对应回源图像。其对应坐标为（i<em>m/a,j</em>n/b）</p><p>显然，这个对应坐标一般来说不是整数，而非整数的坐标是无法在图像这种离散数据上使用的。双线性插值通过寻找距离这个对应坐标最近的四个像素点，来计算该点的值（灰度值或者RGB值）<br>双线性插值加速以及优化策略</p><p>这个过程很折腾，一开始还没报错，后来疯狂内存问题报错，后来花了2个小时解决了……后来重新做时，不小心改了cv的源代码……后来脑子转过来改回来正常运行</p><p>resize可以直接跳用函数进行放缩，通过原理的算法经过多次缩放比例实验后，发现一旦有整数的话很容易成功，如果放大1.5杯，算的过程中例如fx等参数最后时int类型，通过cout输入int原本是float类型可能类型强制转换导致最后像素值的值冲突</p><p><img src="https://s2.ax1x.com/2019/10/17/KE3c4A.png" alt="KE3c4A.png"></p><h3 id="直方图均衡化"><a href="#直方图均衡化" class="headerlink" title="直方图均衡化"></a>直方图均衡化</h3><p>原理：直方图变换其实是一种灰度变换，灰度变换的变换函数决定了输入随机变量与输出随机变量之间的关系，也就是两个随机变量的关系；一副图像是二维离散的数据，不利于使用数学的工具进行处理，在数字图像处理中，我们通常是采用连续的变量进行推导，最后在推广到离散的情况。</p><p>作用：通过直方图均衡技术，将图像的灰度分布变得较为均匀，从而使得图像对比度增大，视觉效果更佳</p><ul><li>遍历全图，先统计每个灰度级下的像素点个数（为此我们开辟了256大小的数组）；</li><li>计算每个灰度级的像素点占总像素的点的比例；</li><li>按照第二步求出的比例重新计算每个灰度级下的新的灰度值，即均衡化；</li><li>依照新的灰度值表遍历更新图像的灰度值。</li></ul><p><img src="https://s2.ax1x.com/2019/10/17/KE36Nd.png" alt="KE36Nd.png"></p><h4 id="直方图绘制"><a href="#直方图绘制" class="headerlink" title="直方图绘制"></a>直方图绘制</h4><p>直方图calcHist函数参数介绍</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">calcHist</span><span class="params">(</span></span></span><br><span class="line"><span class="function"><span class="params"><span class="keyword">const</span> Mat* images, <span class="comment">//源(图像)数组。应具有相同的深度(CV_8U或CV_32F)和大小。每个数组可以有任意数量的通道。</span></span></span></span><br><span class="line"><span class="function"><span class="params"><span class="keyword">int</span> nimages, <span class="comment">//源图像的数量</span></span></span></span><br><span class="line"><span class="function"><span class="params"><span class="keyword">const</span> <span class="keyword">int</span>* channels, <span class="comment">//用于计算直方图的dims通道列表</span></span></span></span><br><span class="line"><span class="function"><span class="params">InputArray mask, <span class="comment">//可选掩码。如果矩阵不为空，它必须是与images[i]大小相同的8位数组。</span></span></span></span><br><span class="line"><span class="function"><span class="params">OutputArray hist, <span class="comment">//输出直方图</span></span></span></span><br><span class="line"><span class="function"><span class="params"><span class="keyword">int</span> dims, <span class="comment">//直方图的维度(必须是正数且不能大于CV_MAX_DIMS)</span></span></span></span><br><span class="line"><span class="function"><span class="params"><span class="keyword">const</span> <span class="keyword">int</span>* histSize, <span class="comment">//每个维度中的直方图大小的数组。</span></span></span></span><br><span class="line"><span class="function"><span class="params"><span class="keyword">const</span> <span class="keyword">float</span>** ranges, <span class="comment">//每个维度中直方图边界边界的dims数组的数组。</span></span></span></span><br><span class="line"><span class="function"><span class="params"><span class="keyword">bool</span> uniform = <span class="literal">true</span>, <span class="comment">//指示直方图是否均匀的标志</span></span></span></span><br><span class="line"><span class="function"><span class="params"><span class="keyword">bool</span> accumulate = <span class="literal">false</span> <span class="comment">//累积标志。若设置为true，分配的直方图不会被清除，用于及时更新直方图。</span></span></span></span><br><span class="line"><span class="function"><span class="params">)</span></span>;</span><br></pre></td></tr></table></figure><p><img src="https://s2.ax1x.com/2019/10/17/KE3wjK.png" alt="KE3wjK.png"></p><h3 id="均值滤波及中值滤波"><a href="#均值滤波及中值滤波" class="headerlink" title="均值滤波及中值滤波"></a>均值滤波及中值滤波</h3><p>均值滤波：线性平均滤波器，它通过求窗口内所有像素的平均值来得到中心像素点的像素值。这样的好处是可以有效的平滑图像，降低图像的尖锐程度，降低噪声。但缺点是不能消除噪声，而且将周围的景物的像素点平均了，变得模糊了。</p><p>中值滤波：如上课所说，椒盐噪声有很好的抑制作用，对模板里的像素来个简单的冒泡排序，然后求个中值代替中心点像素就ok了</p><p>图片中一个方块区域内，中心点的像素为全部点像素值的平均值。</p><p><img src="https://s2.ax1x.com/2019/10/17/KE3DBD.png" alt="KE3DBD.png"></p><p>缺陷：均值滤波本身存在着固有的缺陷，即它不能很好地保护图像细节，在图像去噪的同时也破坏了图像的细节部分，从而使图像变得模糊，不能很好地去除噪声点。特别是椒盐噪声<br>在图像中取3*3的矩阵，里面有9个像素点，我们将9个像素进行排序，最后将这个矩阵的中心点赋值为这九个像素的中值。</p><p>模糊化太会过于严重。</p><h3 id="Laplace-amp-Sobel"><a href="#Laplace-amp-Sobel" class="headerlink" title="Laplace&amp;Sobel"></a>Laplace&amp;Sobel</h3><p>一开始看到这两个算法以为是边缘检测，后来感觉不对重新看了下题目发现是锐化。</p><p>边缘检测:字面意思就是在局部范围内与周围环境明显不同</p><h4 id="Laplace步骤"><a href="#Laplace步骤" class="headerlink" title="Laplace步骤"></a>Laplace步骤</h4><p>高斯模糊-去噪声<br>转为灰度图像<br>拉普拉斯-二阶导数计算<br>取绝对值convertScaleAbs()<br>显示结果</p><p><img src="https://s2.ax1x.com/2019/10/17/KE329I.png" alt="KE329I.png"></p><h4 id="Sobel步骤"><a href="#Sobel步骤" class="headerlink" title="Sobel步骤"></a>Sobel步骤</h4><p>高斯平滑<br>转灰度<br>求梯度xy<br>振幅图像（合并近似梯度）</p><p><img src="https://s2.ax1x.com/2019/10/17/KE3R3t.png" alt="KE3R3t.png"></p><h4 id="锐化"><a href="#锐化" class="headerlink" title="锐化"></a>锐化</h4><p>Laplace原理：根据图像某个像素的周围像素到此像素的突变程度有关，也就是说它的依据是图像像素的变化程度。我们知道，一个函数的一阶微分描述了函数图像是朝哪里变化的，即增长或者降低；而二阶微分描述的则是图像变化的速度，急剧增长下降还是平缓的增长下降。那么据此我们可以猜测出依据二阶微分能够找到图像的色素的过渡程度，例如白色到黑色的过渡就是比较急剧的。<br>步骤:得到图像矩阵后，用二阶分然后再和愿图像相加</p><p><img src="https://s2.ax1x.com/2019/10/17/KE3WgP.png" alt="KE3WgP.png"></p><p>Sobel锐化也可以通过边缘检测然后和原图像相加得出<br>可以看出在边缘检测方面，sobel 产生的边缘抗噪性好，导致很多原图的像素被去除，而Laplace 对边缘敏感，可能有些是噪声的边缘，也被算进来了</p><h2 id="源代码"><a href="#源代码" class="headerlink" title="源代码"></a>源代码</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;opencv2/core/core.hpp&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;opencv2/highgui/highgui.hpp&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;fstream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;opencv2/opencv.hpp&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> cv;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">int</span> i;</span><br><span class="line"><span class="keyword">int</span> j;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 归一化</span></span><br><span class="line"><span class="comment">//data 进行处理的像素集合</span></span><br><span class="line"><span class="comment">//grayscale 目标灰度级</span></span><br><span class="line"><span class="comment">//rows cols type 目标图像的行，列，以及类型</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> gray[<span class="number">256</span>] = &#123; <span class="number">0</span> &#125;;  <span class="comment">//记录每个灰度级别下的像素个数</span></span><br><span class="line"><span class="keyword">double</span> gray_prob[<span class="number">256</span>] = &#123; <span class="number">0</span> &#125;;  <span class="comment">//记录灰度分布密度</span></span><br><span class="line"><span class="keyword">double</span> gray_distribution[<span class="number">256</span>] = &#123; <span class="number">0</span> &#125;; <span class="comment">//记录累计密度</span></span><br><span class="line"><span class="keyword">int</span> gray_equal[<span class="number">256</span>] = &#123; <span class="number">0</span> &#125;; <span class="comment">//均衡化后的灰度值</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> gray_sum = <span class="number">0</span>; <span class="comment">//像素总数</span></span><br><span class="line"></span><br><span class="line"><span class="function">Mat <span class="title">Normalize</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">double</span>&gt; data, <span class="keyword">int</span> grayscale, <span class="keyword">int</span> rows, <span class="keyword">int</span> cols, <span class="keyword">int</span> type)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">double</span> max = <span class="number">0.0</span>;</span><br><span class="line"><span class="keyword">double</span> min = <span class="number">0.0</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; data.size(); i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (data[i] &gt; max)</span><br><span class="line">max = data[i];</span><br><span class="line"><span class="keyword">if</span> (data[i] &lt; min)</span><br><span class="line">min = data[i];</span><br><span class="line">&#125;</span><br><span class="line">Mat dst;</span><br><span class="line">dst.create(rows, cols, type);</span><br><span class="line"><span class="keyword">int</span> index = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> r = <span class="number">0</span>; r &lt; dst.rows; r++)</span><br><span class="line">&#123;</span><br><span class="line">uchar* dstRowData = dst.ptr&lt;uchar&gt;(r);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> c = <span class="number">0</span>; c &lt; dst.cols; c++)</span><br><span class="line">&#123;</span><br><span class="line">dstRowData[c] = (uchar)(grayscale * ((data[index++] - min) * <span class="number">1.0</span> / (max - min)));</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> dst;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 幂律变化</span></span><br><span class="line"><span class="function">Mat <span class="title">PowerTranseform</span><span class="params">(Mat src, <span class="keyword">double</span> gamma, <span class="keyword">int</span> parameter)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">Mat dst;</span><br><span class="line">dst.create(src.size(), src.type());</span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">double</span>&gt; value;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> r = <span class="number">0</span>; r &lt; src.rows; r++)</span><br><span class="line">&#123;</span><br><span class="line">uchar* srcRowData = src.ptr&lt;uchar&gt;(r);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> c = <span class="number">0</span>; c &lt; src.cols; c++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="comment">//幂次变换的公式为 s = c * r ^ v r为输入图像像素</span></span><br><span class="line">value.push_back(parameter * <span class="built_in">pow</span>((<span class="keyword">double</span>)srcRowData[c], gamma));</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> Normalize(value, <span class="number">255</span>, src.rows, src.cols, src.type());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 双线性插值</span></span><br><span class="line"><span class="function">Mat <span class="title">bilinear</span><span class="params">(Mat src, <span class="keyword">int</span> row, <span class="keyword">int</span> col)</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> rows = src.rows, cols = src.cols;</span><br><span class="line">cv::<span class="function">Mat <span class="title">dst</span><span class="params">(row, col, src.type())</span></span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; row; ++i) &#123;</span><br><span class="line"><span class="comment">//以ptr的方式访问dst的数据</span></span><br><span class="line">uchar* p = dst.ptr&lt;uchar&gt;(i);</span><br><span class="line"><span class="comment">//使两个图像的几何中心重合，采样更合理</span></span><br><span class="line"><span class="keyword">float</span> x = (i + <span class="number">0.5</span>) * rows / row - <span class="number">0.5</span>;</span><br><span class="line"><span class="keyword">int</span> fx = (<span class="keyword">int</span>)x;</span><br><span class="line"><span class="comment">//x为坐标的小数部分</span></span><br><span class="line">x -= fx;</span><br><span class="line"><span class="comment">//以整数计算速度更快</span></span><br><span class="line"><span class="keyword">short</span> x1 = (<span class="number">1.f</span> - x) * <span class="number">2048</span>;</span><br><span class="line"><span class="keyword">short</span> x2 = <span class="number">2048</span> - x1;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; col; ++j) &#123;</span><br><span class="line"><span class="comment">//trick</span></span><br><span class="line"><span class="keyword">float</span> y = (j + <span class="number">0.5</span>) * cols / col - <span class="number">0.5</span>;</span><br><span class="line"><span class="keyword">int</span> fy = (<span class="keyword">int</span>)y;</span><br><span class="line">y -= fy;</span><br><span class="line"><span class="comment">//trick</span></span><br><span class="line"><span class="keyword">short</span> y1 = (<span class="number">1.f</span> - y) * <span class="number">2048</span>;</span><br><span class="line"><span class="keyword">short</span> y2 = <span class="number">2048</span> - y1;</span><br><span class="line"><span class="comment">//结果右移22位抵消2048的平方</span></span><br><span class="line">p[j] = (src.at&lt;uchar&gt;(fx, fy) * x1 * y1 + src.at&lt;uchar&gt;(fx + <span class="number">1</span>, fy) * x2 * y1</span><br><span class="line">+ src.at&lt;uchar&gt;(fx, fy + <span class="number">1</span>) * x1 * y2 + src.at&lt;uchar&gt;(fx + <span class="number">1</span>, fy + <span class="number">1</span>) * x2 * y2) &gt;&gt; <span class="number">22</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> dst;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">Mat <span class="title">equalize_hist</span><span class="params">(Mat&amp; input)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">Mat output = input.clone();</span><br><span class="line">gray_sum = input.cols * input.rows;</span><br><span class="line"></span><br><span class="line"><span class="comment">//统计每个灰度下的像素个数</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; input.rows; i++)</span><br><span class="line">&#123;</span><br><span class="line">uchar* p = input.ptr&lt;uchar&gt;(i);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; input.cols; j++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">int</span> vaule = p[j];</span><br><span class="line"><span class="comment">//cout &lt;&lt; input.cols*i+j &lt;&lt; ':'&lt;&lt; vaule &lt;&lt; endl;</span></span><br><span class="line">gray[vaule]++;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//统计灰度频率</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">256</span>; i++)</span><br><span class="line">&#123;</span><br><span class="line">gray_prob[i] = ((<span class="keyword">double</span>)gray[i] / gray_sum);</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; i + <span class="number">1</span> &lt;&lt; <span class="string">':'</span> &lt;&lt; gray_prob[i] * gray_sum &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> output;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//均值化</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">histBar</span><span class="params">(Mat src)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">int</span> histSize = <span class="number">30</span>;</span><br><span class="line">MatND hist;</span><br><span class="line"><span class="keyword">float</span> range[] = &#123; <span class="number">0</span>, <span class="number">255</span> &#125;;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">float</span>* ranges = &#123; range &#125;;</span><br><span class="line"><span class="comment">//计算直方图</span></span><br><span class="line">calcHist(&amp;src, <span class="number">1</span>, <span class="number">0</span>, Mat(), hist, <span class="number">1</span>, &amp;histSize, &amp;ranges, <span class="literal">true</span>, <span class="literal">false</span>);</span><br><span class="line"><span class="comment">//将直方图bin的数值归一化到0-255</span></span><br><span class="line">normalize(hist, hist, <span class="number">0</span>, <span class="number">255</span>, NORM_MINMAX, <span class="number">-1</span>, Mat());</span><br><span class="line"></span><br><span class="line"><span class="comment">//显示直方图</span></span><br><span class="line"><span class="keyword">int</span> binsW = cvRound((<span class="keyword">double</span>)<span class="number">500</span> / histSize);</span><br><span class="line">Mat histImg = Mat::zeros(<span class="number">500</span>, <span class="number">500</span>, CV_8UC3);</span><br><span class="line"><span class="function">RNG <span class="title">rng</span><span class="params">(<span class="number">123</span>)</span></span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; histSize; i++)</span><br><span class="line">&#123;</span><br><span class="line">Scalar color = Scalar(rng.uniform(<span class="number">0</span>, <span class="number">255</span>), rng.uniform(<span class="number">0</span>, <span class="number">255</span>), rng.uniform(<span class="number">0</span>, <span class="number">255</span>));</span><br><span class="line">rectangle(histImg, Point(i * binsW, <span class="number">500</span>), Point((i + <span class="number">1</span>) * binsW, <span class="number">500</span> - cvRound(hist.at&lt;<span class="keyword">float</span>&gt;(i) * <span class="number">500</span> / <span class="number">255.0</span>)), color, <span class="number">-1</span>);</span><br><span class="line">&#125;</span><br><span class="line">imshow(<span class="string">"histogram"</span>, histImg);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">sharpen</span><span class="params">(<span class="keyword">const</span> Mat image, Mat&amp; result)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">result.create(image.size(), image.type());</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt; image.rows - <span class="number">1</span>; j++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">const</span> uchar* previous = image.ptr&lt;<span class="keyword">const</span> uchar&gt;(j - <span class="number">1</span>);</span><br><span class="line"><span class="keyword">const</span> uchar* current = image.ptr&lt;<span class="keyword">const</span> uchar&gt;(j);</span><br><span class="line"><span class="keyword">const</span> uchar* next = image.ptr&lt;<span class="keyword">const</span> uchar&gt;(j + <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">uchar* output = result.ptr&lt;uchar&gt;(j);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; image.cols - <span class="number">1</span>; i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="comment">//sharpened_pixel=5*current-left-right-up-down;</span></span><br><span class="line"><span class="comment">//cv::saturate_cast用以对计算结果进行截断(0-255)</span></span><br><span class="line">*output++ = saturate_cast&lt;uchar&gt;(</span><br><span class="line"><span class="number">5</span> * current[i] - current[i - <span class="number">1</span>]</span><br><span class="line">- current[i + <span class="number">1</span>] - previous[i] - next[i]);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">result.row(<span class="number">0</span>).setTo(Scalar(<span class="number">0</span>));</span><br><span class="line">result.row(result.rows - <span class="number">1</span>).setTo(Scalar(<span class="number">0</span>));</span><br><span class="line">result.col(<span class="number">0</span>).setTo(Scalar(<span class="number">0</span>));</span><br><span class="line">result.col(result.cols - <span class="number">1</span>).setTo(Scalar(<span class="number">0</span>));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">Mat img = cv::imread(<span class="string">"lena_gray.jpg"</span>, <span class="number">0</span>);</span><br><span class="line"><span class="keyword">int</span> row = img.rows;<span class="comment">//获取行数</span></span><br><span class="line"><span class="keyword">int</span> col = img.cols * img.channels();<span class="comment">//注意是列数*通道数</span></span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; row &lt;&lt; <span class="string">","</span> &lt;&lt; col &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">equalize_hist(img);</span><br><span class="line"></span><br><span class="line"><span class="comment">/*ofstream ofs("pixel.txt");</span></span><br><span class="line"><span class="comment">for (int i = 0; i &lt; row; ++i)</span></span><br><span class="line"><span class="comment">&#123;</span></span><br><span class="line"><span class="comment">uchar* data = img.ptr&lt;uchar&gt;(i);//获取第i行首地址</span></span><br><span class="line"><span class="comment">for (int j = 0; j &lt; col; ++j)</span></span><br><span class="line"><span class="comment">&#123;</span></span><br><span class="line"><span class="comment">//指针方式</span></span><br><span class="line"><span class="comment">ofs &lt;&lt; int(*data) &lt;&lt; endl;</span></span><br><span class="line"><span class="comment">data++;</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment">cout &lt;&lt; row &lt;&lt; "," &lt;&lt; col &lt;&lt; endl;</span></span><br><span class="line"><span class="comment">cout &lt;&lt; "遍历完毕" &lt;&lt; endl;</span></span><br><span class="line"><span class="comment">cout &lt;&lt; endl;</span></span><br><span class="line"><span class="comment">ofs.close();*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//显示原图</span></span><br><span class="line">imshow(<span class="string">"img"</span>, img);</span><br><span class="line">Mat dst;</span><br><span class="line">bitwise_not(img, dst, noArray());</span><br><span class="line"></span><br><span class="line"><span class="comment">//show image </span></span><br><span class="line">imshow(<span class="string">"dst"</span>, dst);</span><br><span class="line"></span><br><span class="line"><span class="comment">//幂律变换</span></span><br><span class="line">Mat dstImg;</span><br><span class="line">dstImg = PowerTranseform(img, <span class="number">0.4</span>, <span class="number">1</span>);</span><br><span class="line">imshow(<span class="string">"变换后"</span>, dstImg);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 双线性插值</span></span><br><span class="line">Mat scale1, scale2;</span><br><span class="line"><span class="comment">/*scale1 = bilinear(img, row * 1.5, col * 1.5);</span></span><br><span class="line"><span class="comment">imshow("1.5", scale1);</span></span><br><span class="line"><span class="comment">cv::imwrite("1.5.jpg", scale1);*/</span></span><br><span class="line">Mat dst_img1,dst_img2;</span><br><span class="line"><span class="comment">// 双线性插值(resize和源算法)</span></span><br><span class="line">resize(img, dst_img1, Size(), <span class="number">1.5</span>, <span class="number">1.5</span>);</span><br><span class="line">imshow(<span class="string">"resize_1.5"</span>, dst_img1);</span><br><span class="line">imwrite(<span class="string">"resize_1.5.jpg"</span>, dst_img1);</span><br><span class="line">resize(img, dst_img2, Size(), <span class="number">0.8</span>, <span class="number">0.8</span>);</span><br><span class="line">imshow(<span class="string">"resize_0.8"</span>, dst_img2);</span><br><span class="line">imwrite(<span class="string">"resize_0.8.jpg"</span>, dst_img2);</span><br><span class="line">scale2 = bilinear(img, row * <span class="number">0.8</span>, col * <span class="number">0.8</span>);</span><br><span class="line">imshow(<span class="string">"0.8"</span>, scale2);</span><br><span class="line">imwrite(<span class="string">"0.8.jpg"</span>, scale2);</span><br><span class="line"></span><br><span class="line">histBar(img);</span><br><span class="line"></span><br><span class="line"><span class="comment">//进行均值滤波操作</span></span><br><span class="line">Mat out;</span><br><span class="line">blur(img, out, Size(<span class="number">3</span>, <span class="number">3</span>));</span><br><span class="line">imshow(<span class="string">"均值滤波3*3"</span>, out);</span><br><span class="line">blur(img, out, Size(<span class="number">5</span>, <span class="number">5</span>));</span><br><span class="line">imshow(<span class="string">"均值滤波5*5"</span>, out);</span><br><span class="line">blur(img, out, Size(<span class="number">7</span>, <span class="number">7</span>));</span><br><span class="line">imshow(<span class="string">"均值滤波7*7"</span>, out);</span><br><span class="line"></span><br><span class="line"><span class="comment">//进行均值滤波操作</span></span><br><span class="line">Mat g_mDstImage;</span><br><span class="line">medianBlur(img, g_mDstImage, <span class="number">3</span>);</span><br><span class="line">imshow(<span class="string">"中值滤波3*3"</span>, out);</span><br><span class="line">medianBlur(img, g_mDstImage, <span class="number">5</span>);</span><br><span class="line">imshow(<span class="string">"中值滤波5*5"</span>, out);</span><br><span class="line">medianBlur(img, g_mDstImage, <span class="number">7</span>);</span><br><span class="line">imshow(<span class="string">"中值滤波7*7"</span>, out);</span><br><span class="line"></span><br><span class="line"><span class="comment">//边缘检测</span></span><br><span class="line"><span class="comment">//sobel算子</span></span><br><span class="line">Mat gao_src, gray_src, xdst, ydst, dst_sobel;</span><br><span class="line"><span class="comment">/*GaussianBlur(img, gao_src, Size(3, 3), 0, 0);//高斯滤波</span></span><br><span class="line"><span class="comment">/imshow("gaosioutput", gao_src);</span></span><br><span class="line"><span class="comment">cvtColor(gao_src, gray_src, CV_RGB2GRAY);</span></span><br><span class="line"><span class="comment">//imshow("grayoutput", gray_src);//转换为灰度图*/</span></span><br><span class="line">Sobel(img, xdst, <span class="number">-1</span>, <span class="number">1</span>, <span class="number">0</span>);</span><br><span class="line">imshow(<span class="string">"xdst"</span>, xdst);</span><br><span class="line">Sobel(img, ydst, <span class="number">-1</span>, <span class="number">0</span>, <span class="number">1</span>);</span><br><span class="line">imshow(<span class="string">"ydst"</span>, ydst);</span><br><span class="line">addWeighted(xdst, <span class="number">0.5</span>, ydst, <span class="number">0.5</span>, <span class="number">1</span>, dst_sobel);</span><br><span class="line">imshow(<span class="string">"sobel"</span>, dst_sobel);</span><br><span class="line"><span class="comment">//拉普拉斯算子</span></span><br><span class="line">Mat gaosrc, graysrc, ladst, dst_la;</span><br><span class="line"><span class="comment">/*GaussianBlur(img, gaosrc, Size(3, 3), 0);</span></span><br><span class="line"><span class="comment">//imshow("gaosrc", gaosrc);</span></span><br><span class="line"><span class="comment">cvtColor(gaosrc, graysrc, CV_RGB2GRAY);</span></span><br><span class="line"><span class="comment">//imshow("graysrc", graysrc);*/</span></span><br><span class="line">Laplacian(img, ladst, <span class="number">-1</span>);</span><br><span class="line"><span class="comment">//imshow("ladst", ladst);</span></span><br><span class="line">convertScaleAbs(ladst, dst_la);</span><br><span class="line">imshow(<span class="string">"la"</span>, dst_la);</span><br><span class="line"></span><br><span class="line"><span class="comment">//锐化</span></span><br><span class="line"><span class="comment">//拉普拉斯算子</span></span><br><span class="line">Mat la_dst, sobel_dst;</span><br><span class="line">la_dst.create(img.size(), img.type());</span><br><span class="line">sharpen(img, la_dst);</span><br><span class="line">imshow(<span class="string">"sharpen_la"</span>, la_dst);</span><br><span class="line"><span class="comment">//sobel算子</span></span><br><span class="line"><span class="comment">//Generate Gradient X</span></span><br><span class="line"><span class="comment">//imshow("sharpen_la", sobel_dst);</span></span><br><span class="line"></span><br><span class="line">waitKey(<span class="number">0</span>); <span class="comment">// 无限制的等待用户的按键事件</span></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote style="margin: 2em 0 0;padding: 0.5em 1em;border-left: 3px solid #F44336;background-color: #F5F5F5;list-style: none;"><p> <strong>本文使用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/" target="_blank" rel="noopener">CC BY-NC-SA 3.0 中国大陆</a> 协议许可<br>具体请参见 <a href="https://zyhang8.github.io/agree/" target="_blank" rel="noopener">知识共享协议</a></strong><br> <strong>本文链接：</strong><a href="https://zyhang8.github.io/2019/09/17/cv-exp2/" target="_blank" rel="noopener">https://zyhang8.github.io/2019/09/17/cv-exp2/</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> opencv </category>
          
      </categories>
      
      
        <tags>
            
            <tag> opencv </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>海洋生物识别系统-用例文档</title>
      <link href="/2019/09/16/requirement-exp8/"/>
      <url>/2019/09/16/requirement-exp8/</url>
      
        <content type="html"><![CDATA[<p><a href="https://files.cnblogs.com/files/pipi-pig/%E7%94%A8%E4%BE%8B%E6%96%87%E6%A1%A3.docx.zip" target="_blank" rel="noopener">海洋生物识别系统用例文档</a></p><blockquote style="margin: 2em 0 0;padding: 0.5em 1em;border-left: 3px solid #F44336;background-color: #F5F5F5;list-style: none;"><p> <strong>本文使用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/" target="_blank" rel="noopener">CC BY-NC-SA 3.0 中国大陆</a> 协议许可<br>具体请参见 <a href="https://zyhang8.github.io/agree/" target="_blank" rel="noopener">知识共享协议</a></strong><br> <strong>本文链接：</strong><a href="https://zyhang8.github.io/2019/09/16/requirement-exp8/" target="_blank" rel="noopener">https://zyhang8.github.io/2019/09/16/requirement-exp8/</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 需求分析 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 需求分析 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>海洋生物识别系统-用户需求文档</title>
      <link href="/2019/09/15/requirement-exp7/"/>
      <url>/2019/09/15/requirement-exp7/</url>
      
        <content type="html"><![CDATA[<p><a href="https://files.cnblogs.com/files/pipi-pig/%E7%94%A8%E6%88%B7%E9%9C%80%E6%B1%82%E6%96%87%E6%A1%A3.docx.zip" target="_blank" rel="noopener">海洋生物识别系统用户需求文档</a></p><blockquote style="margin: 2em 0 0;padding: 0.5em 1em;border-left: 3px solid #F44336;background-color: #F5F5F5;list-style: none;"><p> <strong>本文使用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/" target="_blank" rel="noopener">CC BY-NC-SA 3.0 中国大陆</a> 协议许可<br>具体请参见 <a href="https://zyhang8.github.io/agree/" target="_blank" rel="noopener">知识共享协议</a></strong><br> <strong>本文链接：</strong><a href="https://zyhang8.github.io/2019/09/15/requirement-exp7/" target="_blank" rel="noopener">https://zyhang8.github.io/2019/09/15/requirement-exp7/</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 需求分析 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 需求分析 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>海洋生物识别系统-分析模型文档</title>
      <link href="/2019/09/14/requirement-exp6/"/>
      <url>/2019/09/14/requirement-exp6/</url>
      
        <content type="html"><![CDATA[<p><a href="https://files.cnblogs.com/files/pipi-pig/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E5%88%86%E6%9E%90%E6%96%87%E6%A1%A3.docx.zip" target="_blank" rel="noopener">海洋生物识别系统分析模型文档</a></p><blockquote style="margin: 2em 0 0;padding: 0.5em 1em;border-left: 3px solid #F44336;background-color: #F5F5F5;list-style: none;"><p> <strong>本文使用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/" target="_blank" rel="noopener">CC BY-NC-SA 3.0 中国大陆</a> 协议许可<br>具体请参见 <a href="https://zyhang8.github.io/agree/" target="_blank" rel="noopener">知识共享协议</a></strong><br> <strong>本文链接：</strong><a href="https://zyhang8.github.io/2019/09/14/requirement-exp6/" target="_blank" rel="noopener">https://zyhang8.github.io/2019/09/14/requirement-exp6/</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 需求分析 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 需求分析 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>海洋生物识别系统-结构化分析文档</title>
      <link href="/2019/09/13/requirement-exp5/"/>
      <url>/2019/09/13/requirement-exp5/</url>
      
        <content type="html"><![CDATA[<p><a href="https://files.cnblogs.com/files/pipi-pig/%E7%BB%93%E6%9E%84%E5%8C%96%E5%88%86%E6%9E%90%E6%96%87%E6%A1%A3.docx.zip" target="_blank" rel="noopener">海洋生物识别系统结构化分析文档</a></p><blockquote style="margin: 2em 0 0;padding: 0.5em 1em;border-left: 3px solid #F44336;background-color: #F5F5F5;list-style: none;"><p> <strong>本文使用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/" target="_blank" rel="noopener">CC BY-NC-SA 3.0 中国大陆</a> 协议许可<br>具体请参见 <a href="https://zyhang8.github.io/agree/" target="_blank" rel="noopener">知识共享协议</a></strong><br> <strong>本文链接：</strong><a href="https://zyhang8.github.io/2019/09/13/requirement-exp5/" target="_blank" rel="noopener">https://zyhang8.github.io/2019/09/13/requirement-exp5/</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 需求分析 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 需求分析 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>海洋生物识别系统-面谈报告</title>
      <link href="/2019/09/12/requirement-exp4/"/>
      <url>/2019/09/12/requirement-exp4/</url>
      
        <content type="html"><![CDATA[<p><a href="https://files.cnblogs.com/files/pipi-pig/%E6%B5%B7%E6%B4%8B%E7%94%9F%E7%89%A9%E8%AF%86%E5%88%AB%E7%B3%BB%E7%BB%9F%E9%9D%A2%E8%B0%88%E6%8A%A5%E5%91%8A.docx.zip" target="_blank" rel="noopener">海洋生物识别系统面谈报告</a></p><blockquote style="margin: 2em 0 0;padding: 0.5em 1em;border-left: 3px solid #F44336;background-color: #F5F5F5;list-style: none;"><p> <strong>本文使用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/" target="_blank" rel="noopener">CC BY-NC-SA 3.0 中国大陆</a> 协议许可<br>具体请参见 <a href="https://zyhang8.github.io/agree/" target="_blank" rel="noopener">知识共享协议</a></strong><br> <strong>本文链接：</strong><a href="https://zyhang8.github.io/2019/09/12/requirement-exp4/" target="_blank" rel="noopener">https://zyhang8.github.io/2019/09/12/requirement-exp4/</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 需求分析 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 需求分析 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>数字图像处理基础</title>
      <link href="/2019/09/11/cv-exp1/"/>
      <url>/2019/09/11/cv-exp1/</url>
      
        <content type="html"><![CDATA[<h2 id="步骤"><a href="#步骤" class="headerlink" title="步骤"></a>步骤</h2><h3 id="打开图像并显示基本信息"><a href="#打开图像并显示基本信息" class="headerlink" title="打开图像并显示基本信息"></a>打开图像并显示基本信息</h3><p><img src="https://s2.ax1x.com/2019/10/17/KEJ1nf.png" alt="KEJ1nf.png"><br><img src="https://s2.ax1x.com/2019/10/17/KEJ8HS.png" alt="KEJ8HS.png"><br><img src="https://s2.ax1x.com/2019/10/17/KEJ4u6.png" alt="KEJ4u6.png"></p><h3 id="转换过程"><a href="#转换过程" class="headerlink" title="转换过程"></a>转换过程</h3><p>灰度化函数</p><p>cvtColor(img, imgGray, CV_BGR2GRAY);</p><p>img为原图，imgGray为灰度图</p><p>二值化函数</p><p>threshold(imgGray, result, 100, 255, CV_THRESH_BINARY); </p><p>在阈值中的像素点将变为0（白色部分），阈值之外的像素将变为1（黑色部分）。 </p><p><img src="https://s2.ax1x.com/2019/10/17/KEJQjP.png" alt="KEJQjP.png"></p><h3 id="输出像素值"><a href="#输出像素值" class="headerlink" title="输出像素值"></a>输出像素值</h3><p>指针遍历</p><p><img src="https://s2.ax1x.com/2019/10/17/KEJ1nf.png" alt="KEJ1nf.png"></p><h3 id="截取2-1灰度图像"><a href="#截取2-1灰度图像" class="headerlink" title="截取2/1灰度图像"></a>截取2/1灰度图像</h3><ul><li>其中：Rect的函数定义为： Rect(_Tp _x, _Tp _y, _Tp _width, _Tp _height); </li></ul><p>_Tp _x：表示矩形左上角顶点的x坐标； _Tp _y：表示矩形左上角顶点的y坐标； </p><p>_Tp _width：表示矩形框的宽度 ； _Tp _height：表示矩形框的高度</p><p><img src="https://s2.ax1x.com/2019/10/17/KEJ4u6.png" alt="KEJ4u6.png"></p><h3 id="输出图像"><a href="#输出图像" class="headerlink" title="输出图像"></a>输出图像</h3><p><img src="https://s2.ax1x.com/2019/10/17/KEJ3B8.png" alt="KEJ3B8.png"></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">源代码</span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;opencv2\highgui\highgui.hpp&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;opencv2\core\core.hpp&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;opencv2\imgproc\imgproc.hpp&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> cv;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">Mat img, imgGray, result;</span><br><span class="line">img = imread(<span class="string">"aaa.png"</span>);</span><br><span class="line"><span class="keyword">int</span> row = img.rows;<span class="comment">//获取行数</span></span><br><span class="line"><span class="comment">//cout &lt;&lt; row &lt;&lt; endl;</span></span><br><span class="line"><span class="keyword">int</span> col = img.cols * img.channels();<span class="comment">//注意是列数*通道数</span></span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"分辨率为:"</span> &lt;&lt; row &lt;&lt; <span class="string">"*"</span> &lt;&lt; img.cols &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">9</span>; i &lt; <span class="number">12</span>; ++i)</span><br><span class="line">&#123;</span><br><span class="line">uchar* data = img.ptr&lt;uchar&gt;(i);<span class="comment">//获取第i行首地址</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">9</span>; j &lt; <span class="number">13</span>; ++j)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"第"</span> &lt;&lt; i + <span class="number">1</span> &lt;&lt; <span class="string">"行"</span> &lt;&lt; <span class="string">"第"</span> &lt;&lt; j + <span class="number">1</span> &lt;&lt; <span class="string">"列的像素值为"</span> &lt;&lt; <span class="keyword">int</span>(*data) &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">data++;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">cvtColor(img, imgGray, CV_BGR2GRAY);</span><br><span class="line">imshow(<span class="string">"灰度图"</span>, imgGray);</span><br><span class="line">imshow(<span class="string">"原图"</span>, img);</span><br><span class="line">Rect m_select = Rect(<span class="number">0</span>, <span class="number">0</span>, imgGray.cols/<span class="number">2</span> ,imgGray.rows / <span class="number">2</span>);</span><br><span class="line">Mat ROI = imgGray(m_select);</span><br><span class="line">imshow(<span class="string">"一半分辨率图"</span>, ROI);</span><br><span class="line"><span class="comment">//blur(imgGray, imgGray, Size(3, 3));</span></span><br><span class="line">threshold(imgGray, result, <span class="number">50</span>, <span class="number">150</span>, CV_THRESH_BINARY);</span><br><span class="line">imshow(<span class="string">"二值化后的图"</span>, result);</span><br><span class="line">imwrite(<span class="string">"aaa_gray.png"</span>, imgGray);</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"图片已保存"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">waitKey();</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote style="margin: 2em 0 0;padding: 0.5em 1em;border-left: 3px solid #F44336;background-color: #F5F5F5;list-style: none;"><p> <strong>本文使用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/" target="_blank" rel="noopener">CC BY-NC-SA 3.0 中国大陆</a> 协议许可<br>具体请参见 <a href="https://zyhang8.github.io/agree/" target="_blank" rel="noopener">知识共享协议</a></strong><br> <strong>本文链接：</strong><a href="https://zyhang8.github.io/2019/09/11/cv-exp1/" target="_blank" rel="noopener">https://zyhang8.github.io/2019/09/11/cv-exp1/</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> opencv </category>
          
      </categories>
      
      
        <tags>
            
            <tag> opencv </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>RSA密码算法</title>
      <link href="/2019/09/10/cipher-exp4/"/>
      <url>/2019/09/10/cipher-exp4/</url>
      
        <content type="html"><![CDATA[<h1 id="RSA密码算法"><a href="#RSA密码算法" class="headerlink" title="RSA密码算法"></a>RSA密码算法</h1><h2 id="实验目的"><a href="#实验目的" class="headerlink" title="实验目的"></a>实验目的</h2><p>1） 学习RSA密码算法的原理</p><p>2） 学习RSA密码算法的编程实</p><p>RSA公钥加密算法是1977年由Ron Rivest、Adi Shamirh和LenAdleman在美国麻省理工学院开发的。RSA算法基于一个十分简单的数论事实：将两个大素数相乘十分容易，但那时想要对其乘积进行因式分解却极其困难，因此可以将乘积公开作为加密密钥。</p><h3 id="算法原理"><a href="#算法原理" class="headerlink" title="算法原理"></a>算法原理</h3><p>RSA算法是一种非对称密码算法，所谓非对称，就是指该算法需要一对密钥，使用其中一个加密，则需要用另一个才能解密。</p><p>为了产生RSA公私钥对，需要进行以下几个步骤:</p><p>1.选取两个大素数，p和q（目前两个数的长度都接近512bit是安全的），并计算他们的乘积得n=pq。</p><p>2.根据欧拉函数，不大于n 且与n 互质的整数个数为<img src="http://shou.shiyanbar.com/UploadImage/2016/3/8/20_17848" alt="s11"></p><p>3.随机选择整数<img src="http://shou.shiyanbar.com/UploadImage/2016/3/8/20_38415" alt="2"> 作为公钥，要求满足<img src="http://shou.shiyanbar.com/UploadImage/2016/3/8/20_61677" alt="3"> ，即 <img src="http://shou.shiyanbar.com/UploadImage/2016/3/8/20_67796" alt="4"> 。则e和n是公钥，d是私钥。  </p><h3 id="加密过程"><a href="#加密过程" class="headerlink" title="加密过程"></a>加密过程</h3><p>（1）RSA密钥生成部分代码流程图：</p><p><img src="http://shou.shiyanbar.com/UploadImage/2016/3/8/20_82968" alt="5"></p><p>RSA密钥生成流程图<br>（2）RSA加密部分流程图：</p><p><img src="http://shou.shiyanbar.com/UploadImage/2016/3/8/20_11261" alt="6"></p><p>RSA加密部分流程图</p><p>（3）RSA解密部分流程图：</p><p><img src="http://shou.shiyanbar.com/UploadImage/2016/3/8/20_91551" alt="7"></p><p>RSA解密部分流程</p><h2 id="实验环境"><a href="#实验环境" class="headerlink" title="实验环境"></a>实验环境</h2><p>Windows Server 2012 R2</p><p>实验工具在【C:\tools\RSA密码算法】</p><h2 id="实验步骤"><a href="#实验步骤" class="headerlink" title="实验步骤"></a>实验步骤</h2><p>1.打开C盘,进入工具目录（C:\tools\RSA密码算法），单击【rsa.exe】，运行密码算法。如图1所示</p><p><img src="https://s2.ax1x.com/2019/10/12/uO0076.png" alt="uO0076.png"></p><p>2.输入【1】输入存放公钥和私钥的文件名，即可在程序同级目录下生成相应文件。如图2所示</p><p><img src="https://s2.ax1x.com/2019/10/12/uO0rtO.png" alt="uO0rtO.png"></p><p>3.选择【2】，输入存放公钥的文件名和需要加密的文件【hello.txt】和需要输出的文件名【enhello.txt】。如图3所示</p><p><img src="https://s2.ax1x.com/2019/10/12/uO0w0x.png" alt="uO0w0x.png"></p><p>4.对比明文文件内容和密文文件内容。如图4所示</p><p><img src="https://s2.ax1x.com/2019/10/12/uO0DAK.png" alt="uO0DAK.png"></p><p>5.解密文件，进行类似的操作即可</p><h2 id="实验思考"><a href="#实验思考" class="headerlink" title="实验思考"></a>实验思考</h2><p>1.RSA密码算法的安全性在于什么？</p><p>RSA算法的安全在于，e、p、N，是随机生成的。知道e和N，想寻找p，在计算上是不可行的。问题是，我们使用的软件工具，生成这些随机材料时，真的是“随机”的吗？如果算法的提供者留下什么后门，或者提前做了什么准备工作，人家看到e和n，或许就能有办法得到p呢</p><blockquote style="margin: 2em 0 0;padding: 0.5em 1em;border-left: 3px solid #F44336;background-color: #F5F5F5;list-style: none;"><p> <strong>本文使用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/" target="_blank" rel="noopener">CC BY-NC-SA 3.0 中国大陆</a> 协议许可<br>具体请参见 <a href="https://zyhang8.github.io/agree/" target="_blank" rel="noopener">知识共享协议</a></strong><br> <strong>本文链接：</strong><a href="https://zyhang8.github.io/2019/09/10/cipher-exp4/" target="_blank" rel="noopener">https://zyhang8.github.io/2019/09/10/cipher-exp4/</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 信息安全 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 信息安全 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>DES/3DES/AES</title>
      <link href="/2019/09/09/cipher-exp2/"/>
      <url>/2019/09/09/cipher-exp2/</url>
      
        <content type="html"><![CDATA[<h1 id="DES-3DES-AES"><a href="#DES-3DES-AES" class="headerlink" title="DES/3DES/AES"></a>DES/3DES/AES</h1><h2 id="实验原理"><a href="#实验原理" class="headerlink" title="实验原理"></a>实验原理</h2><p>DES算法的密钥长度已经被证明不能满足当前安全的要求，但为了充分利用现有的DES软件和硬件资源，人们开始提出针对DES的各种改进方案，最简单的方案是使用多重DES，使用多个不同的DES密钥利用DES加密算法对明文进行多次加密。这样可以增加密钥量，从而大大提高抵抗对密钥的穷举搜索攻击的能力。而最常用的多主要是三重DES算法。</p><h2 id="算法原理"><a href="#算法原理" class="headerlink" title="算法原理"></a>算法原理</h2><p>三重DES有4种模式，如下图1所示：</p><p>DES-EEE3 模式：该模式中共使用3个不同密钥，顺序使用3次DES加密算法。</p><p>DES-EDE3 模式：该模式中共使用3个不同密钥，依次用加密—解密—加密。</p><p>DES-EEE2 模式：该模式中共使用2个不同密钥，顺序使用3次DES加密算法，其中第一次和第三次加密使用的密钥相同。</p><p>DES-EDE2 模式：该模式中共使用2个不同密钥，依次用加密—解密—加密，其中加密算法使用的密钥相同。</p><p><img src="https://s2.ax1x.com/2019/11/02/Kq73B4.png" alt="Kq73B4.png"></p><p>DES-EEE3模式</p><p><img src="https://s2.ax1x.com/2019/11/02/Kq7QjU.png" alt="Kq7QjU.png"></p><p>DES-EDE3模式</p><p><img src="https://s2.ax1x.com/2019/11/02/Kq71uF.png" alt="Kq71uF.png"></p><p>DES-EEE2模式</p><p><img src="https://s2.ax1x.com/2019/11/02/Kq78HJ.png" alt="Kq78HJ.png"></p><p>DES-EDE2模式</p><p>图1 三重DES的使用模式</p><p>前两种模式使用3个不同的密钥，每个密钥长度为56位，因此三重DES总的密钥长度达到168位。后2种模式使用2个不同的密钥，总的密钥长度为112位。以前两种模式为例，设k1,k2,k3，是三个长度为56位的密钥。给定明文x，则明文为</p><p><img src="https://s2.ax1x.com/2019/11/02/Kq75Dg.png" alt="Kq75Dg.png"></p><p>给定密文y，则明文为</p><p><img src="https://s2.ax1x.com/2019/11/02/Kq74KS.png" alt="Kq74KS.png"></p><p>在1999年10月发布的DES标准报告中推荐使用的三重DES是k1=k3的情形，两个密钥的三重DES算法。这是一种比较受欢迎的DES的替代方案。银行业已大量采用这种算法。k1,k2,k3互不相同的三DES在实际应用中也经常被采用。下面我们给出k1=k3模式的三重DES加密和解密内部流程。</p><p><img src="https://s2.ax1x.com/2019/11/02/Kq7McT.png" alt="Kq7McT.png"></p><p>图2</p><p>算法参数</p><p>在三重DES算法中，其参数与DES是保持一致的，密钥总长度为64位。其中有效长度为56位，并附加上8位的奇偶校验位。分组长度为64位，初始置换IP，逆初始置换IP-1，E盒，S盒均在DES算法中予以说明，这里就不再赘述了。</p><p>算法流程</p><p>根据在上文中叙述的有关算法的运行原理及加解密流程，我们给出了其用C语言实现的源代码，相关的程序流程图如图3所示。由于三重DES算法的代码以单重DES算法为基础，除了中间需要一步逆向的解密过程外，其他均是DES的单重加密。所以我们这里仅给出单重DES的加密流程图。</p><p><img src="https://s2.ax1x.com/2019/11/02/Kq7JE9.png" alt="Kq7JE9.png"></p><p>图3</p><h2 id="实验环境"><a href="#实验环境" class="headerlink" title="实验环境"></a>实验环境</h2><p>Windows Server 2012 R2</p><p>实验工具在【C:\密码学课程\01密码学算法\04 分组密码\02 3DES密码算法】</p><p>打开文件【3DES.exe】，即可得到3DES加密算法的结果。如图4所示</p><p><img src="https://s2.ax1x.com/2019/11/02/Kq7t41.png" alt="Kq7t41.png"></p><p>图4</p><p>2.3DES核心密码算法</p><p>2.3DES核心密码算法</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"stdio.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"des.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"pub.h"</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">unsigned</span> <span class="keyword">char</span> key1[] = <span class="string">"12345678"</span>;</span><br><span class="line"><span class="keyword">unsigned</span> <span class="keyword">char</span> key2[] = <span class="string">"abcdefgh"</span>;</span><br><span class="line"><span class="keyword">unsigned</span> <span class="keyword">char</span> key3[] = <span class="string">"12345678"</span>;    <span class="comment">//如果只需要两组密钥，则本组密钥可以和密钥1一样。</span></span><br><span class="line"><span class="keyword">unsigned</span> <span class="keyword">char</span> en_data[] = <span class="string">"Cryptosystem lab"</span>;</span><br><span class="line"><span class="keyword">unsigned</span> <span class="keyword">char</span> en_out_put[<span class="number">8</span>];</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"\r\n++++++++3DES 加密示例++++++++"</span>);</span><br><span class="line">print_hex(<span class="string">"3DES [输入]明文 "</span>, en_data, <span class="number">8</span>);</span><br><span class="line">print_hex(<span class="string">"3DES [输入]密钥1"</span>, key1, <span class="number">8</span>);</span><br><span class="line">print_hex(<span class="string">"3DES [输入]密钥2"</span>, key2, <span class="number">8</span>);</span><br><span class="line">print_hex(<span class="string">"3DES [输入]密钥3"</span>, key3, <span class="number">8</span>);</span><br><span class="line"><span class="comment">//3DES 加密</span></span><br><span class="line">des(en_data, key1, en_out_put, DES_ENCRYPT);</span><br><span class="line">des(en_out_put, key2, en_data, DES_DECRYPT);</span><br><span class="line">des(en_data, key3, en_out_put, DES_ENCRYPT);</span><br><span class="line">print_hex(<span class="string">"3DES [输出]密文 "</span>, en_out_put, <span class="number">8</span>);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"\r\n"</span>);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"\r\n++++++++3DES 解密示例++++++++"</span>);</span><br><span class="line">print_hex(<span class="string">"3DES [输入]密文 "</span>, en_out_put, <span class="number">8</span>);</span><br><span class="line">print_hex(<span class="string">"3DES [输入]密钥1"</span>, key1, <span class="number">8</span>);</span><br><span class="line">print_hex(<span class="string">"3DES [输入]密钥2"</span>, key2, <span class="number">8</span>);</span><br><span class="line">print_hex(<span class="string">"3DES [输入]密钥3"</span>, key3, <span class="number">8</span>);</span><br><span class="line"><span class="comment">//3DES 加密</span></span><br><span class="line">des(en_out_put, key3, en_data, DES_DECRYPT);</span><br><span class="line">des(en_data, key2, en_out_put, DES_ENCRYPT);</span><br><span class="line">des(en_out_put, key1, en_data, DES_DECRYPT);</span><br><span class="line">print_hex(<span class="string">"3DES [输出]明文 "</span>, en_data, <span class="number">8</span>);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"\r\n"</span>);</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>大概看了一下代码，也是使用des头文件中的函数进行加密，本实验也比较简单</p><p>AES实验</p><p>加密</p><p><img src="https://s2.ax1x.com/2019/11/02/Kq7YNR.png" alt="Kq7YNR.png"></p><p>解密</p><p><img src="https://s2.ax1x.com/2019/11/02/Kq7U9x.png" alt="Kq7U9x.png"></p><p>后面文件加密原理一样不再傻瓜式操作</p><h2 id="实验思考"><a href="#实验思考" class="headerlink" title="实验思考"></a>实验思考</h2><p>1．3DES算法与DES算法和AES算法有什么区别？</p><p>DES使用1条64位的密钥对数据进行一次加密。</p><p>3DES是DES加密算法的一种模式，它使用3条64位的密钥对数据进行三次加密。3DES是DES向AES过渡的加密算法（1999年，NIST将3-DES指定为过渡的加密标准），是DES的一个更安全的变形。它以DES为基本模块，通过组合分组方法设计出分组加密算法。</p><p>AES(Advanced Encryption Standard)：高级加密标准，是下一代的加密算法标准，速度快，安全级别高</p><p>AES算法基于排列和置换运算。排列是对数据重新进行安排，置换是将一个数据单元替换为另一个。</p><p>AES使用几种不同的方法来执行排列和置换运算。AES是一个迭代的、对称密钥分组的密码，它可以使用128、192和256位密钥，并且用128位（16字节）分组加密和解密数据。</p><p>分组密码总结：与公共密钥加密使用密钥对不同，对称密钥密码使用相同的密钥加密和解密数据。通过分组密码返回的加密数据的位数与输入数据相同。迭代加密使用一个循环结构，在该循环中重复置换和替换输入数据。</p><blockquote style="margin: 2em 0 0;padding: 0.5em 1em;border-left: 3px solid #F44336;background-color: #F5F5F5;list-style: none;"><p> <strong>本文使用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/" target="_blank" rel="noopener">CC BY-NC-SA 3.0 中国大陆</a> 协议许可<br>具体请参见 <a href="https://zyhang8.github.io/agree/" target="_blank" rel="noopener">知识共享协议</a></strong><br> <strong>本文链接：</strong><a href="https://zyhang8.github.io/2019/09/09/cipher-exp2/" target="_blank" rel="noopener">https://zyhang8.github.io/2019/09/09/cipher-exp2/</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 信息安全 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 信息安全 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>鱼的记忆|mac/linux葵花宝典</title>
      <link href="/2019/09/08/fish-os/"/>
      <url>/2019/09/08/fish-os/</url>
      
        <content type="html"><![CDATA[<p>mac/linux/win人常用易忘语法</p><h2 id="iTerm"><a href="#iTerm" class="headerlink" title="iTerm"></a>iTerm</h2><table><thead><tr><th align="center">命令</th><th align="center">含义</th></tr></thead><tbody><tr><td align="center">sudo vi ~/.bash_profile</td><td align="center">检查环境变量</td></tr><tr><td align="center"><code>export PATH=&quot;/Users/anaconda3/bin:$PATH&quot;（这里要填写自己的路径哦）</code></td><td align="center">手动添加环境变量</td></tr><tr><td align="center">source ~/.bash_profile</td><td align="center">刷新环境变量</td></tr><tr><td align="center">chmod +x</td><td align="center">执行权限</td></tr><tr><td align="center">cat</td><td align="center">文件操控</td></tr><tr><td align="center">pwd -L</td><td align="center">显示当前路径</td></tr><tr><td align="center">lsattr 文件名</td><td align="center">文件属性</td></tr><tr><td align="center">chattr -i 文件名</td><td align="center">去除i属性</td></tr><tr><td align="center">touch filename</td><td align="center">新建文件</td></tr><tr><td align="center">ssh -p 22 name@ip</td><td align="center">ssh</td></tr></tbody></table><h2 id="linux"><a href="#linux" class="headerlink" title="linux"></a>linux</h2><p>DashBoard|类似mac的启动台<br>TTY|虚拟控制台</p><h3 id="查看hostname"><a href="#查看hostname" class="headerlink" title="查看hostname"></a>查看hostname</h3><p>hostname</p><h3 id="查看IP"><a href="#查看IP" class="headerlink" title="查看IP"></a>查看IP</h3><p>hostname -I</p><h3 id="查看序列号"><a href="#查看序列号" class="headerlink" title="查看序列号"></a>查看序列号</h3><p>dmidecode|grep “System Information” -A9|egrep  “Manufacturer|Product|Serial”</p><h3 id="查看外部IP"><a href="#查看外部IP" class="headerlink" title="查看外部IP"></a>查看外部IP</h3><p>curl -s ipecho.net/plain;echo</p><h3 id="查看当前DNS"><a href="#查看当前DNS" class="headerlink" title="查看当前DNS"></a>查看当前DNS</h3><p>cat /etc/resolv.conf | sed ‘1 d’ | awk ‘{print $2}’</p><h3 id="查看uptime"><a href="#查看uptime" class="headerlink" title="查看uptime"></a>查看uptime</h3><p>uptime | awk ‘{print $3,$4}’ | cut -f1 -d,</p><h3 id="查看内核版本"><a href="#查看内核版本" class="headerlink" title="查看内核版本"></a>查看内核版本</h3><p>cat /proc/version</p><h3 id="查看发行版本"><a href="#查看发行版本" class="headerlink" title="查看发行版本"></a>查看发行版本</h3><p>cat /etc/redhat-release</p><h3 id="硬件信息"><a href="#硬件信息" class="headerlink" title="硬件信息"></a>硬件信息</h3><h4 id="查看型号和主频"><a href="#查看型号和主频" class="headerlink" title="查看型号和主频"></a>查看型号和主频</h4><p>cat /proc/cpuinfo | grep ‘model name’  | cut -f2 -d: | head -n1 | sed ‘s/^ //‘</p><h4 id="查看CPU是几核的"><a href="#查看CPU是几核的" class="headerlink" title="查看CPU是几核的"></a>查看CPU是几核的</h4><p>cat /proc/cpuinfo |grep “cores”|uniq</p><h4 id="查看物理核数"><a href="#查看物理核数" class="headerlink" title="查看物理核数"></a>查看物理核数</h4><p>cat /proc/cpuinfo | grep ‘physical id’ | sort | uniq | wc -l</p><h4 id="查看逻辑核数"><a href="#查看逻辑核数" class="headerlink" title="查看逻辑核数"></a>查看逻辑核数</h4><p>cat /proc/cpuinfo | grep ‘model name’  | wc -l</p><h4 id="查看内存总量"><a href="#查看内存总量" class="headerlink" title="查看内存总量"></a>查看内存总量</h4><p>cat /proc/meminfo | grep “MemTotal”</p><h4 id="查看支持的最大内存容量"><a href="#查看支持的最大内存容量" class="headerlink" title="查看支持的最大内存容量"></a>查看支持的最大内存容量</h4><p>dmidecode -t 16 | grep “Maximum Capacity”</p><h4 id="查看总共内存槽数"><a href="#查看总共内存槽数" class="headerlink" title="查看总共内存槽数"></a>查看总共内存槽数</h4><p>dmidecode|grep -A5 “Memory Device”|grep Size|grep -cv Range</p><h4 id="查看已插内存条情况"><a href="#查看已插内存条情况" class="headerlink" title="查看已插内存条情况"></a>查看已插内存条情况</h4><p>dmidecode|grep -A5 “Memory Device”|grep Size|grep -v Range | grep -v “No Module Installed”</p><h4 id="查看硬盘相关信息"><a href="#查看硬盘相关信息" class="headerlink" title="查看硬盘相关信息"></a>查看硬盘相关信息</h4><p>df -Th</p><h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><p>sudo dpkg -i [软件包的名称].deb<br>如果提示缺少依赖关系的话，输入：sudo apt-get install -f<br>依赖关系解决之后，再次输入命令：sudo dpkg -i [软件名名称].deb</p><h3 id="keyboard-shortcut"><a href="#keyboard-shortcut" class="headerlink" title="keyboard_shortcut"></a>keyboard_shortcut</h3><p>win+D|清理窗口<br>win+M|通知<br>win+L|锁屏</p><h2 id="mac"><a href="#mac" class="headerlink" title="mac"></a>mac</h2><h3 id="keyboard-shortcut-1"><a href="#keyboard-shortcut-1" class="headerlink" title="keyboard_shortcut"></a>keyboard_shortcut</h3><table><thead><tr><th align="center">快捷键</th><th align="center">含义</th></tr></thead><tbody><tr><td align="center">command+shift+.</td><td align="center">显示隐藏文件</td></tr></tbody></table><h2 id="conda"><a href="#conda" class="headerlink" title="conda"></a>conda</h2><ul><li>onda create –name env_name [package_name]：新创建一个名为env_name的环境，并在环境中安装名为package_name的包【可选操作】同时，–name可缩写为-n</li><li>Windows下使用activate env_name，Linux或MacOS下使用source activate env_name：将当前工作环境切换到名为env_name的环境下</li><li>Windows下使用deactivate，Linux或MacOS下使用source deactivate：退出当前环境，回到默认的环境</li><li>conda create –name env_name python=3.6：新建一个环境并安装python3.6</li></ul><h2 id="win"><a href="#win" class="headerlink" title="win"></a>win</h2><h3 id="redis"><a href="#redis" class="headerlink" title="redis"></a>redis</h3><ul><li>redis-server –service-start</li><li>redis-server –service-stop</li><li>redis-server –service-install –service-name redisService1 –port 10001</li><li>redis-server –service-start –service-name redisService1</li></ul><blockquote style="margin: 2em 0 0;padding: 0.5em 1em;border-left: 3px solid #F44336;background-color: #F5F5F5;list-style: none;"><p> <strong>本文使用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/" target="_blank" rel="noopener">CC BY-NC-SA 3.0 中国大陆</a> 协议许可<br>具体请参见 <a href="https://zyhang8.github.io/agree/" target="_blank" rel="noopener">知识共享协议</a></strong><br> <strong>本文链接：</strong><a href="https://zyhang8.github.io/2019/09/08/fish-os/" target="_blank" rel="noopener">https://zyhang8.github.io/2019/09/08/fish-os/</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 鱼的记忆 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>基于Diffie-Hellman协议的安全密钥交换的实现</title>
      <link href="/2019/09/05/cipher-exp5/"/>
      <url>/2019/09/05/cipher-exp5/</url>
      
        <content type="html"><![CDATA[<h1 id="基于Diffie-Hellman协议的安全密钥交换的实现"><a href="#基于Diffie-Hellman协议的安全密钥交换的实现" class="headerlink" title="基于Diffie-Hellman协议的安全密钥交换的实现"></a>基于Diffie-Hellman协议的安全密钥交换的实现</h1><h2 id="实验目的"><a href="#实验目的" class="headerlink" title="实验目的"></a>实验目的</h2><p>通过模拟两个客户之间的加密会话过程，理解安全密钥交换的重要性，理解基于Diffie-Hellman协议的安全密钥交换的原理和流程。</p><h2 id="实验原理"><a href="#实验原理" class="headerlink" title="实验原理"></a>实验原理</h2><p>用Diffie-Hellman协议进行密钥交换的过程简述如下：</p><p>选取两个大数p和g并公开，其中p是一个素数，g是p的一个模p本原单位根(primitive root module p)，所谓本原单位根就是指在模p乘法运算下，g的1次方，2次方……(p-1)次方这p-1个数互不相同，并且取遍1到p-1；</p><p>对于Alice(其中的一个通信者)，随机产生一个整数a，a对外保密，计算Ka = g^a mod p，将Ka发送给Bob；</p><p>对于Bob(另一个通信者)，随机产生一个整数b，b对外保密，计算Kb = g^b mod p，将Kb发送给Alice；</p><p>在Alice方面，收到Bob送来的Kb后，计算出密钥为：key = Kb^a mod p=(g^b)^a=g^(b*a) mod p；</p><p>对于Bob，收到Alice送来的Ka后，计算出密钥为：key = Ka ^ b mod p=(g^a)^b=g^(a*b) mod p。</p><p>攻击者知道p和g，并且截获了Ka和Kb，但是当它们都是非常大的数的时候，依靠这四个数来计算a和b非常困难，这就是离散对数数学难题。</p><p>要实现Diffie-Hellman密钥交换协议，需要能够快速计算大数模幂，在模幂算法中，仍需计算大数的乘法和模运算，所以整个过程需要三个算法：高精度乘法，高精度除法(用来同时求出一个大数除以另一个大数的商和余数)，快速模幂算法。</p><p>高精度的乘法和除法可以程序模拟手算。快速模幂算法也是从手算中总结出规律来，例如：</p><p>5^8 = (5^2)^4 = (25)^4 = (25^2)^2 = (625)^2，这样，原来计算5^8需要做8次乘法，而现在则只需要三次乘法，分别是：5^2, 25^2, 625^2。这就是快速模幂算法的基础。将算法描述出来，那就是：</p><p>算法M:输入整数a,b,p，计算a^b mod p：</p><p>M1.初始化c = 1</p><p>M2.如果b为0，则c就是所要计算的结果。返回c的值。算法结束。</p><p>M3.如果b为奇数，则令c = c a mod p，令b = b - 1，转到M2。</p><p>M4.如果b为偶数，则令a = a a mod p，令b = b / 2，转到M2。</p><h2 id="实验环境"><a href="#实验环境" class="headerlink" title="实验环境"></a>实验环境</h2><p>Windows Server 2012 R2</p><p>实验工具在【C:\密码学课程\04密码学应用\01-基于Diffie-Hellman协议的安全密钥交换的实现】</p><h2 id="实验步骤"><a href="#实验步骤" class="headerlink" title="实验步骤"></a>实验步骤</h2><p>1.打开实验环境，在单机上执行实验程序，双击打开需要运行的程序.如图1所示</p><p><img src="https://s2.ax1x.com/2019/11/02/KqHysU.png" alt="KqHysU.png"></p><p>图1</p><p>2.弹出界面如图，分别为客户A和客户B。如图2所示</p><p><img src="https://s2.ax1x.com/2019/11/02/KqHsMT.png" alt="KqHsMT.png"></p><p>图2</p><p>3.在客户端A输入密码，如123456，生成公钥。如图3所示</p><p><img src="https://s2.ax1x.com/2019/11/02/KqHDzV.png" alt="KqHDzV.png"></p><p>图3</p><p>4.客户端A点击计算并发送X。如图4所示</p><p><img src="https://s2.ax1x.com/2019/11/02/KqHBR0.png" alt="KqHBR0.png"></p><p>图4</p><p>5.在客户端B点击计算并发送出Y，则B利用A的公钥和X计算并发送出Y。如图5所示</p><p><img src="https://s2.ax1x.com/2019/11/02/KqH0Gq.png" alt="KqH0Gq.png"></p><p>图5</p><p>6.客户端A获取到Y之后，在两个客户端都可以生成相同的会话密钥。如图6所示</p><p>生成密钥</p><p><img src="https://s2.ax1x.com/2019/11/02/KqH6LF.png" alt="KqH6LF.png"></p><p>图6</p><p>7.在客户端A输入要发送的内容。如图7所示</p><p>ji加密发送</p><p><img src="https://s2.ax1x.com/2019/11/02/KqHgZ4.png" alt="KqHgZ4.png"></p><p>图7</p><p>8.点击加密，发送。B即可收到密文。如图8所示</p><p><img src="https://s2.ax1x.com/2019/11/02/KqH2dJ.png" alt="KqH2dJ.png"></p><p>图8</p><p>9.客户端B点击解密，得到明文。如图9所示</p><p><img src="https://s2.ax1x.com/2019/11/02/KqHRo9.png" alt="KqHRo9.png"></p><p>图9</p><h2 id="实验思考"><a href="#实验思考" class="headerlink" title="实验思考"></a>实验思考</h2><p>1.简述安全密钥交换的重要性</p><p>保证个人信息安全；</p><p>使用信任度证书分发服务器获取公钥，能有效防止了中间人攻击。</p><p>2.简述基于Diffie-Hellman协议的安全密钥交换的原理和流程</p><p>原理：</p><ol><li>有两个全局公开的参数，一个素数q和一个整数a,a是q的一个原根.</li><li>假设用户A和B希望交换一个密钥，用户A选择一个作为私有密钥的随机数XA(XA&lt;q)，并计算公开密钥YA=a^XA mod q。A对XA的值保密存放而使YA能被B公开获得。类似地，用户B选择一个私有的随机数XB&lt;q，并计算公开密钥YB=a^XB mod q。B对XB的值保密存放而使YB能被A公开获得.</li><li>用户A产生共享秘密密钥的计算方式是K = (YB)^XA mod q.同样，用户B产生共享秘密密钥的计算是K = (YA)^XB mod q.这两个计算产生相同的结果： K = (YB)^XA mod q = (a^XB mod q)^XA mod q = (a^XB)^XA mod q （根据取模运算规则得到） = a^(XBXA) mod q = (a^XA)^XB mod q = (a^XA mod q)^XB mod q = (YA)^XB mod q 因此相当于双方已经交换了一个相同的秘密密钥.</li><li>因为XA和XB是保密的，一个敌对方可以利用的参数只有q,a,YA和YB.因而敌对方被迫取离散对数来确定密钥.例如，要获取用户B的秘密密钥，敌对方必须先计算 XB = inda,q(YB) 然后再使用用户B采用的同样方法计算其秘密密钥K. Diffie-Hellman密钥交换算法的安全性依赖于这样一个事实：虽然计算以一个素数为模的指数相对容易，但计算离散对数却很困难.对于大的素数，计算出离散对数几乎是不可能的. 下面给出例子.密钥交换基于素数q = 97和97的一个原根a = 5.A和B分别选择私有密钥XA = 36和XB = 58.每人计算其公开密钥 YA = 5^36 = 50 mod 97 YB = 5^58 = 44 mod 97 在他们相互获取了公开密钥之后，各自通过计算得到双方共享的秘密密钥如下： K = (YB)^XA mod 97 = 44^36 = 75 mod 97 K = (YA)^XB mod 97 = 50^58 = 75 mod 97 从|50,44|出发，攻击者要计算出75很不容易.</li></ol><p>流程：</p><p>假设用户A希望与用户B建立一个连接，并用一个共享的秘密密钥加密在该连接上传输的报文.用户A产生一个一次性的私有密钥XA，并计算出公开密钥YA并将其发送给用户B.用户B产生一个私有密钥XB，计算出公开密钥YB并将它发送给用户A作为响应.必要的公开数值q和a都需要提前知道.另一种方法是用户A选择q和a的值，并将这些数值包含在第一个报文中. 下面再举一个使用Diffie-Hellman算法的例子.假设有一组用户（例如一个局域网上的所有用户），每个人都产生一个长期的私有密钥XA，并计算一个公开密钥YA.这些公开密钥数值，连同全局公开数值q和a都存储在某个中央目录中.在任何时刻，用户B都可以访问用户A 的公开数值，计算一个秘密密钥，并使用这个密钥发送一个加密报文给A.如果中央目录是可信任的，那么这种形式的通信就提供了保密性和一定程度的鉴别功能.因为只有A和B可以确定这个密钥，其它用户都无法解读报文（保密性）.接收方A知道只有用户B才能使用此密钥生成这个报文（鉴别）. Diffie-Hellman算法具有两个吸引力的特征： 仅当需要时才生成密钥，减小了将密钥存储很长一段时间而致使遭受攻击的机会. 除对全局参数的约定外，密钥交换不需要事先存在的基础结构.</p><blockquote style="margin: 2em 0 0;padding: 0.5em 1em;border-left: 3px solid #F44336;background-color: #F5F5F5;list-style: none;"><p> <strong>本文使用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/" target="_blank" rel="noopener">CC BY-NC-SA 3.0 中国大陆</a> 协议许可<br>具体请参见 <a href="https://zyhang8.github.io/agree/" target="_blank" rel="noopener">知识共享协议</a></strong><br> <strong>本文链接：</strong><a href="https://zyhang8.github.io/2019/09/05/cipher-exp5/" target="_blank" rel="noopener">https://zyhang8.github.io/2019/09/05/cipher-exp5/</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 信息安全 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 信息安全 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>海洋生物识别系统软件需求规格说明书</title>
      <link href="/2019/09/04/requirement-exp9/"/>
      <url>/2019/09/04/requirement-exp9/</url>
      
        <content type="html"><![CDATA[<p><a href="https://files.cnblogs.com/files/pipi-pig/%E8%BD%AF%E4%BB%B6%E9%9C%80%E6%B1%82%E8%A7%84%E6%A0%BC%E8%AF%B4%E6%98%8E%E4%B9%A6.docx.zip" target="_blank" rel="noopener">海洋生物识别系统软件需求规格说明书</a></p><blockquote style="margin: 2em 0 0;padding: 0.5em 1em;border-left: 3px solid #F44336;background-color: #F5F5F5;list-style: none;"><p> <strong>本文使用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/" target="_blank" rel="noopener">CC BY-NC-SA 3.0 中国大陆</a> 协议许可<br>具体请参见 <a href="https://zyhang8.github.io/agree/" target="_blank" rel="noopener">知识共享协议</a></strong><br> <strong>本文链接：</strong><a href="https://zyhang8.github.io/2019/09/04/requirement-exp9/" target="_blank" rel="noopener">https://zyhang8.github.io/2019/09/04/requirement-exp9/</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 需求分析 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 需求分析 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>熏陶|书</title>
      <link href="/2019/09/03/book/"/>
      <url>/2019/09/03/book/</url>
      
        <content type="html"><![CDATA[<h1 id="这里记录着小白看过、想看、正在看的书"><a href="#这里记录着小白看过、想看、正在看的书" class="headerlink" title="这里记录着小白看过、想看、正在看的书"></a>这里记录着小白看过、想看、正在看的书</h1><p>这个统计是不完整的，因为有很多看过的已经忘记了… 等我再看到的时候会加上去的…<br>如果你有什么想要推荐给我的，可以写在下面的评论区哦~<br>更新时间： 2019-09-03<br>状态标识如下</p><table><thead><tr><th>状态</th><th align="center">含义</th></tr></thead><tbody><tr><td>计划</td><td align="center">此书还没有开始看，已计划观看</td></tr><tr><td>在看</td><td align="center">正在看的书</td></tr><tr><td>看完</td><td align="center">已经看完的书</td></tr><tr><td>暂停</td><td align="center">已经看了一些，暂停看书</td></tr><tr><td>放弃</td><td align="center">已放弃看这本书</td></tr></tbody></table><h2 id="程序"><a href="#程序" class="headerlink" title="程序"></a>程序</h2><blockquote><p>觉得有所收获并对能力提高很大的书，并且通过网课和实战项目使自己得到真实提高</p></blockquote><table><thead><tr><th>书名</th><th align="center">状态</th><th align="right">也许有的感想</th></tr></thead><tbody><tr><td>机器学习(西瓜书)</td><td align="center">在看</td><td align="right">入门AI</td></tr><tr><td>机器学习实战</td><td align="center">计划</td><td align="right"></td></tr><tr><td>计算机网络</td><td align="center">在看</td><td align="right"></td></tr><tr><td>Python3网络爬虫开发实战</td><td align="center">看完</td><td align="right">看完后自己写了挺多的爬虫</td></tr><tr><td>数学之美</td><td align="center">听说挺哲学</td><td align="right"></td></tr><tr><td>鸟哥的Linux私房菜</td><td align="center">暂停</td><td align="right">大二为了硬软结合看的书</td></tr><tr><td>疯狂android讲义</td><td align="center">看完</td><td align="right">为了完成大作业学的</td></tr><tr><td>大话数据结构</td><td align="center">看完</td><td align="right">为了学数据结构买的，对小白很友好</td></tr><tr><td>C程序设计</td><td align="center">看完</td><td align="right">第一本专业书</td></tr><tr><td>数据结构</td><td align="center">暂停</td><td align="right">有点抽象，看不下去……暂停</td></tr><tr><td>数据库系统概论</td><td align="center">看完</td><td align="right">看了大部分</td></tr><tr><td>SQL Server从入门到精通</td><td align="center">看完</td><td align="right">学sql买的书籍</td></tr><tr><td>Python编程：从入门到实践</td><td align="center">看完</td><td align="right">入门Python第一本书，收获很大</td></tr><tr><td>Python基础教程</td><td align="center">放弃</td><td align="right">看了一部分，个人觉得太多方向，学过上一本书就足够了</td></tr><tr><td>操作系统</td><td align="center">暂停</td><td align="right">考研必备，很干货</td></tr><tr><td>C++ Primer Plus</td><td align="center">暂停</td><td align="right">当初为了PAT竞赛看的</td></tr><tr><td>OpenCV3编程入门</td><td align="center">看完</td><td align="right">计算机视觉入门书籍</td></tr><tr><td>利用python进行数据分析</td><td align="center">暂停</td><td align="right">当时入门数据分析看的</td></tr><tr><td>数据挖掘导论</td><td align="center">计划</td><td align="right"></td></tr><tr><td>JavaScript高级程序设计</td><td align="center">在看</td><td align="right">入门js</td></tr><tr><td>MATLAB R2012a完全自学一本通</td><td align="center">放弃</td><td align="right">当时想学一下matlab，从入门到放弃</td></tr><tr><td>C++面向对象程序设计教程</td><td align="center">看完</td><td align="right"></td></tr><tr><td>需求工程软件建模与分析</td><td align="center">看完</td><td align="right">看了一部分，感觉还不错</td></tr><tr><td>Java程序设计及应用开发</td><td align="center">看完</td><td align="right"></td></tr><tr><td>鸟个的Linux私房菜</td><td align="center">暂停</td><td align="right">太多了，只看了前面部分</td></tr></tbody></table><h2 id="教育"><a href="#教育" class="headerlink" title="教育"></a>教育</h2><blockquote><p>学校好多课要求配套书籍，但是基本都是写老书，烂书，看着简直浪费时间，当时期末考就在那也没办法，一些书买都没买就不记下了</p></blockquote><p>书名|状态|也许有的感想<br>软件测试方法和技术|放弃|看了一部分……知识都是老的<br>java设计模式|放弃|老书<br>计算机系统结构|放弃|<br>数据库系统教程|放弃|看了一部分果断换书</p><h2 id="小说"><a href="#小说" class="headerlink" title="小说"></a>小说</h2><blockquote><p>很多忘了，有多少记多少把，记得的也只有大一上学期看的了，当时还是挺喜欢看书的</p></blockquote><table><thead><tr><th>书名</th><th align="center">状态</th><th align="right">也许有的感想</th></tr></thead><tbody><tr><td>追风筝的人</td><td align="center">看完</td><td align="right"></td></tr><tr><td>目送</td><td align="center">看完</td><td align="right"></td></tr><tr><td>且听风吟</td><td align="center">看完</td><td align="right"></td></tr><tr><td>月亮和六便士</td><td align="center">看完</td><td align="right"></td></tr><tr><td>1Q84</td><td align="center">暂停</td><td align="right">之前看了一部分，由于忙就淡忘了</td></tr><tr><td>百年孤独</td><td align="center">看完</td><td align="right"></td></tr><tr><td>中国, 少了一味药</td><td align="center">看完</td><td align="right"></td></tr><tr><td>了不起的盖茨比</td><td align="center">看完</td><td align="right"></td></tr><tr><td>白夜行</td><td align="center">看完</td><td align="right"></td></tr><tr><td>圣女的救济</td><td align="center">看完</td><td align="right"></td></tr><tr><td>解忧杂货店</td><td align="center">看完</td><td align="right"></td></tr><tr><td>野火集</td><td align="center">看完</td><td align="right"></td></tr><tr><td>嫌疑人X的献身</td><td align="center">看完</td><td align="right"></td></tr><tr><td>亲爱的安德烈</td><td align="center">看完</td><td align="right"></td></tr><tr><td>洗澡之后</td><td align="center">看完</td><td align="right"></td></tr><tr><td>挪威的森林</td><td align="center">看完</td><td align="right"></td></tr><tr><td>亲爱的安德烈</td><td align="center">看完</td><td align="right"></td></tr><tr><td>孩子你慢慢来</td><td align="center">看完</td><td align="right"></td></tr><tr><td>我们仨</td><td align="center">看完</td><td align="right"></td></tr><tr><td>无声告白</td><td align="center">看完</td><td align="right"></td></tr><tr><td>在细雨中呼喊</td><td align="center">看完</td><td align="right"></td></tr><tr><td>兄弟</td><td align="center">看完</td><td align="right"></td></tr><tr><td>洗澡</td><td align="center">看完</td><td align="right"></td></tr><tr><td>许三观卖血记</td><td align="center">看完</td><td align="right"></td></tr><tr><td>萤</td><td align="center">看完</td><td align="right"></td></tr><tr><td>第七天</td><td align="center">看完</td><td align="right"></td></tr><tr><td>天黑以后</td><td align="center">看完</td><td align="right"></td></tr><tr><td>活着</td><td align="center">看完</td><td align="right"></td></tr><tr><td>许三观卖血记</td><td align="center">看完</td><td align="right"></td></tr><tr><td>草</td><td align="center">放弃</td><td align="right">烂</td></tr><tr><td>汤姆索亚历险记</td><td align="center">看完</td><td align="right"></td></tr><tr><td>童年</td><td align="center">看完</td><td align="right"></td></tr><tr><td>加入给我三天光明</td><td align="center">看完</td><td align="right"></td></tr><tr><td>爱丽丝漫游奇遇</td><td align="center">看完</td><td align="right"></td></tr><tr><td>福尔摩斯探案全集</td><td align="center">看完</td><td align="right"></td></tr><tr><td>鲁滨逊漂流记</td><td align="center">看完</td><td align="right"></td></tr><tr><td>安徒生童话</td><td align="center">看完</td><td align="right"></td></tr><tr><td>钢铁是怎样炼成的</td><td align="center">看完</td><td align="right"></td></tr><tr><td>我的大学</td><td align="center">看完</td><td align="right"></td></tr><tr><td>战争与和平</td><td align="center">看完</td><td align="right"></td></tr><tr><td>格列佛游记</td><td align="center">看完</td><td align="right"></td></tr><tr><td>威尼斯商人</td><td align="center">看完</td><td align="right"></td></tr><tr><td>繁星春水</td><td align="center">放弃</td><td align="right"></td></tr><tr><td>骆驼祥子</td><td align="center">看完</td><td align="right"></td></tr><tr><td>朝花夕拾</td><td align="center">看完</td><td align="right"></td></tr><tr><td>人性的缺陷</td><td align="center">放弃</td><td align="right"></td></tr><tr><td>天才在左疯子在右</td><td align="center">看完</td><td align="right"></td></tr></tbody></table><blockquote style="margin: 2em 0 0;padding: 0.5em 1em;border-left: 3px solid #F44336;background-color: #F5F5F5;list-style: none;"><p> <strong>本文使用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/" target="_blank" rel="noopener">CC BY-NC-SA 3.0 中国大陆</a> 协议许可<br>具体请参见 <a href="https://zyhang8.github.io/agree/" target="_blank" rel="noopener">知识共享协议</a></strong><br> <strong>本文链接：</strong><a href="https://zyhang8.github.io/2019/09/03/book/" target="_blank" rel="noopener">https://zyhang8.github.io/2019/09/03/book/</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 书籍 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 书籍 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>笔记|JavaScript</title>
      <link href="/2019/09/03/js-note/"/>
      <url>/2019/09/03/js-note/</url>
      
        <content type="html"><![CDATA[<p>大创需要用到，顺便系统学习一下js</p><h2 id="一些名词"><a href="#一些名词" class="headerlink" title="一些名词"></a>一些名词</h2><p>DOM|文档对象模型<br>BOM|浏览器对象模型<br>XSLT|可扩展样式表语言转换<br>E4X|ECMAScript中的XML扩展<br>CORS|跨来源资源共享<br>MathML|数学标记语言<br>SMIL|同步多媒体集成语言<br>XUL|用户界面语言<br>MIME|多用途互联网邮件扩展类型</p><h2 id="浓缩精华"><a href="#浓缩精华" class="headerlink" title="浓缩精华"></a>浓缩精华</h2><ul><li>JavaScript 实现应该由核心（ECMAScript），文档对象模型（DOM），浏览器对象模型（BOM）组成</li><li>CSS选择器Hack是指通过在CSS选择器的前面，加上一些只有特定浏览器才能识别的Hack前缀，来控制不同的CSS样式</li><li>JavaScript一种直译式脚本语言</li><li>文档模式：混杂模式和标准模式-&gt;准标准模式</li></ul><blockquote style="margin: 2em 0 0;padding: 0.5em 1em;border-left: 3px solid #F44336;background-color: #F5F5F5;list-style: none;"><p> <strong>本文使用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/" target="_blank" rel="noopener">CC BY-NC-SA 3.0 中国大陆</a> 协议许可<br>具体请参见 <a href="https://zyhang8.github.io/agree/" target="_blank" rel="noopener">知识共享协议</a></strong><br> <strong>本文链接：</strong><a href="https://zyhang8.github.io/2019/07/18/Ningbo/" target="_blank" rel="noopener">https://zyhang8.github.io/2019/07/18/Ningbo/</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 笔记 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>鱼的记忆|django</title>
      <link href="/2019/09/02/fish-django/"/>
      <url>/2019/09/02/fish-django/</url>
      
        <content type="html"><![CDATA[<p>django个人常用易忘语法</p><blockquote><p>以前也经常用django进行小程序和web项目的开发，不过还是有一些语法记不住，每次还得上网查有了博客之后，就来记录django使用的语法，无需查阅</p></blockquote><h2 id="创建工程"><a href="#创建工程" class="headerlink" title="创建工程"></a>创建工程</h2><p>django-admin startproject project_name<br>python manage.py startapp app_name</p><h2 id="数据迁移"><a href="#数据迁移" class="headerlink" title="数据迁移"></a>数据迁移</h2><p>python manage.py makemigrations<br>python manage.py migrate</p><h2 id="运行"><a href="#运行" class="headerlink" title="运行"></a>运行</h2><p>python manage.py runserver<br>python manage.py runserver 0.0.0.0:8000 内网</p><h2 id="管理"><a href="#管理" class="headerlink" title="管理"></a>管理</h2><p>python manage.py createsuperuser</p><h2 id="ORM"><a href="#ORM" class="headerlink" title="ORM"></a>ORM</h2><p>Django filter 常用方法</p><p>__exact 精确等于      like ‘aaa’<br> __iexact 精确等于    忽略大小写 ilike ‘aaa’<br>__contains 包含 like ‘%aaa%’<br>__icontains 包含        忽略大小写 ilike ‘%aaa%’，<br>__gt 大于<br>__gte 大于等于<br>__lt 小于<br>__lte 小于等于<br>__in 存在于一个list范围内<br>__startswith 以…开头<br>__istartswith 以…开头 忽略大小写<br>__endswith 以…结尾<br>__iendswith 以…结尾，忽略大小写<br>__range 在…范围内<br>__year 日期字段的年份<br>__month 日期字段的月份<br>__day 日期字段的日<br>__isnull=True/False</p><h2 id="urls"><a href="#urls" class="headerlink" title="urls"></a>urls</h2><p>工整整齐，全部用/来表示，&amp;？是落后的方式，if post需要写，else if get；else也需要，</p><blockquote style="margin: 2em 0 0;padding: 0.5em 1em;border-left: 3px solid #F44336;background-color: #F5F5F5;list-style: none;"><p> <strong>本文使用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/" target="_blank" rel="noopener">CC BY-NC-SA 3.0 中国大陆</a> 协议许可<br>具体请参见 <a href="https://zyhang8.github.io/agree/" target="_blank" rel="noopener">知识共享协议</a></strong><br> <strong>本文链接：</strong><a href="https://zyhang8.github.io/2019/09/02/fish-django/" target="_blank" rel="noopener">https://zyhang8.github.io/2019/09/02/fish-django/</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 鱼的记忆 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> django </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>c++</title>
      <link href="/2019/09/01/c++/"/>
      <url>/2019/09/01/c++/</url>
      
        <content type="html"><![CDATA[<h1 id="C-算法分类"><a href="#C-算法分类" class="headerlink" title="C++算法分类"></a>C++算法分类</h1><p><img src="https://s2.ax1x.com/2019/11/04/KxZS5F.jpg" alt="KxZS5F.jpg"></p><h2 id="哲学"><a href="#哲学" class="headerlink" title="哲学"></a>哲学</h2><ul><li>迭代为人，递归为神</li></ul><h2 id="基本语法"><a href="#基本语法" class="headerlink" title="基本语法"></a>基本语法</h2><h3 id="命名"><a href="#命名" class="headerlink" title="命名"></a>命名</h3><ul><li>类的名称都要以大写字母“C”开头，后跟一个或多个单词。为便于界定，每个单词的首字母要大写</li><li>函数名应当使用”动词”或者”动词＋名词”（动宾词组）的形式。例如：”GetName()”, “SetValue()”, “Erase()”, “Reserve()” ….</li><li>函数的名称由一个或多个单词组成。为便于界定，每个单词的首字母要大写。</li><li>保护成员函数的开头应当加上一个下划线“_”以示区别，例如：”_SetState()”</li><li>类似地，私有成员函数的开头应当加上两个下划线“<strong>”，例如：”</strong>DestroyImp()”</li><li>回调和事件处理函数习惯以单词“On”开头。例如：”_OnTimer()”, “OnExit()”</li><li>虚函数习惯以“Do”开头，如：”DoRefresh()”, “_DoEncryption()”</li></ul><table><thead><tr><th align="center">前缀</th><th align="center">说明</th></tr></thead><tbody><tr><td align="center">无</td><td align="center">局部变量</td></tr><tr><td align="center">m_</td><td align="center">类的成员变量（member）</td></tr><tr><td align="center">sm_</td><td align="center">类的静态成员变量（static member）</td></tr><tr><td align="center">s_</td><td align="center">静态变量（static）</td></tr><tr><td align="center">g_</td><td align="center">外部全局变量（global）</td></tr><tr><td align="center">sg_</td><td align="center">静态全局变量（static global）</td></tr><tr><td align="center">gg_</td><td align="center">进程间共享的共享数据段全局变量（global global）</td></tr></tbody></table><h3 id="数据类型"><a href="#数据类型" class="headerlink" title="数据类型"></a>数据类型</h3><ul><li>int 类型，4Bytes 32位，最小-2147483648 最大 2147483647</li><li>PI=atan(1.0)*4</li><li>sizeof返回的必定是无符号整形,在标准c中通过 typedef 将返回值类型定义为size_t.若用printf输出size_t类型时,C99中定义格式符%zd;若编译器不支持可以尝试%u或%lu.sizeof，获取操作数占用的内存空间字节数,返回类型size_t；strlen，获取字符数组实际使用的字节数,不包含数组结尾符’\0’，返回类型size_t</li></ul><h4 id="ASCII、unicode与Utf8之间的相互转化"><a href="#ASCII、unicode与Utf8之间的相互转化" class="headerlink" title="ASCII、unicode与Utf8之间的相互转化"></a>ASCII、unicode与Utf8之间的相互转化</h4><p>常用的Ascii：空格的ASCII码值为32；数字0到9的ASCII码值分别为48到57；大写字母“A”到“Z”的ASCII码值分别为65到90；小写字母“a”到“z”的ASCII码值分别为97到到122</p><p>16进制余数大于10加55</p><p><a href="https://blog.csdn.net/u012592062/article/details/81303484" target="_blank" rel="noopener">ASCII、unicode与Utf8之间的相互转化</a></p><h4 id="wstring和string区别"><a href="#wstring和string区别" class="headerlink" title="wstring和string区别"></a>wstring和string区别</h4><p>wstring的存在主要是因为有汉字，差异就在char还是wchar_t</p><p>所以wchar_t本质上是一个unsigned short，2个字节的大小，即16bit</p><ul><li>窄字符，一般用于满足ASCII编码，一个单元一个char</li><li>宽字符，一般用于满足UNICODE编码，一个单元两个char</li></ul><p>也就是说，宽字符，每表示一个字符其实是占了16bit，即2个char的大小。而汉字就是需要16bit来表示。</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">string</span> s = <span class="string">"你好！"</span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; s[<span class="number">2</span>] &lt;&lt; s[<span class="number">3</span>] &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">wcout.imbue(<span class="built_in">std</span>::locale(<span class="string">"chs"</span>));</span><br><span class="line">wstring ws = <span class="string">L"你好！"</span>;</span><br><span class="line">wcout &lt;&lt; ws[<span class="number">1</span>] &lt;&lt; <span class="built_in">endl</span>;</span><br></pre></td></tr></table></figure><h4 id="vector"><a href="#vector" class="headerlink" title="vector"></a>vector</h4><p>遍历容器</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i : p)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; i;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><ul><li>vector<int> a ;                                //声明一个int型向量a</int></li><li>vector<int> a(10) ;                            //声明一个初始大小为10的向量</int></li><li>vector<int> a(10, 1) ;                         //声明一个初始大小为10且初始值都为1的向量</int></li><li>vector<int> b(a) ;                             //声明并用向量a初始化向量b</int></li><li>vector<int> b(a.begin(), a.begin()+3) ;        //将a向量中从第0个到第2个(共3个)作为向量b的初始值</int></li><li>int n[] = {1, 2, 3, 4, 5} ;</li><li>vector<int> a(n, n+5) ;              //将数组n的前5个元素作为向量a的初值</int></li><li>vector<int> a(&amp;n[1], &amp;n[4]) ;        //将n[1] - n[4]范围内的元素作为向量a的初值</int></li><li>c.back()      // 传回最后一个数据，不检查这个数据是否存在。</li><li>c.begin()     // 传回迭代器中的第一个数据地址。</li><li>c.capacity()  // 返回容器中数据个数。</li><li>c.clear()     // 移除容器中所有数据。</li><li>c.empty()     // 判断容器是否为空。</li><li>c.end()       // 指向迭代器中末端元素的下一个，指向一个不存在元素。</li><li>c.erase(pos)  // 删除pos位置的数据，传回下一个数据的位置。</li><li>c.erase(beg,end)  //删除[beg,end)区间的数据，传回下一个数据的位置。</li><li>c.front()     // 传回第一个数据。<br>c.insert(pos,elem)    // 在pos位置插入一个elem拷贝，传回新数据位置。<br>c.insert(pos,n,elem)  // 在pos位置插入n个elem数据。无返回值。<br>c.insert(pos,beg,end) // 在pos位置插入在[beg,end)区间的数据。无返回值。</li><li>c.max_size()       // 返回容器中最大数据的数量。</li><li>c.pop_back()       // 删除最后一个数据。</li><li>c.push_back(elem)  // 在尾部加入一个数据。</li><li>c.rbegin()         // 传回一个逆向队列的第一个数据。</li><li>c.rend()           // 传回一个逆向队列的最后一个数据的下一个位置。</li><li>c.resize(num)      // 重新指定队列的长度。</li><li>c.reserve()        // 保留适当的容量。</li><li>c.size()           // 返回容器中实际数据的个数。</li><li>c1.swap(c2)</li><li>swap(c1,c2)        // 将c1和c2元素互换。同上操作。</li><li>*max_element() //最大值</li><li>vector::iterator iter //迭代器</li><li>accumulate(va.begin(),va.end(),0); // 求和</li><li>size_type  //size_type 就是这个 size 值的类型，你只要声明一个 size_type 类型的变量就能存下“元素个数”的值</li></ul><p><a href="https://www.cnblogs.com/mr-stn/p/9031676.html" target="_blank" rel="noopener">vector常用函数</a></p><h4 id="转换说明符"><a href="#转换说明符" class="headerlink" title="转换说明符"></a>转换说明符</h4><ul><li>%a(%A) 浮点数、十六进制数字和p-(P-)记数法(C99)</li><li>%d 有符号十进制整数</li><li>%e(%E) 浮点数指数输出[e-(E-)记数法]</li><li>%g(%G) 浮点数不显无意义的零”0”</li><li>%i 有符号十进制整数(与%d相同)</li><li>%u 无符号十进制整数</li><li>%o 八进制整数 e.g. 0123</li><li>%x(%X) 十六进制整数0f(0F) e.g. 0x1234</li><li>%p 指针</li><li>%% “%”</li><li>左对齐：”-“ e.g. “%-20s”</li><li>右对齐：”+” e.g. “%+20s”/“%20s”</li><li>“%m.ns”：输出m位，取字符串(左起)n位，左补空格  e.g. “%7.2s” 输入CHINA   输出” CH”</li></ul><h3 id="常用头函数"><a href="#常用头函数" class="headerlink" title="常用头函数"></a>常用头函数</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iomanip&gt; //流操作符</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;math.h&gt;</span></span></span><br></pre></td></tr></table></figure><h3 id="运算符"><a href="#运算符" class="headerlink" title="运算符"></a>运算符</h3><h4 id="左移右移运算符"><a href="#左移右移运算符" class="headerlink" title="左移右移运算符"></a>左移右移运算符</h4><p>0正1负</p><p>int i = 0x40000000; //16进制的40000000,为2进制的01000000…0000</p><p>i = i &lt;&lt; 1;</p><p>i在左移1位之后就会变成0x80000000,也就是2进制的100000…0000,符号位被置1,其他位全是0,变成了int类型所能表 示的最小值,32位的int这个值是-2147483648,溢出</p><p>左移里一个比较特殊的情况是当左移的位数超过该数值类型的最大位数时,编译器会用左移的位数去模类型的最大位数,然后按余数进行移位,如:</p><p>int i = 1, j = 0x80000000; //设int为32位</p><p>i = i &lt;&lt; 33; // 33 % 32 = 1 左移1位,i变成2</p><p>j = j &lt;&lt; 33; // 33 % 32 = 1 左移1位,j变成0,最高位被丢弃</p><p>左移1位相当于乘以2,那么左移n位就是乘以2的n次方了</p><p>左移就是: 丢弃最高位,0补最低位</p><p>符号位向右移动后,正数的话补0,负数补1</p><p>同样当移动的位数超过类型的长度时,会取余数,然后移动余数个位.</p><h3 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h3><h4 id="cin-getline-get"><a href="#cin-getline-get" class="headerlink" title="cin,getline,get"></a>cin,getline,get</h4><ul><li>cin&gt;&gt; == cin.operator&gt;&gt;()</li><li>若缓冲区中第一个字符是空格、tab或换行这些分隔符时，cin&gt;&gt;会将其忽略并清除，继续读取下一个字符，若缓冲区为空，则继续等待。但是如果读取成功，字符后面的分隔符是残留在缓冲区的，cin&gt;&gt;不做处理</li><li>不想略过空白字符，那就使用 noskipws 流控制。比如cin&gt;&gt;noskipws&gt;&gt;input</li><li>istream类重载了get（)方法，分别为get（void）， get(char &amp;, int)， get(char &amp; , int , char)</li><li>getline()读取数据时，并非像cin&gt;&gt;那样忽略第一个换行符，getline()发现cin的缓冲区中有一个残留的换行符，不阻塞请求键盘输入，直接读取</li><li>get(char &amp;, int) 第一个参数用于保存输入字符，第二个参数表示最大输入字符个数，存储个数往往比第二个参数小一</li><li>get（）会将换行符保留在输入序列中，这就导致了二次输入操作时，换行符会直接被读取，输入流会认为输入已经结束.如何解决:cin.get(ch1,20).get()</li><li>getline（）不是类方法。它将cin作为参数，指出到哪里去查找输入</li><li>cin.sync()来清空输入缓冲区；在流中fail()状态值无效的情况下，执行cin.sync(); 清空流是无效的</li><li>cin.clear();  // 将流中的所有状态值都重设为有效值</li><li>cin.fail() //输入错误 ，为1</li><li>cin.sync() 可不一定能清空缓冲区，具体实现跟编译器相关，所以不具备很好的移植性，慎用;vscode 使用cin.ignore(std::numeric_limits<a href="std::streamsize" target="_blank" rel="noopener">std::streamsize</a>::max(), ‘\n’); 代替cin.sync()</li></ul><h4 id="setw-int-n"><a href="#setw-int-n" class="headerlink" title="setw(int n)"></a>setw(int n)</h4><p>用来控制输出间隔</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cout</span>&lt;&lt; setw(<span class="number">4</span>) &lt;&lt;<span class="number">123</span> &lt;&lt;<span class="number">1234</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="number">1</span> &lt;&lt;setw(<span class="number">7</span>) &lt;&lt; <span class="number">1234</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="number">1</span> &lt;&lt; setw(<span class="number">7</span>) &lt;&lt; <span class="number">1234567891234</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="number">1</span> &lt;&lt; <span class="number">1234</span> &lt;&lt; setw(<span class="number">7</span>) &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cout</span>&lt;&lt;setfill(<span class="string">'*'</span>)&lt;&lt;setw(<span class="number">5</span>)&lt;&lt;<span class="string">'a'</span>&lt;&lt;<span class="built_in">endl</span>;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"> 1231234</span><br><span class="line"></span><br><span class="line">1   1234</span><br><span class="line"></span><br><span class="line">11234567891234</span><br><span class="line"></span><br><span class="line">11234</span><br><span class="line"></span><br><span class="line">****a</span><br></pre></td></tr></table></figure><h4 id="四舍五入"><a href="#四舍五入" class="headerlink" title="四舍五入"></a>四舍五入</h4><ul><li>ceil(x)返回不小于x的最小整数值（然后转换为double型）</li><li>floor(x)返回不大于x的最大整数值</li><li>round(x)返回x的四舍五入整数值</li></ul><h4 id="log-exp"><a href="#log-exp" class="headerlink" title="log\exp"></a>log\exp</h4><p>自定义以m为底，求log n的值,需要double a=log(n)/log(m)</p><p>exp（n）值为e^n次方</p><h2 id="基本算法"><a href="#基本算法" class="headerlink" title="基本算法"></a>基本算法</h2><h3 id="遍历"><a href="#遍历" class="headerlink" title="遍历"></a>遍历</h3><p>1+2+3+n:(n+1) * n / 2;</p><h3 id="枚举"><a href="#枚举" class="headerlink" title="枚举"></a>枚举</h3><h3 id="贪心"><a href="#贪心" class="headerlink" title="贪心"></a>贪心</h3><h3 id="递归和分治"><a href="#递归和分治" class="headerlink" title="递归和分治"></a>递归和分治</h3><h3 id="递推"><a href="#递推" class="headerlink" title="递推"></a>递推</h3><h3 id="构造"><a href="#构造" class="headerlink" title="构造"></a>构造</h3><h3 id="模拟"><a href="#模拟" class="headerlink" title="模拟"></a>模拟</h3><h2 id="搜索"><a href="#搜索" class="headerlink" title="搜索"></a>搜索</h2><h3 id="深度优先搜索"><a href="#深度优先搜索" class="headerlink" title="深度优先搜索"></a>深度优先搜索</h3><h3 id="广度优先搜索"><a href="#广度优先搜索" class="headerlink" title="广度优先搜索"></a>广度优先搜索</h3><h3 id="双向搜索"><a href="#双向搜索" class="headerlink" title="双向搜索"></a>双向搜索</h3><h3 id="启发式搜索"><a href="#启发式搜索" class="headerlink" title="启发式搜索"></a>启发式搜索</h3><h3 id="记忆化搜索"><a href="#记忆化搜索" class="headerlink" title="记忆化搜索"></a>记忆化搜索</h3><h2 id="计算几何"><a href="#计算几何" class="headerlink" title="计算几何"></a>计算几何</h2><h3 id="几何公式"><a href="#几何公式" class="headerlink" title="几何公式"></a>几何公式</h3><h3 id="叉积和点积的运用"><a href="#叉积和点积的运用" class="headerlink" title="叉积和点积的运用"></a>叉积和点积的运用</h3><h3 id="多边形的简单算法"><a href="#多边形的简单算法" class="headerlink" title="多边形的简单算法"></a>多边形的简单算法</h3><h3 id="凸包"><a href="#凸包" class="headerlink" title="凸包"></a>凸包</h3><h3 id="扫描线算法"><a href="#扫描线算法" class="headerlink" title="扫描线算法"></a>扫描线算法</h3><h3 id="多边形的内核"><a href="#多边形的内核" class="headerlink" title="多边形的内核"></a>多边形的内核</h3><h3 id="几何工具的综合应用"><a href="#几何工具的综合应用" class="headerlink" title="几何工具的综合应用"></a>几何工具的综合应用</h3><h3 id="半平面求交"><a href="#半平面求交" class="headerlink" title="半平面求交"></a>半平面求交</h3><h3 id="可视图的建立"><a href="#可视图的建立" class="headerlink" title="可视图的建立"></a>可视图的建立</h3><h3 id="点集最小圆覆盖"><a href="#点集最小圆覆盖" class="headerlink" title="点集最小圆覆盖"></a>点集最小圆覆盖</h3><h3 id="对踵点"><a href="#对踵点" class="headerlink" title="对踵点"></a>对踵点</h3><h2 id="数学"><a href="#数学" class="headerlink" title="数学"></a>数学</h2><h3 id="组合数学"><a href="#组合数学" class="headerlink" title="组合数学"></a>组合数学</h3><h4 id="排列组合"><a href="#排列组合" class="headerlink" title="排列组合"></a>排列组合</h4><h4 id="递推关系"><a href="#递推关系" class="headerlink" title="递推关系"></a>递推关系</h4><h4 id="容斥原理"><a href="#容斥原理" class="headerlink" title="容斥原理"></a>容斥原理</h4><h4 id="抽屉原理"><a href="#抽屉原理" class="headerlink" title="抽屉原理"></a>抽屉原理</h4><h4 id="置换群与Polya定理"><a href="#置换群与Polya定理" class="headerlink" title="置换群与Polya定理"></a>置换群与Polya定理</h4><h4 id="母函数"><a href="#母函数" class="headerlink" title="母函数"></a>母函数</h4><h4 id="MoBius反演"><a href="#MoBius反演" class="headerlink" title="MoBius反演"></a>MoBius反演</h4><h4 id="偏序关系理论"><a href="#偏序关系理论" class="headerlink" title="偏序关系理论"></a>偏序关系理论</h4><h3 id="数论"><a href="#数论" class="headerlink" title="数论"></a>数论</h3><h4 id="进制位"><a href="#进制位" class="headerlink" title="进制位"></a>进制位</h4><h4 id="同余模运算"><a href="#同余模运算" class="headerlink" title="同余模运算"></a>同余模运算</h4><h4 id="高斯消元"><a href="#高斯消元" class="headerlink" title="高斯消元"></a>高斯消元</h4><h4 id="概率问题"><a href="#概率问题" class="headerlink" title="概率问题"></a>概率问题</h4><h4 id="扩展欧几里德"><a href="#扩展欧几里德" class="headerlink" title="扩展欧几里德"></a>扩展欧几里德</h4><h3 id="博弈论"><a href="#博弈论" class="headerlink" title="博弈论"></a>博弈论</h3><h4 id="极大极小过程"><a href="#极大极小过程" class="headerlink" title="极大极小过程"></a>极大极小过程</h4><h4 id="Nim过程"><a href="#Nim过程" class="headerlink" title="Nim过程"></a>Nim过程</h4><h2 id="图论"><a href="#图论" class="headerlink" title="图论"></a>图论</h2><h3 id="拓扑排序"><a href="#拓扑排序" class="headerlink" title="拓扑排序"></a>拓扑排序</h3><h3 id="最小生成树"><a href="#最小生成树" class="headerlink" title="最小生成树"></a>最小生成树</h3><h3 id="最短路"><a href="#最短路" class="headerlink" title="最短路"></a>最短路</h3><h3 id="二分图"><a href="#二分图" class="headerlink" title="二分图"></a>二分图</h3><h4 id="匈牙利算法"><a href="#匈牙利算法" class="headerlink" title="匈牙利算法"></a>匈牙利算法</h4><h4 id="KM算法"><a href="#KM算法" class="headerlink" title="KM算法"></a>KM算法</h4><h3 id="网络流"><a href="#网络流" class="headerlink" title="网络流"></a>网络流</h3><h4 id="最小费用最大流"><a href="#最小费用最大流" class="headerlink" title="最小费用最大流"></a>最小费用最大流</h4><h4 id="最小割模型、网络流规约"><a href="#最小割模型、网络流规约" class="headerlink" title="最小割模型、网络流规约"></a>最小割模型、网络流规约</h4><h3 id="差分约束系统建立和求解"><a href="#差分约束系统建立和求解" class="headerlink" title="差分约束系统建立和求解"></a>差分约束系统建立和求解</h3><h3 id="双连通分量"><a href="#双连通分量" class="headerlink" title="双连通分量"></a>双连通分量</h3><h3 id="强连通分支及其缩点"><a href="#强连通分支及其缩点" class="headerlink" title="强连通分支及其缩点"></a>强连通分支及其缩点</h3><h3 id="图的割边与割点"><a href="#图的割边与割点" class="headerlink" title="图的割边与割点"></a>图的割边与割点</h3><h2 id="动态规划"><a href="#动态规划" class="headerlink" title="动态规划"></a>动态规划</h2><h3 id="背包问题"><a href="#背包问题" class="headerlink" title="背包问题"></a>背包问题</h3><h4 id="01背包"><a href="#01背包" class="headerlink" title="01背包"></a>01背包</h4><h4 id="完全背包"><a href="#完全背包" class="headerlink" title="完全背包"></a>完全背包</h4><h4 id="多维背包"><a href="#多维背包" class="headerlink" title="多维背包"></a>多维背包</h4><h4 id="多里背包"><a href="#多里背包" class="headerlink" title="多里背包"></a>多里背包</h4><h3 id="基本DP"><a href="#基本DP" class="headerlink" title="基本DP"></a>基本DP</h3><h4 id="区间DP"><a href="#区间DP" class="headerlink" title="区间DP"></a>区间DP</h4><h4 id="环形DP"><a href="#环形DP" class="headerlink" title="环形DP"></a>环形DP</h4><h4 id="判定行DP"><a href="#判定行DP" class="headerlink" title="判定行DP"></a>判定行DP</h4><h4 id="棋盘分割"><a href="#棋盘分割" class="headerlink" title="棋盘分割"></a>棋盘分割</h4><h4 id="最长公共子序列"><a href="#最长公共子序列" class="headerlink" title="最长公共子序列"></a>最长公共子序列</h4><h4 id="最长上升子序列"><a href="#最长上升子序列" class="headerlink" title="最长上升子序列"></a>最长上升子序列</h4><h3 id="二分判定型DP"><a href="#二分判定型DP" class="headerlink" title="二分判定型DP"></a>二分判定型DP</h3><h3 id="树形动态规划"><a href="#树形动态规划" class="headerlink" title="树形动态规划"></a>树形动态规划</h3><h4 id="最大独立集"><a href="#最大独立集" class="headerlink" title="最大独立集"></a>最大独立集</h4><h3 id="状态压缩DP"><a href="#状态压缩DP" class="headerlink" title="状态压缩DP"></a>状态压缩DP</h3><h4 id="哈密顿路径问题"><a href="#哈密顿路径问题" class="headerlink" title="哈密顿路径问题"></a>哈密顿路径问题</h4><h4 id="四边形不等式理论"><a href="#四边形不等式理论" class="headerlink" title="四边形不等式理论"></a>四边形不等式理论</h4><h4 id="单调队列优化"><a href="#单调队列优化" class="headerlink" title="单调队列优化"></a>单调队列优化</h4><h2 id="数据结构"><a href="#数据结构" class="headerlink" title="数据结构"></a>数据结构</h2><h3 id="串"><a href="#串" class="headerlink" title="串"></a>串</h3><h4 id="KMP"><a href="#KMP" class="headerlink" title="KMP"></a>KMP</h4><h3 id="排序"><a href="#排序" class="headerlink" title="排序"></a>排序</h3><p><img src="https://segmentfault.com/img/bVbkOnq?w=966&h=588" alt="paixu_1"></p><ul><li>稳定：如果a原本在b前面，而a=b，排序之后a仍然在b的前面。</li><li>不稳定：如果a原本在b的前面，而a=b，排序之后 a 可能会出现在 b 的后面。</li><li>时间复杂度：对排序数据的总的操作次数。反映当n变化时，操作次数呈现什么规律。</li><li>空间复杂度：是指算法在计算机内执行时所需存储空间的度量，它也是数据规模n的函数。</li></ul><h4 id="比较类排序"><a href="#比较类排序" class="headerlink" title="比较类排序"></a>比较类排序</h4><h5 id="交换排序"><a href="#交换排序" class="headerlink" title="交换排序"></a>交换排序</h5><h6 id="冒泡排序"><a href="#冒泡排序" class="headerlink" title="冒泡排序"></a>冒泡排序</h6><p>时间复杂度：O(N2) 　　稳定性：稳定</p><h6 id="快速排序-划分交换排序"><a href="#快速排序-划分交换排序" class="headerlink" title="快速排序/划分交换排序"></a>快速排序/划分交换排序</h6><p>时间复杂度：O(NlogN) 　　稳定性：不稳定</p><p>枢值/基准数，哨兵</p><h5 id="插入排序"><a href="#插入排序" class="headerlink" title="插入排序"></a>插入排序</h5><h6 id="简答插入排序"><a href="#简答插入排序" class="headerlink" title="简答插入排序"></a>简答插入排序</h6><p>时间复杂度：O(N2) 　　稳定性：稳定</p><h6 id="希尔排序"><a href="#希尔排序" class="headerlink" title="希尔排序"></a>希尔排序</h6><p>时间复杂度：通常认为是O(N3/2) ，未验证　　稳定性：不稳定</p><h5 id="选择排序"><a href="#选择排序" class="headerlink" title="选择排序"></a>选择排序</h5><h6 id="简单选择排序"><a href="#简单选择排序" class="headerlink" title="简单选择排序"></a>简单选择排序</h6><p>时间复杂度：O(N2) 　　稳定性：不稳定</p><h6 id="堆排序"><a href="#堆排序" class="headerlink" title="堆排序"></a>堆排序</h6><p>时间复杂度：O(NlogN) 　　稳定性：不稳定</p><p>堆积树（堆）。堆分为大根堆和小根堆，是完全二叉树。</p><h5 id="归并排序"><a href="#归并排序" class="headerlink" title="归并排序"></a>归并排序</h5><h6 id="简单归并排序"><a href="#简单归并排序" class="headerlink" title="简单归并排序"></a>简单归并排序</h6><p>时间复杂度：O(NlogN) 　　稳定性：稳定</p><p>分治</p><h6 id="多路归并排序"><a href="#多路归并排序" class="headerlink" title="多路归并排序"></a>多路归并排序</h6><h4 id="非比较排序"><a href="#非比较排序" class="headerlink" title="非比较排序"></a>非比较排序</h4><h5 id="基数排序"><a href="#基数排序" class="headerlink" title="基数排序"></a>基数排序</h5><p>时间复杂度：O(x*N) 　　稳定性：稳定</p><ul><li>LSD从低位开始排到高位，每排一位都是把各个桶合并，再按下一位排序；</li><li>MSD从高位开始排到低位，排完一位后不合并桶，相同的高位划分子桶继续分配，最后再合并</li></ul><h5 id="桶排序"><a href="#桶排序" class="headerlink" title="桶排序"></a>桶排序</h5><h5 id="计数排序"><a href="#计数排序" class="headerlink" title="计数排序"></a>计数排序</h5><h3 id="哈希表"><a href="#哈希表" class="headerlink" title="哈希表"></a>哈希表</h3><h3 id="二分"><a href="#二分" class="headerlink" title="二分"></a>二分</h3><h3 id="并查集"><a href="#并查集" class="headerlink" title="并查集"></a>并查集</h3><h3 id="霍夫曼树"><a href="#霍夫曼树" class="headerlink" title="霍夫曼树"></a>霍夫曼树</h3><h3 id="堆"><a href="#堆" class="headerlink" title="堆"></a>堆</h3><h3 id="线段树"><a href="#线段树" class="headerlink" title="线段树"></a>线段树</h3><h3 id="二叉树"><a href="#二叉树" class="headerlink" title="二叉树"></a>二叉树</h3><ul><li>完全二叉树： 除了最后一层之外的其他每一层都被完全填充，并且所有结点都保持向左对齐。</li><li>满二叉树：除了叶子结点之外的每一个结点都有两个孩子，每一层(当然包含最后一层)都被完全填充。</li><li>完满二叉树：除了叶子结点之外的每一个结点都有两个孩子结点。</li></ul><h3 id="树的树状数组"><a href="#树的树状数组" class="headerlink" title="树的树状数组"></a>树的树状数组</h3><h3 id="RMQ"><a href="#RMQ" class="headerlink" title="RMQ"></a>RMQ</h3><blockquote style="margin: 2em 0 0;padding: 0.5em 1em;border-left: 3px solid #F44336;background-color: #F5F5F5;list-style: none;"><p> <strong>本文使用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/" target="_blank" rel="noopener">CC BY-NC-SA 3.0 中国大陆</a> 协议许可<br>具体请参见 <a href="https://zyhang8.github.io/agree/" target="_blank" rel="noopener">知识共享协议</a></strong><br> <strong>本文链接：</strong><a href="https://zyhang8.github.io/2019/09/01/c++/" target="_blank" rel="noopener">https://zyhang8.github.io/2019/09/01/c++/</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> c++ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> c++ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>游记·Nanjing</title>
      <link href="/2019/08/26/nanjing/"/>
      <url>/2019/08/26/nanjing/</url>
      
        <content type="html"><![CDATA[<h1 id="Nanjing"><a href="#Nanjing" class="headerlink" title="Nanjing!"></a>Nanjing!</h1><h2 id="出行准备"><a href="#出行准备" class="headerlink" title="出行准备"></a>出行准备</h2><p>支付宝南京地铁电子卡(地铁)<br>支付宝金陵公交乘车码(公交)<br>南京支付宝实时公交(支付宝)<br>马蜂窝(本地菜景点)<br>高德(导航)<br>电影/书籍(路上消磨时间)<br>身份证/学生证 随身(景点必备)</p><h2 id="出行-2019-8-21-2019-8-26"><a href="#出行-2019-8-21-2019-8-26" class="headerlink" title="出行(2019.8.21-2019.8.26)"></a>出行(2019.8.21-2019.8.26)</h2><h3 id="第一天-第二天"><a href="#第一天-第二天" class="headerlink" title="第一天-第二天"></a>第一天-第二天</h3><p><a href="https://zyhang8.github.io/2019/08/23/wuxi/" target="_blank" rel="noopener">无锡</a></p><h3 id="第三天"><a href="#第三天" class="headerlink" title="第三天"></a>第三天</h3><ul><li><a href="https://zyhang8.github.io/2019/08/23/wuxi/" target="_blank" rel="noopener">无锡</a></li><li><a href="https://zyhang8.github.io/2019/08/25/yangzhou/" target="_blank" rel="noopener">扬州</a></li></ul><h3 id="第四天"><a href="#第四天" class="headerlink" title="第四天"></a>第四天</h3><ul><li><a href="https://zyhang8.github.io/2019/08/25/yangzhou/" target="_blank" rel="noopener">扬州</a></li></ul><h3 id="第五天"><a href="#第五天" class="headerlink" title="第五天"></a>第五天</h3><ul><li>首先打车去了酒店放了行李，然后去了南京大屠杀纪念馆，那里的人真的多，排了2个小时，不过里面的内容确实不错，很多人物，历史，遗体，战场遗迹都在里面，看了简直触目惊心</li><li>后去了明孝陵，走了很久路到了终点，原来明孝陵是一个墓群，里面有很多人物，城墙也很好看，拍了些很好看的照片</li><li>然后坐观光车去了中山陵，本来预约了4点半截止了，我们4点29点刚好进场，爬了一会儿就到了中山陵，可以看到南京的美景，看到钟山风景区的全貌，后坐观光车下山了</li><li>前往玄武湖旁边的南京大牌档，刚好不用排很久的队，吃的菜都挺不错的</li><li>吃完去了玄武湖，散了一会步就回去了</li></ul><h3 id="第六天"><a href="#第六天" class="headerlink" title="第六天"></a>第六天</h3><ul><li>早上去了南京博物馆，由于周一只开了半天，人特别多排了又是2小时队才进去</li><li>不过里面展厅真的好多，有30个左右，不过很多都是小展厅，国博一个主展厅估计也可以顶全部展厅了</li><li>中午吃了kfc回了上海</li></ul><h2 id="感悟"><a href="#感悟" class="headerlink" title="感悟"></a>感悟</h2><p>一个多灾多难的古都，也很繁华，人很多但是一些经典配套设置跟不上，不够人性化，地铁虽然比大部分城市发达但是还是没有上海的快，江南风韵，夜泊秦淮。</p><blockquote style="margin: 2em 0 0;padding: 0.5em 1em;border-left: 3px solid #F44336;background-color: #F5F5F5;list-style: none;"><p> <strong>本文使用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/" target="_blank" rel="noopener">CC BY-NC-SA 3.0 中国大陆</a> 协议许可<br>具体请参见 <a href="https://zyhang8.github.io/agree/" target="_blank" rel="noopener">知识共享协议</a></strong><br> <strong>本文链接：</strong><a href="https://zyhang8.github.io/2019/08/26/nanjing/" target="_blank" rel="noopener">https://zyhang8.github.io/2019/08/26/nanjing/</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 游记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 游行 </tag>
            
            <tag> 南京 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>游记·Yangzhou</title>
      <link href="/2019/08/25/yangzhou/"/>
      <url>/2019/08/25/yangzhou/</url>
      
        <content type="html"><![CDATA[<h1 id="Yangzhou"><a href="#Yangzhou" class="headerlink" title="Yangzhou!"></a>Yangzhou!</h1><h2 id="出行准备"><a href="#出行准备" class="headerlink" title="出行准备"></a>出行准备</h2><p>支付宝扬州公交乘车码(公交)<br>扬州实时公交(实时公交)<br>马蜂窝(本地菜景点)<br>高德(导航)<br>电影/书籍(路上消磨时间)<br>身份证/学生证 随身(景点必备)</p><h2 id="出行-2019-8-21-2019-8-26"><a href="#出行-2019-8-21-2019-8-26" class="headerlink" title="出行(2019.8.21-2019.8.26)"></a>出行(2019.8.21-2019.8.26)</h2><h3 id="第一天-第二天"><a href="#第一天-第二天" class="headerlink" title="第一天-第二天"></a>第一天-第二天</h3><p><a href="https://zyhang8.github.io/2019/08/23/wuxi/" target="_blank" rel="noopener">无锡</a></p><h3 id="第三天"><a href="#第三天" class="headerlink" title="第三天"></a>第三天</h3><ul><li><a href="https://zyhang8.github.io/2019/08/23/wuxi/" target="_blank" rel="noopener">无锡</a></li><li>到了扬州站后，前往了文昌阁，没想到，这个又是在装修(不是季节不对就是在装修，不过这样也好，人也不多)</li><li>于是打车前往酒店,放好行李前往酒店旁边的东关街。里面可是美食一条街，很多各地小吃都汇聚于此。首先到了一家店简单吃了晚餐（有点难吃），后在东关街买了长沙臭豆腐，奶茶还有酒酿饮料后回了酒店</li></ul><h3 id="第四天"><a href="#第四天" class="headerlink" title="第四天"></a>第四天</h3><ul><li>起床去了富春茶社吃早点，吃了蟹肉狮子头，包子套餐还有喝了魁龙珠茶，虽然贵但是确实代表了扬州的小吃风味</li><li>后去了瘦西湖，确实是不错的景点，公园很大，柳树成荫，可以看出里面孕育了很长的历史，看了白塔，苗圆等景色</li><li>后去了附近的大明寺，听说是淮东第一观，而且里面有天下第五泉，进去了里面也当做散步</li><li>后回到酒店，并在东关街吃了粗茶淡饭，昨晚就看到他排了长队，很幸运，去的时候有人走了刚好有位置，点了7大菜，吃得特别饱，里面的每个菜都符合我的胃口，藕粉确实好吃，不愧是网红饭店</li><li>下午去了个园，听说是中国四大名圆之一(颐和园，拙政园，避暑山庄)，这下只剩避暑山庄，里面还是挺豪华的，跟恭门府还是有点像的，竹子很多，而且又在装修，就前往了何园</li><li>何园称为晚晴第一园，还是挺具有特色的，里面的故居也挺豪华</li><li>在那累了就在那休息了</li><li>然后就去看了京杭大运河(本来想晚上去看夜景的，不过太累了想先看完回去了)</li><li>又去了东关街吃了一家百年饺面店，确实好吃，那家的元宵汤圆真的绝了，那个汤真的太好喝了，吃了混沌，面，包子感觉就很满足了</li></ul><h3 id="第五天"><a href="#第五天" class="headerlink" title="第五天"></a>第五天</h3><ul><li>早上前往扬州站，坐动车去了南京</li><li><a href="https://zyhang8.github.io/2019/08/26/nanjing/" target="_blank" rel="noopener">南京</a></li></ul><h3 id="第六天"><a href="#第六天" class="headerlink" title="第六天"></a>第六天</h3><ul><li><a href="https://zyhang8.github.io/2019/08/26/nanjing/" target="_blank" rel="noopener">南京</a></li></ul><h2 id="感悟"><a href="#感悟" class="headerlink" title="感悟"></a>感悟</h2><p>扬州感觉很有历史遗迹，跟苏州一样也是很多古典园林，公交车也挺发达，22个站才29分钟，路很宽敞，而且有一天公交车专属道路，没有地铁也是快快哒</p><blockquote style="margin: 2em 0 0;padding: 0.5em 1em;border-left: 3px solid #F44336;background-color: #F5F5F5;list-style: none;"><p> <strong>本文使用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/" target="_blank" rel="noopener">CC BY-NC-SA 3.0 中国大陆</a> 协议许可<br>具体请参见 <a href="https://zyhang8.github.io/agree/" target="_blank" rel="noopener">知识共享协议</a></strong><br> <strong>本文链接：</strong><a href="https://zyhang8.github.io/2019/08/25/yangzhou/" target="_blank" rel="noopener">https://zyhang8.github.io/2019/08/25/yangzhou/</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 游记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 游行 </tag>
            
            <tag> 扬州 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>游记·Wuxi</title>
      <link href="/2019/08/23/wuxi/"/>
      <url>/2019/08/23/wuxi/</url>
      
        <content type="html"><![CDATA[<h1 id="Wuxi"><a href="#Wuxi" class="headerlink" title="Wuxi!"></a>Wuxi!</h1><h2 id="出行准备"><a href="#出行准备" class="headerlink" title="出行准备"></a>出行准备</h2><p>码上行App(巨优惠且方便)<br>支付宝无锡公交乘车码(公交)<br>无锡实时公交(实时公交)<br>马蜂窝(本地菜景点)<br>高德(导航)<br>电影/书籍(路上消磨时间)<br>身份证/学生证 随身(景点必备)</p><h2 id="出行-2019-8-21-2019-8-26"><a href="#出行-2019-8-21-2019-8-26" class="headerlink" title="出行(2019.8.21-2019.8.26)"></a>出行(2019.8.21-2019.8.26)</h2><h3 id="第一天"><a href="#第一天" class="headerlink" title="第一天"></a>第一天</h3><p>住到无锡子鱼居酒店（便宜，环境不错，离景区近，交通便利，早餐便利）</p><h2 id="第二天"><a href="#第二天" class="headerlink" title="第二天"></a>第二天</h2><ul><li>早上去了鼋头渚风景区，里面还是风景挺漂亮的，不过没去对季节，樱花没开，貌似与日本的弘前樱花园，以及美国华盛顿樱花园，一致被公认为全球三大赏樱圣地；后面爬上了鹿顶迎晖山顶，观赏太湖和无锡美景</li><li>去玩后去了蠡园，刚好他在装修，毫无游玩体验，听说对面按的西施庄不错，没想到还得等1小时的游船，于是30小时就逛完了</li><li>下午去了三国城影视基地，30块钱买了观光车，在里面四处游玩，看了很多影视表演，感觉挺划算的，最后的三英战吕布表演简直是压轴戏，看的全场尖叫欢呼，总之体验不错，就是玩太久了，导致水浒城没去，但是之前买了三国水浒联票……呜呜呜</li><li>晚上去了东长街，品尝了无锡的混沌和包子，喝了奶茶小吃等。</li></ul><h2 id="第三天"><a href="#第三天" class="headerlink" title="第三天"></a>第三天</h2><ul><li>早上去了灵山胜境，一开始感觉门票好贵，全票210，但是进去后确实一分钱一分价。先买了30块钱观光车，可以整个景区随意游玩，印象最深刻就是灵山大佛和梵宫，在那里修心养性，梵宫看出来是真的豪华，整个大宫赤壁辉煌</li><li>中午吃了豆花，鸭血粉丝汤，鸡公面汤后打了黑车去了拈花湾，那里就是步行街，听说到处花花草草，不过季节不对也看不到，而且一个大草坪在装修，入门就听到这个景点晚上去好一点，看夜景不过就当做逛街，看了荷花喷泉表演后就离开了</li><li>回酒店拿了行李，去了汽车站(没有无锡到扬州的高铁，差评)，前往扬州</li><li><a href="https://zyhang8.github.io/2019/08/25/yangzhou/" target="_blank" rel="noopener">扬州</a></li></ul><h2 id="第四天"><a href="#第四天" class="headerlink" title="第四天"></a>第四天</h2><p><a href="https://zyhang8.github.io/2019/08/25/yangzhou/" target="_blank" rel="noopener">扬州</a></p><h2 id="第五天-第六天"><a href="#第五天-第六天" class="headerlink" title="第五天-第六天"></a>第五天-第六天</h2><p><a href="https://zyhang8.github.io/2019/08/26/nanjing/" target="_blank" rel="noopener">南京</a></p><p>人感觉不多,空调也挺凉快</p><h2 id="感悟"><a href="#感悟" class="headerlink" title="感悟"></a>感悟</h2><p>感觉无锡的物价还是相对比较低，但是看了2018江苏省GDP却排名第二，而江苏省又是长时间处于GDP全国第二的大省，而且游玩圣地也很多，实在羡慕。</p><blockquote style="margin: 2em 0 0;padding: 0.5em 1em;border-left: 3px solid #F44336;background-color: #F5F5F5;list-style: none;"><p> <strong>本文使用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/" target="_blank" rel="noopener">CC BY-NC-SA 3.0 中国大陆</a> 协议许可<br>具体请参见 <a href="https://zyhang8.github.io/agree/" target="_blank" rel="noopener">知识共享协议</a></strong><br> <strong>本文链接：</strong><a href="https://zyhang8.github.io/2019/08/23/wuxi/" target="_blank" rel="noopener">https://zyhang8.github.io/2019/08/23/wuxi/</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 游记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 游行 </tag>
            
            <tag> 无锡 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>鱼的记忆|程序员经典语录</title>
      <link href="/2019/08/09/record/"/>
      <url>/2019/08/09/record/</url>
      
        <content type="html"><![CDATA[<p>在和朋友聊天过程中，突然聊起了经典语录，很多次呼之欲出，本文档用来记录程序员经典语录</p><ul><li>从入门到放弃</li><li>从入门到神经失常</li><li>从看懂到看开</li><li>从精通到陌生</li><li>没入门就放弃</li><li>从放弃到坚持放弃</li><li>从安装到卸载</li><li>从删库到跑路</li><li>从入门到入土</li><li>从入门到转行</li><li>从入门到段错误</li><li>从精通到重新入门</li><li>从入门到内存选购</li><li>从入门到外包合同签订</li><li>从入门到Py</li><li>从入门到出家</li><li>从入门到吐血</li><li>从入门到改行</li><li>从入门到单身狗</li><li>从入门到住院</li><li>从入门到抑郁症康复</li><li>从入门到删数据库跑路</li><li>从入门到腰椎病康复</li><li>从入门到懵逼</li><li>从入门的入坟</li></ul><p>欢迎继续补充，蛤蛤蛤蛤蛤蛤蛤蛤蛤蛤蛤蛤蛤蛤蛤蛤蛤蛤蛤蛤蛤蛤蛤</p><blockquote style="margin: 2em 0 0;padding: 0.5em 1em;border-left: 3px solid #F44336;background-color: #F5F5F5;list-style: none;"><p> <strong>本文使用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/" target="_blank" rel="noopener">CC BY-NC-SA 3.0 中国大陆</a> 协议许可<br>具体请参见 <a href="https://zyhang8.github.io/agree/" target="_blank" rel="noopener">知识共享协议</a></strong><br> <strong>本文链接：</strong><a href="https://zyhang8.github.io/2019/07/18/Ningbo/" target="_blank" rel="noopener">https://zyhang8.github.io/2019/07/18/Ningbo/</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 鱼的记忆 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 经典语录 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>基于rainmeter的ini,inc文件的修改</title>
      <link href="/2019/08/07/rainmeter-config/"/>
      <url>/2019/08/07/rainmeter-config/</url>
      
        <content type="html"><![CDATA[<p>今天花了半天时间修改贴吧大神的源代码，打造成适合自己的桌面零部散件。一开始很曲折，因为对该配置文件修改还得看文档，而且调用插件，配置文件的变量也不能乱改，不然会出现崩溃显像管</p><h2 id="原先功能"><a href="#原先功能" class="headerlink" title="原先功能"></a>原先功能</h2><ul><li>显示时间，日期，星期</li><li>显示当地天气和未来4天天气</li><li>自定义添加城市，并自动更新天气</li></ul><h2 id="改进功能"><a href="#改进功能" class="headerlink" title="改进功能"></a>改进功能</h2><ul><li>添加备忘录功能，可以对备忘录进行增删查改</li></ul><h2 id="使用方法"><a href="#使用方法" class="headerlink" title="使用方法"></a>使用方法</h2><ol><li>打开ini文件,在<code>Variables</code>添加MemoX=空</li><li>在最下面添加</li></ol><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">[MemoNameX]</span><br><span class="line">Meter=String</span><br><span class="line">MeasureName=MeasureMemoNameX</span><br><span class="line">FontColor=#color#</span><br><span class="line">AntiAlias=<span class="number">1</span></span><br><span class="line">FontFace=#font#</span><br><span class="line">FontSize=<span class="number">14</span></span><br><span class="line">ClipString=<span class="number">2</span></span><br><span class="line">x=<span class="number">100</span></span><br><span class="line">y=<span class="number">240</span></span><br><span class="line">LeftMouseUpAction=[!CommandMeasure <span class="string">"MemoInputX ExecuteBatch 1-2"</span>]</span><br><span class="line">ToolTipText=点此修改备忘录</span><br><span class="line">SolidColor=<span class="number">255</span>,<span class="number">255</span>,<span class="number">255</span>,<span class="number">1</span></span><br><span class="line"></span><br><span class="line">[MemoInputX]</span><br><span class="line">Measure=Plugin</span><br><span class="line">Plugin=InputText.dll</span><br><span class="line">SolidColor=<span class="number">255</span>,<span class="number">255</span>,<span class="number">255</span></span><br><span class="line">FontColor=<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span></span><br><span class="line">FontFace=#FONT#</span><br><span class="line">FontSize=<span class="number">10</span></span><br><span class="line">StringStyle=NORMAL</span><br><span class="line">X=<span class="number">150</span></span><br><span class="line">Y=<span class="number">245</span></span><br><span class="line">H=<span class="number">22</span></span><br><span class="line">W=<span class="number">70</span></span><br><span class="line">FocusDismiss=<span class="number">1</span></span><br><span class="line">DefaultValue=<span class="string">"Change Me!"</span></span><br><span class="line">Command1=!WriteKeyValue Variables MemoX <span class="string">"$UserInput$"</span> DefaultValue=#MemoX#</span><br><span class="line">Command2=!Refresh</span><br></pre></td></tr></table></figure><p>第一部分Y的值比前一条备忘录增加25<br>第二部分Y的值比第一部分增加5</p><ol start="3"><li>打开inc文件,添加</li></ol><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">;=============================备忘录X</span><br><span class="line">[MeasureMemoNameX]</span><br><span class="line">Measure=Plugin</span><br><span class="line">Plugin=CNWeather</span><br><span class="line">ParentMeasure=WeatherCore</span><br><span class="line">WeatherType=Today</span><br><span class="line">ItemName=#MemoX#</span><br><span class="line">DefaultValue=#MemoX#</span><br></pre></td></tr></table></figure><ol start="4"><li><p>更新模块看是否多处一条备忘录</p></li><li><p>测试过程中发现空格会使该备忘录瘫痪自行配置文件去掉空格即可</p></li></ol><h2 id="效果展示"><a href="#效果展示" class="headerlink" title="效果展示"></a>效果展示</h2><p><img src="https://s2.ax1x.com/2019/08/07/e5fwRJ.png" alt="e5fwRJ.png"></p><blockquote><p>上述两个文件仅为配置文件部分,主模块和安装包需要滴滴我</p></blockquote><blockquote style="margin: 2em 0 0;padding: 0.5em 1em;border-left: 3px solid #F44336;background-color: #F5F5F5;list-style: none;"><p> <strong>本文使用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/" target="_blank" rel="noopener">CC BY-NC-SA 3.0 中国大陆</a> 协议许可<br>具体请参见 <a href="https://zyhang8.github.io/agree/" target="_blank" rel="noopener">知识共享协议</a></strong><br> <strong>本文链接：</strong><a href="https://zyhang8.github.io/2019/08/07/rainmeter-config/" target="_blank" rel="noopener">https://zyhang8.github.io/2019/08/07/rainmeter-config/</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> lua </category>
          
      </categories>
      
      
        <tags>
            
            <tag> lua </tag>
            
            <tag> rainmeter </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>鱼的记忆|html必备手册</title>
      <link href="/2019/08/05/fish-html/"/>
      <url>/2019/08/05/fish-html/</url>
      
        <content type="html"><![CDATA[<p>html个人常用易忘语法</p><p><a href="https://www.w3school.com.cn/html/index.asp" target="_blank" rel="noopener">详细教程</a></p><h2 id="文本格式化标签"><a href="#文本格式化标签" class="headerlink" title="文本格式化标签"></a>文本格式化标签</h2><table><thead><tr><th align="center">标签</th><th align="left">描述</th></tr></thead><tbody><tr><td align="center"><code>&lt;b&gt;</code></td><td align="left"><b>定义粗体文本</b></td></tr><tr><td align="center"><code>&lt;big&gt;</code></td><td align="left"><big>定义大号字</big></td></tr><tr><td align="center"><code>&lt;em&gt;</code></td><td align="left"><em>定义着重文字。</em></td></tr><tr><td align="center"><code>&lt;i&gt;</code></td><td align="left"><i>定义斜体字。</i></td></tr><tr><td align="center"><code>&lt;small&gt;</code></td><td align="left"><small>定义小号字。</small></td></tr><tr><td align="center"><code>&lt;strong&gt;</code></td><td align="left"><strong>定义加重语气。</strong></td></tr><tr><td align="center"><code>&lt;sub&gt;</code></td><td align="left"><sub>定义下标字。</sub></td></tr><tr><td align="center"><code>&lt;sup&gt;</code></td><td align="left"><sup>定义上标字。</sup></td></tr><tr><td align="center"><code>&lt;ins&gt;</code></td><td align="left"><ins>定义插入字。</ins></td></tr><tr><td align="center"><code>&lt;del&gt;</code></td><td align="left"><del>定义删除字。</del></td></tr></tbody></table><h2 id="“计算机输出”标签"><a href="#“计算机输出”标签" class="headerlink" title="“计算机输出”标签"></a>“计算机输出”标签</h2><table><thead><tr><th align="center">标签</th><th align="left">描述</th></tr></thead><tbody><tr><td align="center"><code>&lt;code&gt;</code></td><td align="left"><code>定义计算机代码。</code></td></tr><tr><td align="center"><code>&lt;var&gt;</code></td><td align="left"><var>定义变量。</var></td></tr><tr><td align="center"><code>&lt;samp&gt;</code></td><td align="left"><samp>计算机输出示例</samp></td></tr></tbody></table><h2 id="引用、引用和术语定义"><a href="#引用、引用和术语定义" class="headerlink" title="引用、引用和术语定义"></a>引用、引用和术语定义</h2><table><thead><tr><th align="center">标签</th><th align="left">描述</th></tr></thead><tbody><tr><td align="center"><code>&lt;abbr&gt;</code></td><td align="left"><abbr>定义缩写。</abbr></td></tr><tr><td align="center"><code>&lt;acronym&gt;</code></td><td align="left"><acronym>定义首字母缩写。</acronym></td></tr><tr><td align="center"><code>&lt;address&gt;</code></td><td align="left"><address>定义地址。</address></td></tr><tr><td align="center"><code>&lt;bdo&gt;</code></td><td align="left"><bdo dir="rtl">定义文字方向。</bdo></td></tr><tr><td align="center"><code>&lt;blockquote&gt;</code></td><td align="left"><blockquote>定义长的引用。</blockquote></td></tr><tr><td align="center"><code>&lt;q&gt;</code></td><td align="left"><q>定义短的引用语。</q></td></tr></tbody></table><h2 id="HTML-CSS"><a href="#HTML-CSS" class="headerlink" title="HTML CSS"></a>HTML CSS</h2><table><thead><tr><th align="center">标签</th><th align="left">描述</th></tr></thead><tbody><tr><td align="center"><code>&lt;style&gt;</code></td><td align="left">定义样式定义。</td></tr><tr><td align="center"><code>&lt;link&gt;</code></td><td align="left">定义资源引用。</td></tr><tr><td align="center"><code>&lt;div&gt;</code></td><td align="left">定义文档中的节或区域（块级）。</td></tr><tr><td align="center"><code>&lt;span&gt;</code></td><td align="left">定义文档中的行内的小块或区域。</td></tr><tr><td align="center"><code>&lt;font&gt;</code></td><td align="left">规定文本的字体、字体尺寸、字体颜色。不赞成使用。请使用样式。</td></tr><tr><td align="center"><code>&lt;basefont&gt;</code></td><td align="left">定义基准字体。不赞成使用。请使用样式。</td></tr><tr><td align="center"><code>&lt;center&gt;</code></td><td align="left">对文本进行水平居中。不赞成使用。请使用样式。</td></tr></tbody></table><p><a href="https://www.w3school.com.cn/html/html_images.asp#more_examples" target="_blank" rel="noopener">图片自定义设置</a></p><p><a href="https://www.w3school.com.cn/html/html_tables.asp" target="_blank" rel="noopener">表格自定义设置</a></p><p><a href="https://www.w3school.com.cn/html/html_lists.asp" target="_blank" rel="noopener">列表自定义设置</a></p><h2 id="快速参考"><a href="#快速参考" class="headerlink" title="快速参考"></a>快速参考</h2><h3 id="HTML-Basic-Document"><a href="#HTML-Basic-Document" class="headerlink" title="HTML Basic Document"></a>HTML Basic Document</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>Document name goes here<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">Visible text goes here</span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="Text-Elements"><a href="#Text-Elements" class="headerlink" title="Text Elements"></a>Text Elements</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>This is a paragraph<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">br</span>&gt;</span> (line break)</span><br><span class="line"><span class="tag">&lt;<span class="name">hr</span>&gt;</span> (horizontal rule)</span><br><span class="line"><span class="tag">&lt;<span class="name">pre</span>&gt;</span>This text is preformatted<span class="tag">&lt;/<span class="name">pre</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="Logical-Styles"><a href="#Logical-Styles" class="headerlink" title="Logical Styles"></a>Logical Styles</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">em</span>&gt;</span>This text is emphasized<span class="tag">&lt;/<span class="name">em</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">strong</span>&gt;</span>This text is strong<span class="tag">&lt;/<span class="name">strong</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">code</span>&gt;</span>This is some computer code<span class="tag">&lt;/<span class="name">code</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="Physical-Styles"><a href="#Physical-Styles" class="headerlink" title="Physical Styles"></a>Physical Styles</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">b</span>&gt;</span>This text is bold<span class="tag">&lt;/<span class="name">b</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">i</span>&gt;</span>This text is italic<span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line"></span><br><span class="line">Links, Anchors, and Image Elements</span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"http://www.example.com/"</span>&gt;</span>This is a Link<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"http://www.example.com/"</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"URL"</span></span></span><br><span class="line"><span class="tag"><span class="attr">alt</span>=<span class="string">"Alternate Text"</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"mailto:webmaster@example.com"</span>&gt;</span>Send e-mail<span class="tag">&lt;/<span class="name">a</span>&gt;</span>A named </span><br><span class="line">anchor:</span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">name</span>=<span class="string">"tips"</span>&gt;</span>Useful Tips Section<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#tips"</span>&gt;</span>Jump to the Useful Tips Section<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="Unordered-list"><a href="#Unordered-list" class="headerlink" title="Unordered list"></a>Unordered list</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">li</span>&gt;</span>First item<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">li</span>&gt;</span>Next item<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="Ordered-list"><a href="#Ordered-list" class="headerlink" title="Ordered list"></a>Ordered list</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ol</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">li</span>&gt;</span>First item<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">li</span>&gt;</span>Next item<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ol</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="Definition-list"><a href="#Definition-list" class="headerlink" title="Definition list"></a>Definition list</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dl</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dt</span>&gt;</span>First term<span class="tag">&lt;/<span class="name">dt</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dd</span>&gt;</span>Definition<span class="tag">&lt;/<span class="name">dd</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dt</span>&gt;</span>Next term<span class="tag">&lt;/<span class="name">dt</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dd</span>&gt;</span>Definition<span class="tag">&lt;/<span class="name">dd</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dl</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="Tables"><a href="#Tables" class="headerlink" title="Tables"></a>Tables</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">table</span> <span class="attr">border</span>=<span class="string">"1"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">th</span>&gt;</span>someheader<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">th</span>&gt;</span>someheader<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">td</span>&gt;</span>sometext<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">td</span>&gt;</span>sometext<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="Frames"><a href="#Frames" class="headerlink" title="Frames"></a>Frames</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">frameset</span> <span class="attr">cols</span>=<span class="string">"25%,75%"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">frame</span> <span class="attr">src</span>=<span class="string">"page1.htm"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">frame</span> <span class="attr">src</span>=<span class="string">"page2.htm"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">frameset</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="Forms"><a href="#Forms" class="headerlink" title="Forms"></a>Forms</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">"http://www.example.com/test.asp"</span> <span class="attr">method</span>=<span class="string">"post/get"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"lastname"</span></span></span><br><span class="line"><span class="tag"><span class="attr">value</span>=<span class="string">"Nixon"</span> <span class="attr">size</span>=<span class="string">"30"</span> <span class="attr">maxlength</span>=<span class="string">"50"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"password"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">checked</span>=<span class="string">"checked"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"radio"</span> <span class="attr">checked</span>=<span class="string">"checked"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"submit"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"reset"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"hidden"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">select</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">option</span>&gt;</span>Apples</span><br><span class="line"><span class="tag">&lt;<span class="name">option</span> <span class="attr">selected</span>&gt;</span>Bananas</span><br><span class="line"><span class="tag">&lt;<span class="name">option</span>&gt;</span>Cherries</span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">textarea</span> <span class="attr">name</span>=<span class="string">"Comment"</span> <span class="attr">rows</span>=<span class="string">"60"</span></span></span><br><span class="line"><span class="tag"><span class="attr">cols</span>=<span class="string">"20"</span>&gt;</span><span class="tag">&lt;/<span class="name">textarea</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="Entities"><a href="#Entities" class="headerlink" title="Entities"></a>Entities</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&amp;lt; is the same as <span class="tag">&lt;</span></span><br><span class="line"><span class="tag">&amp;<span class="attr">gt</span>; <span class="attr">is</span> <span class="attr">the</span> <span class="attr">same</span> <span class="attr">as</span> &gt;</span></span><br><span class="line">&amp;#169; is the same as ©</span><br></pre></td></tr></table></figure><h3 id="Other-Elements"><a href="#Other-Elements" class="headerlink" title="Other Elements"></a>Other Elements</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- This is a comment --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">blockquote</span>&gt;</span></span><br><span class="line">Text quoted from some source.</span><br><span class="line"><span class="tag">&lt;/<span class="name">blockquote</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">address</span>&gt;</span></span><br><span class="line">Address 1<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">Address 2<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">City<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">address</span>&gt;</span></span><br></pre></td></tr></table></figure><blockquote style="margin: 2em 0 0;padding: 0.5em 1em;border-left: 3px solid #F44336;background-color: #F5F5F5;list-style: none;"><p> <strong>本文使用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/" target="_blank" rel="noopener">CC BY-NC-SA 3.0 中国大陆</a> 协议许可<br>具体请参见 <a href="https://zyhang8.github.io/agree/" target="_blank" rel="noopener">知识共享协议</a></strong><br> <strong>本文链接：</strong><a href="https://zyhang8.github.io/2019/08/05/fish-html/" target="_blank" rel="noopener">https://zyhang8.github.io/2019/08/05/fish-html/</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 鱼的记忆 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> html </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>评测|电子产品</title>
      <link href="/2019/08/05/electronics/"/>
      <url>/2019/08/05/electronics/</url>
      
        <content type="html"><![CDATA[<h2 id="Electronics"><a href="#Electronics" class="headerlink" title="Electronics"></a>Electronics</h2><h3 id="玩客云"><a href="#玩客云" class="headerlink" title="玩客云"></a>玩客云</h3><p>一开始接触发挥不到他的长处，后来感觉切实好用，注册账号后就有了自己的私有云，支持u盘sd卡插入，相机导相片也更方便了，也没有网速限制，相当多了个私人网盘，而且手机，pc都可以使用<br>此外该产品听说还有投屏功能，有hdmi线就可以使用，暂时还没用到</p><p><img src="/img/electronics/wankeyun.png" alt="wankeyun"></p><h3 id="Canon-S200"><a href="#Canon-S200" class="headerlink" title="Canon S200"></a>Canon S200</h3><p>由于pixel xl瘫痪i6拍照太刺，想有一个专门拍照的相机，也顺便学学摄影，这款卡片机听说性价比很高。搭配约1010万像素CCD传感器，搭载了DIGIC5影像处理器，3.0英寸46万分辨率显示屏。<br>不过拍出来的照片噪点还是有点高，而且自动对焦也还是有所欠缺，夜晚闪光灯在中低端最佳，低光环境下就完全不行了，此外wifi传输也极为方便，在夏天使用太多也会稍微发烫。</p><p><img src="/img/electronics/canon_s200.png" alt="canon_s200"></p><h3 id="Pixel-Xl-美版v版"><a href="#Pixel-Xl-美版v版" class="headerlink" title="Pixel Xl 美版v版"></a>Pixel Xl 美版v版</h3><p>一开始发布时确实引起很多关注，在idox评分达到90，在当时并列第一，体验也不错，官方推送安卓版本最先，最早体验了8.2和安卓p，不过太先体验也有很多问题，很多软件基本挂掉而且系统也时不时瘫痪，后来还是倒刷回原来版本。背部玻璃设计也是很美，拿起来很饱和。不过这款确实得需要用才能发挥出长处，当时的黑域也限制了大批国内毒瘤软件，而且还得科学上网才可以体验全家桶和google服务<br>缺点就是使用久掉电太快，一天得充好几次，也容易发烫，而且最近频繁自动开关机，芯片除了问题也拿去维修，维修费也好贵大概可以买一只二手的了，不过google公司的文化还是值得去<del>信仰</del></p><p><img src="/img/electronics/pixel_xl.png" alt="pixel_xl"></p><blockquote style="margin: 2em 0 0;padding: 0.5em 1em;border-left: 3px solid #F44336;background-color: #F5F5F5;list-style: none;"><p> <strong>本文使用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/" target="_blank" rel="noopener">CC BY-NC-SA 3.0 中国大陆</a> 协议许可<br>具体请参见 <a href="https://zyhang8.github.io/agree/" target="_blank" rel="noopener">知识共享协议</a></strong><br> <strong>本文链接：</strong><a href="https://zyhang8.github.io/2019/08/05/electronics/" target="_blank" rel="noopener">https://zyhang8.github.io/2019/08/05/electronics/</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 评测 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 评测 </tag>
            
            <tag> 电子产品 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>评测|鼠标</title>
      <link href="/2019/08/05/mouse/"/>
      <url>/2019/08/05/mouse/</url>
      
        <content type="html"><![CDATA[<h2 id="mouse"><a href="#mouse" class="headerlink" title="mouse"></a>mouse</h2><p>由于使用了很多款鼠标,确实好鼠标和坏鼠标存在很多区别,包括游戏鼠标和办公鼠标,下面对其使用感受进行记录</p><h3 id="Microsoft-Sculpt-Ergonomic无线鼠标"><a href="#Microsoft-Sculpt-Ergonomic无线鼠标" class="headerlink" title="Microsoft Sculpt Ergonomic无线鼠标"></a>Microsoft Sculpt Ergonomic无线鼠标</h3><p>这款大馒头的亮点就是流线型曲线设计，能够最大限度增加舒适度，不过也只能适合手大的人使用，续航也不错，驱动比正常鼠标驱动要大</p><p><img src="/img/mouse/microsoft_sculpt.png" alt="microsoft_sculpt"></p><h3 id="magic-trackpad2"><a href="#magic-trackpad2" class="headerlink" title="magic trackpad2"></a>magic trackpad2</h3><p>使用了长久鼠标后，一开始使用这个妙控板和imac搭配使用确实不太习惯，不过后来确实感觉不错，使用触摸板比鼠标效率要高一些，并且支持无线，imac自动匹配触摸板，不过如果你设置了取消轻触功能，在进行大批量的工作时手指会累(建议开启),并且触摸板边缘手势也很灵敏，如果你使用imac确实值得推荐这款产品</p><p><img src="/img/mouse/magic_trackpad2.png" alt="magic_trackpad2"></p><h3 id="ThinkPad-A36193"><a href="#ThinkPad-A36193" class="headerlink" title="ThinkPad A36193"></a>ThinkPad A36193</h3><p>作为出差可以选择，轻盈编写，而且电池续航不担心没电，就是用就之后左键会不灵敏，不知道是什么原因</p><p><img src="/img/mouse/thinkpad_a36193.png" alt="thinkpad_a36193"></p><h3 id="Logitech-G502"><a href="#Logitech-G502" class="headerlink" title="Logitech G502"></a>Logitech G502</h3><p>打游戏还是不错的，可以自动以加重，并且快捷键方面也做的不错</p><p><img src="/img/mouse/logitech_g502.png" alt="logitech_g502"></p><h3 id="Logitech-G402"><a href="#Logitech-G402" class="headerlink" title="Logitech G402"></a>Logitech G402</h3><p>一开始用感觉还不错，但是到后面出现滚轮故障，滑动方向断续相反，而且感觉鼠标下面的加重还是太重，办公起来不太舒服</p><p><img src="/img/mouse/logitech_g403.png" alt="logitech_g403"></p><h3 id="Logitech-M220"><a href="#Logitech-M220" class="headerlink" title="Logitech M220"></a>Logitech M220</h3><p>手小福利</p><p><img src="/img/mouse/logitech_m220.png" alt="logitech_m220"></p><h3 id="Logitech-M330"><a href="#Logitech-M330" class="headerlink" title="Logitech M330"></a>Logitech M330</h3><p>这款轻盈编写静音确实是外出不错选择，但是功能单一，适合办公</p><p><img src="/img/mouse/logitech_g403.png" alt="logitech_g403"></p><blockquote style="margin: 2em 0 0;padding: 0.5em 1em;border-left: 3px solid #F44336;background-color: #F5F5F5;list-style: none;"><p> <strong>本文使用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/" target="_blank" rel="noopener">CC BY-NC-SA 3.0 中国大陆</a> 协议许可<br>具体请参见 <a href="https://zyhang8.github.io/agree/" target="_blank" rel="noopener">知识共享协议</a></strong><br> <strong>本文链接：</strong><a href="https://zyhang8.github.io/2019/07/18/Ningbo/" target="_blank" rel="noopener">https://zyhang8.github.io/2019/07/18/Ningbo/</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 评测 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 评测 </tag>
            
            <tag> 耳机 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>鱼的记忆|英文缩写全称易忘大全</title>
      <link href="/2019/08/04/definitions/"/>
      <url>/2019/08/04/definitions/</url>
      
        <content type="html"><![CDATA[<blockquote><p>之前看过不少英文缩写定义,不过也是功利性的记了一下,隔天就忘,所以写一篇文档专门记录容易忘的英文缩写全称,等真正记住了再删掉</p></blockquote><p><code>持续更新…………</code></p><h2 id="AI-amp-Love"><a href="#AI-amp-Love" class="headerlink" title="AI &amp; Love"></a>AI &amp; Love</h2><table><thead><tr><th align="center">英文缩写</th><th align="center">全称</th></tr></thead><tbody><tr><td align="center">CVPR</td><td align="center">IEEE国际计算机视觉与模式识别会议</td></tr><tr><td align="center">WAIC</td><td align="center">世界人工智能大会</td></tr><tr><td align="center">KNN</td><td align="center">知识发现与数据挖掘</td></tr><tr><td align="center">OCR</td><td align="center">光学字符识别</td></tr><tr><td align="center">CVPR</td><td align="center">计算机视觉和模式识别领域的顶级会议</td></tr><tr><td align="center">IEEE</td><td align="center">电气和电子工程师协会</td></tr><tr><td align="center">AAAI</td><td align="center">美国人工智能协会</td></tr><tr><td align="center">ECCV</td><td align="center">欧洲计算机视觉国际会议</td></tr><tr><td align="center">ICCV</td><td align="center">国际计算机视觉大会</td></tr><tr><td align="center">ICLR</td><td align="center">国际学习表征会议</td></tr><tr><td align="center">NIPS</td><td align="center">神经信息处理系统大会+</td></tr><tr><td align="center">ICML</td><td align="center">国际机器学习大会</td></tr><tr><td align="center">IJCV</td><td align="center">国际期刊计算机视觉</td></tr><tr><td align="center">PAMI</td><td align="center">模式识别和机器学习期刊</td></tr><tr><td align="center">IJCAI</td><td align="center">人工智能国际联合大会</td></tr><tr><td align="center">ACM/MM</td><td align="center">全球多媒体领域的顶级会议</td></tr><tr><td align="center">TNNLS</td><td align="center">神经网络与学习系统交易期刊</td></tr><tr><td align="center">ACL</td><td align="center">国际计算语言学协会</td></tr><tr><td align="center">EMNLP</td><td align="center">自然语言处理领域的顶级会议</td></tr><tr><td align="center">KDD</td><td align="center">国际数据挖掘领域的顶级会议</td></tr><tr><td align="center">ICIP</td><td align="center">国际信息处理会议</td></tr></tbody></table><h2 id="Algorithm-amp-Model"><a href="#Algorithm-amp-Model" class="headerlink" title="Algorithm &amp; Model"></a>Algorithm &amp; Model</h2><table><thead><tr><th align="center">英文缩写</th><th align="center">全称</th></tr></thead><tbody><tr><td align="center">knn</td><td align="center">k近邻法</td></tr><tr><td align="center">CNN</td><td align="center">卷积神经网络</td></tr><tr><td align="center">RNN</td><td align="center">循环神经网络</td></tr><tr><td align="center">CTPN</td><td align="center">连接主义文本建议网络</td></tr><tr><td align="center">ResNet</td><td align="center">残差网络</td></tr><tr><td align="center">RPN</td><td align="center">全卷积网络</td></tr><tr><td align="center">SVM</td><td align="center">支持向量机</td></tr><tr><td align="center">GBDT</td><td align="center">梯度下降树</td></tr><tr><td align="center">XGBoost</td><td align="center">极端梯度提升</td></tr><tr><td align="center">DMTK</td><td align="center">微软分布式机器学习工具包</td></tr><tr><td align="center">LightGBM</td><td align="center">基于决策树算法的分布式梯度提升</td></tr><tr><td align="center">GAN</td><td align="center">生成式对抗网络</td></tr><tr><td align="center">ID3</td><td align="center">决策树算法</td></tr><tr><td align="center">Gini</td><td align="center">基尼系数算法</td></tr><tr><td align="center">AnchorFree</td><td align="center">目标检测算法</td></tr><tr><td align="center">FCOS</td><td align="center">目标检测算法</td></tr><tr><td align="center">FASF</td><td align="center">目标检测算法</td></tr><tr><td align="center">CTC</td><td align="center">解决输入序列和输出序列</td></tr><tr><td align="center">R-CNN</td><td align="center">目标检测</td></tr><tr><td align="center">Fast R-CNN</td><td align="center">目标检测</td></tr><tr><td align="center">Faster R-CNN</td><td align="center">目标检测</td></tr><tr><td align="center">VGGNet</td><td align="center">卷积网络模型</td></tr><tr><td align="center">VGG</td><td align="center">卷积神经网络模型</td></tr><tr><td align="center">ImageNet</td><td align="center">用于视觉对象识别软件研究的大型可视化数据库</td></tr><tr><td align="center">MS COCO</td><td align="center">当前目标识别、检测等领域的一个最权威、最重要的标杆</td></tr><tr><td align="center">BN</td><td align="center">批量归一化(Batch Normalization)</td></tr><tr><td align="center">OEM</td><td align="center">半结构化数据的模式</td></tr><tr><td align="center">DBN</td><td align="center">深信度网络</td></tr><tr><td align="center">NNs</td><td align="center">神经网络</td></tr><tr><td align="center">ANNs</td><td align="center">人工神经网络</td></tr><tr><td align="center">NBM</td><td align="center">朴素贝叶斯模型</td></tr></tbody></table><h2 id="ML-amp-DL"><a href="#ML-amp-DL" class="headerlink" title="ML &amp; DL"></a>ML &amp; DL</h2><table><thead><tr><th align="center">英文缩写</th><th align="center">全称</th></tr></thead><tbody><tr><td align="center">MLE</td><td align="center">最大似然估计</td></tr><tr><td align="center">MAP</td><td align="center">最大后验概率</td></tr><tr><td align="center">ROC</td><td align="center">接受者操作特征曲线</td></tr><tr><td align="center">AUC</td><td align="center">ROC曲线下与坐标轴围成的面积</td></tr><tr><td align="center">FPR</td><td align="center">伪阳性率</td></tr><tr><td align="center">TPR</td><td align="center">真阳性率</td></tr><tr><td align="center">FNR</td><td align="center">伪阴性率</td></tr><tr><td align="center">TNR</td><td align="center">真阴性率</td></tr><tr><td align="center">DAG</td><td align="center">有向无环图</td></tr></tbody></table><h2 id="NLP"><a href="#NLP" class="headerlink" title="NLP"></a>NLP</h2><table><thead><tr><th align="center">英文缩写</th><th align="center">全称</th></tr></thead><tbody><tr><td align="center">BERT</td><td align="center">NLP模型</td></tr><tr><td align="center">GPT</td><td align="center">NLP模型</td></tr></tbody></table><h2 id="GPU"><a href="#GPU" class="headerlink" title="GPU"></a>GPU</h2><table><thead><tr><th align="center">英文缩写</th><th align="center">全称</th></tr></thead><tbody><tr><td align="center">CUDA</td><td align="center">NVIDIA运算平台</td></tr><tr><td align="center">cuDNN</td><td align="center">深度神经网络的GPU加速库</td></tr></tbody></table><h2 id="Information-security"><a href="#Information-security" class="headerlink" title="Information security"></a>Information security</h2><table><thead><tr><th align="center">英文缩写</th><th align="center">全称</th></tr></thead><tbody><tr><td align="center">SET协议</td><td align="center">安全电子交易协议</td></tr><tr><td align="center">IPSec</td><td align="center">Internet协议安全性</td></tr><tr><td align="center">VPN</td><td align="center">虚拟专用网络</td></tr><tr><td align="center">SSL</td><td align="center">安全套接层</td></tr><tr><td align="center">TLS</td><td align="center">传输层安全协议</td></tr><tr><td align="center">SGD</td><td align="center">标准的反向传播和随机梯度下降</td></tr><tr><td align="center">pkc</td><td align="center">公钥证书</td></tr><tr><td align="center">PKI</td><td align="center">公钥基础设施</td></tr><tr><td align="center">ARP</td><td align="center">地址解析协议</td></tr><tr><td align="center">CERT</td><td align="center">计算机应急响应小组</td></tr></tbody></table><h2 id="IS-Algorithm"><a href="#IS-Algorithm" class="headerlink" title="IS Algorithm"></a>IS Algorithm</h2><table><thead><tr><th align="center">英文缩写</th><th align="center">全称</th></tr></thead><tbody><tr><td align="center">caesar</td><td align="center">恺撒密码</td></tr><tr><td align="center">Playfair</td><td align="center"></td></tr><tr><td align="center">Hill</td><td align="center">希尔加密</td></tr><tr><td align="center">Vigenere</td><td align="center">维吉利亚加密</td></tr><tr><td align="center">MD5</td><td align="center">MD5消息摘要算法</td></tr><tr><td align="center">DES</td><td align="center">数据加密标准</td></tr><tr><td align="center">DEA</td><td align="center">数据加密算法</td></tr><tr><td align="center">One-Time Pad</td><td align="center">一次一密加密</td></tr><tr><td align="center">Feistel密码结构</td><td align="center">费斯妥密码，分组密码中的一种对称结构</td></tr><tr><td align="center">3DES</td><td align="center">三重数据加密算法</td></tr><tr><td align="center">PIN</td><td align="center">个人识别密码</td></tr><tr><td align="center">MAC</td><td align="center">媒体存取控制位址</td></tr><tr><td align="center">AES</td><td align="center">高级加密标准</td></tr><tr><td align="center">DSS</td><td align="center">数字签名标准</td></tr><tr><td align="center">DSA</td><td align="center">数字签名算法</td></tr><tr><td align="center">ECC</td><td align="center">椭圆曲线加密</td></tr></tbody></table><h2 id="ICT"><a href="#ICT" class="headerlink" title="ICT"></a>ICT</h2><table><thead><tr><th align="center">英文缩写</th><th align="center">全称</th></tr></thead><tbody><tr><td align="center">ICT</td><td align="center">信息和通信技术</td></tr><tr><td align="center">AM</td><td align="center">调幅</td></tr><tr><td align="center">FM</td><td align="center">调频</td></tr><tr><td align="center">PM</td><td align="center">调相</td></tr><tr><td align="center">QAM</td><td align="center">正交振幅调频</td></tr><tr><td align="center">STDM</td><td align="center">统计时分复用</td></tr><tr><td align="center">TDM</td><td align="center">时分复用</td></tr><tr><td align="center">SDH</td><td align="center">同步数字体系</td></tr><tr><td align="center">NFV</td><td align="center">网络功能虚拟化</td></tr><tr><td align="center">NFC</td><td align="center">近场通信</td></tr><tr><td align="center">RFID</td><td align="center">射频识别</td></tr><tr><td align="center">WDM</td><td align="center">波分复用</td></tr><tr><td align="center">IRC</td><td align="center">互联网中继协议</td></tr><tr><td align="center">FDM</td><td align="center">频分复用</td></tr><tr><td align="center">HFC</td><td align="center">混合光纤同轴电缆网</td></tr><tr><td align="center">ADSL</td><td align="center">非对称数字用户线路</td></tr><tr><td align="center">DSL</td><td align="center">数字用户线路</td></tr><tr><td align="center">FTTH</td><td align="center">光迁到户</td></tr><tr><td align="center">DWDM</td><td align="center">密集波分复用</td></tr><tr><td align="center">EDFA</td><td align="center">掺铒光纤放大器</td></tr><tr><td align="center">CDM</td><td align="center">码分复用</td></tr><tr><td align="center">TDMA</td><td align="center">时分多址</td></tr><tr><td align="center">CDMA</td><td align="center">马分多址</td></tr><tr><td align="center">DSSS</td><td align="center">直接序列扩频</td></tr><tr><td align="center">FHSS</td><td align="center">调频扩频</td></tr><tr><td align="center">SONET</td><td align="center">同步光纤网</td></tr><tr><td align="center">STS</td><td align="center">同步传送信号</td></tr><tr><td align="center">OC</td><td align="center">光载波</td></tr><tr><td align="center">SDH</td><td align="center">同步数字体系</td></tr><tr><td align="center">STM</td><td align="center">同步传递模块</td></tr><tr><td align="center">DMT</td><td align="center">离散多音调</td></tr><tr><td align="center">DSLAM</td><td align="center">数字用户线接入复用器</td></tr><tr><td align="center">ATU</td><td align="center">接入端接单元</td></tr><tr><td align="center">SRA</td><td align="center">无缝速率自适应</td></tr><tr><td align="center">SDSL</td><td align="center">对称DSL</td></tr><tr><td align="center">OFDM</td><td align="center">正交频分复用</td></tr><tr><td align="center">HFC</td><td align="center">光纤同轴混合网</td></tr><tr><td align="center">ODN</td><td align="center">光配线网</td></tr><tr><td align="center">PON</td><td align="center">无光源网络</td></tr><tr><td align="center">ONU</td><td align="center">光网络单元</td></tr><tr><td align="center">OLT</td><td align="center">光线路终端</td></tr><tr><td align="center">EPON</td><td align="center">以太网无光源网络</td></tr><tr><td align="center">GPON</td><td align="center">吉比特无光源网络</td></tr><tr><td align="center">GEM</td><td align="center">通用封装方法</td></tr><tr><td align="center">FTTC</td><td align="center">光纤到路边</td></tr><tr><td align="center">FTTZ</td><td align="center">光纤到小区</td></tr><tr><td align="center">FTTB</td><td align="center">光纤到大楼</td></tr><tr><td align="center">FTTF</td><td align="center">光纤到楼层</td></tr><tr><td align="center">FTTO</td><td align="center">光纤到办公室</td></tr><tr><td align="center">FTTD</td><td align="center">光纤到桌面</td></tr><tr><td align="center">PCM</td><td align="center">脉冲编码调制</td></tr><tr><td align="center">TDD</td><td align="center">时分双工</td></tr><tr><td align="center">HDSL</td><td align="center">高速率数字用户线路</td></tr><tr><td align="center">VDSL</td><td align="center">甚高速数字用户环路</td></tr><tr><td align="center">RADSL</td><td align="center">速率自适应DSL</td></tr></tbody></table><h2 id="UI"><a href="#UI" class="headerlink" title="UI"></a>UI</h2><table><thead><tr><th align="center">英文缩写</th><th align="center">全称</th></tr></thead><tbody><tr><td align="center">url</td><td align="center">统一资源定位符</td></tr><tr><td align="center">svg</td><td align="center">可缩放的矢量图形</td></tr><tr><td align="center">RWD</td><td align="center">响应式 Web 设计</td></tr><tr><td align="center">ISP</td><td align="center">互联网服务提供商</td></tr><tr><td align="center">DTD</td><td align="center">文档定义类型</td></tr><tr><td align="center">SGML</td><td align="center">标准通用标记语言</td></tr></tbody></table><h2 id="Linux"><a href="#Linux" class="headerlink" title="Linux"></a>Linux</h2><table><thead><tr><th align="center">英文缩写</th><th align="center">全称</th></tr></thead><tbody><tr><td align="center">IDE</td><td align="center">控制器与盘体集成在一起的硬盘驱动器</td></tr><tr><td align="center">SCSI</td><td align="center">小型计算机系统接口</td></tr><tr><td align="center">TPS</td><td align="center">事务数/秒</td></tr><tr><td align="center">QPS</td><td align="center">每秒查询率</td></tr><tr><td align="center">NAS</td><td align="center">网络附属存储</td></tr><tr><td align="center">FAQ</td><td align="center">问题解答</td></tr><tr><td align="center">DRAM</td><td align="center">动态随机存取存储器</td></tr><tr><td align="center">BIOS</td><td align="center">基本输入输出系统</td></tr><tr><td align="center">GPU</td><td align="center">图像处理器</td></tr><tr><td align="center">PCI</td><td align="center">外设部件互连标准</td></tr><tr><td align="center">CISC</td><td align="center">复杂指令系统计算机</td></tr><tr><td align="center">RISC</td><td align="center">精简指令集计算机</td></tr></tbody></table><h2 id="BI"><a href="#BI" class="headerlink" title="BI"></a>BI</h2><table><thead><tr><th align="center">英文缩写</th><th align="center">全称</th></tr></thead><tbody><tr><td align="center">UGC,UUC</td><td align="center">用户原创内容</td></tr><tr><td align="center">PGC,PPC</td><td align="center">专业生产内容、专家生产内容</td></tr><tr><td align="center">OGC</td><td align="center">职业生产内容</td></tr><tr><td align="center">O2O</td><td align="center">线下的商务机会与互联网结合</td></tr><tr><td align="center">B2C</td><td align="center">商对客电子商务模式</td></tr><tr><td align="center">PUGC</td><td align="center">专业用户生产内容</td></tr></tbody></table><h2 id="Digital-Image-Processing"><a href="#Digital-Image-Processing" class="headerlink" title="Digital Image Processing"></a>Digital Image Processing</h2><table><thead><tr><th align="center">英文缩写</th><th align="center">全称</th></tr></thead><tbody><tr><td align="center">ISP</td><td align="center">图像信号处理</td></tr><tr><td align="center">ROI</td><td align="center">感兴趣区域</td></tr><tr><td align="center">bin</td><td align="center">直条，组距</td></tr><tr><td align="center">H-S直方图</td><td align="center">色调-饱和度直方图</td></tr><tr><td align="center">HSV</td><td align="center">色调,饱和度,明度</td></tr><tr><td align="center">MSER</td><td align="center">较大稳定极致值域</td></tr><tr><td align="center">MPP</td><td align="center">最小周长多边形</td></tr><tr><td align="center">FT</td><td align="center">非周期性连续信号,傅立叶变换</td></tr><tr><td align="center">FS</td><td align="center">周期性连续信号,傅立叶级数</td></tr><tr><td align="center">DTFT</td><td align="center">非周期性离散信号,离散时域傅立叶变换</td></tr><tr><td align="center">DFS</td><td align="center">周期性离散信号,离散傅立叶变换</td></tr><tr><td align="center">GHPF</td><td align="center">高斯高通滤波器</td></tr><tr><td align="center">IHPF</td><td align="center">理想高通滤波器</td></tr><tr><td align="center">BHPF</td><td align="center">巴特沃斯高通滤波器</td></tr><tr><td align="center">DRC</td><td align="center">动态范围压缩</td></tr><tr><td align="center">HDR</td><td align="center">高动态范围图像</td></tr><tr><td align="center">LDR</td><td align="center">低动态范围图像</td></tr><tr><td align="center">SSR</td><td align="center">单尺度Retinex算法</td></tr><tr><td align="center">MSR</td><td align="center">多尺度Retinex算法</td></tr></tbody></table><h2 id="Architect"><a href="#Architect" class="headerlink" title="Architect"></a>Architect</h2><table><thead><tr><th align="center">英文缩写</th><th align="center">全称</th></tr></thead><tbody><tr><td align="center">ADL</td><td align="center">架构描述语言</td></tr><tr><td align="center">HSA</td><td align="center">异构系统架构</td></tr></tbody></table><h2 id="Data"><a href="#Data" class="headerlink" title="Data"></a>Data</h2><table><thead><tr><th align="center">英文缩写</th><th align="center">全称</th></tr></thead><tbody><tr><td align="center">DW/DWH</td><td align="center">数据仓库</td></tr><tr><td align="center">.dll</td><td align="center">动态链接库</td></tr><tr><td align="center">ODBC</td><td align="center">开放数据库连接</td></tr><tr><td align="center">CDM</td><td align="center">概念模型</td></tr><tr><td align="center">PDM</td><td align="center">物理数据模型</td></tr><tr><td align="center">MAC</td><td align="center">数据链路</td></tr><tr><td align="center">MTU</td><td align="center">最大传送单元</td></tr><tr><td align="center">BER</td><td align="center">误码率</td></tr><tr><td align="center">CTC</td><td align="center">循环冗余检验</td></tr><tr><td align="center">FCS</td><td align="center">帧检验序列</td></tr><tr><td align="center">HDLC</td><td align="center">高级数据链路控制</td></tr><tr><td align="center">LCP</td><td align="center">链路控制协议</td></tr><tr><td align="center">NCP</td><td align="center">网络控制协议</td></tr><tr><td align="center">PAP</td><td align="center">口令鉴别协议</td></tr><tr><td align="center">CHAP</td><td align="center">口令握手鉴别协议</td></tr><tr><td align="center">IPCP</td><td align="center">IP控制协议</td></tr><tr><td align="center">MAC</td><td align="center">媒体接入控制</td></tr><tr><td align="center">LLC</td><td align="center">逻辑链路控制</td></tr><tr><td align="center">NIC</td><td align="center">网络接口卡</td></tr><tr><td align="center">CD</td><td align="center">冲突检测</td></tr><tr><td align="center">CSMA/CD</td><td align="center">载波监听多点接入/碰撞检测</td></tr><tr><td align="center">WAL</td><td align="center">实现原子事务的一种机制</td></tr><tr><td align="center">MVCC</td><td align="center">多版本并发控制</td></tr><tr><td align="center">LSN</td><td align="center">日志序号</td></tr><tr><td align="center">OLTP</td><td align="center">联机事务处理</td></tr><tr><td align="center">OLAP</td><td align="center">联机分析处理</td></tr><tr><td align="center">DML</td><td align="center">数据操纵语言</td></tr><tr><td align="center">DDL</td><td align="center">数据库模式定义语言</td></tr><tr><td align="center">DCL</td><td align="center">数据库控制语言</td></tr><tr><td align="center">CDC</td><td align="center">循环冗余检验</td></tr><tr><td align="center">ASK</td><td align="center">调幅</td></tr><tr><td align="center">FSK</td><td align="center">调频</td></tr><tr><td align="center">PSK</td><td align="center">相位</td></tr><tr><td align="center">RZ</td><td align="center">归零码</td></tr><tr><td align="center">NRZ</td><td align="center">不归零编码</td></tr><tr><td align="center">NRZI</td><td align="center">反向不归零编码</td></tr><tr><td align="center">CDC</td><td align="center">改变数据捕捉</td></tr><tr><td align="center">NAT</td><td align="center">网络地址转换</td></tr><tr><td align="center">NAPT</td><td align="center">网络地址与端口转换</td></tr><tr><td align="center">NLRI</td><td align="center">网络层可达性消息</td></tr><tr><td align="center">DS</td><td align="center">分配系统</td></tr><tr><td align="center">DS</td><td align="center">区分服务</td></tr><tr><td align="center">AP</td><td align="center">接入点</td></tr><tr><td align="center">AP</td><td align="center">应用程序</td></tr><tr><td align="center">WSN</td><td align="center">无限传感器网络</td></tr><tr><td align="center">CSMA/CA</td><td align="center">载波监听多点接入/冲突避免</td></tr><tr><td align="center">CSMA/CD</td><td align="center">载波监听多点接入/冲突检测</td></tr><tr><td align="center">Wi-Fi</td><td align="center">无限保真度</td></tr><tr><td align="center">BSS</td><td align="center">基本服务集</td></tr><tr><td align="center">SSID</td><td align="center">服务集标识符</td></tr><tr><td align="center">ESS</td><td align="center">扩展的服务集</td></tr><tr><td align="center">BSA</td><td align="center">基本服务集</td></tr><tr><td align="center">SCTP</td><td align="center">流控制传输协议</td></tr><tr><td align="center">TPDU</td><td align="center">运输协议数据单元</td></tr></tbody></table><h2 id="Internet-operation"><a href="#Internet-operation" class="headerlink" title="Internet operation"></a>Internet operation</h2><table><thead><tr><th align="center">英文缩写</th><th align="center">全称</th></tr></thead><tbody><tr><td align="center">SEO</td><td align="center">搜索引擎优化</td></tr><tr><td align="center">SEM</td><td align="center">搜索引擎营销</td></tr><tr><td align="center">dsp</td><td align="center">需求方平台</td></tr><tr><td align="center">SSP</td><td align="center">卖方平台</td></tr><tr><td align="center">RTB</td><td align="center">实时竞价</td></tr><tr><td align="center">pv</td><td align="center">访问量</td></tr><tr><td align="center">UV</td><td align="center">访问数</td></tr><tr><td align="center">IV</td><td align="center">初始向量</td></tr><tr><td align="center">DAU</td><td align="center">日活跃用户数量</td></tr><tr><td align="center">MAU</td><td align="center">月活跃用户量</td></tr><tr><td align="center">ARPU</td><td align="center">即每用户平均收入</td></tr><tr><td align="center">MOU</td><td align="center">平均每户每月通话时间</td></tr><tr><td align="center">OTT</td><td align="center">互联网向用户提供各种应用服务</td></tr><tr><td align="center">CPC</td><td align="center">每次点击付费广告</td></tr><tr><td align="center">CPM</td><td align="center">听到或者看到某广告的每一人平 均分担到多少广告成本</td></tr><tr><td align="center">CPA</td><td align="center">投放按广告实际效果</td></tr><tr><td align="center">CPR</td><td align="center">以浏览者的每一个回应计费</td></tr><tr><td align="center">PFP</td><td align="center">按业绩付费</td></tr><tr><td align="center">IP</td><td align="center">知识产权</td></tr><tr><td align="center">SOHO</td><td align="center">指那些专门的自由职业者</td></tr><tr><td align="center">KOL</td><td align="center">关键意见领袖</td></tr><tr><td align="center">LBS</td><td align="center">基于位置的服务</td></tr><tr><td align="center">ACG</td><td align="center">动画、漫画、游戏的总称</td></tr><tr><td align="center">SNS</td><td align="center">社交网络服务</td></tr><tr><td align="center">TMT</td><td align="center">数字新媒体</td></tr><tr><td align="center">SPAM</td><td align="center">搜索引擎欺骗技术</td></tr></tbody></table><h2 id="Career"><a href="#Career" class="headerlink" title="Career"></a>Career</h2><table><thead><tr><th align="center">英文缩写</th><th align="center">全称</th></tr></thead><tbody><tr><td align="center">GM</td><td align="center">总经理</td></tr><tr><td align="center">VP</td><td align="center">副总裁</td></tr><tr><td align="center">FVP</td><td align="center">第一副总裁</td></tr><tr><td align="center">AVP</td><td align="center">副总裁助理</td></tr><tr><td align="center">CEO</td><td align="center">首席执行官，类似总经理、总裁、是企业的法人代表</td></tr><tr><td align="center">COO</td><td align="center">首席运营官，类似常务总经理</td></tr><tr><td align="center">CFO</td><td align="center">首席财务官，类似财务总经理</td></tr><tr><td align="center">CIO</td><td align="center">首席信息官，主管企业信息的收集和发布</td></tr><tr><td align="center">CTO</td><td align="center">首席技术官，类似总工程师</td></tr><tr><td align="center">CBO</td><td align="center">首席市场官</td></tr><tr><td align="center">CPO</td><td align="center">首席产品管，CTO+CBO</td></tr><tr><td align="center">HRD</td><td align="center">人力资源总监</td></tr><tr><td align="center">OD</td><td align="center">运营总监</td></tr><tr><td align="center">MD</td><td align="center">市场总监</td></tr><tr><td align="center">OM</td><td align="center">运作总监</td></tr><tr><td align="center">PM</td><td align="center">生产经理、产品经理</td></tr><tr><td align="center">WG</td><td align="center">工作组</td></tr><tr><td align="center">RG</td><td align="center">研究组</td></tr><tr><td align="center">MKT</td><td align="center">市场部</td></tr><tr><td align="center">PS</td><td align="center">个人陈述</td></tr><tr><td align="center">RL</td><td align="center">推荐信</td></tr><tr><td align="center">CV</td><td align="center">简历</td></tr><tr><td align="center">KPI</td><td align="center">关键绩效指标</td></tr></tbody></table><h2 id="j2ee"><a href="#j2ee" class="headerlink" title="j2ee"></a>j2ee</h2><table><thead><tr><th align="center">英文缩写</th><th align="center">全称</th></tr></thead><tbody><tr><td align="center">JNDI</td><td align="center">Java命名和目录接口</td></tr><tr><td align="center">EJB</td><td align="center">企业级JavaBean</td></tr><tr><td align="center">IoC</td><td align="center">控制反转</td></tr><tr><td align="center">DI</td><td align="center">依赖注入</td></tr><tr><td align="center">TLD</td><td align="center">标签库</td></tr><tr><td align="center">CGI</td><td align="center">公共网络接口</td></tr><tr><td align="center">BLL</td><td align="center">业务逻辑层</td></tr><tr><td align="center">DAL</td><td align="center">数据访问层</td></tr><tr><td align="center">SOAP</td><td align="center">简单对象访问协议</td></tr><tr><td align="center">JTA</td><td align="center">全局事务</td></tr><tr><td align="center">JNDI</td><td align="center">Java命名和目录接口</td></tr><tr><td align="center">UML</td><td align="center">统一建模语言</td></tr></tbody></table><h2 id="Computer-Network"><a href="#Computer-Network" class="headerlink" title="Computer Network"></a>Computer Network</h2><table><thead><tr><th align="center">英文缩写</th><th align="center">全称</th></tr></thead><tbody><tr><td align="center">IIS</td><td align="center">互联网信息服务</td></tr><tr><td align="center">NetBEUI</td><td align="center">通讯协定</td></tr><tr><td align="center">NetBios</td><td align="center">网上基本输入输出系统</td></tr><tr><td align="center">OE</td><td align="center">微软公司出品的邮件管理程序</td></tr><tr><td align="center">TCP</td><td align="center">传输控制协议</td></tr><tr><td align="center">IP</td><td align="center">网际协议</td></tr><tr><td align="center">ICMP</td><td align="center">因特网消息控制协议</td></tr><tr><td align="center">IGMP</td><td align="center">网际组管理协议</td></tr><tr><td align="center">VC</td><td align="center">虚电路</td></tr><tr><td align="center">DHCP</td><td align="center">动态主机配置协议</td></tr><tr><td align="center">DNS</td><td align="center">域名系统</td></tr><tr><td align="center">POP</td><td align="center">邮局协议</td></tr><tr><td align="center">UDP</td><td align="center">用户数据包协议</td></tr><tr><td align="center">RFC</td><td align="center">一系列以编号排定的文件</td></tr><tr><td align="center">OSI</td><td align="center">开放式系统互联</td></tr><tr><td align="center">IMAP</td><td align="center">Internet消息访问协议</td></tr><tr><td align="center">CGI</td><td align="center">公共网关接口</td></tr><tr><td align="center">SSH</td><td align="center">安全外壳协议</td></tr><tr><td align="center">TELNET</td><td align="center">远程终端协议</td></tr><tr><td align="center">WWW</td><td align="center">万维网服务器</td></tr><tr><td align="center">IXP、IX</td><td align="center">互联网交换中心</td></tr><tr><td align="center">C/S</td><td align="center">客户-服务器方式</td></tr><tr><td align="center">P2P</td><td align="center">对等方式</td></tr><tr><td align="center">RFC</td><td align="center">请求评论</td></tr><tr><td align="center">WAN</td><td align="center">广域网</td></tr><tr><td align="center">LAN</td><td align="center">局域网</td></tr><tr><td align="center">MAN</td><td align="center">城域网</td></tr><tr><td align="center">PAN</td><td align="center">个人局域网</td></tr><tr><td align="center">WPAN</td><td align="center">无限个人局域网</td></tr><tr><td align="center">AN</td><td align="center">接入网</td></tr><tr><td align="center">RPR</td><td align="center">弹性分组环</td></tr><tr><td align="center">CSMA</td><td align="center">载波侦听多路访问</td></tr><tr><td align="center">OSI</td><td align="center">开放式系统互联：物理层、数据链路层、网络层、传输层、会话层、表示层和应用层</td></tr><tr><td align="center">PDA</td><td align="center">数据手持终端</td></tr><tr><td align="center">IXP</td><td align="center">互联网交换点</td></tr><tr><td align="center">RPC</td><td align="center">远程过程调用</td></tr><tr><td align="center">MOM</td><td align="center">面向消息中间件</td></tr><tr><td align="center">JMS</td><td align="center">Java消息服务</td></tr><tr><td align="center">AMQP</td><td align="center">提供统一消息服务的应用层标准高级消息队列协议</td></tr><tr><td align="center">PPPoE</td><td align="center">以太网上的点对点协议</td></tr><tr><td align="center">PPP</td><td align="center">点对点协议</td></tr><tr><td align="center">SNMP</td><td align="center">简单网络管理协议</td></tr><tr><td align="center">PDU</td><td align="center">协议数据单元</td></tr><tr><td align="center">TTL</td><td align="center">生存时间值</td></tr><tr><td align="center">SAP</td><td align="center">服务访问点</td></tr><tr><td align="center">SDU</td><td align="center">服务数据单元</td></tr><tr><td align="center">NSA</td><td align="center">非独立组网</td></tr><tr><td align="center">SA</td><td align="center">独立组网</td></tr><tr><td align="center">SD-WAN</td><td align="center">软件定义广域网</td></tr><tr><td align="center">SDN</td><td align="center">软件定义网络</td></tr><tr><td align="center">OpenFlow</td><td align="center">网络通信协议，属于数据链路层</td></tr><tr><td align="center">QoS</td><td align="center">服务质量</td></tr><tr><td align="center">LTE</td><td align="center">通用移动通信技术的长期演进</td></tr><tr><td align="center">MPLS</td><td align="center">多协议标签交换</td></tr><tr><td align="center">DHCP</td><td align="center">动态主机设置协议</td></tr><tr><td align="center">OTA</td><td align="center">空中下载技术</td></tr><tr><td align="center">FOTA</td><td align="center">固件在线升级</td></tr><tr><td align="center">SOTA</td><td align="center">软件在线升级</td></tr><tr><td align="center">OSPF</td><td align="center">开放式最短路径优先</td></tr><tr><td align="center">IGP</td><td align="center">内部网关协议</td></tr><tr><td align="center">BGP</td><td align="center">边界网关协议</td></tr><tr><td align="center">SPI</td><td align="center">串行外设接口</td></tr><tr><td align="center">PING</td><td align="center">分组网间探测</td></tr><tr><td align="center">ARQ</td><td align="center">自动重传请求</td></tr><tr><td align="center">HDLC</td><td align="center">高级数据链路控制</td></tr><tr><td align="center">SAM</td><td align="center">用户身份认证信息</td></tr><tr><td align="center">ISDN</td><td align="center">综合业务数字网</td></tr><tr><td align="center">CDDI</td><td align="center">通用分布式数据接口</td></tr><tr><td align="center">FDDI</td><td align="center">光纤分布式数据接口</td></tr><tr><td align="center">CSU</td><td align="center">通道服务单元</td></tr><tr><td align="center">DSU</td><td align="center">数据业务单元</td></tr><tr><td align="center">DCE</td><td align="center">数据通信设备或者数据电路终端设备</td></tr><tr><td align="center">DTE</td><td align="center">数据终端设备</td></tr><tr><td align="center">PBX</td><td align="center">用户级交换机</td></tr><tr><td align="center">VOIP</td><td align="center">基于IP的语音传输</td></tr><tr><td align="center">CERNET</td><td align="center">中国教育和科研计算机网</td></tr><tr><td align="center">ICANN</td><td align="center">互联网名称与数字地址分配机构</td></tr><tr><td align="center">AS</td><td align="center">自治系统</td></tr><tr><td align="center">EGP</td><td align="center">外部网关协议</td></tr><tr><td align="center">IRP</td><td align="center">内部路由器协议</td></tr><tr><td align="center">ERP</td><td align="center">外部路由器协议</td></tr><tr><td align="center">CIDR</td><td align="center">无类别域间路由</td></tr><tr><td align="center">VLSM</td><td align="center">可变长子网掩码</td></tr><tr><td align="center">SPF</td><td align="center">最短路径优先</td></tr><tr><td align="center">ASN</td><td align="center">自治系统号</td></tr><tr><td align="center">ARQ</td><td align="center">自动重传请求</td></tr><tr><td align="center">TFTP</td><td align="center">简单文件传送协议</td></tr><tr><td align="center">FTP</td><td align="center">文件传送协议</td></tr><tr><td align="center">NFS</td><td align="center">网络文件系统</td></tr><tr><td align="center">SMTP</td><td align="center">简单邮件传送协议</td></tr><tr><td align="center">ACK</td><td align="center">确认</td></tr><tr><td align="center">URG</td><td align="center">紧急</td></tr><tr><td align="center">PSH</td><td align="center">推送</td></tr><tr><td align="center">RST</td><td align="center">复位</td></tr><tr><td align="center">FIN</td><td align="center">终止</td></tr><tr><td align="center">SYN</td><td align="center">同步</td></tr><tr><td align="center">SACK</td><td align="center">选择确认</td></tr><tr><td align="center">MSS</td><td align="center">最长报文段</td></tr><tr><td align="center">PAWS</td><td align="center">防止序号绕回</td></tr><tr><td align="center">MSC</td><td align="center">移动交换中</td></tr><tr><td align="center">MSL</td><td align="center">最长报文段寿命</td></tr><tr><td align="center">RTO</td><td align="center">超时重传时间</td></tr><tr><td align="center">NVT</td><td align="center">网络虚拟终端</td></tr><tr><td align="center">AI</td><td align="center">加法增大</td></tr><tr><td align="center">MD</td><td align="center">乘法减小</td></tr><tr><td align="center">AQM</td><td align="center">主动队列管理</td></tr><tr><td align="center">RED</td><td align="center">随机早期检测</td></tr><tr><td align="center">CR</td><td align="center">回车</td></tr><tr><td align="center">LF</td><td align="center">换行</td></tr></tbody></table><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><table><thead><tr><th align="center">英文缩写</th><th align="center">全称</th></tr></thead><tbody><tr><td align="center">STL</td><td align="center">标准模板库</td></tr><tr><td align="center">CLI</td><td align="center">命令行界面</td></tr><tr><td align="center">OOP</td><td align="center">面向对象程序设计</td></tr><tr><td align="center">AOP</td><td align="center">面向切面编程</td></tr><tr><td align="center">VCS</td><td align="center">版本控制系统</td></tr><tr><td align="center">UUID</td><td align="center">通用唯一识别码</td></tr><tr><td align="center">GNU</td><td align="center">革奴计划</td></tr></tbody></table><h2 id="Hardware"><a href="#Hardware" class="headerlink" title="Hardware"></a>Hardware</h2><table><thead><tr><th align="center">英文缩写</th><th align="center">全称</th></tr></thead><tbody><tr><td align="center">RAID</td><td align="center">独立磁盘冗余阵列</td></tr><tr><td align="center">SOC</td><td align="center">片上系统</td></tr><tr><td align="center">ASIC</td><td align="center">专用集成电路</td></tr><tr><td align="center">FPGA</td><td align="center">现场可编程逻辑门阵列</td></tr><tr><td align="center">CLB</td><td align="center">可配置逻辑模块</td></tr><tr><td align="center">IOB</td><td align="center">输入输出模块</td></tr><tr><td align="center">LCA</td><td align="center">逻辑单元阵列</td></tr><tr><td align="center">KVM</td><td align="center">过直接连接键盘、视频和鼠标 (KVM) 端口，能够访问和控制计算机</td></tr><tr><td align="center">CPE</td><td align="center">客户前置设备</td></tr><tr><td align="center">NPU</td><td align="center">嵌入式神经网络处理器</td></tr><tr><td align="center">GUP</td><td align="center">硬件加速</td></tr><tr><td align="center">CISC</td><td align="center">复杂指令计算机</td></tr><tr><td align="center">STP</td><td align="center">屏蔽双绞线</td></tr><tr><td align="center">UTP</td><td align="center">无屏蔽双绞线</td></tr><tr><td align="center">ROM</td><td align="center">只读存储器</td></tr><tr><td align="center">RAM</td><td align="center">随机存取存储器,主存</td></tr><tr><td align="center">LCD</td><td align="center">液晶显示器</td></tr><tr><td align="center">CRT</td><td align="center">阴极射线显像管</td></tr></tbody></table><h2 id="machinery"><a href="#machinery" class="headerlink" title="machinery"></a>machinery</h2><table><thead><tr><th align="center">英文缩写</th><th align="center">全称</th></tr></thead><tbody><tr><td align="center">MCU</td><td align="center">单片机</td></tr><tr><td align="center">PWM</td><td align="center">脉宽调制</td></tr><tr><td align="center">ADC</td><td align="center">模数转换器</td></tr><tr><td align="center">PID</td><td align="center">微积分算法</td></tr></tbody></table><h2 id="Cloud"><a href="#Cloud" class="headerlink" title="Cloud"></a>Cloud</h2><table><thead><tr><th align="center">英文缩写</th><th align="center">全称</th></tr></thead><tbody><tr><td align="center">IaaS</td><td align="center">基础设施即服务</td></tr><tr><td align="center">PaaS</td><td align="center">平台即服务</td></tr><tr><td align="center">SaaS</td><td align="center">软件即服务</td></tr><tr><td align="center">Raft算法</td><td align="center">一致性算法</td></tr><tr><td align="center">SLB</td><td align="center">负载均衡</td></tr><tr><td align="center">OLAP</td><td align="center">联机分析处理</td></tr></tbody></table><h2 id="IoT"><a href="#IoT" class="headerlink" title="IoT"></a>IoT</h2><table><thead><tr><th align="center">英文缩写</th><th align="center">全称</th></tr></thead><tbody><tr><td align="center">SLAM、CML</td><td align="center">定位与地图构建</td></tr></tbody></table><h2 id="ASC"><a href="#ASC" class="headerlink" title="ASC"></a>ASC</h2><table><thead><tr><th align="center">英文缩写</th><th align="center">全称</th></tr></thead><tbody><tr><td align="center">PTT</td><td align="center">一键既通</td></tr><tr><td align="center">HPC</td><td align="center">高性能计算</td></tr><tr><td align="center">JDTX</td><td align="center">分布式事务中间件</td></tr><tr><td align="center">TM</td><td align="center">事务管理器</td></tr><tr><td align="center">RM</td><td align="center">资源管理器</td></tr><tr><td align="center">SISD</td><td align="center">单指令流单数据流</td></tr><tr><td align="center">SIMD</td><td align="center">单指令流多数据流</td></tr><tr><td align="center">MISD</td><td align="center">多指令流单数据流</td></tr><tr><td align="center">MIMD</td><td align="center">多指令流多数据流</td></tr><tr><td align="center">PVP</td><td align="center">并行向量机</td></tr><tr><td align="center">SMP</td><td align="center">对称多处理机</td></tr><tr><td align="center">MPP</td><td align="center">大规模</td></tr><tr><td align="center">Cluster</td><td align="center">集群</td></tr><tr><td align="center">DSM</td><td align="center">分布式共享存储多处理机</td></tr><tr><td align="center">SSI</td><td align="center">单一系统映像</td></tr></tbody></table><h2 id="hacker"><a href="#hacker" class="headerlink" title="hacker"></a>hacker</h2><table><thead><tr><th align="center">英文缩写</th><th align="center">全称</th></tr></thead><tbody><tr><td align="center">DDOS</td><td align="center">分布式拒绝服务攻击</td></tr><tr><td align="center">DOS</td><td align="center">拒绝服务</td></tr><tr><td align="center">CSRF</td><td align="center">跨站请求伪造</td></tr><tr><td align="center">APT攻击</td><td align="center">高级可持续性攻击</td></tr></tbody></table><h2 id="DevOps"><a href="#DevOps" class="headerlink" title="DevOps"></a>DevOps</h2><table><thead><tr><th align="center">英文缩写</th><th align="center">全称</th></tr></thead><tbody><tr><td align="center">FIB</td><td align="center">路由表或信息库</td></tr><tr><td align="center">OA</td><td align="center">办公自动化</td></tr><tr><td align="center">WBS</td><td align="center">工作分解结构</td></tr><tr><td align="center">IDP</td><td align="center">苹果开发者证书</td></tr><tr><td align="center">CI/CD</td><td align="center">持续集成系统</td></tr><tr><td align="center">SCM</td><td align="center">配置管理</td></tr><tr><td align="center">CI</td><td align="center">持续集成</td></tr><tr><td align="center">CD</td><td align="center">持续交付</td></tr><tr><td align="center">QA</td><td align="center">质量保证</td></tr><tr><td align="center">rss</td><td align="center">简易信息聚合</td></tr><tr><td align="center">JIT</td><td align="center">准时制生产方式</td></tr><tr><td align="center">CMDB</td><td align="center">配置管理数据</td></tr><tr><td align="center">DMAIC</td><td align="center">定义Define、测量Measure、分析Analyze、改进Improve、控制Control</td></tr><tr><td align="center">DFSS</td><td align="center">对新流程、新产品的设计方法</td></tr><tr><td align="center">PV</td><td align="center">计划值</td></tr><tr><td align="center">EV</td><td align="center">挣值</td></tr><tr><td align="center">AC</td><td align="center">实际成本</td></tr><tr><td align="center">SV</td><td align="center">进度偏差=EV－PV</td></tr><tr><td align="center">CV</td><td align="center">成本偏差＝EV－AC</td></tr><tr><td align="center">SPI</td><td align="center">进度绩效指数＝EV/PV</td></tr><tr><td align="center">CPI</td><td align="center">成本绩效指数＝EV/AC</td></tr><tr><td align="center">RC</td><td align="center">候选版本</td></tr><tr><td align="center">GA</td><td align="center">正式发布版本</td></tr><tr><td align="center">RTM</td><td align="center">给工厂大量生产的压片版本</td></tr><tr><td align="center">OEM</td><td align="center">给计算机产商的出场销售版本</td></tr><tr><td align="center">RVL</td><td align="center">正式版</td></tr><tr><td align="center">EVAL</td><td align="center">评估版</td></tr><tr><td align="center">RTL</td><td align="center">正式上架零售版</td></tr><tr><td align="center">GM</td><td align="center">正式版前最后一个测试版本</td></tr><tr><td align="center">LTS</td><td align="center">长期演进版</td></tr><tr><td align="center">DPMO</td><td align="center">百万机会的缺陷数</td></tr></tbody></table><h2 id="remote-sensing"><a href="#remote-sensing" class="headerlink" title="remote sensing"></a>remote sensing</h2><table><thead><tr><th align="center">英文缩写</th><th align="center">全称</th></tr></thead><tbody><tr><td align="center">GNSS</td><td align="center">全球导航卫星系统</td></tr><tr><td align="center">GPS</td><td align="center">全球定位系统</td></tr></tbody></table><h2 id="Company"><a href="#Company" class="headerlink" title="Company"></a>Company</h2><table><thead><tr><th align="center">英文缩写</th><th align="center">全称</th></tr></thead><tbody><tr><td align="center">ERP</td><td align="center">企业资源计划</td></tr><tr><td align="center">CRM</td><td align="center">客户关系管理</td></tr><tr><td align="center">MES</td><td align="center">制造执行系统</td></tr><tr><td align="center">ISM</td><td align="center">工业、科学、医药</td></tr><tr><td align="center">drp</td><td align="center">配送需求计划</td></tr><tr><td align="center">OEM</td><td align="center">贴牌生产或原始设备制造商</td></tr><tr><td align="center">ODM</td><td align="center">原始设计制造商</td></tr></tbody></table><h2 id="OS"><a href="#OS" class="headerlink" title="OS"></a>OS</h2><table><thead><tr><th align="center">英文缩写</th><th align="center">全称</th></tr></thead><tbody><tr><td align="center">FHS</td><td align="center">文件系统层次化标准</td></tr><tr><td align="center">FAT</td><td align="center">文件配置表</td></tr><tr><td align="center">MAC</td><td align="center">硬件地址</td></tr></tbody></table><h2 id="Pic"><a href="#Pic" class="headerlink" title="Pic"></a>Pic</h2><table><thead><tr><th align="center">格式</th><th align="center">名称</th><th align="center">描述</th></tr></thead><tbody><tr><td align="center">PNG</td><td align="center">便携式网络图形</td><td align="center">体积小，无损压缩，索引彩色模式，更优化的网络传输显示，支持透明效果，支持Alpha通道的透明/半透明特性</td></tr><tr><td align="center">JPG</td><td align="center">常见的一种图像格式</td><td align="center">用去除冗余的图像和彩色数据，获取得极高的压缩率的同时能展现十分丰富生动的图像，换句话说，就是可以用最少的磁盘空间得到较好的图像质量</td></tr><tr><td align="center">BMP</td><td align="center">Windows操作系统中的标准图像文件格式</td><td align="center">这是一种比较老的图片格式。BMP是无损的，但同时这种图片格式几乎没有对数据进行压缩，所以BMP格式的图片通常具有较大的文件大小。虽然同时支持索引色和直接色是一个优点</td></tr><tr><td align="center">GIF</td><td align="center">图像互换格式</td><td align="center">GIF是无损的，采用GIF格式保存图片不会降低图片质量。但得益于数据的压缩，GIF格式的图片，其文件大小要远小于BMP格式的图片。文件小，是GIF格式的优点，同时，GIF格式还具有支持动画以及透明的优点。</td></tr></tbody></table><p><a href="https://www.jianshu.com/p/4d8cace82028" target="_blank" rel="noopener">详解</a></p><h2 id="Vedio"><a href="#Vedio" class="headerlink" title="Vedio"></a>Vedio</h2><table><thead><tr><th align="center">格式</th><th align="center">文件</th><th align="center">描述</th></tr></thead><tbody><tr><td align="center">AVI</td><td align="center">.avi</td><td align="center">AVI (Audio Video Interleave) 格式是由微软开发的。所有运行 Windows 的计算机都支持 AVI 格式。它是因特网上很常见的格式，但非 Windows 计算机并不总是能够播放。</td></tr><tr><td align="center">WMV</td><td align="center">.wmv</td><td align="center">Windows Media 格式是由微软开发的。Windows Media 在因特网上很常见，但是如果未安装额外的（免费）组件，就无法播放 Windows Media 电影。一些后期的 Windows Media 电影在所有非 Windows 计算机上都无法播放，因为没有合适的播放器。</td></tr><tr><td align="center">MPEG</td><td align="center">.mpg.mpeg</td><td align="center">MPEG (Moving Pictures Expert Group) 格式是因特网上最流行的格式。它是跨平台的，得到了所有最流行的浏览器的支持。</td></tr><tr><td align="center">QuickTime</td><td align="center">.mov</td><td align="center">QuickTime 格式是由苹果公司开发的。QuickTime 是因特网上常见的格式，但是 QuickTime 电影不能在没有安装额外的（免费）组件的 Windows 计算机上播放。</td></tr><tr><td align="center">RealVideo</td><td align="center">.rm.ram</td><td align="center">RealVideo 格式是由 Real Media 针对因特网开发的。该格式允许低带宽条件下（在线视频、网络电视）的视频流。由于是低带宽优先的，质量常会降低。</td></tr><tr><td align="center">Flash</td><td align="center">.swf.flv</td><td align="center">Flash (Shockwave) 格式是由 Macromedia 开发的。Shockwave 格式需要额外的组件来播放。但是该组件会预装到 Firefox 或 IE 之类的浏览器上。</td></tr><tr><td align="center">Mpeg-4</td><td align="center">.mp4</td><td align="center">Mpeg-4 (with H.264 video compression) 是一种针对因特网的新格式。事实上，YouTube 推荐使用 MP4。YouTube 接收多种格式，然后全部转换为 .flv 或 .mp4 以供分发。越来越多的视频发布者转到 MP4，将其作为 Flash 播放器和 HTML5 的因特网共享格式。</td></tr></tbody></table><h2 id="Voice"><a href="#Voice" class="headerlink" title="Voice"></a>Voice</h2><table><thead><tr><th align="center">格式</th><th align="center">文件</th><th align="center">描述</th></tr></thead><tbody><tr><td align="center">MIDI</td><td align="center">.mid.midi</td><td align="center">MIDI (Musical Instrument Digital Interface) 是一种针对电子音乐设备（比如合成器和声卡）的格式。MIDI 文件不含有声音，但包含可被电子产品（比如声卡）播放的数字音乐指令。因为 MIDI 格式仅包含指令，所以 MIDI 文件极其小巧。上面的例子只有 23k 的大小，但却能播放将近 5 分钟。MIDI 得到了广泛的平台上的大量软件的支持。大多数流行的网络浏览器都支持 MIDI。</td></tr><tr><td align="center">RealAudio</td><td align="center">.rm.ram</td><td align="center">RealAudio 格式是由 Real Media 针对因特网开发的。该格式也支持视频。该格式允许低带宽条件下的音频流（在线音乐、网络音乐）。由于是低带宽优先的，质量常会降低。</td></tr><tr><td align="center">Wave</td><td align="center">.wav</td><td align="center">Wave (waveform) 格式是由 IBM 和微软开发的。所有运行 Windows 的计算机和所有网络浏览器（除了 Google Chrome）都支持它。</td></tr><tr><td align="center">WMA</td><td align="center">.wma</td><td align="center">WMA 格式 (Windows Media Audio)，质量优于 MP3，兼容大多数播放器，除了 iPod。WMA 文件可作为连续的数据流来传输，这使它对于网络电台或在线音乐很实用。</td></tr><tr><td align="center">MP3</td><td align="center">.mp3.mpga</td><td align="center">MP3 文件实际上是 MPEG 文件的声音部分。MPEG 格式最初是由运动图像专家组开发的。MP3 是其中最受欢迎的针对音乐的声音格式。期待未来的软件系统都支持它。</td></tr></tbody></table><h2 id="MBA"><a href="#MBA" class="headerlink" title="MBA"></a>MBA</h2><table><thead><tr><th align="center">英文缩写</th><th align="center">全称</th></tr></thead><tbody><tr><td align="center">CPI</td><td align="center">居民消费价格指数</td></tr><tr><td align="center">PPI</td><td align="center">生产价格指数</td></tr><tr><td align="center">npv</td><td align="center">净现值分析</td></tr><tr><td align="center">ROI</td><td align="center">投资回报率</td></tr><tr><td align="center">IMF</td><td align="center">国际货币基金组织</td></tr><tr><td align="center">PMI</td><td align="center">采购经理指数</td></tr><tr><td align="center">IB</td><td align="center">国际文凭组织IBO</td></tr><tr><td align="center">SWOT</td><td align="center">strengths,weaknesses,opportunities,threats</td></tr><tr><td align="center">VUCA</td><td align="center">volatility,uncertainty,complexity,ambiguity</td></tr></tbody></table><h2 id="physics"><a href="#physics" class="headerlink" title="physics"></a>physics</h2><table><thead><tr><th align="center">英文缩写</th><th align="center">全称</th></tr></thead><tbody><tr><td align="center">EMP</td><td align="center">电磁脉冲</td></tr></tbody></table><h2 id="back"><a href="#back" class="headerlink" title="back"></a>back</h2><table><thead><tr><th align="center">英文缩写</th><th align="center">全称</th></tr></thead><tbody><tr><td align="center">ICBC</td><td align="center">工商银行</td></tr><tr><td align="center">ABC</td><td align="center">农业银行</td></tr><tr><td align="center">BOC</td><td align="center">中国银行</td></tr><tr><td align="center">CCB</td><td align="center">建设银行</td></tr><tr><td align="center">COMM</td><td align="center">交通银行</td></tr></tbody></table><h2 id="car"><a href="#car" class="headerlink" title="car"></a>car</h2><h2 id="device"><a href="#device" class="headerlink" title="device"></a>device</h2><table><thead><tr><th align="center">英文缩写</th><th align="center">全称</th></tr></thead><tbody><tr><td align="center">FHD</td><td align="center">全高清</td></tr><tr><td align="center">VA</td><td align="center">软屏</td></tr><tr><td align="center">IPS</td><td align="center">硬屏</td></tr><tr><td align="center">OLED</td><td align="center">有机发光二极管</td></tr><tr><td align="center">memc</td><td align="center">运动补偿</td></tr><tr><td align="center">HDR</td><td align="center">高动态范围图像</td></tr><tr><td align="center">VPU</td><td align="center">视频处理单元</td></tr></tbody></table><h2 id="live"><a href="#live" class="headerlink" title="live"></a>live</h2><table><thead><tr><th align="center">英文缩写</th><th align="center">全称</th></tr></thead><tbody><tr><td align="center">REM</td><td align="center">快速眼球运动/异相睡眠/快相睡眠/快波睡眠</td></tr></tbody></table><h2 id="life"><a href="#life" class="headerlink" title="life"></a>life</h2><table><thead><tr><th align="center">英文缩写</th><th align="center">全称</th></tr></thead><tbody><tr><td align="center">AED</td><td align="center">自动体外除颤仪</td></tr><tr><td align="center">CPR</td><td align="center">心搏骤停后的心肺复苏</td></tr></tbody></table><blockquote style="margin: 2em 0 0;padding: 0.5em 1em;border-left: 3px solid #F44336;background-color: #F5F5F5;list-style: none;"><p> <strong>本文使用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/" target="_blank" rel="noopener">CC BY-NC-SA 3.0 中国大陆</a> 协议许可<br>具体请参见 <a href="https://zyhang8.github.io/agree/" target="_blank" rel="noopener">知识共享协议</a></strong><br> <strong>本文链接：</strong><a href="https://zyhang8.github.io/2019/08/04/definitions/" target="_blank" rel="noopener">https://zyhang8.github.io/2019/08/04/definitions/</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 鱼的记忆 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 英文缩写 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>评测|耳机</title>
      <link href="/2019/08/02/handphone/"/>
      <url>/2019/08/02/handphone/</url>
      
        <content type="html"><![CDATA[<h2 id="Handphone"><a href="#Handphone" class="headerlink" title="Handphone"></a>Handphone</h2><p>注意事项：耳听为实！建议去当地的耳机店自己试听，否则可能买来之后大失所望（少数人认为自己木耳就此罢手，多数人认为器材不合适或者器材不够好再次入坑）鉴定器材的最好试音曲是古典大编制，听流行歌曲的话基本上没有必要买高班器材。请搜刘汉盛榜单100碟，无论是个人欣赏还是测试器材，这些都是真正的发烧天碟。建议收二手，省钱：）</p><hr><p>在合适<code>（乱搭配的不行）</code>的前端（播放器直推或者播放器+耳放或者转盘+解码+耳放）下：<br>差耳机：</p><ul><li>声音挤在一起，三频分不开（人声跟器乐声混成一团；本该悠扬的竖琴声却混在低低的贝司声中死气沉沉，有的器材甚至连贝司声都听不到）；</li><li>高低频延展性不佳（高频暗淡无光，张靓颖的海豚音成了奶牛牟牟声；低频硬邦邦，《太极琴侠》的开场大鼓像饭盒敲在桌子上）；</li><li>细节少，解析差（本该展现的乐曲细节却直接消失，比如歌手的口水声- -）；</li><li>结像虚，定位虚、声音散（歌手的声音空洞无物，弥散在整个声场中，飘忽不定）；</li><li>声场差（整个声音不能营造一个声场的感觉，声音几乎是从一个团里发出来的）；</li><li>声音干冷硬（戴佩妮的小女人听上去就像容嬷嬷的哀悼词，听了一会儿便兴趣索然）；</li></ul><p>好耳机：</p><ul><li>声音分离度好（10点钟方向有一把吉他，1点钟方向的歌手正在唱歌）；</li><li>三频延展性好（高频悠扬，许美静的想与你乘着流逝的时光,不管是沙漠或海洋唱起时，你的鼓膜被她嘹亮的高音震动，想一起去看海洋；加勒比海盗的主题曲一响起，你的整个嘴巴都张起，跟着一去嗡嗡）；</li><li>细节多，解析好（从没听到过如此丰富的细节，你发现原来这首曲子的乐器原来这么多）；</li><li>结像解释、定位准、声音凝聚（魔鬼的颤音里那把小提琴一想起，你会赫然发掘，啊，小提琴在11点钟方向，对，就是在那儿）</li><li>声场大（GD的light it up开始播放，鼓声从2点钟方向的最远处传来，5秒钟后，钢琴在身边的左前方弹起，20秒后，人声在正前方响起—声音有远有近，有距离感）</li><li>声音温润有感情（听着梁静茹的good night，声音婉转动听，口水声间或传来，你被歌曲中梁静茹表达的跟爱人道晚安时的欣喜幸福之情所感染，无他，唯单循N遍耳）</li><li>空气感、泛音丰富（听地中海留情大提琴，你会听到整个空气都跟着提琴弦弹弹的震动）</li><li>耐听（耐听的耳机不像有的耳机一耳朵听上去很惊艳，这种耳机多半是三频失衡，比如低频轰的你眼冒金星，高频挑的你直上云霄，中频腻的你都湿了。耐听的耳机三频分布均衡，你可以戴好几个小时都不累、都不愿意摘下来）</li></ul><p>原文链接：<a href="https://www.zhihu.com/question/20603928/answer/15616407" target="_blank" rel="noopener">https://www.zhihu.com/question/20603928/answer/15616407</a></p><h3 id="耳机使用贴"><a href="#耳机使用贴" class="headerlink" title="耳机使用贴"></a>耳机使用贴</h3><h4 id="AirPods-一代"><a href="#AirPods-一代" class="headerlink" title="AirPods 一代"></a>AirPods 一代</h4><p>刚发布时确引起一波轰动，超长续航打，搭配苹果产品使用，方便主要三大优势。虽然不容易掉，但毕竟是无线入耳刚掉还是得掉而且价格也挺昂贵，音质方面比原装耳机好那么个一丢丢，而且电池用的不长一定时间段后就得换掉，价格也挺高。</p><p><img src="/img/handphone/airpods1.png" alt="airpods1"></p><h4 id="AirPods-二代"><a href="#AirPods-二代" class="headerlink" title="AirPods 二代"></a>AirPods 二代</h4><p>更换了芯片，比一代连接更快更稳定，续航时间也久，最大亮点还是可以无线充电，并且支持siri，但是音质还是毫无改进</p><p><img src="/img/handphone/airpods2.png" alt="airpods2"></p><h4 id="B-amp-O-Beoplay-H9i"><a href="#B-amp-O-Beoplay-H9i" class="headerlink" title="B&amp;O Beoplay H9i"></a>B&amp;O Beoplay H9i</h4><p>一个学姐的耳机,试用了一下,降噪效果也太好了吧,而且音质也很好(毕竟一分钱一分货)。<br>总结起来:对声音的还原度高，修饰少，音质好，降噪极佳，格调高。</p><p><img src="/img/handphone/b&o_beoplay_h9i.png" alt="b&amp;o_beoplay_h9i"></p><h4 id="BOSE-QUIETCOMFORT35-Ⅱ"><a href="#BOSE-QUIETCOMFORT35-Ⅱ" class="headerlink" title="BOSE_QUIETCOMFORT35_Ⅱ"></a>BOSE_QUIETCOMFORT35_Ⅱ</h4><p>一开始戴起来感觉挺失望的,降噪效果没有想象中的好,而且音质确实没有索尼那么优秀。</p><p><img src="/img/handphone/bose_qc35_2.png" alt="bose_qc35_2"></p><h4 id="Beats-EP"><a href="#Beats-EP" class="headerlink" title="Beats EP"></a>Beats EP</h4><p>可以满足日常生活的需要,但是有线毕竟很麻烦,而且感觉设计也有点问题,夹耳朵的问题也很明显,也会稍微漏音</p><p><img src="/img/handphone/beats_ep.png" alt="beats_ep"></p><h4 id="Beats-Solo3-Wireless-米奇90周年纪念款"><a href="#Beats-Solo3-Wireless-米奇90周年纪念款" class="headerlink" title="Beats Solo3 Wireless 米奇90周年纪念款"></a>Beats Solo3 Wireless 米奇90周年纪念款</h4><p>音质真的很一般,而且还是有夹耳朵的问题,而且音质确实连我的h900,不过颜值还是不错的,信仰产品</p><p><img src="/img/handphone/beats_solo3_wireless.png" alt="beats_solo3_wireless"></p><h4 id="Sony-WI-1000X"><a href="#Sony-WI-1000X" class="headerlink" title="Sony WI-1000X"></a>Sony WI-1000X</h4><p>第一次使用大法的产品,感觉非常震撼。没想到颈挂式的耳机降噪也可以这么好,估计可以平标bose，而且音质秒杀beats，带上去只有音乐听不到别人说话，做工也不错，两边重量毫无相差，而且在夏天，头戴式简直太热，耳机还持续发烫对电池估计也有一定的伤害。</p><p><img src="/img/handphone/sony_wi1000x.png" alt="sony_wi1000x"></p><h4 id="Sony-WH1000XM3"><a href="#Sony-WH1000XM3" class="headerlink" title="Sony WH1000XM3"></a>Sony WH1000XM3</h4><p>一开始发布的时候就宣称最优秀的无线降噪耳机。自己试了下同学的耳机，确实音质和降噪全面超过qc35，但是感觉还是没有qc35的舒适，包括海绵还有重量，但是大法音质确实</p><p><img src="/img/handphone/sony_wh1000xm3.png" alt="sony_wh1000xm3"></p><h4 id="Sony-WH900n"><a href="#Sony-WH900n" class="headerlink" title="Sony WH900n"></a>Sony WH900n</h4><p>在用款。</p><p>一开始看了网上评价纠结于1000x还是900n，后来大街上看到同款还是挺漂亮的，而且网上说对于平时也就够了，所以就下手了。</p><hr><p>这款耳机其他不说音质还是不错的，还有app加成(信仰无价),而且降噪方面对于学习也已经足够，在平时人生还是过滤的很少，只能过滤杂音，在高铁和飞机上降噪就很明显了，飞机过滤很多，高铁的杂音也已经过滤。不过在使用后期可能有质量的小问题，看了网上也有大概就是隔了几米就断断续续，还是出现杂音，莫名断开，连接后开音乐手机还是外放？？所以现在还是有点小失望，不过一分钱一分价，音质也满足我的需求，而且颜值也高，续航久，自带触摸屏虽然没有卡槽不过也没那个必要，还是传统的梯形安卓接口加上3.5mm耳机孔综合起来性价比还是挺高的。</p><p><img src="/img/handphone/sony_wh900n.png" alt="sony_wh900n"></p><blockquote style="margin: 2em 0 0;padding: 0.5em 1em;border-left: 3px solid #F44336;background-color: #F5F5F5;list-style: none;"><p> <strong>本文使用 <a href="https://zyhang8.github.io/2019/07/10/markdown-md/" target="_blank" rel="noopener">CC BY-NC-SA 3.0 中国大陆</a> 协议许可<br>具体请参见 <a href="https://zyhang8.github.io/agree/" target="_blank" rel="noopener">知识共享协议</a></strong><br> <strong>本文链接：</strong><a href="https://zyhang8.github.io/2019/08/02/handphone/" target="_blank" rel="noopener">https://zyhang8.github.io/2019/08/02/handphone/</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 评测 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 评测 </tag>
            
            <tag> 耳机 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>开箱|键盘</title>
      <link href="/2019/07/31/keyboard/"/>
      <url>/2019/07/31/keyboard/</url>
      
        <content type="html"><![CDATA[<h2 id="Keyborad"><a href="#Keyborad" class="headerlink" title="Keyborad"></a>Keyborad</h2><p>传说程序员有四种</p><ul><li>第一种讨论键盘的</li><li>第二种讨论语言的</li><li>第三种讨论技术的</li><li>第四种就是有女朋友的</li></ul><p>自我感觉买键盘得原因</p><p>一. 是个性化，你身边有些人人都买了，你不买一个，显示不出程序员的bg<br>二. 是真的手感舒适一点嘛，笔记本廉价键盘用的实在一般，而且还得离得很近看电脑<br>三. 因为键盘会在写代码的时候给手指一个水平向下的加速度从而减少BUG的生成，在IT界我们称之为抖盘术</p><p>而键盘综合性评价往往要看做工，轴体，PCB，外壳，键帽，甚至灯效等等。当然，不同的程序员爱好不一样，手感因人而异，各有所好，选择一款适合自己的就好</p><h3 id="键帽材质"><a href="#键帽材质" class="headerlink" title="键帽材质"></a>键帽材质</h3><p>首先说一下键帽种类</p><h4 id="ABS"><a href="#ABS" class="headerlink" title="ABS"></a>ABS</h4><p>材质最成熟，高端普及全能用，无论二三百元的普及型产品还是上千元的高端旗舰机械键盘，都可以看到ABS键帽的身影。</p><p>优点:具有外观规整，细节精致，纹理均匀。不仅做工出色，使用手感也不非常不错，触感细腻舒适。<br>缺点:由于材质硬度较低，长时间使用后表面会变得油光逞亮，称为“打油”。打油后的ABS键帽不仅摸起来略为发粘，但会让整个键盘看起来显得脏兮兮油腻腻的，所以很多玩家都对ABS材质键帽存在一定的抵触情绪。</p><h4 id="PBT"><a href="#PBT" class="headerlink" title="PBT"></a>PBT</h4><p>白色岩石 手感与耐磨的最佳平衡</p><p>优点:材质强度较为出色，注塑成型时收缩率较小，耐磨性明显优于ABS材质，达到永不掉字的目的。触感干爽硬朗，有着非常独特的磨砂感。而且由于分子间隙较大且而高温，可以使用工业染料进行浸染操作，自行打造出一套独一无二的彩色键帽。</p><h4 id="POM"><a href="#POM" class="headerlink" title="POM"></a>POM</h4><p>黑色坚冰 不打油也发滑的</p><p>优点:POM材质硬度较高，耐磨度非常出色，同时还拥有自润滑的特性，所以经常用于轻量化活动部件制作。</p><p>缺点:容易打滑，由于材料本身缩率较大，过大的材料缩率，会在键帽表面留下均匀不一的收缩纹理。色彩过于单一，目前市售POM材质键帽均为黑色，这使得其只能应用在黑色键盘上</p><h3 id="轴体"><a href="#轴体" class="headerlink" title="轴体"></a>轴体</h3><h4 id="黑轴-游戏首选"><a href="#黑轴-游戏首选" class="headerlink" title="黑轴 游戏首选"></a>黑轴 游戏首选</h4><p>黑轴直上直下，被公认为游戏机械键盘的不二之选。黑轴机械键盘将给游戏过程带来酣畅淋漓的感觉。当然黑轴也可以用来打字，但是黑轴触发键程短，压力克数较大，手指劲道偏小的人用它打字久了可能稍累。<br>黑轴机械键盘的单轴使用寿命长达5000万次（其它机械键盘轴是2000万次）。<br>操作压力：58.9g±14.7g<br>没有段落感</p><h4 id="青轴-打字神器"><a href="#青轴-打字神器" class="headerlink" title="青轴 打字神器"></a>青轴 打字神器</h4><p>　　<br>青轴无论段落感、Click声音、机械感，都是cherry轴里面最强的。青轴是机械键盘的代表轴。青轴的段落感强，作为游戏来说是阻碍，比较适用于打字。其声音较大，打字时候的清脆爽快，像春天一样舒畅。<br>据说劲乐团、劲舞团玩家中意青轴，游戏玩得好不好，听声音就能知道……<br>操作压力：58.9g±14.7g<br>触感压力：58.9g±19.6g<br>段落感很好</p><h4 id="茶轴-全面兼顾"><a href="#茶轴-全面兼顾" class="headerlink" title="茶轴 全面兼顾"></a>茶轴 全面兼顾</h4><p>茶轴被认为是介于打字和游戏的中间地带。<br>茶轴对于青轴，段落感弱很多；对于黑轴，又不是直上直下。这样的手感很容易被用户接受。茶轴可谓办公游戏两相宜。称茶轴为“万用轴”更恰当。<br>操作压力：44.1g±14.7g<br>触感压力：54.0g±14.7g<br>轻微的段落</p><h4 id="红轴-长时间文字输入"><a href="#红轴-长时间文字输入" class="headerlink" title="红轴 长时间文字输入"></a>红轴 长时间文字输入</h4><p>　　<br>红轴可看作一个轻量级的黑轴：和黑轴一样的直上直下，但是压克力数更小。红轴的手感轻盈，同样能照顾游戏和打字需求。<br>操作压力44.1g±14.7g<br>没有段落感</p><h3 id="银轴"><a href="#银轴" class="headerlink" title="银轴"></a>银轴</h3><p>银轴前半程与红轴差不多柔软轻快,它俩手感相差就在后半程,红轴就算满键程怎么压按下去都软绵绵的,而银轴后半程非常硬有类似在按黑轴的感觉(个人觉得它算是个轻黑轴233).不过银轴触发距离浅,触底是没必要的,使用它只需要轻按前半程,初次使用银轴会有一个适应期.你是大力金刚指,或因为游戏类型必须满键程,那么使用起来体验会很糟糕,银轴它满键程来用就普通戳钢板一样,硬到爆,操作久了还会累手</p><h3 id="PCB"><a href="#PCB" class="headerlink" title="PCB"></a>PCB</h3><p>参考知乎的<a href="https://www.zhihu.com/question/265907245/answer/301636007" target="_blank" rel="noopener">一个评论</a><br>高低档机械键盘的差距第一点就是国产轴/樱桃轴/樱桃稀有轴/更稀有的发烧轴的差距，这几档的差距就是1个1毛到1个6块甚至更高之间的差距，一把104键的键盘，轴的成本就能体现出来了，而且这一点是一分钱一分货的东西，垃圾国产跟一些定制的稀有轴的手感体验差距大得飞天，第二点就是大键位卫星轴/平衡杆的调教，大F跟大L在这一点上调教得非常出色，同时客制化某些专门定制的平衡杆手感也很不错，第三点就是默认配的键帽，这点上大F的玄学ABS确实用料很棒，手感确实比一些定制货要好，但也就1-200的成本，第四点就是外观+牌子+玄学的加成，这点加钱非常猛，3-400的差距吧，至于题主说到PCB嘛，元件大家基本上都是用一样型号的电容，也就是元件的质量+预留灯位这些预设计的差距，以及最主要的品控等级的差距，撑死撑死也就几十块钱的差距……..所以我选择退烧量产，投入客制化大坑，客制化没有多少玄学的东西，所有零件的成本跟质量，都是心里有B数，是可控的…</p><h3 id="键盘使用感受"><a href="#键盘使用感受" class="headerlink" title="键盘使用感受"></a>键盘使用感受</h3><h4 id="ikbc-c87-青轴"><a href="#ikbc-c87-青轴" class="headerlink" title="ikbc c87 青轴"></a>ikbc c87 青轴</h4><p>这是小白进大学买的第一款机械键盘,当时由于宿舍也比较吵,想尝试一下机械键盘的清脆感,所以买来玩玩,当时给我第一感觉很震撼,没有接触过这个脆而且段落感很强的键盘。当时也考虑想买一个小一点的键盘所以选择了87键<br>优点:性价比高,青轴代表,PBT键帽,内置加厚钢板,德国原厂Cherry轴,手感舒适</p><p><img src="/img/keyboard/ikbc_c87.png" alt="ikbc_c87"></p><h4 id="ikbc-c104-静音红轴"><a href="#ikbc-c104-静音红轴" class="headerlink" title="ikbc c104 静音红轴"></a>ikbc c104 静音红轴</h4><p>这款是在使用青轴后对ikbc产生好感而买的,在使用了长时间青轴自后,确实对手指不太友好,所以买的红轴安抚一下手。确实很安静，而且代码感觉也打流利了一些,不过键帽还是有点偏硬。<br>优点:PBT键帽、内置加厚钢板、德国原厂Cherry轴，手感舒适。</p><p><img src="/img/keyboard/ikbc_c104.png" alt="ikbc_c104"></p><h3 id="ikbc-Poker-2-红轴"><a href="#ikbc-Poker-2-红轴" class="headerlink" title="ikbc Poker 2 红轴"></a>ikbc Poker 2 红轴</h3><p>61键机械键盘，小巧便捷。三层编程、PBT键帽、德国原厂Cherry轴体。<br>超级轻巧的一款键盘,之前听说好像得了什么奖(程序员最适合用的键盘??)<br>这款也是自己换的键帽,是不是还阔以。不过键盘比C104重了一点，而且声音其实也是挺响的，但是手感比C系列要好一些</p><p><img src="/img/keyboard/ikbc_poker2.png" alt="ikbc_poker2"></p><h3 id="Razer-CYNOSA-游戏薄膜键盘"><a href="#Razer-CYNOSA-游戏薄膜键盘" class="headerlink" title="Razer CYNOSA 游戏薄膜键盘"></a>Razer CYNOSA 游戏薄膜键盘</h3><p>这可能是我的第一款游戏键盘了吧,可是我又不打游戏,只想一个薄膜键盘。不过这款键盘按键不高不低而且手感也自我感觉也不是很好，可能不太适合我吧</p><p><img src="/img/keyboard/razer_cynosa.png.png" alt="razer_cynosa.png"></p><h3 id="cherry-G80-3800-茶轴"><a href="#cherry-G80-3800-茶轴" class="headerlink" title="cherry G80-3800 茶轴"></a>cherry G80-3800 茶轴</h3><p>第一次使用茶轴也感觉没有想象中那么好,也估计也是cheery比较地段的键盘产品了,可能还是不喜欢低帽,敲起来感觉键盘松松垮垮,特别是空格键,感觉打起来没有感觉</p><p><img src="/img/keyboard/cherry_g80.png" alt="cherry_g80.png"></p><h3 id="cherry-G80-3494-红轴"><a href="#cherry-G80-3494-红轴" class="headerlink" title="cherry G80-3494 红轴"></a>cherry G80-3494 红轴</h3><p>黑色的3494采用了pom的材质，红轴打得特<del>别</del>的滑。。由于采用卫星轴，所以手感与一般案件明显不一样，肉了很多。缺点就是键盘太大,不便携。</p><p><img src="/img/keyboard/cherry_g80_3494.png" alt="cherry_g80_3494.png"></p><h3 id="Tesoro-GRAM-XS-G12ULP薄型机械键盘"><a href="#Tesoro-GRAM-XS-G12ULP薄型机械键盘" class="headerlink" title="Tesoro GRAM XS G12ULP薄型机械键盘"></a>Tesoro GRAM XS G12ULP薄型机械键盘</h3><p>一开始以为这款键盘像是国产键盘,设计土。但是敲以来感觉就不一样了,<br>概览:薄型机械轴 32位ARM Cortex处理器 512KB内存 1000Hz传输率 6键/全键无冲 全键可编程 即时录宏 巧克力薄型键帽 键盘锁 G/PC模式切换</p><p>这款手感很是很不错的，有点软绵绵的感觉。而且稍微偏向于薄膜键盘，但是还有机械盘的韵味在里面，打的时候灯泡也会自动定位(个人觉得好土)<br>缺点:有点丑,不易于清理.</p><p><img src="/img/keyboard/tesoro_gram.png" alt="tesoro_gram.png"></p><h3 id="CORSAIR-K70-RGB-MK-2-樱桃矮轴灵动版"><a href="#CORSAIR-K70-RGB-MK-2-樱桃矮轴灵动版" class="headerlink" title="CORSAIR K70 RGB MK.2 樱桃矮轴灵动版"></a>CORSAIR K70 RGB MK.2 樱桃矮轴灵动版</h3><p>万物皆可RGB,贼船的灯效没的说,樱桃轴体手感很好,主要是打字,手感很好,自带托架也很舒服</p><p><img src="/img/keyboard/corsair_k70.png" alt="corsair_k70"></p><h3 id="leopold-FC900R-红轴"><a href="#leopold-FC900R-红轴" class="headerlink" title="leopold FC900R 红轴"></a>leopold FC900R 红轴</h3><p>大L的红轴真不是盖的,除了退格键有点肉,其他大键都还好,空格键好评,声音也很清晰,PAT键帽优化也不错</p><p><img src="/img/keyboard/leopold_fc900r.png" alt="leopold_fc900r"></p><h3 id="Magic-Keyboard2-无线蓝牙键盘"><a href="#Magic-Keyboard2-无线蓝牙键盘" class="headerlink" title="Magic_Keyboard2 无线蓝牙键盘"></a>Magic_Keyboard2 无线蓝牙键盘</h3><p>苹果产品重度用户系列,macbook、IMAC一体机及所有iphone\ipad,android,win系统统统支持,而且轻巧方便</p><p><img src="/img/keyboard/magic_keyboard2.png" alt="magic_keyboard2"></p><h3 id="Logitech-K380-无线蓝牙键盘"><a href="#Logitech-K380-无线蓝牙键盘" class="headerlink" title="Logitech K380 无线蓝牙键盘"></a>Logitech K380 无线蓝牙键盘</h3><p>这款对标上面的奇幻键盘,也适用于ipad等设备,小巧轻便,颜值还高。搭配上键盘套逼格上升了很多,不过键盘也没有手感之说,显得僵硬</p><p><img src="/img/keyboard/logitech_k380.png" alt="logitech_k380"></p><h3 id="Logitech-Craft-蓝牙薄膜键盘"><a href="#Logitech-Craft-蓝牙薄膜键盘" class="headerlink" title="Logitech Craft 蓝牙薄膜键盘"></a>Logitech Craft 蓝牙薄膜键盘</h3><p>这款也是我目前在用的键盘</p><ul><li>最无敌和最显眼的都是这个旋钮,在网页可以切换标签,可以切换音量,PS里面越戳越好用. 赤裸裸的物理外挂.</li><li>键帽的弧度手指按下去很棒,键盘凹槽设计符合人工体学。</li><li>2.4G优联,超长续航,可能一个月才充一次电</li><li>实时背光. 大概持续时间1秒左右. 光强弱和室内光的强弱还有关系(没太感觉出来)</li><li>Logitech Options插件</li><li>可以同时3个设备直接切换. 在imac上装有win和linux虚拟机的时候这个功能显得非常好用</li><li>n多细节(不懂)</li></ul><p><img src="/img/keyboard/magic_keyboard2.png" alt="magic_keyboard2"></p><blockquote style="margin: 2em 0 0;padding: 0.5em 1em;border-left: 3px solid #F44336;background-color: #F5F5F5;list-style: none;"><p> <strong>本文使用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/" target="_blank" rel="noopener">CC BY-NC-SA 3.0 中国大陆</a> 协议许可<br>具体请参见 <a href="https://zyhang8.github.io/agree/" target="_blank" rel="noopener">知识共享协议</a></strong><br> <strong>本文链接：</strong><a href="https://zyhang8.github.io/2019/07/31/keyboard/" target="_blank" rel="noopener">https://zyhang8.github.io/2019/07/31/keyboard/</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 开箱 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 键盘 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>基于vs2019ide,win10系统下自身opencv的部署</title>
      <link href="/2019/07/30/opencv-vs2019-win-config/"/>
      <url>/2019/07/30/opencv-vs2019-win-config/</url>
      
        <content type="html"><![CDATA[<p>由于部署配置比较麻烦,而且容易忘记,所以写这个blog来方便自己以后再次进行配置</p><ol><li>修改文件夹名字</li><li>项目名称(google翻译)</li><li>新建项目</li><li>控制台应用-&gt;下一步</li><li>位置:\Mac\Home\Desktop\github\opencv_practice\charpterx\xx\xx</li><li>打开源代码的文件,把源代码的源图(附件)copy到opencv_practice里面</li><li>工具栏上选择Debug配置x64平台</li><li>导航栏选择调试-&gt;xx属性</li><li>v/c++目录:包含目录添加  C:\software\opencv\opencv\build\include   C:\software\opencv\opencv\build\include\opencv2</li><li>v/c++目录:库目录添加  C:\software\opencv\opencv\build\x64\vc15\lib</li><li>连接器-&gt;输入:附加依赖项添加   opencv_world346d.lib</li><li>关闭当前项目源代码ide</li><li>打开下一个源代码文件</li><li>弹出的安全警告把<code>对于此解决方案的每一个项目都询问我的勾去掉</code></li><li>检查解决方案直接点确定</li><li>push</li><li>删除.vs文件(解决方案太大放不下GitHub)</li><li>重复1-16</li></ol><blockquote style="margin: 2em 0 0;padding: 0.5em 1em;border-left: 3px solid #F44336;background-color: #F5F5F5;list-style: none;"><p> <strong>本文使用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/" target="_blank" rel="noopener">CC BY-NC-SA 3.0 中国大陆</a> 协议许可<br>具体请参见 <a href="https://zyhang8.github.io/agree/" target="_blank" rel="noopener">知识共享协议</a></strong><br> <strong>本文链接：</strong><a href="https://zyhang8.github.io/2019/07/30/opencv-vs2019-win-config/" target="_blank" rel="noopener">https://zyhang8.github.io/2019/07/30/opencv-vs2019-win-config/</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> opencv </category>
          
      </categories>
      
      
        <tags>
            
            <tag> opencv </tag>
            
            <tag> 配置 </tag>
            
            <tag> C++ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>游记·Peking</title>
      <link href="/2019/07/29/Peking/"/>
      <url>/2019/07/29/Peking/</url>
      
        <content type="html"><![CDATA[<h1 id="Peking！"><a href="#Peking！" class="headerlink" title="Peking！"></a>Peking！</h1><h2 id="出行准备"><a href="#出行准备" class="headerlink" title="出行准备"></a>出行准备</h2><p>亿通行App(地铁定期票)<br>北京实时公交(公交)<br>北京一卡通(公交地铁出租景点)<br>马蜂窝(本地菜景点)<br>高德(导航)<br>电影/书籍(路上消磨时间)<br>身份证/学生证 随身(景点必备)</p><h2 id="出行-2019-7-20-2019-7-28"><a href="#出行-2019-7-20-2019-7-28" class="headerlink" title="出行(2019.7.20-2019.7.28)"></a>出行(2019.7.20-2019.7.28)</h2><h3 id="第一天"><a href="#第一天" class="headerlink" title="第一天"></a>第一天</h3><p>晚上到达首都国际机场/恰火锅/睡觉</p><h3 id="第二天"><a href="#第二天" class="headerlink" title="第二天"></a>第二天</h3><p>早上5点出头就出发八达岭,选择入口右边的路线(据说比较长),大概走了2个小时出头,体力好嘿嘿嘿,可能走的比较块,后面基本没什么人,一路拍了好多照片,还可以看到不到长城非好汉,回去等火车等了好久,因为定时,下午到站已经2点半了,看了下温度38度呜呜呜，赶紧买药(感冒)回旅社休息，休息没一会就出发去景山公园找朋友并吃了砂锅居还挺不错哟，晚上去了国家大剧演，天安门，天安门周围看夜景，拍了很多照片嘻嘻</p><h3 id="第三天"><a href="#第三天" class="headerlink" title="第三天"></a>第三天</h3><p>早上去了天坛公园,人好多,一路上还给很多游客拍了照,中午吃了北京杂酱面后前往陶然亭公园和永定门公园,人少但是确实适合欣赏,中国四大名亭只差醉翁亭啦。后到北京大学与队友老师见面报名,还在学院楼看到了魏坤琳的研究成果,后参观了北京大学,未名湖,一栋栋风格各异的建筑,看到了老校古迹,由于圆明园在旁边,队友(已经去过)好心等了我2个钟头(实名感谢),看了西洋楼遗迹和古代模型(圆明园真的好大),心想着队友在等我而且下了点小雨我已经走得飞速了,但还是2个钟头才走完,走完后去吃了体验了一把涮羊肉,真心爽,后打的回宾馆</p><h3 id="第四天"><a href="#第四天" class="headerlink" title="第四天"></a>第四天</h3><p>早上前往北京大学答辩,以往答辩我都是很紧张,这次行云流水,心里很爽,吃了北大的食堂,真心好,全国各地的菜系都有,还有水果店,饮料点,北大的绿豆爽是真的爽!听说队友在故宫,于是赶紧奔赴前往找她,她又等了我2个钟头大概(实名感谢*2),由于太热,人太多。只能走马光滑逛逛,后去了北京南锣鼓巷,走完发现有地铁,前往奥林匹克公园,看了奥林匹克塔,由于时间还早,于是前往costa coffee闲聊,后坐不住还是逛了奥林匹克的一侧,然后吃了馋人小馆,再次吃了北京菜,京酱肉丝还是很正宗,吃完大概也寻思差不多夜灯开了,参观了鸟巢,水立方,国家体育观,还有碰见IBM大楼(应该是中国总部,寻思着前几天还参加了ibm的比赛,发烧来源),闲逛之后回宾馆休息</p><h3 id="第五天"><a href="#第五天" class="headerlink" title="第五天"></a>第五天</h3><p>早上先去了798艺术区,街上都是涂鸦还有拍婚纱照的情侣,风格各异的建筑,后前往颐和园,还是挺大,湖也很大,在高处还可以眺望整个颐和园,后在恭门府旁边吃了顿午餐,吃了卤煮,豆汁(真难喝),北冰洋,还是有点小贵,后前往恭门府,参观了后唯一的感受就是太豪华了,要啥有啥,古代人太会享受了。后前往什刹湖的北湖,鼓楼,钟楼,白塔公园</p><h3 id="第六天"><a href="#第六天" class="headerlink" title="第六天"></a>第六天</h3><p>早上去了国家博物馆,真的值得去,很多著名古物都在那里,由于赶时间去<a href="https://zyhang8.github.io/2019/07/28/Tianjin/" target="_blank" rel="noopener">天津</a>,文艺复兴馆也没怎么仔细看</p><h2 id="第七天，第八天"><a href="#第七天，第八天" class="headerlink" title="第七天，第八天"></a>第七天，第八天</h2><p><a href="https://zyhang8.github.io/2019/07/28/Tianjin/" target="_blank" rel="noopener">天津</a></p><h3 id="第九天"><a href="#第九天" class="headerlink" title="第九天"></a>第九天</h3><p>本来还想再去一次北大,不过天气实在太热就没去了,再次去一下天安门公园,绕了一圈,跟我想象的一样,北京天安门公园白天和晚上风景太不一样了,走了一圈,拍了各种照,后去了东直门的一个商场休息,到了下午5.6点差不多就去了首都机场</p><h3 id="第十天"><a href="#第十天" class="headerlink" title="第十天"></a>第十天</h3><p>由于是早班,所以这次选择在机场过夜,也是我第一次在机场过夜,晚上看了神盾局,海贼王,还有电影,从12点睡到3点多被小孩的哭声吵醒,后来又坐着睡了1个多小时再次吵醒,看着机场人数也越来越多,也不好意思再继续睡,后准备值机回上海</p><h2 id="治安"><a href="#治安" class="headerlink" title="治安"></a>治安</h2><p>中国最严,天安门还的一个个核实身份证,基本每条马路甚至每个路口都有交警和交警助理指挥交通,地铁每个安检口都有很多警察看守,不愧是政治中心</p><h2 id="地铁"><a href="#地铁" class="headerlink" title="地铁"></a>地铁</h2><p>感觉远不如上海地铁,14号线人奇异的多,其他路线人基本还行,上海地铁每条路线人都多哈哈哈。北京地铁估计太老,里面环境远不如上海地铁干净,不过一条地铁都有配置几个保安在里面,安全度还是挺高的。其他:地铁班次没上海多,没上海的块,空调没上海的舒服。每个景点都离地铁好远,每次坐地铁都得走很远路或者坐公交转,还是没上海的方便<br>不过之前听新闻说北京有一种仪器放在地铁安检口手机通过就会自动自动手机手机信息,当时我还是挺怕的嘿嘿嘿,到了之后发现没有,估计还没有开始实施。</p><h2 id="基站"><a href="#基站" class="headerlink" title="基站"></a>基站</h2><p>北京有许多地方好像有5g信号,不过小学期时候我的pixel变砖了(手机不支持5G),地铁信号也没上海的好</p><h2 id="遗憾"><a href="#遗憾" class="headerlink" title="遗憾"></a>遗憾</h2><ul><li>博物馆太匆忙</li><li>毛主席纪念堂限时进不去</li><li>北京人民政府及其周围没去</li><li>没参观中国尊高楼</li><li>队友后台好像有点不开心,不知道是不是和我有关(推测是),也不知道什么原因,不过队友还是挺好的,也很优秀嘻嘻</li></ul><blockquote style="margin: 2em 0 0;padding: 0.5em 1em;border-left: 3px solid #F44336;background-color: #F5F5F5;list-style: none;"><p> <strong>本文使用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/" target="_blank" rel="noopener">CC BY-NC-SA 3.0 中国大陆</a> 协议许可<br>具体请参见 <a href="https://zyhang8.github.io/agree/" target="_blank" rel="noopener">知识共享协议</a></strong><br> <strong>本文链接：</strong><a href="https://zyhang8.github.io/2019/07/29/Peking/" target="_blank" rel="noopener">https://zyhang8.github.io/2019/07/29/Peking/</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 游记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 游行 </tag>
            
            <tag> 北京 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>游记·Tianjin</title>
      <link href="/2019/07/28/Tianjin/"/>
      <url>/2019/07/28/Tianjin/</url>
      
        <content type="html"><![CDATA[<h1 id="Tianjin"><a href="#Tianjin" class="headerlink" title="Tianjin!"></a>Tianjin!</h1><h2 id="出行准备"><a href="#出行准备" class="headerlink" title="出行准备"></a>出行准备</h2><p>天津地铁App(巨优惠且方便)<br>支付宝滨海公交乘车码(公交)<br>码上易行(公交)<br>马蜂窝(本地菜景点)<br>高德(导航)<br>电影/书籍(路上消磨时间)<br>身份证/学生证 随身(景点必备)</p><h2 id="出行-2019-7-20-2019-7-28"><a href="#出行-2019-7-20-2019-7-28" class="headerlink" title="出行(2019.7.20-2019.7.28)"></a>出行(2019.7.20-2019.7.28)</h2><h3 id="第1-5天，第9-10天"><a href="#第1-5天，第9-10天" class="headerlink" title="第1-5天，第9-10天"></a>第1-5天，第9-10天</h3><p><a href="https://zyhang8.github.io/2019/07/29/Peking/" target="_blank" rel="noopener">北京</a></p><h2 id="第六天"><a href="#第六天" class="headerlink" title="第六天"></a>第六天</h2><p>因为离的不远所以一口气去了世纪钟,滨海大道,国金金融大厦,意大利风情街,天津市政规划馆,大沽桥,解放桥,天主教堂,劝业场商场,晚上根据马蜂窝找到一家小店,消费还行但是听说很好吃,拍了3刻钟终于排到,不过确实很好吃,一口气点了3菜1汤居然都吃完了,老板娘后来也坐下来和我聊天,态度非常好,告诉我哪里好玩要去哪里,后来就去了附近的瓷房子,然后再次路过解放桥世纪钟,夜景虽然没有上海外滩,但是人真的不多而且还可以感受风吹过来的滋味,接下来去了天津地标——天津之眼,确实很壮观很美,也走了江的一边,一边是市中心的夜景一边是天津之眼</p><h2 id="第七天"><a href="#第七天" class="headerlink" title="第七天"></a>第七天</h2><p>睡到中午,吃了兰州拉面,然后去火车站改签(感觉天津玩得很快)改成了第八天早上,然后前往滨海图书馆,路程真的遥远,地铁1个多小时,后看到周大福大楼,听说是并列中国第四高,还仔细数了数哟欧100层以上高,然后前往滨海图书馆,还好穿的是洞洞鞋,拖鞋不让进而且不能带相机,进去参观了一下不愧是亚洲最美博物馆,也去了三楼社会科学阅览室,看了一些机器学习的书,走了一圈,发现很多人来这里自习,后就离开回去市区前往五大道,这个也是个好地方,在古代是用来当作足球场的,不过现在变成旅游区,有马骑着参观(也感觉马好可怜,一生只能作为奴隶,唉),拍了很多照片,真的适合拍照,欧式风格,也看到貌似抖音团队在这里录像,晚上又看了网评吃了家舌尖上的中国的煎饼果子,以为应该对我这种大胃王(我很瘦滴)应该不会吃抱,不过给我后惊了,一大个,然后前往一家百年的天津狗不理点吃了几个包子,但感觉没我想象中的好吃,还好没买多,然后去了古文化街,确实有天津古文化在里面,然后再次疲惫回旅社<br>本来还想去天津117大楼,不过查了一下好像是世界上最高的烂尾楼,建了10多年还没建好,于是选择放弃</p><h2 id="第八天"><a href="#第八天" class="headerlink" title="第八天"></a>第八天</h2><p>吃了午饭,回了<a href="https://zyhang8.github.io/2019/07/29/Peking/" target="_blank" rel="noopener">北京</a></p><h2 id="治安"><a href="#治安" class="headerlink" title="治安"></a>治安</h2><p>也是最严,地铁站安检口跟北京一样配备很多保安警察</p><h2 id="地铁"><a href="#地铁" class="headerlink" title="地铁"></a>地铁</h2><p>人感觉不多,空调也挺凉快</p><h2 id="感悟"><a href="#感悟" class="headerlink" title="感悟"></a>感悟</h2><p>天津的高楼是真的多,比北京多得多而且估计靠近北京低价也很贵,在吃煎饼果子路上看到中介上一套房7w/平,顶不住啊！可能天津本地工资也不是很高,不过应该也算东北第二发达城市了,所以我觉得很多人应该去了北京工作,来回火车也只需要100块</p><blockquote style="margin: 2em 0 0;padding: 0.5em 1em;border-left: 3px solid #F44336;background-color: #F5F5F5;list-style: none;"><p> <strong>本文使用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/" target="_blank" rel="noopener">CC BY-NC-SA 3.0 中国大陆</a> 协议许可<br>具体请参见 <a href="https://zyhang8.github.io/agree/" target="_blank" rel="noopener">知识共享协议</a></strong><br> <strong>本文链接：</strong><a href="https://zyhang8.github.io/2019/07/28/Tianjin/" target="_blank" rel="noopener">https://zyhang8.github.io/2019/07/28/Tianjin/</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 游记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 游行 </tag>
            
            <tag> 天津 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>游记·Shaoxing</title>
      <link href="/2019/07/20/Shaoxing/"/>
      <url>/2019/07/20/Shaoxing/</url>
      
        <content type="html"><![CDATA[<h1 id="Shaoxing！"><a href="#Shaoxing！" class="headerlink" title="Shaoxing！"></a>Shaoxing！</h1><h2 id="出行准备"><a href="#出行准备" class="headerlink" title="出行准备"></a>出行准备</h2><p>马蜂窝(本地菜景点)<br>高德(导航)<br>电影/书籍(路上消磨时间)<br>身份证/学生证 随身(景点必备)</p><h2 id="出行"><a href="#出行" class="headerlink" title="出行"></a>出行</h2><h3 id="第一天"><a href="#第一天" class="headerlink" title="第一天"></a>第一天</h3><p>到达绍兴火车站,正大集团过来接待我们,下午分组参观多个虾场,晚上住的酒店也挺豪华,晚上回来路上好像还看到了招piao？？？</p><h3 id="第二天"><a href="#第二天" class="headerlink" title="第二天"></a>第二天</h3><p>本来根据绍兴朋友推荐想出去玩一下,不多早上在群里问了一下没人应,于是继续睡了(有点小后悔),后吃了海底捞,逛了商场,去火车站回上海</p><h2 id="感谢"><a href="#感谢" class="headerlink" title="感谢"></a>感谢</h2><p>正大集团公司对我们小组的热情接待</p><blockquote style="margin: 2em 0 0;padding: 0.5em 1em;border-left: 3px solid #F44336;background-color: #F5F5F5;list-style: none;"><p> <strong>本文使用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/" target="_blank" rel="noopener">CC BY-NC-SA 3.0 中国大陆</a> 协议许可<br>具体请参见 <a href="https://zyhang8.github.io/agree/" target="_blank" rel="noopener">知识共享协议</a></strong><br> <strong>本文链接：</strong><a href="https://zyhang8.github.io/2019/07/20/Shaoxing/" target="_blank" rel="noopener">https://zyhang8.github.io/2019/07/20/Shaoxing/</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 游记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 游行 </tag>
            
            <tag> 绍兴 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>游记·Ningbo</title>
      <link href="/2019/07/18/Ningbo/"/>
      <url>/2019/07/18/Ningbo/</url>
      
        <content type="html"><![CDATA[<h1 id="Ningbo！"><a href="#Ningbo！" class="headerlink" title="Ningbo！"></a>Ningbo！</h1><h2 id="出行准备"><a href="#出行准备" class="headerlink" title="出行准备"></a>出行准备</h2><p>马蜂窝(本地菜景点)<br>高德(导航)<br>电影/书籍(路上消磨时间)<br>身份证/学生证 随身(景点必备)</p><h2 id="出行"><a href="#出行" class="headerlink" title="出行"></a>出行</h2><h3 id="第一天"><a href="#第一天" class="headerlink" title="第一天"></a>第一天</h3><p>到达宁波火车站,正大集团过来接待我们,参观正大集团虾场,然后在一个古文化街上吃了晚饭,晚上小组开了会议然后完了紧张刺激的狼人杀</p><h3 id="第二天"><a href="#第二天" class="headerlink" title="第二天"></a>第二天</h3><p>对3个虾苗场进行了实地调研,调研了市场和生态养殖情况,发现虾苗也是得看运气,然后跟我之前的结论一样,不要小看虾苗,身家不知比小康家庭高多少倍,晚上去了鼓楼和市中心,市中心虽然没有很多高楼,但是市容市貌还是一流的,而且很多车也特别会让行人,交通素质很好</p><h2 id="感谢"><a href="#感谢" class="headerlink" title="感谢"></a>感谢</h2><p>正大集团公司对我们小组的热情接待</p><blockquote style="margin: 2em 0 0;padding: 0.5em 1em;border-left: 3px solid #F44336;background-color: #F5F5F5;list-style: none;"><p> <strong>本文使用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/" target="_blank" rel="noopener">CC BY-NC-SA 3.0 中国大陆</a> 协议许可<br>具体请参见 <a href="https://zyhang8.github.io/agree/" target="_blank" rel="noopener">知识共享协议</a></strong><br> <strong>本文链接：</strong><a href="https://zyhang8.github.io/2019/07/18/Ningbo/" target="_blank" rel="noopener">https://zyhang8.github.io/2019/07/18/Ningbo/</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 游记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 宁波 </tag>
            
            <tag> 游行 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>基于python的Splash基本使用和负载均衡配置</title>
      <link href="/2019/07/12/Splash-load-balancing-test/"/>
      <url>/2019/07/12/Splash-load-balancing-test/</url>
      
        <content type="html"><![CDATA[<p>本项目来源于大二寒假学习python网络爬虫时所做的实战小项目</p><h2 id="前期准备"><a href="#前期准备" class="headerlink" title="前期准备"></a>前期准备</h2><p>语言：python3.7,Lua<br>编译器：pycharm<br>包管理工具：pip<br>工具：Scrapy-Splash<br>应用容器引擎：docker（需要翻墙），可自行网上百度安装和配置教程</p><h2 id="功能介绍"><a href="#功能介绍" class="headerlink" title="功能介绍"></a>功能介绍</h2><p>利用Splash，我们可以实现如下功能：<br>异步方式处理多个网页渲染过程；<br>获取渲染后的页面的源代码或截图；<br>通过关闭图片渲染或者使用Adblock规则来加快页面渲染速度；<br>可执行特定的JavaScript脚本；<br>可通过Lua脚本来控制页面渲染过程；<br>获取渲染的详细过程并通过HAR（HTTP Archive）格式呈现。</p><h2 id="项目实战"><a href="#项目实战" class="headerlink" title="项目实战"></a>项目实战</h2><p>首先，在本机端口运行Splash服务，打开<a href="http://localhost:8050/" target="_blank" rel="noopener">http://localhost:8050/</a><br>在输入框内输入<a href="https://www.shou.edu.cn/，然后点击Render" target="_blank" rel="noopener">https://www.shou.edu.cn/，然后点击Render</a> me1<br>可以看到，网页的返回结果呈现了渲染截图、HAR加载统计数据、网页的源代码。<br>通过HAR的结果可以看到，Splash执行了整个网页的渲染过程，包括CSS、JavaScript的加载等过程，呈现的页面和浏览器中得到的结果完全一致。</p><h3 id="Splash-Lua脚本"><a href="#Splash-Lua脚本" class="headerlink" title="Splash Lua脚本"></a>Splash Lua脚本</h3><p>Splash是通过Lua脚本来控制了页面的加载过程的，然后执行一系列渲染操作。</p><h4 id="入口及返回值"><a href="#入口及返回值" class="headerlink" title="入口及返回值"></a>入口及返回值</h4><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">main</span><span class="params">(splash, args)</span></span></span><br><span class="line">  splash:go(<span class="string">"https://www.shou.edu.cn/"</span>)</span><br><span class="line">  splash:wait(<span class="number">1</span>)  #等待时间</span><br><span class="line">  <span class="keyword">local</span> title = splash:evaljs(<span class="string">"document.title"</span>)  #需要对页面前端代码进行分析</span><br><span class="line">  <span class="keyword">return</span> &#123;title=title&#125;</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><p>本代码通过evaljs()方法传入JavaScript脚本，而document.title的执行结果就是返回网页标题，执行完毕后将其赋值给一个title变量，随后将其返回。</p><h4 id="异步处理-———涉及对多个页面进行分析比较"><a href="#异步处理-———涉及对多个页面进行分析比较" class="headerlink" title="异步处理    ———涉及对多个页面进行分析比较"></a>异步处理    ———涉及对多个页面进行分析比较</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">function main(splash, args)</span><br><span class="line">  local example_urls = &#123;&quot;https://www.shou.edu.cn/&quot;, &quot;http://www.gdou.edu.cn/&quot;, &quot;http://www.ouc.edu.cn/&quot;&#125;</span><br><span class="line">  local urls = args.urls or example_urls</span><br><span class="line">  local results = &#123;&#125;</span><br><span class="line">  for index, url in ipairs(urls) do</span><br><span class="line">    local ok, reason = splash:go(&quot;http://&quot; .. url)</span><br><span class="line">    if ok then</span><br><span class="line">      splash:wait(2)</span><br><span class="line">      results[url] = splash:png()</span><br><span class="line">    end</span><br><span class="line">  end</span><br><span class="line">  return results</span><br><span class="line">end</span><br></pre></td></tr></table></figure><p>在脚本内调用的wait()方法类似于Python中的sleep()，其参数为等待的秒数。当Splash执行到此方法时，它会转而去处理其他任务，然后在指定的时间过后再回来继续处理。<br>更多Lua脚本的语法详见<a href="http://www.runoob.com/lua/lua-basic-syntax.html" target="_blank" rel="noopener">文档</a></p><h3 id="Splash对象属性-——方法中的对象属性"><a href="#Splash对象属性-——方法中的对象属性" class="headerlink" title="Splash对象属性      ——方法中的对象属性"></a>Splash对象属性      ——方法中的对象属性</h3><p>args</p><p>该属性可以获取加载时配置的参数，比如URL，如果为GET请求，它还可以获取GET请求参数；如果为POST请求，它可以获取表单提交的数据。</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">main</span><span class="params">(splash, args)</span></span></span><br><span class="line">    <span class="keyword">local</span> url = args.url</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><p>第二个参数args就相当于splash.args属性<br>js_enabled<br>这个属性是Splash的JavaScript执行开关，可以将其配置为true或false来控制是否执行JavaScript代码，默认为true。</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">main</span><span class="params">(splash, args)</span></span></span><br><span class="line">  splash:go(<span class="string">"https://www.shou.edu.cn/"</span>)</span><br><span class="line">  splash.js_enabled = <span class="literal">false</span></span><br><span class="line">  <span class="keyword">local</span> title = splash:evaljs(<span class="string">"document.title"</span>)</span><br><span class="line">  <span class="keyword">return</span> &#123;title=title&#125;</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><p>更多对象如resource_timeout、images_enabled、plugins_enabled、scroll_position详见<a href="https://blog.csdn.net/weixin_38239050/article/details/82584613" target="_blank" rel="noopener">https://blog.csdn.net/weixin_38239050/article/details/82584613</a></p><h3 id="Splash对象的方法"><a href="#Splash对象的方法" class="headerlink" title="Splash对象的方法"></a>Splash对象的方法</h3><p>详见<a href="https://splash.readthedocs.io/en/stable/scripting-ref.html" target="_blank" rel="noopener">https://splash.readthedocs.io/en/stable/scripting-ref.html</a></p><h4 id="Splash-API调用"><a href="#Splash-API调用" class="headerlink" title="Splash API调用"></a>Splash API调用</h4><p>详见<a href="https://splash.readthedocs.io/en/stable/scripting-element-object.html" target="_blank" rel="noopener">https://splash.readthedocs.io/en/stable/scripting-element-object.html</a></p><h4 id="配置Splash服务"><a href="#配置Splash服务" class="headerlink" title="配置Splash服务"></a>配置Splash服务</h4><p>要搭建Splash负载均衡，首先要有多个Splash服务。假如多台远程主机的都开启了Splash服务，它这几个服务必须完全一致，都是通过Docker的Splash镜像开启的。访问其中任何一个服务时，都可以使用Splash服务。</p><h4 id="配置负载均衡"><a href="#配置负载均衡" class="headerlink" title="配置负载均衡"></a>配置负载均衡</h4><p>选用任意一台带有公网IP的主机来配置负载均衡。首先，在这台主机上装好Nginx，然后修改Nginx的配置文件nginx.conf，添加各台主机的ip。</p><h4 id="配置认证"><a href="#配置认证" class="headerlink" title="配置认证"></a>配置认证</h4><p>现在Splash是可以公开访问的，如果不想让其公开访问，还可以配置认证，这仍然借助于Nginx。  （Nginx为服务器代理服务）</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">http &#123;</span><br><span class="line">    upstream splash &#123;</span><br><span class="line">        least_conn;</span><br><span class="line">        server xxx;    ——xxx为服务器ip地址</span><br><span class="line">        server xxx;</span><br><span class="line">   ……</span><br><span class="line">    &#125;</span><br><span class="line">    server &#123;</span><br><span class="line">        listen 8050;</span><br><span class="line">        location / &#123;</span><br><span class="line">            proxy_pass http://splash;</span><br><span class="line">            auth_basic &quot;Restricted&quot;;</span><br><span class="line">            auth_basic_user_file /etc/nginx/conf.d/.htpasswd;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">from</span> urllib.parse <span class="keyword">import</span> quote</span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"></span><br><span class="line">lua = <span class="string">'''</span></span><br><span class="line"><span class="string">function main(splash, args)</span></span><br><span class="line"><span class="string">  local treat = require("treat")</span></span><br><span class="line"><span class="string">  local response = splash:http_get("https://www.shou.edu.cn/")</span></span><br><span class="line"><span class="string">  return treat.as_string(response.body)</span></span><br><span class="line"><span class="string">end</span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line"></span><br><span class="line">url = <span class="string">'http://splash:8050/execute?lua_source='</span> + quote(lua)</span><br><span class="line">response = requests.get(url, auth=(<span class="string">'admin'</span>, <span class="string">'admin'</span>))</span><br><span class="line">ip = re.search(<span class="string">'(\d+\.\d+\.\d+\.\d+)'</span>, response.text).group(<span class="number">1</span>)</span><br><span class="line">print(ip)</span><br></pre></td></tr></table></figure><p>这里URL中的splash字符串请自行替换成自己的Nginx服务器IP。这里我修改了Hosts，设置了splash为Nginx服务器IP。</p><h2 id="心得体会"><a href="#心得体会" class="headerlink" title="心得体会"></a>心得体会</h2><p>通过本项目，我对于js有了更深一步的了解，对于前端代码有了进一步的认识，服务器配置方面，因只有单台服务器，只能单看教程无法做出新的体会。</p><p>本项目对于Lua脚本语言只是冰山一角，本文也是一个抛砖引玉，最主要的还是记录我自己学习过程，通过实战不断锻炼自己。</p><h2 id="源代码"><a href="#源代码" class="headerlink" title="源代码"></a>源代码</h2><p><a href="https://github.com/zyhang8/Web-Crawler-Development/tree/master/%E5%8A%A8%E6%80%81%E6%B8%B2%E6%9F%93%E9%A1%B5%E9%9D%A2%E7%88%AC%E5%8F%96/Splash%E7%9A%84%E4%BD%BF%E7%94%A8" target="_blank" rel="noopener">https://github.com/zyhang8/Web-Crawler-Development/tree/master/%E5%8A%A8%E6%80%81%E6%B8%B2%E6%9F%93%E9%A1%B5%E9%9D%A2%E7%88%AC%E5%8F%96/Splash%E7%9A%84%E4%BD%BF%E7%94%A8</a></p><h2 id="附"><a href="#附" class="headerlink" title="附"></a>附</h2><p>本博客只是基于Splash的强大渲染性能对其进行学习理解，其中的代码是源于崔老师的实战对其分析进行理解后自己做的一些小改变。</p><h2 id="希望可以与我多多分享经验，有空必回"><a href="#希望可以与我多多分享经验，有空必回" class="headerlink" title="希望可以与我多多分享经验，有空必回"></a>希望可以与我多多分享经验，有空必回</h2><blockquote style="margin: 2em 0 0;padding: 0.5em 1em;border-left: 3px solid #F44336;background-color: #F5F5F5;list-style: none;"><p> <strong>本文使用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/" target="_blank" rel="noopener">CC BY-NC-SA 3.0 中国大陆</a> 协议许可<br>具体请参见 <a href="https://zyhang8.github.io/agree/" target="_blank" rel="noopener">知识共享协议</a></strong><br> <strong>本文链接：</strong><a href="https://zyhang8.github.io/2019/07/12/Splash-load-balancing-test/" target="_blank" rel="noopener">https://zyhang8.github.io/2019/07/12/Splash-load-balancing-test/</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Splash </tag>
            
            <tag> python </tag>
            
            <tag> lua </tag>
            
            <tag> 负载均衡测试 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>鱼的记忆|markdown必备手册</title>
      <link href="/2019/07/10/markdown-md/"/>
      <url>/2019/07/10/markdown-md/</url>
      
        <content type="html"><![CDATA[<p>markdown个人常用易忘语法</p><h2 id="字体"><a href="#字体" class="headerlink" title="字体"></a>字体</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">**这是加粗的文字**</span><br><span class="line">*这是倾斜的文字*`</span><br><span class="line">***这是斜体加粗的文字***</span><br><span class="line">~~这是加删除线的文字~~</span><br></pre></td></tr></table></figure><p><strong>这是加粗的文字</strong><br><em>这是倾斜的文字</em>`<br><strong><em>这是斜体加粗的文字</em></strong><br><del>这是加删除线的文字</del></p><h2 id="引用"><a href="#引用" class="headerlink" title="引用"></a>引用</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&gt;这是引用的内容</span><br><span class="line">&gt;&gt;这是引用的内容</span><br><span class="line">&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;这是引用的内容</span><br></pre></td></tr></table></figure><blockquote><p>这是引用的内容</p><blockquote><p>这是引用的内容</p><blockquote><blockquote><blockquote><blockquote><blockquote><blockquote><blockquote><blockquote><p>这是引用的内容</p></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote><h2 id="分割线"><a href="#分割线" class="headerlink" title="分割线"></a>分割线</h2><p>三个或者三个以上的 - 或者 * 都可以。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">----</span><br><span class="line">***</span><br><span class="line">*****</span><br></pre></td></tr></table></figure><hr><hr><hr><hr><h2 id="超链接"><a href="#超链接" class="headerlink" title="超链接"></a>超链接</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[超链接名](超链接地址 &quot;超链接title&quot;)</span><br></pre></td></tr></table></figure><p><a href="超链接地址" title="超链接title">超链接名</a></p><p>图片加链接：<br><a href="你的链接地址"><img src="http://path/to/img.jpg" alt="alt text" title="title"></a></p><h2 id="表格"><a href="#表格" class="headerlink" title="表格"></a>表格</h2><table><thead><tr><th>数量</th><th align="center">名字</th><th align="right">单位</th></tr></thead><tbody><tr><td>1</td><td align="center">小白</td><td align="right">只</td></tr><tr><td>2</td><td align="center">中白</td><td align="right">直</td></tr><tr><td>3</td><td align="center">大白</td><td align="right">致</td></tr></tbody></table><h2 id="排序"><a href="#排序" class="headerlink" title="排序"></a>排序</h2><ul><li>分享 — 在任何媒介以任何形式复制、发行本作品</li><li>演绎 — 修改、转换或以本作品为基础进行创作</li><li>惟须遵守下列条件：</li></ul><blockquote style="margin: 2em 0 0;padding: 0.5em 1em;border-left: 3px solid #F44336;background-color: #F5F5F5;list-style: none;"><p> <strong>本文使用 <a href="https://zyhang8.github.io/2019/07/10/markdown-md/" target="_blank" rel="noopener">CC BY-NC-SA 3.0 中国大陆</a> 协议许可<br>具体请参见 <a href="https://zyhang8.github.io/agree/" target="_blank" rel="noopener">知识共享协议</a></strong><br> <strong>本文链接：</strong><a href="https://zyhang8.github.io/2019/07/10/markdown-md/" target="_blank" rel="noopener">https://zyhang8.github.io/2019/07/10/markdown-md/</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 鱼的记忆 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> markdown </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexo+material搭建博客入坑之路</title>
      <link href="/2019/07/10/hexo-material-md/"/>
      <url>/2019/07/10/hexo-material-md/</url>
      
        <content type="html"><![CDATA[<p>由于前段时间学习机器学习后需要做笔记的知识很多，本来想用纸质版册子记录(封面都画好了)，后来想到干脆搭建个人博客,把改记录的知识要点和生活趣事用该博客来记录</p><h1 id="为什么写这篇文章"><a href="#为什么写这篇文章" class="headerlink" title="为什么写这篇文章?"></a>为什么写这篇文章?</h1><p>我发现网上关于Material主题的相关配置比较少,而且完整配置过程文档却相当难找,且很多配置过程都已经过时,导致我配置过程中出现了肯多坑,但这个主题在我看来,不管是颜值,还是功能来说,都明显不该被埋没在next的大海之中,所以在自己折腾了一整子后,将自己记录的填坑过程整理分享给大家,毕竟这个主题颜值辣么高,功能辣么强……(除了主题不通之外,其他相关配置都是可以拿来参考的,甚至直接拿来用的,所以其他主题的童靴先不要逃…)</p><blockquote><p>如果网上有详细教程我便不再重复,直接干货</p></blockquote><h2 id="github部署"><a href="#github部署" class="headerlink" title="github部署"></a>github部署</h2><p><a href="https://www.cnblogs.com/liuxianan/p/build-blog-website-by-hexo-github.html" target="_blank" rel="noopener">部署过程</a></p><h2 id="Hexo-Material-Themes-简介"><a href="#Hexo-Material-Themes-简介" class="headerlink" title="Hexo Material Themes 简介"></a>Hexo Material Themes 简介</h2><p><a href="https://github.com/viosey/hexo-theme-material" target="_blank" rel="noopener">github地址</a></p><p>在Hexo中,通常有两份配置文件,一个是站点根目录下(例如我的就是…/blog/_config.yml)的_config.yml;另外一个是主题目录(例如我的就是…/blog/themes/material/_config.yml)下的_config.yml.为了描述方便,在以下说明中,将前者称为站点配置文件,后者称为主題配置文件。</p><p>在配置过程中,需要用到YAML和Markdown语法,建议使用vscode加上代码高亮插件进行编辑,减少语法错误</p><p><a href="https://zyhang8.github.io/2019/06/30/hello-world/" target="_blank" rel="noopener">需要用到的一些bash命令</a></p><p>官方文档不知咋回事连科学上网都打不开</p><p>下面就对一写重要配置要点进行讲述</p><p><a href="http://www.360doc.com/content/17/0712/19/25356749_670867725.shtml" target="_blank" rel="noopener">配置文件详细解释</a></p><p><a href="https://zyhang8.github.io" target="_blank" rel="noopener">博客Demo</a></p><p><a href="https://material.io/tools/icons/?search=person&icon=favorite_border&style=outline" target="_blank" rel="noopener">icon图标</a></p><h2 id="第一坑-language"><a href="#第一坑-language" class="headerlink" title="第一坑:language"></a>第一坑:language</h2><p>编辑站点配置文件,将language设置成你想要的语言,常用的几种如下:<br>英语: en<br>简体中文: zh-CN<br>繁体中文: zh-TW<br>language: zh-CN</p><p>不知怎么回事我配置后没什么反应,后面出现都是看不懂的字符语言,调试全靠欧皇,所以查看了语言包的路径(主题下的languages),找到所有的语言包,如果你想要某种语言,可以留下1-2个备选语言,其他删除,备选语言放在主题的根目录下并进行必要的标注,现在的语言包路径就只有你想要的语言了,不默认也得默认.</p><h2 id="博客优化1-使用来必力搭建跟帖服务"><a href="#博客优化1-使用来必力搭建跟帖服务" class="headerlink" title="博客优化1:使用来必力搭建跟帖服务"></a>博客优化1:使用来必力搭建跟帖服务</h2><p>优点:免费.氪金可以选择changyan</p><p>[来必力官网]<a href="https://www.livere.com" target="_blank" rel="noopener">https://www.livere.com</a></p><blockquote><p>可能注册账号方面需要花点功夫</p></blockquote><p>在livere_uid字段粘贴新建服务的代码的UID<br>注意:use字段放空</p><p><img src="https://s2.ax1x.com/2019/07/10/ZgNh2d.png" alt="ZgNh2d.png"></p><h2 id="博客优化2-使用百度统计搭建网站分析服务"><a href="#博客优化2-使用百度统计搭建网站分析服务" class="headerlink" title="博客优化2:使用百度统计搭建网站分析服务"></a>博客优化2:使用百度统计搭建网站分析服务</h2><p>优点:免费<br><a href="https://tongji.baidu.com/web/10000015446/welcome/login" target="_blank" rel="noopener">百度统计官网</a></p><p><img src="https://s2.ax1x.com/2019/07/10/ZgNIKI.png" alt="ZgNIKI.png"></p><p>注册创建后即可</p><h2 id="第二坑-网易云跟帖服务"><a href="#第二坑-网易云跟帖服务" class="headerlink" title="第二坑:网易云跟帖服务"></a>第二坑:网易云跟帖服务</h2><p>已停服</p><h2 id="博客优化3-使用加速乐加速静态文件读取"><a href="#博客优化3-使用加速乐加速静态文件读取" class="headerlink" title="博客优化3:使用加速乐加速静态文件读取"></a>博客优化3:使用加速乐加速静态文件读取</h2><p>优点:免费<br><a href="https://www.yunaq.com/jsl/?from=js3428" target="_blank" rel="noopener">加速乐官网</a></p><h2 id="使用不蒜子统计博客浏览次数"><a href="#使用不蒜子统计博客浏览次数" class="headerlink" title="使用不蒜子统计博客浏览次数"></a>使用不蒜子统计博客浏览次数</h2><p>之前用过leancloud,这次想试试不蒜子(其实是因为懒)<br><a href="http://busuanzi.ibruce.info" target="_blank" rel="noopener">不蒜子官网</a></p><h2 id="第三坑-不蒜子配置错误"><a href="#第三坑-不蒜子配置错误" class="headerlink" title="第三坑:不蒜子配置错误"></a>第三坑:不蒜子配置错误</h2><p>官网通知:因七牛强制过期『dn-lbstatics.qbox.me』域名，与客服沟通无果，只能更换域名到『busuanzi.ibruce.info』！</p><h2 id="博客优化3-同时托管到Github和Coding-实现国内外分流"><a href="#博客优化3-同时托管到Github和Coding-实现国内外分流" class="headerlink" title="博客优化3:同时托管到Github和Coding,实现国内外分流"></a>博客优化3:同时托管到Github和Coding,实现国内外分流</h2><p><a href="https://coding.net" target="_blank" rel="noopener">Coding官网</a></p><h2 id="第四坑-Coding合并到腾讯云平台"><a href="#第四坑-Coding合并到腾讯云平台" class="headerlink" title="第四坑:Coding合并到腾讯云平台"></a>第四坑:Coding合并到腾讯云平台</h2><p>网上教程很少,需要自己看官方文档进行摸索配置</p><p><a href="https://juejin.im/post/590b451a0ce46300588c43a0" target="_blank" rel="noopener">高级优化</a></p><h2 id="博客优化4-使用Gulp压缩代码"><a href="#博客优化4-使用Gulp压缩代码" class="headerlink" title="博客优化4:使用Gulp压缩代码"></a>博客优化4:使用Gulp压缩代码</h2><p><a href="https://www.gulpjs.com.cn/" target="_blank" rel="noopener">gulp官网</a><br><a href="https://www.cnblogs.com/sunnie-cc/p/6382830.html" target="_blank" rel="noopener">配置</a></p><p><img src="https://s2.ax1x.com/2019/07/10/ZgN4xA.png" alt="ZgN4xA.png"></p><h2 id="第五坑-若你是使用zsh-可能会出现not-common"><a href="#第五坑-若你是使用zsh-可能会出现not-common" class="headerlink" title="第五坑:若你是使用zsh,可能会出现not common"></a>第五坑:若你是使用zsh,可能会出现not common</h2><p>原因很多不一一详述,自行google</p><h2 id="博客优化5-使用智图进行相应图片压缩处理"><a href="#博客优化5-使用智图进行相应图片压缩处理" class="headerlink" title="博客优化5:使用智图进行相应图片压缩处理"></a>博客优化5:使用智图进行相应图片压缩处理</h2><p><a href="https://zhitu.isux.us/" target="_blank" rel="noopener">智图官网</a><br>可能安装过程失败,官网有说明</p><h2 id="第六坑-使用上床图床iPic上传到七牛云"><a href="#第六坑-使用上床图床iPic上传到七牛云" class="headerlink" title="第六坑:使用上床图床iPic上传到七牛云"></a>第六坑:使用上床图床iPic上传到七牛云</h2><p><a href="https://toolinbox.net/iPic/" target="_blank" rel="noopener">iPic官网</a><br><a href="https://www.qiniu.com" target="_blank" rel="noopener">七牛云官网</a></p><p>iPic需要升级为高级版才可以解锁所有图床,其中包括七牛云,网上有免费解锁所有图床教程,目测不太靠谱<br>七牛云配置麻烦,且免费有一定的限制,而且之前用过,体验不是很好</p><h2 id="博客优化6-使用路过图床"><a href="#博客优化6-使用路过图床" class="headerlink" title="博客优化6:使用路过图床"></a>博客优化6:使用路过图床</h2><p>免费,容量大!</p><blockquote style="margin: 2em 0 0;padding: 0.5em 1em;border-left: 3px solid #F44336;background-color: #F5F5F5;list-style: none;"><p> <strong>本文使用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/" target="_blank" rel="noopener">CC BY-NC-SA 3.0 中国大陆</a> 协议许可<br>具体请参见 <a href="https://zyhang8.github.io/agree/" target="_blank" rel="noopener">知识共享协议</a></strong><br> <strong>本文链接：</strong><a href="https://zyhang8.github.io/2019/07/10/hexo-material-md/" target="_blank" rel="noopener">https://zyhang8.github.io/2019/07/10/hexo-material-md/</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 搭建博客 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hello World</title>
      <link href="/2019/06/30/hello-world/"/>
      <url>/2019/06/30/hello-world/</url>
      
        <content type="html"><![CDATA[<p>本博客是搭建后自动生成,我顺便当成自己使用该博客时需要使用的bash命令即及其记了忘的东西</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="noopener">Deployment</a></p><h3 id="notes"><a href="#notes" class="headerlink" title="notes"></a>notes</h3><p>参数 | 描述 | 默认值<br>:-: | :-: | :-: | :-: | :-:<br>layout | 布局 | post<br>title | 标题 | 文件名<br>date | 建立日期 | 文件建立日期<br>updated | 更新日期 | 文件更新日期<br>tags | 标签（不适用于分页）<br>categories| 分类（不适用于分页）<br>permalink| 覆盖文章网址<br>thumbnail | 缩略图地址<br>toc | 显示TOC按钮 | true<br>comment | 显示评论 | true<br>notag | 不生成标签按钮 | false<br>top | 置顶 | false<br>mathJax | 启用Mathjax | false<br>description: 每篇文章在搜索结果中显示的链接描述站点配置文件中的description<br>缩略图功能<br>在Material主题中，每个Scheme都有缩略图功能。<br>只需要在Front-matter中添加参数thumbnail:，然后填入缩略图地址即可。</p><p>本地调试</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo s</span><br></pre></td></tr></table></figure><p>push到github</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo g -d</span><br></pre></td></tr></table></figure><p>创建博客</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new xx.md</span><br></pre></td></tr></table></figure><blockquote style="margin: 2em 0 0;padding: 0.5em 1em;border-left: 3px solid #F44336;background-color: #F5F5F5;list-style: none;"><p> <strong>本文使用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/" target="_blank" rel="noopener">CC BY-NC-SA 3.0 中国大陆</a> 协议许可<br>具体请参见 <a href="https://zyhang8.github.io/agree/" target="_blank" rel="noopener">知识共享协议</a></strong><br> <strong>本文链接：</strong><a href="https://zyhang8.github.io/2019/06/30/hello-world/" target="_blank" rel="noopener">https://zyhang8.github.io/2019/06/30/hello-world/</a></p></blockquote>]]></content>
      
      
      
    </entry>
    
    
  
  
    
    
    <entry>
      <title></title>
      <link href="/PGP/index.html"/>
      <url>/PGP/index.html</url>
      
        <content type="html"><![CDATA[<h1 id="什么是-PGP-？它能做什么-？"><a href="#什么是-PGP-？它能做什么-？" class="headerlink" title="什么是 PGP ？它能做什么 ？"></a>什么是 PGP ？它能做什么 ？</h1><p>PGP 是 Pretty Good Privacy 的缩写，它是一套用于消息加密、验证的数据交换方法。遵守 OpenPGP 数据加解密标准 (RFC 4880) 。<br>PGP 可以用作 加密、数字签名、认证。</p><h2 id="使用-PGP-与我通讯"><a href="#使用-PGP-与我通讯" class="headerlink" title="使用 PGP 与我通讯"></a>使用 PGP 与我通讯</h2><p>首先下载我的 <a href="https://files.cnblogs.com/files/pipi-pig/PGP_public.zip" target="_blank" rel="noopener">PGP 公钥</a> 并导入到你的 PGP 加密程序中。(Mac OS 可以使用GPG Keychain)<br>注意验证我的公钥指纹为 A038 89C1 542D 6DB7 BD66  CEE3 D00F F13E B0B8 1FDA，如果指纹一致说明你下载的公钥没有被篡改。<br>使用这个公钥加密你的信息，并发送到 <a href="mailto:zhongyuhang113@gmail.com" target="_blank" rel="noopener">zhongyuhang113@gmail.com</a> 字样即可被我的邮箱自动分类。</p><blockquote style="margin: 2em 0 0;padding: 0.5em 1em;border-left: 3px solid #F44336;background-color: #F5F5F5;list-style: none;"><p> <strong>本文使用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/" target="_blank" rel="noopener">CC BY-NC-SA 3.0 中国大陆</a> 协议许可<br>具体请参见 <a href="https://zyhang8.github.io/agree/" target="_blank" rel="noopener">知识共享协议</a></strong><br> <strong>本文链接：</strong><a href="https://zyhang8.github.io/PGP/" target="_blank" rel="noopener">https://zyhang8.github.io/PGP/</a></p></blockquote>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/dream/index-%E5%86%B2%E7%AA%81-%E4%B8%80%E5%8F%AA%E5%B0%8F%E7%99%BD_Win10.html"/>
      <url>/dream/index-%E5%86%B2%E7%AA%81-%E4%B8%80%E5%8F%AA%E5%B0%8F%E7%99%BD_Win10.html</url>
      
        <content type="html"><![CDATA[<h1 id="研梦"><a href="#研梦" class="headerlink" title="研梦"></a>研梦</h1><p>小白的研梦</p><h2 id="content"><a href="#content" class="headerlink" title="content"></a>content</h2><p>20200330</p><p><img src="/img/yan/20200330.png" alt="20200330"></p><p>20200331</p><p><img src="/img/yan/20200331.png" alt="20200331"></p><p>20200401 打了乒乓球2+h</p><p><img src="/img/yan/20200401.png" alt="20200401"></p><p>20200402</p><p><img src="/img/yan/20200402.png" alt="20200402"></p><p>20200403</p><p><img src="/img/yan/20200403.png" alt="20200403"></p><p>20200404</p><p><img src="/img/yan/20200404.png" alt="20200404"></p><p>20200405</p><p><img src="/img/yan/20200405.png" alt="20200405"></p><p>20200406</p><p><img src="/img/yan/20200406.png" alt="20200406"></p><p>20200407</p><p><img src="/img/yan/20200407.png" alt="20200407"></p><p>20200408</p><p><img src="/img/yan/20200408.png" alt="20200408"></p><p>20200409</p><p><img src="/img/yan/20200409.png" alt="20200409"></p><p>20200410</p><p><img src="/img/yan/20200410.png" alt="20200410"></p><p>20200331</p><p><img src="/img/yan/20200331.png" alt="20200331"></p><p>20200331</p><p><img src="/img/yan/20200331.png" alt="20200331"></p><blockquote style="margin: 2em 0 0;padding: 0.5em 1em;border-left: 3px solid #F44336;background-color: #F5F5F5;list-style: none;"><p> <strong>本文使用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/" target="_blank" rel="noopener">CC BY-NC-SA 3.0 中国大陆</a> 协议许可<br>具体请参见 <a href="https://zyhang8.github.io/dream/" target="_blank" rel="noopener">知识共享协议</a></strong><br> <strong>本文链接：</strong><a href="https://zyhang8.github.io/dream/" target="_blank" rel="noopener">https://zyhang8.github.io/agree/</a></p></blockquote>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/agree/index.html"/>
      <url>/agree/index.html</url>
      
        <content type="html"><![CDATA[<h1 id="知识共享协议"><a href="#知识共享协议" class="headerlink" title="知识共享协议"></a>知识共享协议</h1><p> 一只小白（以下简称本人），是 “一直小白” 博客（以下简称本博客）的拥有者<br>本博客上创造和发布的内容可用于传播和共享，对于本人发布的原创内容（包含图片、文字、音乐、视频）采用 CC BY-NC-SA 3.0 CN 即 署名-非商业性使用-相同方式共享 3.0 中国大陆 协议许可进行保护.</p><p><a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/" target="_blank" rel="noopener"><img src="https://s2.ax1x.com/2019/07/29/e3SCG9.png" alt="e3SCG9.png"></a></p><p>您可以自由地：</p><ul><li>分享 — 在任何媒介以任何形式复制、发行本作品</li><li>演绎 — 修改、转换或以本作品为基础进行创作</li></ul><p>惟须遵守下列条件：</p><ul><li>署名</li><li>非商业性使用</li><li>相同方式共享</li></ul><h2 id="补充说明"><a href="#补充说明" class="headerlink" title="补充说明"></a>补充说明</h2><h3 id="内容侵权"><a href="#内容侵权" class="headerlink" title="内容侵权"></a>内容侵权</h3><p>如您发现本博客上存在侵犯您自身合法权益的内容，请及时与本人联系，并提供具有法律效力的证明，以便本人进行处理.</p><h3 id="非原创内容相关"><a href="#非原创内容相关" class="headerlink" title="非原创内容相关"></a>非原创内容相关</h3><p>被本博客收录的非原创作品，原作者依然持有商业使用其作品的权利.<br>如果您希望商业使用这些被收录的内容，请与所有 参与此作品创作的原作者 和/或 版权持有者 联系，打成协议后方可商业使用.<br>本博客及本人不进行任何商业接洽工作，请自行联络原作者.</p><h2 id="CC-3-0-BY-NC-SA-CN-协议概要"><a href="#CC-3-0-BY-NC-SA-CN-协议概要" class="headerlink" title="CC 3.0 BY-NC-SA CN 协议概要"></a>CC 3.0 BY-NC-SA CN 协议概要</h2><h3 id="语言：中文"><a href="#语言：中文" class="headerlink" title="语言：中文"></a>语言：中文</h3><blockquote><p>该 <code>协议概要</code> 摘抄于 Thu Mar 9 02:28:36 UTC 2017<br>这是一份普通人可以理解的许可协议概要 (但不是替代) 。</p></blockquote><p><em>您可以自由地：</em></p><ul><li>分享 — 在任何媒介以任何形式复制、发行本作品</li><li>演绎 — 修改、转换或以本作品为基础进行创作</li><li>只要你遵守许可协议条款，许可人就无法收回你的这些权利。</li></ul><p><em>惟须遵守下列条件：</em></p><ul><li>署名 — 你必须遵守信用，注明来源链接和演绎内容，并提供一个通往与 原作所用协议并不冲突的知识共享协议 许可证页面的链接。你可以用任何合适的方式实现这个，但这并不暗示许可证拥有者和原作者认可该分享方式.</li><li>非商业性使用 — 您不得将本作品用于商业目的。</li><li>相同方式共享 — 如果你节选、翻译、重排版，或基于本作品二次创作，你必须将你的贡献用 相同的协议 进行分享，并分别注明原作者与你的贡献.</li><li>没有附加限制 — 虽然您可能依旧不适用那些法律上限制的任何关于知识产权的法律条款或技术措施，即使你的行为符合知识共享协议.</li></ul><p>##语言：英文</p><blockquote><p>This copy was copied at Thu Mar 9 02:28:36 UTC 2017<br>This is a human-readable summary of (and not a substitute for) the license.</p></blockquote><p>You are free to:</p><ul><li><p>Share — copy and redistribute the material in any medium or format</p></li><li><p>Adapt — remix, transform, and build upon the material</p></li><li><p>The licensor cannot revoke these freedoms as long as you follow the license terms.</p></li><li><p>Under the following terms:</p></li><li><p>Attribution — You must give appropriate credit, provide a link to the license, and indicate if changes were made. You may do so in any reasonable manner, but not in any way that suggests the licensor endorses you or your use.</p></li><li><p>NonCommercial — You may not use the material for commercial purposes.</p></li><li><p>ShareAlike — If you remix, transform, or build upon the material, you must distribute your contributions under the same license as the original.</p></li><li><p>No additional restrictions — You may not apply legal terms or technological measures that legally restrict others from doing anything the license permits.</p></li></ul><h2 id="CC-3-0-BY-NC-SA-CN-完整协议"><a href="#CC-3-0-BY-NC-SA-CN-完整协议" class="headerlink" title="CC 3.0 BY-NC-SA CN 完整协议"></a>CC 3.0 BY-NC-SA CN 完整协议</h2><h3 id="语言：中文-1"><a href="#语言：中文-1" class="headerlink" title="语言：中文"></a>语言：中文</h3><p><a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/legalcode" target="_blank" rel="noopener">知识共享协议 署名-非商业性使用-相同方式共享 3.0 中国大陆 许可协议</a></p><h3 id="署名方法"><a href="#署名方法" class="headerlink" title="署名方法"></a>署名方法</h3><p>在转载本博客中任何内容时必须给出原页面的 URL 链接，并注明文章（全文，部分）从 天空之边 转载，并提供一个与 <code>CC 3.0 BY-NC-SA China Mainland</code> 不相违背的知识共享协议的许可证；<br>如果你对本博客的原创内容进行了演绎，则必须注明演绎的内容；并提供 CC 3.0 BY-NC-SA 协议 的许可证</p><p><em>演绎政策</em><br>本博客属于所有在网络上公开发表的，任何人可访问的作品，故本人在这里明确声明 <code>所有原创内容均允许演绎</code>.</p><blockquote><p>知识共享协议中对 演绎 的定义是：在不改变原作者的原创内容的含义和内涵的基础上，对原创内容进行 节选、翻译、重排版，或将原作者的原创内容作为论据和素材，或基于原作者的原创内容进行二次创作。</p></blockquote><blockquote style="margin: 2em 0 0;padding: 0.5em 1em;border-left: 3px solid #F44336;background-color: #F5F5F5;list-style: none;"><p> <strong>本文使用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/" target="_blank" rel="noopener">CC BY-NC-SA 3.0 中国大陆</a> 协议许可<br>具体请参见 <a href="https://zyhang8.github.io/agree/" target="_blank" rel="noopener">知识共享协议</a></strong><br> <strong>本文链接：</strong><a href="https://zyhang8.github.io/agree/" target="_blank" rel="noopener">https://zyhang8.github.io/agree/</a></p></blockquote>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>links</title>
      <link href="/links/index.html"/>
      <url>/links/index.html</url>
      
        <content type="html"><![CDATA[]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>gallery</title>
      <link href="/gallery/index.html"/>
      <url>/gallery/index.html</url>
      
        <content type="html"><![CDATA[]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>tags</title>
      <link href="/tags/index.html"/>
      <url>/tags/index.html</url>
      
        <content type="html"><![CDATA[]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>timeline</title>
      <link href="/timeline/index.html"/>
      <url>/timeline/index.html</url>
      
        <content type="html"><![CDATA[]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/dream/index.html"/>
      <url>/dream/index.html</url>
      
        <content type="html"><![CDATA[<h1 id="研梦"><a href="#研梦" class="headerlink" title="研梦"></a>研梦</h1><p>小白的研梦</p><h2 id="content"><a href="#content" class="headerlink" title="content"></a>content</h2><p>20200330</p><p><img src="/img/yan/20200330.png" alt="20200330"></p><p>20200331</p><p><img src="/img/yan/20200331.png" alt="20200331"></p><p>20200401 打了乒乓球2+h</p><p><img src="/img/yan/20200401.png" alt="20200401"></p><p>20200402</p><p><img src="/img/yan/20200402.png" alt="20200402"></p><p>20200403</p><p><img src="/img/yan/20200403.png" alt="20200403"></p><p>20200404</p><p><img src="/img/yan/20200404.png" alt="20200404"></p><p>20200405</p><p><img src="/img/yan/20200405.png" alt="20200405"></p><p>20200406</p><p><img src="/img/yan/20200406.png" alt="20200406"></p><p>20200407</p><p><img src="/img/yan/20200407.png" alt="20200407"></p><p>20200408</p><p><img src="/img/yan/20200408.png" alt="20200408"></p><p>20200409</p><p><img src="/img/yan/20200409.png" alt="20200409"></p><p>20200410</p><p><img src="/img/yan/20200410.png" alt="20200410"></p><p>20200411</p><p><img src="/img/yan/20200411.png" alt="20200411"></p><p>20200412</p><p><img src="/img/yan/20200412.png" alt="20200412"></p><p>20200413</p><p>忘记拍照..大概10小时出头</p><blockquote style="margin: 2em 0 0;padding: 0.5em 1em;border-left: 3px solid #F44336;background-color: #F5F5F5;list-style: none;"><p> <strong>本文使用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/" target="_blank" rel="noopener">CC BY-NC-SA 3.0 中国大陆</a> 协议许可<br>具体请参见 <a href="https://zyhang8.github.io/dream/" target="_blank" rel="noopener">知识共享协议</a></strong><br> <strong>本文链接：</strong><a href="https://zyhang8.github.io/dream/" target="_blank" rel="noopener">https://zyhang8.github.io/agree/</a></p></blockquote>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/me/index.html"/>
      <url>/me/index.html</url>
      
        <content type="html"><![CDATA[<h1 id="我是谁？"><a href="#我是谁？" class="headerlink" title="我是谁？"></a>我是谁？</h1><p>欢迎来到一只小白的博客。当前还是上海某高校的本科生哦,现在就任某实验室里<del>实力划水</del></p><p>第一特长: 乒乓球,数学,码<br>第二特长: 羽毛球,跑步<br>兴趣： 魔方,数独,象棋,摄影</p><h1 id="这是哪里呢？"><a href="#这是哪里呢？" class="headerlink" title="这是哪里呢？"></a>这是哪里呢？</h1><p>这里是我的博客，可能很少会更新，不过应该会记录一些学习记录和生活趣事，以后应该看到会很有趣吧。</p><h1 id="感谢"><a href="#感谢" class="headerlink" title="感谢"></a>感谢</h1><p>首先，感谢提供这个博客主机的 kookxiang ，谢谢~<br>其次，感谢开发了这个博客程序的开发者们~<br>然后，感谢编写了这套设计模板的人们<del>在网站的右下角可以链接到这个主题的 Github 页上哟</del></p><h1 id="如果你想与我交换友链"><a href="#如果你想与我交换友链" class="headerlink" title="如果你想与我交换友链"></a>如果你想与我交换友链</h1><p>如果你想与我交换友链请在下方评论。<br>我仅接受个人博客申请友链。<br>我的友链信息如下</p><blockquote><p>博客名: 一只小白<br>网址: <a href="https://zyhang8.github.io" target="_blank" rel="noopener">https://zyhang8.github.io</a><br>头像: <a href="https://zyhang8.github.io/img/head_sculpture.png" target="_blank" rel="noopener">https://zyhang8.github.io/img/head_sculpture.png</a><br>描述: 这是一只小白<br>注意：如果你的博客没有 https 支持，在 好伙伴 页面将不会显示绿锁标志。</p></blockquote><h1 id="最后唠叨几句www"><a href="#最后唠叨几句www" class="headerlink" title="最后唠叨几句www"></a>最后唠叨几句www</h1><p>我个人不是很会写文章，所以估计文章都是一些记录或者想法而已<del>而且更新可能很少啦</del>也感谢现在正在看我的博客的你，谢谢你的支持哟~</p><blockquote style="margin: 2em 0 0;padding: 0.5em 1em;border-left: 3px solid #F44336;background-color: #F5F5F5;list-style: none;"><p> <strong>本文使用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/" target="_blank" rel="noopener">CC BY-NC-SA 3.0 中国大陆</a> 协议许可<br>具体请参见 <a href="https://zyhang8.github.io/agree/" target="_blank" rel="noopener">知识共享协议</a></strong><br> <strong>本文链接：</strong><a href="https://zyhang8.github.io/me/" target="_blank" rel="noopener">https://zyhang8.github.io/me/</a></p></blockquote>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/video/index.html"/>
      <url>/video/index.html</url>
      
        <content type="html"><![CDATA[<h1 id="这里记录着小白看过、想看、正在看的剧"><a href="#这里记录着小白看过、想看、正在看的剧" class="headerlink" title="这里记录着小白看过、想看、正在看的剧"></a>这里记录着小白看过、想看、正在看的剧</h1><p>这个统计是不完整的，因为有很多看过的已经忘记了… 等我再看到的时候会加上去的…<br>本来还想把看过的闲书全部记下来,可是确实有点多,而且记不清楚就放弃了<br>如果你有什么想要推荐给我的，可以写在下面的评论区哦~<br>如果你有下面想看但找不到的资源也可以滴滴~~<br>更新时间： 2020-01-07<br>状态标识如下</p><table><thead><tr><th>状态</th><th align="center">含义</th></tr></thead><tbody><tr><td>计划</td><td align="center">此剧还没有开始播出，已计划观看</td></tr><tr><td>等待</td><td align="center">暂时不在补剧列表中</td></tr><tr><td>待补</td><td align="center">已加入列表，但还没有看</td></tr><tr><td>正在补剧</td><td align="center">正在看的剧，但此剧已经完结</td></tr><tr><td>暂停补剧</td><td align="center">此番剧已经完结，而且已经补了一些，但目前不在&gt;</td></tr><tr><td>补完</td><td align="center">已经看完的剧，但是在此剧完结后开始看的</td></tr><tr><td>追剧</td><td align="center">正在看的剧，此剧正在连载</td></tr><tr><td>追完</td><td align="center">此番剧已经完结，并且是在追番的状态下看完的</td></tr><tr><td>暂停追剧[*]</td><td align="center">此剧正在连载，而且已经看了一些，但没有追剧</td></tr><tr><td>待完结补剧</td><td align="center">此剧正在连载，等待完结后看全集</td></tr><tr><td>腰斩</td><td align="center">此剧已经腰斩</td></tr><tr><td>放弃</td><td align="center">已放弃追剧或者补剧</td></tr></tbody></table><blockquote><p>[*] 此状态如果在番剧还在连载时追上算作追番，如果番剧已经完结后追上算作补完</p></blockquote><h2 id="番"><a href="#番" class="headerlink" title="番"></a>番</h2><table><thead><tr><th>剧名</th><th align="center">状态</th><th align="right">也许有的感想</th></tr></thead><tbody><tr><td>海贼王</td><td align="center">追剧</td><td align="right">强烈推荐</td></tr><tr><td>海贼王(漫画)</td><td align="center">追剧</td><td align="right">强烈推荐</td></tr><tr><td>黄金岛</td><td align="center">补完</td><td align="right"></td></tr><tr><td>发条岛</td><td align="center">补完</td><td align="right"></td></tr><tr><td>乔巴王国</td><td align="center">补完</td><td align="right"></td></tr><tr><td>死亡尽头</td><td align="center">补完</td><td align="right"></td></tr><tr><td>被诅咒圣剑</td><td align="center">补完</td><td align="right"></td></tr><tr><td>狂欢男爵</td><td align="center">补完</td><td align="right"></td></tr><tr><td>机械岛</td><td align="center">补完</td><td align="right"></td></tr><tr><td>沙漠王女</td><td align="center">补完</td><td align="right"></td></tr><tr><td>乔巴传记</td><td align="center">补完</td><td align="right"></td></tr><tr><td>强者世界</td><td align="center">补完</td><td align="right"></td></tr><tr><td>追寻草帽</td><td align="center">补完</td><td align="right"></td></tr><tr><td>最强之敌 z</td><td align="center">补完</td><td align="right"></td></tr><tr><td>黄金城</td><td align="center">追完</td><td align="right"></td></tr><tr><td>打倒海盗强萨克</td><td align="center">补完</td><td align="right"></td></tr><tr><td>路飞的绝技</td><td align="center">补完</td><td align="right"></td></tr><tr><td>索隆的绝技</td><td align="center">补完</td><td align="right"></td></tr><tr><td>秘境海肚脐大冒险</td><td align="center">补完</td><td align="right"></td></tr><tr><td>赞高的狂欢舞会</td><td align="center">补完</td><td align="right"></td></tr><tr><td>梦幻足球王</td><td align="center">补完</td><td align="right"></td></tr><tr><td>伟大父亲的伟大梦想</td><td align="center">补完</td><td align="right"></td></tr><tr><td>守护最后的大舞台</td><td align="center">补完</td><td align="right"></td></tr><tr><td>棒球王</td><td align="center">补完</td><td align="right"></td></tr><tr><td>海贼的轨迹</td><td align="center">补完</td><td align="right"></td></tr><tr><td>新年篇</td><td align="center">补完</td><td align="right"></td></tr><tr><td>路飞大百科</td><td align="center">补完</td><td align="right"></td></tr><tr><td>草帽团的秘密</td><td align="center">补完</td><td align="right"></td></tr><tr><td>乔巴超人</td><td align="center">补完</td><td align="right"></td></tr><tr><td>One Piece Romance Dawn</td><td align="center">补完</td><td align="right"></td></tr><tr><td>强者世界前传</td><td align="center">补完</td><td align="right"></td></tr><tr><td>娜美的眼泪</td><td align="center">补完</td><td align="right"></td></tr><tr><td>手掌岛大冒险</td><td align="center">补完</td><td align="right"></td></tr><tr><td>绝妙孤岛</td><td align="center">补完</td><td align="right"></td></tr><tr><td>另一个伙伴</td><td align="center">补完</td><td align="right"></td></tr><tr><td>薇薇回忆录</td><td align="center">补完</td><td align="right"></td></tr><tr><td>3d2y</td><td align="center">补完</td><td align="right"></td></tr><tr><td>萨博的故事</td><td align="center">补完</td><td align="right"></td></tr><tr><td>迷雾岛大冒险</td><td align="center">补完</td><td align="right"></td></tr><tr><td>one piece film gold episode</td><td align="center">补完</td><td align="right"></td></tr><tr><td>黄金之心</td><td align="center">补完</td><td align="right"></td></tr><tr><td>狂热行动</td><td align="center">追完</td><td align="right">巴雷特有点强</td></tr></tbody></table><h2 id="漫威电影宇宙"><a href="#漫威电影宇宙" class="headerlink" title="漫威电影宇宙"></a>漫威电影宇宙</h2><table><thead><tr><th>剧名</th><th align="center">状态</th><th align="right">也许有的感想</th></tr></thead><tbody><tr><td>蜘蛛侠</td><td align="center">追完</td><td align="right"></td></tr><tr><td>蜘蛛侠2</td><td align="center">追完</td><td align="right"></td></tr><tr><td>蜘蛛侠3</td><td align="center">追完</td><td align="right"></td></tr><tr><td>超凡蜘蛛侠</td><td align="center">追完</td><td align="right"></td></tr><tr><td>超凡蜘蛛侠2</td><td align="center">追完</td><td align="right"></td></tr><tr><td>蜘蛛侠：英雄归来</td><td align="center">追完</td><td align="right"></td></tr><tr><td>蜘蛛侠：英雄远征</td><td align="center">追完</td><td align="right"></td></tr><tr><td>X战警：第一战</td><td align="center">追完</td><td align="right"></td></tr><tr><td>金刚狼</td><td align="center">追完</td><td align="right"></td></tr><tr><td>X战警</td><td align="center">追完</td><td align="right"></td></tr><tr><td>X战警2</td><td align="center">追完</td><td align="right"></td></tr><tr><td>X战警3：背水一战</td><td align="center">追完</td><td align="right"></td></tr><tr><td>金刚狼2</td><td align="center">追完</td><td align="right"></td></tr><tr><td>X战警：逆转未来</td><td align="center">追完</td><td align="right"></td></tr><tr><td>X战警：天启</td><td align="center">追完</td><td align="right"></td></tr><tr><td>金刚狼3：殊死一战</td><td align="center">追完</td><td align="right"></td></tr><tr><td>神奇四侠</td><td align="center">追完</td><td align="right"></td></tr><tr><td>神奇四侠2</td><td align="center">追完</td><td align="right"></td></tr><tr><td>神奇四侠2015</td><td align="center">追完</td><td align="right"></td></tr><tr><td>死侍</td><td align="center">追完</td><td align="right"></td></tr><tr><td>死侍2</td><td align="center">追完</td><td align="right"></td></tr><tr><td>死侍3</td><td align="center">追完</td><td align="right"></td></tr><tr><td>钢铁侠</td><td align="center">追完</td><td align="right"></td></tr><tr><td>无敌浩克</td><td align="center">追完</td><td align="right"></td></tr><tr><td>钢铁侠2</td><td align="center">追完</td><td align="right"></td></tr><tr><td>雷神</td><td align="center">追完</td><td align="right"></td></tr><tr><td>美国队长</td><td align="center">追完</td><td align="right"></td></tr><tr><td>复仇者联盟</td><td align="center">追完</td><td align="right"></td></tr><tr><td>钢铁侠3</td><td align="center">追完</td><td align="right"></td></tr><tr><td>雷神2：黑暗世界</td><td align="center">追完</td><td align="right"></td></tr><tr><td>美国队长2</td><td align="center">追完</td><td align="right"></td></tr><tr><td>银河护卫队</td><td align="center">追完</td><td align="right"></td></tr><tr><td>复仇者联盟2：奥创纪元</td><td align="center">追完</td><td align="right"></td></tr><tr><td>蚁人</td><td align="center">追完</td><td align="right"></td></tr><tr><td>美国队长3：内战</td><td align="center">追完</td><td align="right"></td></tr><tr><td>奇异博士</td><td align="center">追完</td><td align="right"></td></tr><tr><td>银河护卫队2</td><td align="center">追完</td><td align="right"></td></tr><tr><td>雷神3：诸神黄昏</td><td align="center">追完</td><td align="right"></td></tr><tr><td>黑豹</td><td align="center">追完</td><td align="right"></td></tr><tr><td>复仇者联盟3：无限战争（上）</td><td align="center">追完</td><td align="right"></td></tr><tr><td>蚁人2：黄蜂女现身</td><td align="center">追完</td><td align="right"></td></tr><tr><td>惊奇队长</td><td align="center">追完</td><td align="right"></td></tr><tr><td>复仇者联盟4：无限战争（下）</td><td align="center">追完</td><td align="right"></td></tr><tr><td>艾丽卡</td><td align="center">追完</td><td align="right"></td></tr><tr><td>X战警：黑凤凰</td><td align="center">计划</td><td align="right"></td></tr></tbody></table><h2 id="漫威美剧-amp-短片"><a href="#漫威美剧-amp-短片" class="headerlink" title="漫威美剧&amp;短片"></a>漫威美剧&amp;短片</h2><table><thead><tr><th>剧名</th><th align="center">状态</th><th align="right">也许有的感想</th></tr></thead><tbody><tr><td>异人族</td><td align="center">放弃</td><td align="right"></td></tr><tr><td>天赋异禀</td><td align="center">追完</td><td align="right"></td></tr><tr><td>变种军团</td><td align="center">待补</td><td align="right"></td></tr><tr><td>卡特探员</td><td align="center">追完</td><td align="right"></td></tr><tr><td>夜魔侠</td><td align="center">追完</td><td align="right"></td></tr><tr><td>惩罚者</td><td align="center">等待</td><td align="right"></td></tr><tr><td>杰西卡-琼斯</td><td align="center">等待</td><td align="right"></td></tr><tr><td>卢克-凯奇</td><td align="center">等待</td><td align="right"></td></tr><tr><td>铁拳</td><td align="center">追完</td><td align="right"></td></tr><tr><td>捍卫者联盟</td><td align="center">等待</td><td align="right"></td></tr><tr><td>离家童盟</td><td align="center">等待</td><td align="right"></td></tr><tr><td>斗篷与匕首</td><td align="center">等待</td><td align="right"></td></tr><tr><td>47号物品</td><td align="center">追完</td><td align="right"></td></tr><tr><td>探员卡特</td><td align="center">追完</td><td align="right"></td></tr><tr><td>神盾顾问</td><td align="center">追完</td><td align="right"></td></tr><tr><td>王者万岁</td><td align="center">追完</td><td align="right"></td></tr><tr><td>神盾局特工</td><td align="center">追完</td><td align="right"></td></tr></tbody></table><h2 id="DC电影"><a href="#DC电影" class="headerlink" title="DC电影"></a>DC电影</h2><table><thead><tr><th>剧名</th><th align="center">状态</th><th align="right">也许有的感想</th></tr></thead><tbody><tr><td>超人归来</td><td align="center">追完</td><td align="right"></td></tr><tr><td>超人：钢铁之躯</td><td align="center">追完</td><td align="right"></td></tr><tr><td>蝙蝠侠归来</td><td align="center">追完</td><td align="right"></td></tr><tr><td>永远的蝙蝠侠</td><td align="center">追完</td><td align="right"></td></tr><tr><td>蝙蝠侠与罗宾</td><td align="center">追完</td><td align="right"></td></tr><tr><td>蝙蝠侠：侠影之谜</td><td align="center">追完</td><td align="right"></td></tr><tr><td>蝙蝠侠：黑暗骑士</td><td align="center">追完</td><td align="right"></td></tr><tr><td>蝙蝠侠：黑暗骑士崛起</td><td align="center">追完</td><td align="right"></td></tr><tr><td>蝙蝠侠大战超人：正义黎明</td><td align="center">追完</td><td align="right"></td></tr><tr><td>自杀小队</td><td align="center">追完</td><td align="right"></td></tr><tr><td>神奇女侠</td><td align="center">追完</td><td align="right"></td></tr><tr><td>正义联盟</td><td align="center">追完</td><td align="right"></td></tr><tr><td>地狱神探</td><td align="center">追完</td><td align="right"></td></tr><tr><td>绿灯侠</td><td align="center">追完</td><td align="right"></td></tr><tr><td>海王</td><td align="center">追完</td><td align="right"></td></tr><tr><td>赤焰战场</td><td align="center">追完</td><td align="right"></td></tr><tr><td>赤焰战场2</td><td align="center">追完</td><td align="right"></td></tr><tr><td>雷霆沙赞</td><td align="center">计划</td><td align="right"></td></tr></tbody></table><h2 id="DC美剧"><a href="#DC美剧" class="headerlink" title="DC美剧"></a>DC美剧</h2><blockquote><p>由于学业繁忙停止追了</p></blockquote><table><thead><tr><th>剧名</th><th align="center">状态</th><th align="right">也许有的感想</th></tr></thead><tbody><tr><td>绿箭侠</td><td align="center">暂停追剧[*]</td><td align="right"></td></tr><tr><td>哥谭</td><td align="center">暂停追剧[*]</td><td align="right"></td></tr><tr><td>闪电侠</td><td align="center">暂停追剧[*]</td><td align="right"></td></tr><tr><td>康斯坦丁</td><td align="center">腰斩</td><td align="right"></td></tr><tr><td>超能力</td><td align="center">计划</td><td align="right"></td></tr><tr><td>超女</td><td align="center">暂停追剧[*]</td><td align="right"></td></tr><tr><td>明日传奇</td><td align="center">暂停追剧[*]</td><td align="right"></td></tr><tr><td>氪星</td><td align="center">计划</td><td align="right"></td></tr><tr><td>黑霹雳</td><td align="center">放弃</td><td align="right"></td></tr><tr><td>蝙蝠女</td><td align="center">计划</td><td align="right"></td></tr><tr><td>绝命毒师</td><td align="center">补完</td><td align="right"></td></tr><tr><td>西部故事</td><td align="center">追完</td><td align="right"></td></tr></tbody></table><h2 id="imdb高分剧"><a href="#imdb高分剧" class="headerlink" title="imdb高分剧"></a>imdb高分剧</h2><table><thead><tr><th>剧名</th><th align="center">状态</th><th align="right">也许有的感想</th></tr></thead><tbody><tr><td>肖生克的救赎</td><td align="center">追完</td><td align="right"></td></tr><tr><td>教父</td><td align="center">追完</td><td align="right"></td></tr><tr><td>教父2</td><td align="center">追完</td><td align="right"></td></tr><tr><td>辛德勒的名单</td><td align="center">追完</td><td align="right"></td></tr><tr><td>指环王：护戒使者</td><td align="center">追完</td><td align="right"></td></tr><tr><td>指环王：双塔奇兵</td><td align="center">追完</td><td align="right"></td></tr><tr><td>指环王：王者归来</td><td align="center">追完</td><td align="right"></td></tr><tr><td>霍比特人1:意外之旅</td><td align="center">追完</td><td align="right"></td></tr><tr><td>霍比特人2:史矛革之战</td><td align="center">追完</td><td align="right"></td></tr><tr><td>霍比特人3:五军之战</td><td align="center">追完</td><td align="right"></td></tr><tr><td>低俗小说</td><td align="center">追完</td><td align="right"></td></tr><tr><td>黄金三镖客</td><td align="center">追完</td><td align="right"></td></tr><tr><td>搏击俱乐部</td><td align="center">追完</td><td align="right"></td></tr><tr><td>阿甘正传</td><td align="center">追完</td><td align="right"></td></tr><tr><td>盗梦空间</td><td align="center">追完</td><td align="right"></td></tr><tr><td>黑客帝国</td><td align="center">追完</td><td align="right"></td></tr><tr><td>黑客帝国2：重装上阵</td><td align="center">追完</td><td align="right"></td></tr><tr><td>黑客帝国3：矩阵革命</td><td align="center">追完</td><td align="right"></td></tr><tr><td>上帝之城</td><td align="center">追完</td><td align="right"></td></tr><tr><td>美丽人生</td><td align="center">追完</td><td align="right"></td></tr><tr><td>千与千寻</td><td align="center">追完</td><td align="right"></td></tr><tr><td>拯救大兵瑞恩</td><td align="center">追完</td><td align="right"></td></tr><tr><td>这个杀手不太冷</td><td align="center">追完</td><td align="right"></td></tr><tr><td>绿里奇迹</td><td align="center">追完</td><td align="right"></td></tr><tr><td>星际穿越</td><td align="center">追完</td><td align="right"></td></tr><tr><td>钢琴家</td><td align="center">追完</td><td align="right"></td></tr><tr><td>海上钢琴师</td><td align="center">追完</td><td align="right"></td></tr><tr><td>摩登时代</td><td align="center">追完</td><td align="right"></td></tr><tr><td>触不可及</td><td align="center">追完</td><td align="right"></td></tr><tr><td>无间行者</td><td align="center">追完</td><td align="right"></td></tr><tr><td>终结者</td><td align="center">追完</td><td align="right"></td></tr><tr><td>终结者2：审判日</td><td align="center">追完</td><td align="right"></td></tr><tr><td>终结者3</td><td align="center">追完</td><td align="right"></td></tr><tr><td>爆裂鼓手</td><td align="center">追完</td><td align="right"></td></tr><tr><td>角斗士</td><td align="center">追完</td><td align="right"></td></tr><tr><td>致命魔术</td><td align="center">追完</td><td align="right"></td></tr><tr><td>记忆碎片</td><td align="center">追完</td><td align="right"></td></tr><tr><td>他人的生活</td><td align="center">追完</td><td align="right"></td></tr><tr><td>被解救的姜戈</td><td align="center">追完</td><td align="right"></td></tr><tr><td>机器人总动员</td><td align="center">追完</td><td align="right"></td></tr><tr><td>幽灵公主</td><td align="center">追完</td><td align="right"></td></tr><tr><td>美国丽人</td><td align="center">追完</td><td align="right"></td></tr><tr><td>寻梦环游记</td><td align="center">追完</td><td align="right"></td></tr><tr><td>勇敢的心</td><td align="center">追完</td><td align="right"></td></tr><tr><td>你的名字</td><td align="center">追完</td><td align="right"></td></tr><tr><td>梦之安魂曲</td><td align="center">追完</td><td align="right"></td></tr><tr><td>玩具总动员</td><td align="center">追完</td><td align="right"></td></tr><tr><td>玩具总动员2</td><td align="center">追完</td><td align="right"></td></tr><tr><td>玩具总动员3</td><td align="center">追完</td><td align="right"></td></tr><tr><td>三大傻大闹好莱坞</td><td align="center">追完</td><td align="right"></td></tr><tr><td>摔跤吧！爸爸</td><td align="center">追完</td><td align="right"></td></tr><tr><td>美丽心灵的永恒阳光</td><td align="center">追完</td><td align="right"></td></tr><tr><td>地球上的星星</td><td align="center">追完</td><td align="right"></td></tr><tr><td>天使爱美丽</td><td align="center">追完</td><td align="right"></td></tr><tr><td>心灵捕手</td><td align="center">追完</td><td align="right"></td></tr><tr><td>纳德和西敏:一次别离</td><td align="center">追完</td><td align="right"></td></tr><tr><td>绿皮书</td><td align="center">追完</td><td align="right"></td></tr><tr><td>美丽心灵</td><td align="center">追完</td><td align="right"></td></tr><tr><td>赌场风云</td><td align="center">追完</td><td align="right"></td></tr><tr><td>三个广告牌</td><td align="center">追完</td><td align="right"></td></tr><tr><td>勇士</td><td align="center">追完</td><td align="right"></td></tr><tr><td>血战钢锯岭</td><td align="center">追完</td><td align="right"></td></tr><tr><td>小丑</td><td align="center">追完</td><td align="right"></td></tr><tr><td>驯龙高手</td><td align="center">追完</td><td align="right"></td></tr><tr><td>驯龙高手2</td><td align="center">追完</td><td align="right"></td></tr><tr><td>驯龙高手3</td><td align="center">追完</td><td align="right"></td></tr><tr><td>荒蛮故事</td><td align="center">追完</td><td align="right"></td></tr><tr><td>布莱恩的一生</td><td align="center">追完</td><td align="right"></td></tr><tr><td>忠犬八公的故事</td><td align="center">追完</td><td align="right"></td></tr><tr><td>哈利·波特与魔法石</td><td align="center">追完</td><td align="right"></td></tr><tr><td>哈利·波特与密室</td><td align="center">追完</td><td align="right"></td></tr><tr><td>哈利·波特与阿兹卡班囚徒</td><td align="center">追完</td><td align="right"></td></tr><tr><td>哈利·波特与火焰杯</td><td align="center">追完</td><td align="right"></td></tr><tr><td>哈利·波特与凤凰社</td><td align="center">追完</td><td align="right"></td></tr><tr><td>哈利·波特与混血王子</td><td align="center">追完</td><td align="right"></td></tr><tr><td>哈利·波特与死亡圣器上</td><td align="center">追完</td><td align="right"></td></tr><tr><td>哈利·波特与死亡圣器下</td><td align="center">追完</td><td align="right"></td></tr><tr><td>伏地魔：传人的起源</td><td align="center">追完</td><td align="right"></td></tr><tr><td>怪兽大学</td><td align="center">追完</td><td align="right"></td></tr><tr><td>怪兽大学2</td><td align="center">追完</td><td align="right"></td></tr><tr><td>加勒比海盗：黑珍珠号的诅咒</td><td align="center">追完</td><td align="right"></td></tr><tr><td>加勒比海盗2：聚魂棺</td><td align="center">追完</td><td align="right"></td></tr><tr><td>加勒比海盗3：世界的尽头</td><td align="center">追完</td><td align="right"></td></tr><tr><td>加勒比海盗4：惊涛怪浪</td><td align="center">追完</td><td align="right"></td></tr><tr><td>加勒比海盗5：死无对证</td><td align="center">追完</td><td align="right"></td></tr><tr><td>周杰伦的2000w个故事</td><td align="center">追完</td><td align="right"></td></tr><tr><td>超能陆战队</td><td align="center">追完</td><td align="right"></td></tr><tr><td>速度与激情</td><td align="center">追完</td><td align="right"></td></tr><tr><td>速度与激情2</td><td align="center">追完</td><td align="right"></td></tr><tr><td>速度与激情3：东京漂移</td><td align="center">追完</td><td align="right"></td></tr><tr><td>速度与激情4</td><td align="center">追完</td><td align="right"></td></tr><tr><td>速度与激情5</td><td align="center">追完</td><td align="right"></td></tr><tr><td>速度与激情6</td><td align="center">追完</td><td align="right"></td></tr><tr><td>速度与激情7</td><td align="center">追完</td><td align="right"></td></tr><tr><td>速度与激情8</td><td align="center">追完</td><td align="right"></td></tr><tr><td>速度与激情：特别行动</td><td align="center">追完</td><td align="right"></td></tr><tr><td>变形金刚1</td><td align="center">追完</td><td align="right"></td></tr><tr><td>变形金刚2卷土重来</td><td align="center">追完</td><td align="right"></td></tr><tr><td>变形金刚3月黑之时</td><td align="center">追完</td><td align="right"></td></tr><tr><td>变形金刚4绝迹重生</td><td align="center">追完</td><td align="right"></td></tr><tr><td>变形金刚5最后的骑士</td><td align="center">追完</td><td align="right"></td></tr><tr><td>大黄峰</td><td align="center">追完</td><td align="right"></td></tr><tr><td>敢死队1</td><td align="center">追完</td><td align="right"></td></tr><tr><td>敢死队2</td><td align="center">追完</td><td align="right"></td></tr><tr><td>敢死队3</td><td align="center">追完</td><td align="right"></td></tr><tr><td>功夫熊猫</td><td align="center">追完</td><td align="right"></td></tr><tr><td>功夫熊猫2</td><td align="center">追完</td><td align="right"></td></tr><tr><td>功夫熊猫3</td><td align="center">追完</td><td align="right"></td></tr><tr><td>饥饿游戏</td><td align="center">追完</td><td align="right"></td></tr><tr><td>饥饿游戏2:星火燎原</td><td align="center">追完</td><td align="right"></td></tr><tr><td>饥饿游戏3:嘲笑鸟(上)</td><td align="center">追完</td><td align="right"></td></tr><tr><td>饥饿游戏3:嘲笑鸟(下)</td><td align="center">追完</td><td align="right"></td></tr><tr><td>惊天魔盗团</td><td align="center">追完</td><td align="right"></td></tr><tr><td>惊天魔盗团2</td><td align="center">追完</td><td align="right"></td></tr><tr><td>窃听风暴</td><td align="center">追完</td><td align="right"></td></tr><tr><td>忍者神龟</td><td align="center">追完</td><td align="right"></td></tr><tr><td>忍者神龟2：破影而出</td><td align="center">追完</td><td align="right"></td></tr><tr><td>少年派的奇幻漂流</td><td align="center">追完</td><td align="right"></td></tr><tr><td>生化危机</td><td align="center">追完</td><td align="right"></td></tr><tr><td>生化危机：灭绝</td><td align="center">追完</td><td align="right"></td></tr><tr><td>生化危机：启示录</td><td align="center">追完</td><td align="right"></td></tr><tr><td>生化危机：战神再生</td><td align="center">追完</td><td align="right"></td></tr><tr><td>生化危机：惩罚</td><td align="center">追完</td><td align="right"></td></tr><tr><td>生化危机：终章</td><td align="center">追完</td><td align="right"></td></tr><tr><td>时间规划局</td><td align="center">追完</td><td align="right"></td></tr><tr><td>死神来了</td><td align="center">追完</td><td align="right"></td></tr><tr><td>死神来了2</td><td align="center">追完</td><td align="right"></td></tr><tr><td>死神来了3</td><td align="center">追完</td><td align="right"></td></tr><tr><td>死神来了4</td><td align="center">追完</td><td align="right"></td></tr><tr><td>死神来了5</td><td align="center">追完</td><td align="right"></td></tr><tr><td>夺宝奇兵1:法柜奇兵</td><td align="center">补完</td><td align="right"></td></tr><tr><td>夺宝奇兵2:魔宫传奇</td><td align="center">待补</td><td align="right"></td></tr><tr><td>夺宝奇兵3:圣战奇兵</td><td align="center">待补</td><td align="right"></td></tr><tr><td>夺宝奇兵4:水晶骷髅国</td><td align="center">待补</td><td align="right"></td></tr><tr><td>无耻混蛋</td><td align="center">补完</td><td align="right"></td></tr><tr><td>爱宠大机密</td><td align="center">补完</td><td align="right"></td></tr><tr><td>帝国的毁灭</td><td align="center">补完</td><td align="right">纳粹经典片</td></tr><tr><td>狮子王</td><td align="center">补完</td><td align="right">佩服那个年代可以做出如此新鲜的动画人物</td></tr><tr><td>狮子王</td><td align="center">补完</td><td align="right"></td></tr><tr><td>请你你的名字呼唤我</td><td align="center">补完</td><td align="right">私人影院看的同性恋电影</td></tr><tr><td>飞屋环游记</td><td align="center">补完</td><td align="right"></td></tr><tr><td>调音师</td><td align="center">补完</td><td align="right">看完脑洞大开</td></tr><tr><td>龙猫</td><td align="center">补完</td><td align="right"></td></tr><tr><td>哈尔的移动城堡</td><td align="center">补完</td><td align="right">宫崎骏真是个日本奇迹,电影里充斥着工匠精神</td></tr><tr><td>焦土之城</td><td align="center">补完</td><td align="right">母爱至上</td></tr><tr><td>非常嫌疑犯</td><td align="center">补完</td><td align="right"></td></tr><tr><td>寄生虫</td><td align="center">补完</td><td align="right">没有人是完美的天使，也没有人是十足的恶魔</td></tr><tr><td>何以为家</td><td align="center">补完</td><td align="right">最后的笑容，为整部电影添加了一抹为数不多的温情，让我们庆幸，希望一切和平，愿孩子都能幸福快乐成长</td></tr><tr><td>中国机长</td><td align="center">补完</td><td align="right"></td></tr><tr><td>贫民窟的百万富翁</td><td align="center">补完</td><td align="right"></td></tr><tr><td>爱情公寓</td><td align="center">补完</td><td align="right">情怀</td></tr><tr><td>美国X档案</td><td align="center">补完</td><td align="right">反民族反传统、目无祖宗都是罪名</td></tr><tr><td>老男孩</td><td align="center">补完</td><td align="right">乱伦，复仇</td></tr><tr><td>人民的名义</td><td align="center">补完</td><td align="right"></td></tr><tr><td>七宗罪</td><td align="center">补完</td><td align="right">傲慢、嫉妒、暴怒、懒惰、贪婪、暴食、色欲</td></tr><tr><td>隐秘的角落</td><td align="center">追完</td><td align="right">悬疑神剧</td></tr><tr><td>十二怒汉</td><td align="center">补完</td><td align="right"></td></tr><tr><td>1917</td><td align="center">补完</td><td align="right"></td></tr><tr><td>飞越疯人院</td><td align="center">补完</td><td align="right"></td></tr><tr><td>华尔街之狼</td><td align="center">补完</td><td align="right"></td></tr><tr><td>潘神的迷宫</td><td align="center">补完</td><td align="right"></td></tr><tr><td>洛城机密</td><td align="center">补完</td><td align="right"></td></tr><tr><td>心灵奇遇</td><td align="center">补完</td><td align="right"></td></tr><tr><td>迷一样的双眼</td><td align="center">补完</td><td align="right"></td></tr><tr><td>禁闭岛</td><td align="center">补完</td><td align="right"></td></tr><tr><td>山海情</td><td align="center">追完</td><td align="right"></td></tr><tr><td>教父1</td><td align="center">补完</td><td align="right"></td></tr><tr><td>教父2</td><td align="center">补完</td><td align="right"></td></tr><tr><td>教父3</td><td align="center">补完</td><td align="right">经典传奇三部曲</td></tr><tr><td>生活多美好</td><td align="center">补完</td><td align="right">最后10分钟看哭了，至今为止看过最老的电影，没想到是最让我感动的一次，铺垫做的太好了，后面转折实在是精彩，最后的歌实在太感动了。科普了一下，这个是纽约每年圣诞的影片之首，自己绝对同意，这是一部后无来者的电影，好莱坞巅峰之作。乔治：“玛丽•哈奇，你为什么愿意嫁给我这种人？”玛丽：“我希望我的孩子长得像你。”</td></tr><tr><td>七武士</td><td align="center">补完</td><td align="right">胜利的是农民，而不是我们</td></tr><tr><td>切腹</td><td align="center">补完</td><td align="right">武士最后的尊严</td></tr><tr><td>星球大战1:幽灵的威胁</td><td align="center">补完</td><td align="right"></td></tr><tr><td>星球大战2:克隆人的进攻</td><td align="center">补完</td><td align="right"></td></tr><tr><td>星球大战3:西斯的复仇</td><td align="center">补完</td><td align="right"></td></tr><tr><td>星球大战4:新希望</td><td align="center">补完</td><td align="right"></td></tr><tr><td>星球大战5:帝国反击战</td><td align="center">补完</td><td align="right"></td></tr><tr><td>星球大战6:绝地归来</td><td align="center">补完</td><td align="right"></td></tr><tr><td>星球大战7:原力觉醒</td><td align="center">补完</td><td align="right"></td></tr><tr><td>星球大战8:最后的绝地武士</td><td align="center">补完</td><td align="right"></td></tr><tr><td>星球大战9：天行者崛起</td><td align="center">补完</td><td align="right"></td></tr><tr><td>星球大战外传:游侠索罗</td><td align="center">补完</td><td align="right"></td></tr><tr><td>星球大战外传:侠盗一号</td><td align="center">补完</td><td align="right"></td></tr><tr><td>我不是药神</td><td align="center">追完</td><td align="right"></td></tr><tr><td>回到未来1</td><td align="center">补完</td><td align="right"></td></tr><tr><td>回到未来2</td><td align="center">补完</td><td align="right"></td></tr><tr><td>回到未来3</td><td align="center">补完</td><td align="right"></td></tr><tr><td>城市之光</td><td align="center">补完</td><td align="right"></td></tr><tr><td>萤火虫之墓</td><td align="center">补完</td><td align="right"></td></tr></tbody></table><h2 id="国产神剧"><a href="#国产神剧" class="headerlink" title="国产神剧"></a>国产神剧</h2><blockquote><p>以国产神剧为代表的烂片</p></blockquote><table><thead><tr><th>剧名</th><th align="center">状态</th><th align="right">也许有的感想</th></tr></thead><tbody><tr><td>湄公河行动</td><td align="center">补完</td><td align="right"></td></tr><tr><td>从你的全世界路过</td><td align="center">追完</td><td align="right"></td></tr><tr><td>哆啦A梦:新大雄的日本诞生</td><td align="center">追完</td><td align="right"></td></tr><tr><td>美人鱼</td><td align="center">补完</td><td align="right"></td></tr><tr><td>反贪风暴3</td><td align="center">补完</td><td align="right"></td></tr><tr><td>好先生</td><td align="center">追完</td><td align="right"></td></tr><tr><td>伪装者</td><td align="center">补完</td><td align="right"></td></tr><tr><td>决胜法庭</td><td align="center">追完</td><td align="right"></td></tr><tr><td>你好，李焕英</td><td align="center">追完</td><td align="right"></td></tr></tbody></table><h2 id="书"><a href="#书" class="headerlink" title="书"></a>书</h2><blockquote><p>一番思考过后，本人还是觉得有必要将该节加上目之所及模块上，尽管记录不全，但对书籍的热衷始终是大学时光的一个印记，后面逐步踏入社会，书中的精华方能慢慢体会，经得起时间的考验。<br>以下为2020年12月27号考研后开始读的书籍</p></blockquote><table><thead><tr><th>剧名</th><th align="center">作者</th><th align="right">感想</th></tr></thead><tbody><tr><td>夜晚的潜水艇</td><td align="center">陈春凤</td><td align="right">考研后断断续续读完了该书，里面一些章节个人觉得太过脱离实际，不知所以然，但一些章节还是足够吸引我。在豆瓣里学到了新的调侃方式：围绕潜水艇的豆瓣群吹，是今年最华丽的一件皇帝新衣</td></tr></tbody></table><blockquote style="margin: 2em 0 0;padding: 0.5em 1em;border-left: 3px solid #F44336;background-color: #F5F5F5;list-style: none;"><p> <strong>本文使用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/" target="_blank" rel="noopener">CC BY-NC-SA 3.0 中国大陆</a> 协议许可<br>具体请参见 <a href="https://zyhang8.github.io/agree/" target="_blank" rel="noopener">知识共享协议</a></strong><br> <strong>本文链接：</strong><a href="https://zyhang8.github.io/vedio/" target="_blank" rel="noopener">https://zyhang8.github.io/vedio/</a></p></blockquote>]]></content>
      
    </entry>
    
    
  
</search>
