<!DOCTYPE html>
<html style="display: none;" lang="zh">
    <head><meta name="generator" content="Hexo 3.9.0">
    <meta charset="utf-8">
    <!--
        © Material Theme
        https://github.com/viosey/hexo-theme-material
        Version: 1.5.6 -->
    <script>
        window.materialVersion = "1.5.6"
        // Delete localstorage with these tags
        window.oldVersion = [
            'codestartv1',
            '1.3.4',
            '1.4.0',
            '1.4.0b1',
            '1.5.0',
            '1.5.2',
            '1.5.5'
        ]
    </script>

    <!-- dns prefetch -->
    <meta http-equiv="x-dns-prefetch-control" content="on">



    <link rel="dns-prefetch" href="https://busuanzi.ibruce.info">



    <link rel="dns-prefetch" href="https://yizhixiaobai.disqus.com">



    <link rel="dns-prefetch" href="https://hm.baidu.com">



    <link rel="dns-prefetch" href="https://lib.baomitu.com">





    <!-- Meta & Info -->
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="renderer" content="webkit">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

    <!-- Title -->
    
    <title>
        
            图像分割 | 
        
        一直小白的博客
    </title>

    <!-- Favicons -->
    <link rel="icon shortcut" type="image/ico" href="/img/head_sculpture.png">
    <link rel="icon" href="/img/head_sculpture.png">

    <meta name="format-detection" content="telephone=no">
    <meta name="description" itemprop="description" content>
    <meta name="keywords" content="这是一只小白,opencv">
    <meta name="theme-color" content="#0097A7">

    <!-- Disable Fucking Bloody Baidu Tranformation -->
    <meta http-equiv="Cache-Control" content="no-transform">
    <meta http-equiv="Cache-Control" content="no-siteapp">

    <!--[if lte IE 9]>
        <link rel="stylesheet" href="/css/ie-blocker.css">

        
            <script src="/js/ie-blocker.zhCN.js"></script>
        
    <![endif]-->

    <!-- Import lsloader -->
    <script>(function(){window.lsloader={jsRunSequence:[],jsnamemap:{},cssnamemap:{}};lsloader.removeLS=function(a){try{localStorage.removeItem(a)}catch(b){}};lsloader.setLS=function(a,c){try{localStorage.setItem(a,c)}catch(b){}};lsloader.getLS=function(a){var c="";try{c=localStorage.getItem(a)}catch(b){c=""}return c};versionString="/*"+(window.materialVersion||"unknownVersion")+"*/";lsloader.clean=function(){try{var b=[];for(var a=0;a<localStorage.length;a++){b.push(localStorage.key(a))}b.forEach(function(e){var f=lsloader.getLS(e);if(window.oldVersion){var d=window.oldVersion.reduce(function(g,h){return g||f.indexOf("/*"+h+"*/")!==-1},false);if(d){lsloader.removeLS(e)}}})}catch(c){}};lsloader.clean();lsloader.load=function(f,a,b,d){if(typeof b==="boolean"){d=b;b=undefined}d=d||false;b=b||function(){};var e;e=this.getLS(f);if(e&&e.indexOf(versionString)===-1){this.removeLS(f);this.requestResource(f,a,b,d);return}if(e){var c=e.split(versionString)[0];if(c!=a){console.log("reload:"+a);this.removeLS(f);this.requestResource(f,a,b,d);return}e=e.split(versionString)[1];if(d){this.jsRunSequence.push({name:f,code:e});this.runjs(a,f,e)}else{document.getElementById(f).appendChild(document.createTextNode(e));b()}}else{this.requestResource(f,a,b,d)}};lsloader.requestResource=function(b,e,a,c){var d=this;if(c){this.iojs(e,b,function(h,f,g){d.setLS(f,h+versionString+g);d.runjs(h,f,g)})}else{this.iocss(e,b,function(f){document.getElementById(b).appendChild(document.createTextNode(f));d.setLS(b,e+versionString+f)},a)}};lsloader.iojs=function(d,b,g){var a=this;a.jsRunSequence.push({name:b,code:""});try{var f=new XMLHttpRequest();f.open("get",d,true);f.onreadystatechange=function(){if(f.readyState==4){if((f.status>=200&&f.status<300)||f.status==304){if(f.response!=""){g(d,b,f.response);return}}a.jsfallback(d,b)}};f.send(null)}catch(c){a.jsfallback(d,b)}};lsloader.iocss=function(f,c,h,a){var b=this;try{var g=new XMLHttpRequest();g.open("get",f,true);g.onreadystatechange=function(){if(g.readyState==4){if((g.status>=200&&g.status<300)||g.status==304){if(g.response!=""){h(g.response);a();return}}b.cssfallback(f,c,a)}};g.send(null)}catch(d){b.cssfallback(f,c,a)}};lsloader.iofonts=function(f,c,h,a){var b=this;try{var g=new XMLHttpRequest();g.open("get",f,true);g.onreadystatechange=function(){if(g.readyState==4){if((g.status>=200&&g.status<300)||g.status==304){if(g.response!=""){h(g.response);a();return}}b.cssfallback(f,c,a)}};g.send(null)}catch(d){b.cssfallback(f,c,a)}};lsloader.runjs=function(f,c,e){if(!!c&&!!e){for(var b in this.jsRunSequence){if(this.jsRunSequence[b].name==c){this.jsRunSequence[b].code=e}}}if(!!this.jsRunSequence[0]&&!!this.jsRunSequence[0].code&&this.jsRunSequence[0].status!="failed"){var a=document.createElement("script");a.appendChild(document.createTextNode(this.jsRunSequence[0].code));a.type="text/javascript";document.getElementsByTagName("head")[0].appendChild(a);this.jsRunSequence.shift();if(this.jsRunSequence.length>0){this.runjs()}}else{if(!!this.jsRunSequence[0]&&this.jsRunSequence[0].status=="failed"){var d=this;var a=document.createElement("script");a.src=this.jsRunSequence[0].path;a.type="text/javascript";this.jsRunSequence[0].status="loading";a.onload=function(){d.jsRunSequence.shift();if(d.jsRunSequence.length>0){d.runjs()}};document.body.appendChild(a)}}};lsloader.tagLoad=function(b,a){this.jsRunSequence.push({name:a,code:"",path:b,status:"failed"});this.runjs()};lsloader.jsfallback=function(c,b){if(!!this.jsnamemap[b]){return}else{this.jsnamemap[b]=b}for(var a in this.jsRunSequence){if(this.jsRunSequence[a].name==b){this.jsRunSequence[a].code="";this.jsRunSequence[a].status="failed";this.jsRunSequence[a].path=c}}this.runjs()};lsloader.cssfallback=function(e,c,b){if(!!this.cssnamemap[c]){return}else{this.cssnamemap[c]=1}var d=document.createElement("link");d.type="text/css";d.href=e;d.rel="stylesheet";d.onload=d.onerror=b;var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(d,a)};lsloader.runInlineScript=function(c,b){var a=document.getElementById(b).innerText;this.jsRunSequence.push({name:c,code:a});this.runjs()}})();</script>

    <!-- Import queue -->
    <script>function Queue(){this.dataStore=[];this.offer=b;this.poll=d;this.execNext=a;this.debug=false;this.startDebug=c;function b(e){if(this.debug){console.log("Offered a Queued Function.")}if(typeof e==="function"){this.dataStore.push(e)}else{console.log("You must offer a function.")}}function d(){if(this.debug){console.log("Polled a Queued Function.")}return this.dataStore.shift()}function a(){var e=this.poll();if(e!==undefined){if(this.debug){console.log("Run a Queued Function.")}e()}}function c(){this.debug=true}}var queue=new Queue();</script>

    <!-- Import CSS -->
    
        <style id="material_css"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("material_css","/css/material.min.css?Z7a72R1E4SxzBKR/WGctOA==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>
        <style id="style_css"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("style_css","/css/style.min.css?NKhlKQkXw/c66TR5p4wO+w==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>

        

    

    

    <!-- Config CSS -->

<!-- Other Styles -->
<style>
  body, html {
    font-family: Roboto, "Helvetica Neue", Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", "微锟斤拷锟脚猴拷", Arial, sans-serif;
    overflow-x: hidden !important;
  }
  
  code {
    font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
  }

  a {
    color: #00838F;
  }

  .mdl-card__media,
  #search-label,
  #search-form-label:after,
  #scheme-Paradox .hot_tags-count,
  #scheme-Paradox .sidebar_archives-count,
  #scheme-Paradox .sidebar-colored .sidebar-header,
  #scheme-Paradox .sidebar-colored .sidebar-badge{
    background-color: #0097A7 !important;
  }

  /* Sidebar User Drop Down Menu Text Color */
  #scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:hover,
  #scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:focus {
    color: #0097A7 !important;
  }

  #post_entry-right-info,
  .sidebar-colored .sidebar-nav li:hover > a,
  .sidebar-colored .sidebar-nav li:hover > a i,
  .sidebar-colored .sidebar-nav li > a:hover,
  .sidebar-colored .sidebar-nav li > a:hover i,
  .sidebar-colored .sidebar-nav li > a:focus i,
  .sidebar-colored .sidebar-nav > .open > a,
  .sidebar-colored .sidebar-nav > .open > a:hover,
  .sidebar-colored .sidebar-nav > .open > a:focus,
  #ds-reset #ds-ctx .ds-ctx-entry .ds-ctx-head a {
    color: #0097A7 !important;
  }

  .toTop {
    background: #757575 !important;
  }

  .material-layout .material-post>.material-nav,
  .material-layout .material-index>.material-nav,
  .material-nav a {
    color: #757575;
  }

  #scheme-Paradox .MD-burger-layer {
    background-color: #757575;
  }

  #scheme-Paradox #post-toc-trigger-btn {
    color: #757575;
  }

  .post-toc a:hover {
    color: #00838F;
    text-decoration: underline;
  }

</style>


<!-- Theme Background Related-->

    <style>
      body{
        background-color: #F5F5F5;
      }

      /* blog_info bottom background */
      #scheme-Paradox .material-layout .something-else .mdl-card__supporting-text{
        background-color: #fff;
      }
    </style>




<!-- Fade Effect -->

    <style>
      .fade {
        transition: all 800ms linear;
        -webkit-transform: translate3d(0,0,0);
        -moz-transform: translate3d(0,0,0);
        -ms-transform: translate3d(0,0,0);
        -o-transform: translate3d(0,0,0);
        transform: translate3d(0,0,0);
        opacity: 1;
      }

      .fade.out{
        opacity: 0;
      }
    </style>


<!-- Import Font -->
<!-- Import Roboto -->

    <style>
        @font-face {
            font-family: Roboto;
            font-style: normal;
            font-weight: 300;
            src: url(https://lib.baomitu.com/fonts/roboto/roboto-v15-latin-300.eot);
            src: local('Roboto'),local('Roboto-Normal'),url(https://lib.baomitu.com/fonts/roboto/roboto-v15-latin-300.eot?#iefix) format('embedded-opentype'),url(https://lib.baomitu.com/fonts/roboto/roboto-v15-latin-300.woff2) format('woff2'),url(https://lib.baomitu.com/fonts/roboto/roboto-v15-latin-300.woff) format('woff'),url(https://lib.baomitu.com/fonts/roboto/roboto-v15-latin-300.ttf) format('truetype'),url(https://lib.baomitu.com/fonts/roboto/roboto-v15-latin-300.svg#Roboto) format('svg')
        }

        @font-face {
            font-family: Roboto;
            font-style: normal;
            font-weight: regular;
            src: url(https://lib.baomitu.com/fonts/roboto/roboto-v15-latin-regular.eot);
            src: local('Roboto'),local('Roboto-Normal'),url(https://lib.baomitu.com/fonts/roboto/roboto-v15-latin-regular.eot?#iefix) format('embedded-opentype'),url(https://lib.baomitu.com/fonts/roboto/roboto-v15-latin-regular.woff2) format('woff2'),url(https://lib.baomitu.com/fonts/roboto/roboto-v15-latin-regular.woff) format('woff'),url(https://lib.baomitu.com/fonts/roboto/roboto-v15-latin-regular.ttf) format('truetype'),url(https://lib.baomitu.com/fonts/roboto/roboto-v15-latin-regular.svg#Roboto) format('svg')
        }

        @font-face {
            font-family: Roboto;
            font-style: normal;
            font-weight: 500;
            src: url(https://lib.baomitu.com/fonts/roboto/roboto-v15-latin-500.eot);
            src: local('Roboto'),local('Roboto-Normal'),url(https://lib.baomitu.com/fonts/roboto/roboto-v15-latin-500.eot?#iefix) format('embedded-opentype'),url(https://lib.baomitu.com/fonts/roboto/roboto-v15-latin-500.woff2) format('woff2'),url(https://lib.baomitu.com/fonts/roboto/roboto-v15-latin-500.woff) format('woff'),url(https://lib.baomitu.com/fonts/roboto/roboto-v15-latin-500.ttf) format('truetype'),url(https://lib.baomitu.com/fonts/roboto/roboto-v15-latin-500.svg#Roboto) format('svg')
        }
    </style>


<!-- Import Material Icons -->


    <style id="material_icons"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("material_icons","/css/material-icons.css?pqhB/Rd/ab0H2+kZp0RDmw==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>




    <!-- Import jQuery -->
    
        <script>lsloader.load("jq_js","/js/jquery.min.js?qcusAULNeBksqffqUM2+Ig==", true)</script>
    

    <!-- WebAPP Icons -->
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="application-name" content="一直小白的博客">
    <meta name="msapplication-starturl" content="http://yoursite.com/2019/11/21/cv-exp4/">
    <meta name="msapplication-navbutton-color" content="#0097A7">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-title" content="一直小白的博客">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon" href="/img/head_sculpture.png">

    <!-- Site Verification -->
    
    

    <!-- RSS -->
    

    <!-- The Open Graph protocol -->
    <meta property="og:url" content="http://yoursite.com/2019/11/21/cv-exp4/">
    <meta property="og:type" content="blog">
    <meta property="og:title" content="图像分割 | 一直小白的博客">
    <meta property="og:image" content="/img/head_sculpture.png">
    <meta property="og:description" content>
    <meta property="og:article:tag" content="opencv"> 

    
        <meta property="article:published_time" content="Thu Nov 21 2019 20:19:42 GMT+0800">
        <meta property="article:modified_time" content="Thu Nov 21 2019 22:06:07 GMT+0800">
    

    <!-- The Twitter Card protocol -->
    <meta name="twitter:card" content="summary_large_image">

    <!-- Add canonical link for SEO -->
    
        <link rel="canonical" href="http://yoursite.com/2019/11/21/cv-exp4/index.html">
    

    <!-- Structured-data for SEO -->
    
        


<script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "BlogPosting",
    "mainEntityOfPage": "http://yoursite.com/2019/11/21/cv-exp4/index.html",
    "headline": "图像分割",
    "datePublished": "Thu Nov 21 2019 20:19:42 GMT+0800",
    "dateModified": "Thu Nov 21 2019 22:06:07 GMT+0800",
    "author": {
        "@type": "Person",
        "name": "一直小白",
        "image": {
            "@type": "ImageObject",
            "url": "/img/head_sculpture.png"
        },
        "description": "求知若饥,谦虚若愚"
    },
    "publisher": {
        "@type": "Organization",
        "name": "一直小白的博客",
        "logo": {
            "@type":"ImageObject",
            "url": "/img/head_sculpture.png"
        }
    },
    "keywords": ",opencv这是一只小白",
    "description": "",
}
</script>


    

    <!-- Analytics -->
    
    
        <script>
    var _hmt = _hmt || [];
    (function() {var hm = document.createElement('script');
    hm.src = 'https://hm.baidu.com/hm.js?5a42bcc3e66e1db4931abdcca1a9aa74';
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(hm, s);
    })();
</script>
    
    

    <!-- Custom Head -->
    

</head>


    
        <body id="scheme-Paradox" class="lazy">
            <div class="material-layout  mdl-js-layout has-drawer is-upgraded">
                

                <!-- Main Container -->
                <main class="material-layout__content" id="main">

                    <!-- Top Anchor -->
                    <div id="top"></div>

                    
                        <!-- Hamburger Button -->
                        <button class="MD-burger-icon sidebar-toggle">
                            <span id="MD-burger-id" class="MD-burger-layer"></span>
                        </button>
                    

                    <!-- Post TOC -->

    
    <!-- Back Button -->
    <!--
    <div class="material-back" id="backhome-div" tabindex="0">
        <a class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon"
           href="#" onclick="window.history.back();return false;"
           target="_self"
           role="button"
           data-upgraded=",MaterialButton,MaterialRipple">
            <i class="material-icons" role="presentation">arrow_back</i>
            <span class="mdl-button__ripple-container">
                <span class="mdl-ripple"></span>
            </span>
        </a>
    </div>
    -->


    <!-- Left aligned menu below button -->
    
    
    <button id="post-toc-trigger-btn"
        class="mdl-button mdl-js-button mdl-button--icon">
        <i class="material-icons">format_list_numbered</i>
    </button>

    <ul class="post-toc-wrap mdl-menu mdl-menu--bottom-left mdl-js-menu mdl-js-ripple-effect" for="post-toc-trigger-btn" style="max-height:80vh; overflow-y:scroll;">
        <ol class="post-toc"><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#图像分割"><span class="post-toc-number">1.</span> <span class="post-toc-text">图像分割</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#实验目的"><span class="post-toc-number">1.1.</span> <span class="post-toc-text">实验目的</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#实验原理"><span class="post-toc-number">1.2.</span> <span class="post-toc-text">实验原理</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#实验内容或步骤"><span class="post-toc-number">1.3.</span> <span class="post-toc-text">实验内容或步骤</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#实验报告"><span class="post-toc-number">1.4.</span> <span class="post-toc-text">实验报告</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#源代码"><span class="post-toc-number">1.5.</span> <span class="post-toc-text">源代码</span></a></li></ol></li></ol>
    </ul>
    




<!-- Layouts -->

    <!-- Post Module -->
    <div class="material-post_container">

        <div class="material-post mdl-grid">
            <div class="mdl-card mdl-shadow--4dp mdl-cell mdl-cell--12-col">

                <!-- Post Header(Thumbnail & Title) -->
                
    <!-- Paradox Post Header -->
    
        
            <!-- Random Thumbnail -->
            <div class="post_thumbnail-random mdl-card__media mdl-color-text--grey-50">
            <script type="text/ls-javascript" id="post-thumbnail-script">
    var randomNum = Math.floor(Math.random() * 19 + 1);

    $('.post_thumbnail-random').attr('data-original', '/img/random/material-' + randomNum + '.png');
    $('.post_thumbnail-random').addClass('lazy');
</script>

        
    
            <p class="article-headline-p">
                图像分割
            </p>
        </div>





                
                    <!-- Paradox Post Info -->
                    <div class="mdl-color-text--grey-700 mdl-card__supporting-text meta">

    <!-- Author Avatar -->
    <div id="author-avatar">
        <img src="/img/head_sculpture.png" width="44px" height="44px" alt="Author Avatar"/>
    </div>
    <!-- Author Name & Date -->
    <div>
        <strong>一直小白</strong>
        <span>11月 21, 2019</span>
    </div>

    <div class="section-spacer"></div>

    <!-- Favorite -->
    <!--
        <button id="article-functions-like-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon btn-like">
            <i class="material-icons" role="presentation">favorite</i>
            <span class="visuallyhidden">favorites</span>
        </button>
    -->

    <!-- Qrcode -->
    
        <button id="article-functions-qrcode-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
    <i class="material-icons" role="presentation">devices other</i>
    <span class="visuallyhidden">devices other</span>
</button>
<ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-functions-qrcode-button">
    <li class="mdl-menu__item">在其它设备中阅读本文章</li>
    
        <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAN4AAADeCAAAAAB3DOFrAAACZklEQVR42u3aQW7DMAwEwPz/0+0DiqpLUlKdYHwK2sD26CAyK76+Pvp64eHh4eHh4eHhPYz3iq+f3//tDr/d/+ff/3jR4rvh4eHh3eQlj5lgktddPzd5Nzw8PLz7vHUxWH9el41k60+eldwfDw8P72m89RafL0ferOPh4eG9Oy+PFXpNMx4eHt578Qo/+AfFI1mOf8ta8PDw8GJe9QDs5ud/ON/Dw8PDW/I2DDkVhwyqG/1o6AoPDw/vAK/aCuehwLwFb44v4OHh4V3h5XFD8vdkIaqNexJn4OHh4d3hJS3yulHORwHWDXSvbJTDCDw8PLwDvL1hRPWbUVCLh4eH9wBefru8hJwYUCiPDuDh4eEd4E229WobPT8qi5YJDw8P7wqvGhPMN/rqQoxSajw8PLytvPxgPg9zq8s34RV+MeDh4eEd4E0GqvLCkP+3WhLw8PDwbvKqW39+NJXHHL22vnC+h4eHh7eJ1xuNmo+oVl86D3zx8PDwTvOqTXA+YNprweeNNR4eHt5p3q6DqF7k2ot3/1gmPDw8vOu8PIaojgIky5cfiTULAx4eHt4m3iQySJC9orJu9AsxLh4eHt5hXnLTyaBAUop6I194eHh4N3nVGzUfXNzu82KDh4eHd5NXvXqtcHVIqzcQhoeHh3eHt2t8ahJnVEcTmik1Hh4e3lZetRj0YoV8TGFzYcDDw8M7xjvRHE+WIClCeHh4eO/FSx6ZtMJ7Iwk8PDy8p/F2YXojC1HBwMPDw7vIS8KIKnL+/QSJh4eHd59XPQCbx7s9QLQQeHh4eId5n3fh4eHh4eHh4eE94PoG0qP3ExFg+DUAAAAASUVORK5CYII=">
    
</ul>

    

    <!-- Tags (bookmark) -->
    
    <button id="article-functions-viewtags-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
        <i class="material-icons" role="presentation">bookmark</i>
        <span class="visuallyhidden">bookmark</span>
    </button>
    <ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-functions-viewtags-button">
        <li class="mdl-menu__item">
        <a class="post_tag-link" href="/tags/opencv/">opencv</a>
    </ul>
    

    <!-- Share -->
    
        <button id="article-fuctions-share-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
    <i class="material-icons" role="presentation">share</i>
    <span class="visuallyhidden">share</span>
</button>
<ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-fuctions-share-button">
    

    
        
            <!-- Busuanzi Views -->
            <a class="post_share-link" href="#">
                <li class="mdl-menu__item">
                    <span id="busuanzi_container_page_pv">
                        <span id="busuanzi_value_page_pv"></span>&nbsp;浏览量
                    </span>
                </li>
            </a>
        
    

    <!-- Share Weibo -->
    
        <a class="post_share-link" href="http://service.weibo.com/share/share.php?appkey=&title=图像分割&url=http://yoursite.com/2019/11/21/cv-exp4/index.html&pic=http://yoursite.com/img/head_sculpture.png&searchPic=false&style=simple" target="_blank">
            <li class="mdl-menu__item">
                分享到微博
            </li>
        </a>
    

    <!-- Share Twitter -->
    
        <a class="post_share-link" href="https://twitter.com/intent/tweet?text=图像分割&url=http://yoursite.com/2019/11/21/cv-exp4/index.html&via=一直小白" target="_blank">
            <li class="mdl-menu__item">
                分享到 Twitter
            </li>
        </a>
    

    <!-- Share Facebook -->
    
        <a class="post_share-link" href="https://www.facebook.com/sharer/sharer.php?u=http://yoursite.com/2019/11/21/cv-exp4/index.html" target="_blank">
            <li class="mdl-menu__item">
                分享到 Facebook
            </li>
        </a>
    

    <!-- Share Google+ -->
    

    <!-- Share LinkedIn -->
    
        <a class="post_share-link" href="https://www.linkedin.com/shareArticle?mini=true&url=http://yoursite.com/2019/11/21/cv-exp4/index.html&title=图像分割" target="_blank">
            <li class="mdl-menu__item">
                分享到 LinkedIn
            </li>
        </a>
    

    <!-- Share QQ -->
    
        <a class="post_share-link" href="http://connect.qq.com/widget/shareqq/index.html?site=一直小白的博客&title=图像分割&summary=&pics=http://yoursite.com/img/head_sculpture.png&url=http://yoursite.com/2019/11/21/cv-exp4/index.html" target="_blank">
            <li class="mdl-menu__item">
                分享到 QQ
            </li>
        </a>
    

    <!-- Share Telegram -->
    
</ul>

    
</div>

                

                <!-- Post Content -->
                <div id="post-content" class="mdl-color-text--grey-700 mdl-card__supporting-text fade out">
    
        <h1 id="图像分割"><a href="#图像分割" class="headerlink" title="图像分割"></a>图像分割</h1><h2 id="实验目的"><a href="#实验目的" class="headerlink" title="实验目的"></a>实验目的</h2><p>掌握基于openCV的图像分割方法，理解图像分割的处理</p>
<h2 id="实验原理"><a href="#实验原理" class="headerlink" title="实验原理"></a>实验原理</h2><p>边缘检测方法、霍尔变换</p>
<h2 id="实验内容或步骤"><a href="#实验内容或步骤" class="headerlink" title="实验内容或步骤"></a>实验内容或步骤</h2><p>对“lena.jpg”及“车牌.jpg” 的灰度图像分别进行如下操作：</p>
<p>1）先平滑滤波，进行Canny边缘检测[尝试使用不同参数，调试效果]，显示并合并为一张图像保存；</p>
<p>Canny算法所采用的方法</p>
<p>在本文实现的Canny算法中所采用的卷积算子比较简单，表达如下：</p>
<p><img src="http://hi.csdn.net/attachment/201110/20/0_13191191580BUw.gif" alt="1"></p>
<p>其x向、y向的一阶偏导数矩阵，梯度幅值以及梯度方向的数学表达式为：</p>
<p><img src="http://hi.csdn.net/attachment/201110/20/0_131911920906FX.gif" alt="2"></p>
<p>求出这几个矩阵后，就可以进行下一步的检测过程。</p>
<p>Canny算法介绍-五步：</p>
<ul>
<li>高斯模糊</li>
<li>灰度计算</li>
<li>计算梯度</li>
<li>非最大信号抑制</li>
<li>高低阈值输出二值图像</li>
</ul>
<p>首先使用高斯滤波去除一定的噪声，后进行canny边缘检测。</p>
<p><img src="https://s2.ax1x.com/2019/11/07/MEAAc6.png" alt="MEAAc6.png"></p>
<blockquote>
<p>可以看到图像平滑了挺多</p>
</blockquote>
<p><img src="https://s2.ax1x.com/2019/11/07/MEAEjK.png" alt="MEAEjK.png"></p>
<p><img src="https://s2.ax1x.com/2019/11/07/MEAk1x.png" alt="MEAk1x.png"></p>
<blockquote>
<p>使用滑动条不断调节得到边缘检测最佳效果，记录参数后把canny参数设置为定值</p>
</blockquote>
<p>2）在1）的基础上，进行Hough直线变换（尝试使用不同参数，调试效果） ，描绘显示并合并为一张图像保存。</p>
<p>参考：</p>
<p><a href="http://www.opencv.org.cn/opencvdoc/2.3.2/html/doc/tutorials/imgproc/imgtrans/canny_detector/canny_detector.html?highlight=canny" target="_blank" rel="noopener">canny</a></p>
<p><a href="http://www.opencv.org.cn/opencvdoc/2.3.2/html/doc/tutorials/imgproc/imgtrans/hough_lines/hough_lines.html?highlight=hough" target="_blank" rel="noopener">HoughLines</a></p>
<h2 id="实验报告"><a href="#实验报告" class="headerlink" title="实验报告"></a>实验报告</h2><p>HoughLines( )函数详解</p>
<p>此函数可以找出采用标准霍夫变换的二值图像线条。在OpenCV中，我们可以用其来调用标准霍夫变换SHT和多尺度霍夫变换MSHT的OpenCV内建算法。</p>
<p>C++: void HoughLines(InputArray image, OutputArray lines, double rho, double theta, int threshold, double srn=0, double stn=0 )</p>
<ul>
<li>第一个参数，InputArray类型的image，输入图像，即源图像，需为8位的单通道二进制图像，可以将任意的源图载入进来后由函数修改成此格式后，再填在这里。</li>
<li>第二个参数，InputArray类型的lines，经过调用HoughLines函数后储存了霍夫线变换检测到线条的输出矢量。每一条线由具有两个元素的矢量表示，其中，是离坐标原点((0,0)（也就是图像的左上角）的距离。 是弧度线条旋转角度（0<del>垂直线，π/2</del>水平线）。</li>
<li>第三个参数，double类型的rho，以像素为单位的距离精度。另一种形容方式是直线搜索时的进步尺寸的单位半径。PS:Latex中/rho就表示 。</li>
<li>第四个参数，double类型的theta，以弧度为单位的角度精度。另一种形容方式是直线搜索时的进步尺寸的单位角度。</li>
<li>第五个参数，int类型的threshold，累加平面的阈值参数，即识别某部分为图中的一条直线时它在累加平面中必须达到的值。大于阈值threshold的线段才可以被检测通过并返回到结果中。</li>
<li>第六个参数，double类型的srn，有默认值0。对于多尺度的霍夫变换，这是第三个参数进步尺寸rho的除数距离。粗略的累加器进步尺寸直接是第三个参数rho，而精确的累加器进步尺寸为rho/srn。</li>
<li>第七个参数，double类型的stn，有默认值0，对于多尺度霍夫变换，srn表示第四个参数进步尺寸的单位角度theta的除数距离。且如果srn和stn同时为0，就表示使用经典的霍夫变换。否则，这两个参数应该都为正数。</li>
</ul>
<p><img src="http://images.cnitblog.com/blog/519499/201306/20184819-2840c20fe67649a98c03a9602ad9d33a.jpg" alt="3"></p>
<p>1、初始化(θ,p)空间，N(θ,p)=0   （N（θ,p）表示在该参数表示的直线上的像素点的个数）</p>
<p>2、对于每一个像素点(x,y)，在参数空间中找出令 xcosθ+ysinθ=p 的（θ,p）坐标，N（θ,p）+=1</p>
<p>3、统计所有N（θ,p）的大小，取出N（θ,p）&gt;threasold的参数  （threadsold是预设的阈值)</p>
<p><img src="https://s2.ax1x.com/2019/11/07/MEAZnO.png" alt="MEAZnO.png"></p>
<p><img src="https://s2.ax1x.com/2019/11/07/MEAeBD.png" alt="MEAeBD.png"></p>
<p><img src="https://s2.ax1x.com/2019/11/07/MEAmHe.png" alt="MEAmHe.png"></p>
<blockquote>
<p>当你使用滑动条来改变 阈值 的时候会观察到检测到线的数目的改变. 这是因为: 如果你设置了一个更大的阈值, 能检测到的线的数目将更少 (你需要更多的点来表示一条能检测到的直线).</p>
</blockquote>
<blockquote>
<p>使用滑动条不断调节得到边直线测最佳效果，记录参数后把houghlines参数设置为定值，但一开始没起作用，一片红，可能for循环导致了不能随时更换，后来直接把变量设置为三个定值（80，100，120），得到直线检测的效果</p>
</blockquote>
<blockquote>
<p>这次实验的边缘检测想过不太理想，没有很精确，可能是因为边缘检测的效果设置太严格，亦可能是houghline参数设置得不够精确</p>
</blockquote>
<h2 id="源代码"><a href="#源代码" class="headerlink" title="源代码"></a>源代码</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;opencv2/core/core.hpp&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;opencv2/highgui/highgui.hpp&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;fstream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;opencv2/opencv.hpp&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;opencv2/imgproc/types_c.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;opencv2\imgproc\imgproc.hpp&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> cv;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> WindowNameSrc <span class="meta-string">"canny_car"</span>	<span class="comment">//定义窗口名字的宏</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> WindowNameImg <span class="meta-string">"canny_lena"</span>	<span class="comment">//定义窗口名字的宏</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> WindowNameHoughSrc <span class="meta-string">"hough_car"</span>	<span class="comment">//定义窗口名字的宏</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> WindowNameHoughImg <span class="meta-string">"hough_lena"</span>	<span class="comment">//定义窗口名字的宏</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">char</span> Trackbarname1[<span class="number">50</span>];		<span class="comment">//用于存储滑动条1的名称</span></span><br><span class="line"><span class="keyword">char</span> Trackbarname2[<span class="number">50</span>];		<span class="comment">//用于存储滑动条2的名称</span></span><br><span class="line"><span class="keyword">char</span> Trackbarname3[<span class="number">50</span>];		<span class="comment">//用于存储滑动条3的名称</span></span><br><span class="line"><span class="keyword">char</span> Trackbarname4[<span class="number">50</span>];		<span class="comment">//用于存储滑动条4的名称</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> pre_place1, pre_place2;	<span class="comment">//滑动条对应的变量，两个阈值变量</span></span><br><span class="line"><span class="keyword">int</span> pre_place3, pre_place4;	<span class="comment">//滑动条对应的变量，两个阈值变量</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> max_place = <span class="number">255</span>;	<span class="comment">//定义Trackbar的最大值</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> hough_max_place = <span class="number">200</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	Mat src = imread(<span class="string">"car_gray.png"</span>);</span><br><span class="line">	Mat img = imread(<span class="string">"lena_gray.png"</span>);</span><br><span class="line">	Mat gaosi_src, gaosi_img;</span><br><span class="line">	cv::GaussianBlur(src, gaosi_src, cv::Size(<span class="number">5</span>, <span class="number">5</span>), <span class="number">3</span>, <span class="number">3</span>);</span><br><span class="line">	cv::GaussianBlur(img, gaosi_img, cv::Size(<span class="number">5</span>, <span class="number">5</span>), <span class="number">3</span>, <span class="number">3</span>);</span><br><span class="line"></span><br><span class="line">	namedWindow(<span class="string">"gaosi_src"</span>, WINDOW_AUTOSIZE);</span><br><span class="line">	namedWindow(<span class="string">"gaosi_img"</span>, WINDOW_AUTOSIZE);</span><br><span class="line">	imshow(<span class="string">"gaosi_src"</span>, gaosi_src);</span><br><span class="line">	imshow(<span class="string">"gaosi_img"</span>, gaosi_img);</span><br><span class="line">	imwrite(<span class="string">"gaosi_src.png"</span>, gaosi_src);</span><br><span class="line">	imwrite(<span class="string">"gaosi_img.png"</span>, gaosi_img);</span><br><span class="line"></span><br><span class="line">	Mat canny_src, canny_img;</span><br><span class="line"></span><br><span class="line">	<span class="comment">/*</span></span><br><span class="line"><span class="comment">	namedWindow(WindowNameSrc, WINDOW_AUTOSIZE);    //定义自动适应图片大小的窗口</span></span><br><span class="line"><span class="comment">	namedWindow(WindowNameImg, WINDOW_AUTOSIZE);    //定义自动适应图片大小的窗口</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">	sprintf(Trackbarname1, "阈值1 %d", max_place);//sprintf函数，格式化赋值</span></span><br><span class="line"><span class="comment">	sprintf(Trackbarname2, "阈值2 %d", max_place);//sprintf函数，格式化赋值</span></span><br><span class="line"><span class="comment">	sprintf(Trackbarname3, "阈值3 %d", max_place);//sprintf函数，格式化赋值</span></span><br><span class="line"><span class="comment">	sprintf(Trackbarname4, "阈值4 %d", max_place);//sprintf函数，格式化赋值</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">	createTrackbar(Trackbarname1, WindowNameSrc, &amp;pre_place1, max_place); //创建滑动条</span></span><br><span class="line"><span class="comment">	createTrackbar(Trackbarname2, WindowNameSrc, &amp;pre_place2, max_place); //创建滑动条</span></span><br><span class="line"><span class="comment">	createTrackbar(Trackbarname3, WindowNameImg, &amp;pre_place3, max_place); //创建滑动条</span></span><br><span class="line"><span class="comment">	createTrackbar(Trackbarname4, WindowNameImg, &amp;pre_place4, max_place); //创建滑动条</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">	while (1) &#123;</span></span><br><span class="line"><span class="comment">		pre_place1 = getTrackbarPos(Trackbarname1, WindowNameSrc);	//获取滑动条当前位置</span></span><br><span class="line"><span class="comment">		pre_place2 = getTrackbarPos(Trackbarname2, WindowNameSrc);	//获取滑动条当前位置</span></span><br><span class="line"><span class="comment">		pre_place3 = getTrackbarPos(Trackbarname3, WindowNameImg);	//获取滑动条当前位置</span></span><br><span class="line"><span class="comment">		pre_place4 = getTrackbarPos(Trackbarname4, WindowNameImg);	//获取滑动条当前位置</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">		Canny(gaosi_src, canny_src, pre_place1, pre_place2, 3);</span></span><br><span class="line"><span class="comment">		Canny(gaosi_img, canny_img, pre_place3, pre_place4, 3);</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">		imshow(WindowNameSrc, canny_src);</span></span><br><span class="line"><span class="comment">		imshow(WindowNameImg, canny_img);</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">		if (waitKey(10) == 27) break;     //按下Esc键退出程序</span></span><br><span class="line"><span class="comment">	&#125;</span></span><br><span class="line"><span class="comment">	*/</span></span><br><span class="line"></span><br><span class="line">	Canny(gaosi_src, canny_src, <span class="number">246</span>, <span class="number">0</span>, <span class="number">3</span>);</span><br><span class="line">	Canny(gaosi_img, canny_img, <span class="number">102</span>, <span class="number">12</span>, <span class="number">3</span>);</span><br><span class="line"></span><br><span class="line">	imshow(WindowNameSrc, canny_src);</span><br><span class="line">	imshow(WindowNameImg, canny_img);</span><br><span class="line">	imwrite(<span class="string">"canny_src.png"</span>, canny_src);</span><br><span class="line">	imwrite(<span class="string">"canny_img.png"</span>, canny_img);</span><br><span class="line"></span><br><span class="line">	<span class="comment">//进行霍夫线变换</span></span><br><span class="line">	<span class="built_in">vector</span>&lt;Vec2f&gt; lines_src;<span class="comment">//用于储存参数空间的交点</span></span><br><span class="line">	<span class="built_in">vector</span>&lt;Vec2f&gt; lines_img;<span class="comment">//用于储存参数空间的交点</span></span><br><span class="line">	Mat src_result = src.clone();</span><br><span class="line">	Mat img_result = img.clone();</span><br><span class="line">	imshow(<span class="string">"src_result"</span>, src_result);</span><br><span class="line">	imshow(<span class="string">"img_result"</span>, img_result);</span><br><span class="line">	<span class="comment">/*</span></span><br><span class="line"><span class="comment">	HoughLines(canny_src, lines, 1, CV_PI / 180, 120, 0, 0);//针对不同像素的图片注意调整阈值</span></span><br><span class="line"><span class="comment">	const int alpha = 1000;//alpha取得充分大，保证画出贯穿整个图片的直线</span></span><br><span class="line"><span class="comment">	//lines中存储的是边缘直线在极坐标空间下的rho和theta值，在图像空间(直角坐标系下)只能体现出一个点</span></span><br><span class="line"><span class="comment">	//以该点为基准，利用theta与斜率之间的关系，找出该直线上的其他两个点(可能不在图像上)，之后以这两点画出直线</span></span><br><span class="line"><span class="comment">	for (size_t i = 0; i &lt; lines.size(); i++)</span></span><br><span class="line"><span class="comment">	&#123;</span></span><br><span class="line"><span class="comment">		float rho = lines[i][0], theta = lines[i][1];</span></span><br><span class="line"><span class="comment">		double cs = cos(theta), sn = sin(theta);</span></span><br><span class="line"><span class="comment">		double x = rho * cs, y = rho * sn;</span></span><br><span class="line"><span class="comment">		Point pt1(cvRound(x + alpha * (-sn)), cvRound(y + alpha * cs));</span></span><br><span class="line"><span class="comment">		Point pt2(cvRound(x - alpha * (-sn)), cvRound(y - alpha * cs));</span></span><br><span class="line"><span class="comment">		line(mResult, pt1, pt2, Scalar(0, 0, 255), 1, LINE_AA);</span></span><br><span class="line"><span class="comment">	&#125;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">	namedWindow("hough_src", WINDOW_NORMAL);</span></span><br><span class="line"><span class="comment">	imshow("hough_src", mResult);</span></span><br><span class="line"><span class="comment">	*/</span></span><br><span class="line">	</span><br><span class="line">	namedWindow(WindowNameHoughSrc, WINDOW_AUTOSIZE);    <span class="comment">//定义自动适应图片大小的窗口</span></span><br><span class="line">	namedWindow(WindowNameHoughImg, WINDOW_AUTOSIZE);    <span class="comment">//定义自动适应图片大小的窗口</span></span><br><span class="line"></span><br><span class="line">	<span class="built_in">sprintf</span>(Trackbarname1, <span class="string">"阈值1 %d"</span>, hough_max_place);<span class="comment">//sprintf函数，格式化赋值</span></span><br><span class="line">	<span class="built_in">sprintf</span>(Trackbarname2, <span class="string">"阈值2 %d"</span>, hough_max_place);<span class="comment">//sprintf函数，格式化赋值</span></span><br><span class="line"></span><br><span class="line">	createTrackbar(Trackbarname1, WindowNameHoughSrc, &amp;pre_place1, hough_max_place); <span class="comment">//创建滑动条</span></span><br><span class="line">	createTrackbar(Trackbarname2, WindowNameHoughImg, &amp;pre_place2, hough_max_place); <span class="comment">//创建滑动条</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">while</span> (<span class="number">1</span>) &#123;</span><br><span class="line">		pre_place1 = getTrackbarPos(Trackbarname1, WindowNameHoughSrc);	<span class="comment">//获取滑动条当前位置</span></span><br><span class="line">		pre_place2 = getTrackbarPos(Trackbarname2, WindowNameHoughImg);	<span class="comment">//获取滑动条当前位置</span></span><br><span class="line"></span><br><span class="line">		HoughLines(canny_src, lines_src, <span class="number">1</span>, CV_PI / <span class="number">180</span>, <span class="number">100</span>, <span class="number">0</span>, <span class="number">0</span>);<span class="comment">//针对不同像素的图片注意调整阈值</span></span><br><span class="line">		HoughLines(canny_img, lines_img, <span class="number">1</span>, CV_PI / <span class="number">180</span>, <span class="number">100</span>, <span class="number">0</span>, <span class="number">0</span>);<span class="comment">//针对不同像素的图片注意调整阈值</span></span><br><span class="line">		<span class="keyword">const</span> <span class="keyword">int</span> alpha = <span class="number">1000</span>;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">size_t</span> i = <span class="number">0</span>; i &lt; lines_src.size(); i++)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">float</span> rho = lines_src[i][<span class="number">0</span>], theta = lines_src[i][<span class="number">1</span>];</span><br><span class="line">			<span class="keyword">double</span> cs = <span class="built_in">cos</span>(theta), sn = <span class="built_in">sin</span>(theta);</span><br><span class="line">			<span class="keyword">double</span> x = rho * cs, y = rho * sn;</span><br><span class="line">			<span class="function">Point <span class="title">pt1</span><span class="params">(cvRound(x + alpha * (-sn)), cvRound(y + alpha * cs))</span></span>;</span><br><span class="line">			<span class="function">Point <span class="title">pt2</span><span class="params">(cvRound(x - alpha * (-sn)), cvRound(y - alpha * cs))</span></span>;</span><br><span class="line">			line(src_result, pt1, pt2, Scalar(<span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>), <span class="number">1</span>, LINE_AA);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">size_t</span> i = <span class="number">0</span>; i &lt; lines_img.size(); i++)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">float</span> rho = lines_img[i][<span class="number">0</span>], theta = lines_img[i][<span class="number">1</span>];</span><br><span class="line">			<span class="keyword">double</span> cs = <span class="built_in">cos</span>(theta), sn = <span class="built_in">sin</span>(theta);</span><br><span class="line">			<span class="keyword">double</span> x = rho * cs, y = rho * sn;</span><br><span class="line">			<span class="function">Point <span class="title">pt1</span><span class="params">(cvRound(x + alpha * (-sn)), cvRound(y + alpha * cs))</span></span>;</span><br><span class="line">			<span class="function">Point <span class="title">pt2</span><span class="params">(cvRound(x - alpha * (-sn)), cvRound(y - alpha * cs))</span></span>;</span><br><span class="line">			line(img_result, pt1, pt2, Scalar(<span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>), <span class="number">1</span>, LINE_AA);</span><br><span class="line">		&#125;</span><br><span class="line">		imshow(WindowNameHoughSrc, src_result);</span><br><span class="line">		imshow(WindowNameHoughImg, img_result);</span><br><span class="line">		imwrite(<span class="string">"src_result.png"</span>, src_result);</span><br><span class="line">		imwrite(<span class="string">"img_result.png"</span>, img_result);</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span> (waitKey(<span class="number">10</span>) == <span class="number">27</span>) <span class="keyword">break</span>;     <span class="comment">//按下Esc键退出程序</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">//依次在图中绘制出每条线段</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	waitKey(<span class="number">0</span>);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote style="margin: 2em 0 0;padding: 0.5em 1em;border-left: 3px solid #F44336;background-color: #F5F5F5;list-style: none;"><p> <strong>本文使用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/" target="_blank" rel="noopener">CC BY-NC-SA 3.0 中国大陆</a> 协议许可<br>具体请参见 <a href="https://zyhang8.github.io/agree/" target="_blank" rel="noopener">知识共享协议</a></strong><br> <strong>本文链接：</strong><a href="https://zyhang8.github.io/2019/11/21/cv-exp4/" target="_blank" rel="noopener">https://zyhang8.github.io/2019/11/21/cv-exp4/</a></p></blockquote>

        
    

    
</div>


                

                <!-- Post Comments -->
                
                    
    <!-- 使用 DISQUS -->
<div id="disqus-comment">
    <div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_config = function () {
        this.page.url = 'http://yoursite.com/2019/11/21/cv-exp4/';  // Replace PAGE_URL with your page's canonical URL variable
        this.page.identifier = 'http://yoursite.com/2019/11/21/cv-exp4/'; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };
</script>
<script type="text/ls-javascript" id="disqus-thread-script">
    queue.offer(function() {
            (function() { // DON'T EDIT BELOW THIS LINE
                var d = document;
                var s = d.createElement('script');
                s.src = '//yizhixiaobai.disqus.com/embed.js';
                s.setAttribute('data-timestamp', + new Date());
                (d.head || d.body).appendChild(s);
            })();
        });
</script>

</div>
<style>
    #disqus-comment{
        background-color: #eee;
        padding: 2pc;
    }
</style>

                
            </div>

            <!-- Post Prev & Next Nav -->
            <nav class="material-nav mdl-color-text--grey-50 mdl-cell mdl-cell--12-col">
    <!-- Prev Nav -->
    

    <!-- Section Spacer -->
    <div class="section-spacer"></div>

    <!-- Next Nav -->
    
        <a href="/2019/11/20/linux-exp5/" id="post_nav-older" class="next-content">
            旧篇
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation">
                <i class="material-icons">arrow_forward</i>
            </button>
        </a>
    
</nav>

        </div>
    </div>



                    
                        <!-- Overlay For Active Sidebar -->
<div class="sidebar-overlay"></div>

<!-- Material sidebar -->
<aside id="sidebar" class="sidebar sidebar-colored sidebar-fixed-left" role="navigation">
    <div id="sidebar-main">
        <!-- Sidebar Header -->
        <div class="sidebar-header header-cover" style="background-image: url(/img/sidebar_header.png);">
    <!-- Top bar -->
    <div class="top-bar"></div>

    <!-- Sidebar toggle button -->
    <button type="button" class="sidebar-toggle mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon" style="display: initial;" data-upgraded=",MaterialButton,MaterialRipple">
        <i class="material-icons">clear_all</i>
        <span class="mdl-button__ripple-container">
            <span class="mdl-ripple">
            </span>
        </span>
    </button>

    <!-- Sidebar Avatar -->
    <div class="sidebar-image">
        <img src="/img/head_sculpture.png" alt="一直小白's avatar">
    </div>

    <!-- Sidebar Email -->
    <a data-toggle="dropdown" class="sidebar-brand" href="#settings-dropdown">
        zhongyuhang113@gmail.com
        <b class="caret"></b>
    </a>
</div>


        <!-- Sidebar Navigation  -->
        <ul class="nav sidebar-nav">
    <!-- User dropdown  -->
    <li class="dropdown">
        <ul id="settings-dropdown" class="dropdown-menu">
            
                <li>
                    <a href="mailto:zhongyuhang113@gmail.com" target="_blank" title="Email Me">
                        
                            <i class="material-icons sidebar-material-icons sidebar-indent-left1pc-element">email</i>
                        
                        Email Me
                    </a>
                </li>
            
        </ul>
    </li>

    <!-- Homepage -->
    
        <li id="sidebar-first-li">
            <a href="/">
                
                    <i class="material-icons sidebar-material-icons">home</i>
                
                主页
            </a>
        </li>
        
    

    <!-- Archives  -->
    
        <li class="dropdown">
            <a href="#" class="ripple-effect dropdown-toggle" data-toggle="dropdown">
                
                    <i class="material-icons sidebar-material-icons">inbox</i>
                
                    归档
                <b class="caret"></b>
            </a>
            <ul class="dropdown-menu">
            <li>
                <a class="sidebar_archives-link" href="/archives/2019/11/">十一月 2019<span class="sidebar_archives-count">23</span></a></li><li><a class="sidebar_archives-link" href="/archives/2019/10/">十月 2019<span class="sidebar_archives-count">29</span></a></li><li><a class="sidebar_archives-link" href="/archives/2019/09/">九月 2019<span class="sidebar_archives-count">28</span></a></li><li><a class="sidebar_archives-link" href="/archives/2019/08/">八月 2019<span class="sidebar_archives-count">10</span></a></li><li><a class="sidebar_archives-link" href="/archives/2019/07/">七月 2019<span class="sidebar_archives-count">9</span></a></li><li><a class="sidebar_archives-link" href="/archives/2019/06/">六月 2019<span class="sidebar_archives-count">1</span></a>
            </ul>
        </li>
        
    

    <!-- Categories  -->
    
        <li class="dropdown">
            <a href="#" class="ripple-effect dropdown-toggle" data-toggle="dropdown">
                
                    <i class="material-icons sidebar-material-icons">chrome_reader_mode</i>
                
                分类
                <b class="caret"></b>
            </a>
            <ul class="dropdown-menu">
                <li>
                <a class="sidebar_archives-link" href="/categories/Database/">Database<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/IT项目管理/">IT项目管理<span class="sidebar_archives-count">4</span></a></li><li><a class="sidebar_archives-link" href="/categories/android/">android<span class="sidebar_archives-count">8</span></a></li><li><a class="sidebar_archives-link" href="/categories/c/">c++<span class="sidebar_archives-count">4</span></a></li><li><a class="sidebar_archives-link" href="/categories/j2ee/">j2ee<span class="sidebar_archives-count">4</span></a></li><li><a class="sidebar_archives-link" href="/categories/java/">java<span class="sidebar_archives-count">3</span></a></li><li><a class="sidebar_archives-link" href="/categories/linux/">linux<span class="sidebar_archives-count">5</span></a></li><li><a class="sidebar_archives-link" href="/categories/lua/">lua<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/opencv/">opencv<span class="sidebar_archives-count">5</span></a></li><li><a class="sidebar_archives-link" href="/categories/oracle/">oracle<span class="sidebar_archives-count">4</span></a></li><li><a class="sidebar_archives-link" href="/categories/python/">python<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/categories/scrapy/">scrapy<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/书籍/">书籍<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/信息安全/">信息安全<span class="sidebar_archives-count">7</span></a></li><li><a class="sidebar_archives-link" href="/categories/前端/">前端<span class="sidebar_archives-count">3</span></a></li><li><a class="sidebar_archives-link" href="/categories/开箱/">开箱<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/心理学/">心理学<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/机器学习/">机器学习<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/测试/">测试<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/游记/">游记<span class="sidebar_archives-count">9</span></a></li><li><a class="sidebar_archives-link" href="/categories/笔记/">笔记<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/算法/">算法<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/计算机网络/">计算机网络<span class="sidebar_archives-count">4</span></a></li><li><a class="sidebar_archives-link" href="/categories/设计模式/">设计模式<span class="sidebar_archives-count">5</span></a></li><li><a class="sidebar_archives-link" href="/categories/评测/">评测<span class="sidebar_archives-count">3</span></a></li><li><a class="sidebar_archives-link" href="/categories/需求分析/">需求分析<span class="sidebar_archives-count">9</span></a></li><li><a class="sidebar_archives-link" href="/categories/鱼的记忆/">鱼的记忆<span class="sidebar_archives-count">9</span></a>
            </ul>
        </li>
        
    

    <!-- Pages  -->
    
        <li>
            <a href="/tags" title="标签">
                
                    <i class="material-icons sidebar-material-icons">table</i>
                
                标签
            </a>
        </li>
        
    
        <li>
            <a href="/timeline" title="时间轴">
                
                    <i class="material-icons sidebar-material-icons">timeline</i>
                
                时间轴
            </a>
        </li>
        
    
        <li>
            <a href="/video" title="目之所及">
                
                    <i class="material-icons sidebar-material-icons">movie</i>
                
                目之所及
            </a>
        </li>
        
    
        <li>
            <a href="/gallery" title="图库">
                
                    <i class="material-icons sidebar-material-icons">collections</i>
                
                图库
            </a>
        </li>
        
    
        <li>
            <a href="/links" title="好朋友">
                
                    <i class="material-icons sidebar-material-icons">favorite_border</i>
                
                好朋友
            </a>
        </li>
        
    
        <li>
            <a href="/PGP" title="PGP密钥">
                
                    <i class="material-icons sidebar-material-icons">vpn_key</i>
                
                PGP密钥
            </a>
        </li>
        
    
        <li>
            <a href="/agree" title="知识共享协议">
                
                    <i class="material-icons sidebar-material-icons">https</i>
                
                知识共享协议
            </a>
        </li>
        
    
        <li>
            <a href="/me" title="关于小白">
                
                    <i class="material-icons sidebar-material-icons">person</i>
                
                关于小白
            </a>
        </li>
        
    

    <!-- Article Number  -->
    
        <li>
            <a href="/archives">
                文章总数
                <span class="sidebar-badge">100</span>
            </a>
        </li>
        
    
</ul>


        <!-- Sidebar Footer -->
        <!--
I'm glad you use this theme, the development is no so easy, I hope you can keep the copyright, I will thank you so much.
If you still want to delete the copyrights, could you still retain the first one? Which namely "Theme Material"
It will not impact the appearance and can give developers a lot of support :)

很高兴您使用并喜欢该主题，开发不易 十分谢谢与希望您可以保留一下版权声明。
如果您仍然想删除的话 能否只保留第一项呢？即 "Theme Material"
它不会影响美观并可以给开发者很大的支持和动力。 :)
-->

<!-- Sidebar Divider -->


<!-- Theme Material -->


<!-- Help & Support -->
<!--

-->

<!-- Feedback -->
<!--

-->

<!-- About Theme -->
<!--

-->

    </div>

    <!-- Sidebar Image -->
    

</aside>

                    

                    
                        <!-- Footer Top Button -->
                        <div id="back-to-top" class="toTop-wrap">
    <a href="#top" class="toTop">
        <i class="material-icons footer_top-i">expand_less</i>
    </a>
</div>

                    

                    <!--Footer-->
<footer class="mdl-mini-footer" id="bottom">
    
        <!-- Paradox Footer Left Section -->
        <div class="mdl-mini-footer--left-section sns-list">
    <!-- Twitter -->
    
        <a href="https://twitter.com/WTOJL7dDTsa8Dcd" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn footer-sns-twitter">
                <span class="visuallyhidden">Twitter</span>
            </button><!--
     --></a>
    

    <!-- Facebook -->
    
        <a href="https://www.facebook.com/zyhang8" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn footer-sns-facebook">
                <span class="visuallyhidden">Facebook</span>
            </button><!--
     --></a>
    

    <!-- Google + -->
    

    <!-- Weibo -->
    

    <!-- Instagram -->
    

    <!-- Tumblr -->
    

    <!-- Github -->
    
        <a href="https:www.github.com/zyhang8" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn footer-sns-github">
                <span class="visuallyhidden">Github</span>
            </button><!--
     --></a>
    

    <!-- LinkedIn -->
    

    <!-- Zhihu -->
    

    <!-- Bilibili -->
    

    <!-- Telegram -->
    

    <!-- V2EX -->
    

    <!-- Segmentfault -->
    
</div>


        <!--Copyright-->
        <div id="copyright">
            Copyright&nbsp;©&nbsp;<span year></span>&nbsp;一直小白的博客
            
        </div>

        <!-- Paradox Footer Right Section -->

        <!--
        I am glad you use this theme, the development is no so easy, I hope you can keep the copyright.
        It will not impact the appearance and can give developers a lot of support :)

        很高兴您使用该主题，开发不易，希望您可以保留一下版权声明。
        它不会影响美观并可以给开发者很大的支持。 :)
        -->

        <div class="mdl-mini-footer--right-section">
            <div>
                <div class="footer-develop-div">Powered by <a href="https://hexo.io" target="_blank" class="footer-develop-a">Hexo</a></div>
                <div class="footer-develop-div">Theme - <a href="https://github.com/viosey/hexo-theme-material" target="_blank" class="footer-develop-a">Material</a></div>
            </div>
        </div>
    
</footer>


                    <!-- Import JS File -->

    <script>lsloader.load("lazyload_js","/js/lazyload.min.js?1BcfzuNXqV+ntF6gq+5X3Q==", true)</script>



    <script>lsloader.load("js_js","/js/js.min.js?Bn9UzEm8RrBSxqyZB0zPjA==", true)</script>



    <script>lsloader.load("np_js","/js/nprogress.js?pl3Qhb9lvqR1FlyLUna1Yw==", true)</script>


<script type="text/ls-javascript" id="NProgress-script">
    NProgress.configure({
        showSpinner: true
    });
    NProgress.start();
    $('#nprogress .bar').css({
        'background': '#29d'
    });
    $('#nprogress .peg').css({
        'box-shadow': '0 0 10px #29d, 0 0 15px #29d'
    });
    $('#nprogress .spinner-icon').css({
        'border-top-color': '#29d',
        'border-left-color': '#29d'
    });
    setTimeout(function() {
        NProgress.done();
        $('.fade').removeClass('out');
    }, 800);
</script>







    <!-- Busuanzi -->
    <script src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>



   <!-- 使用 DISQUS js 代码 -->
<script id="dsq-count-scr" src="//yizhixiaobai.disqus.com/count.js" async></script>





<!-- UC Browser Compatible -->
<script>
	var agent = navigator.userAgent.toLowerCase();
	if(agent.indexOf('ucbrowser')>0) {
		document.write('<link rel="stylesheet" href="/css/uc.css">');
	   alert('由于 UC 浏览器使用极旧的内核，而本网站使用了一些新的特性。\n为了您能更好的浏览，推荐使用 Chrome 或 Firefox 浏览器。');
	}
</script>

<!-- Import prettify js  -->



<!-- Window Load -->
<!-- add class for prettify -->
<script type="text/ls-javascript" id="window-load">
    $(window).on('load', function() {
        // Post_Toc parent position fixed
        $('.post-toc-wrap').parent('.mdl-menu__container').css('position', 'fixed');
    });

    
    
</script>

<!-- MathJax Load-->


<!-- Bing Background -->


<script type="text/ls-javascript" id="lazy-load">
    // Offer LazyLoad
    queue.offer(function(){
        $('.lazy').lazyload({
            effect : 'show'
        });
    });

    // Start Queue
    $(document).ready(function(){
        setInterval(function(){
            queue.execNext();
        },200);
    });
</script>

<!-- Custom Footer -->



<script>
    var copyrightNow = new Date().getFullYear();
    var textContent = document.querySelector('span[year]')

    copyrightSince = 2017;
    if (copyrightSince === copyrightNow||copyrightSince === 0000) {
        textContent.textContent = copyrightNow
    } else {
        textContent.textContent = copyrightSince + ' - ' + copyrightNow
    }

    (function(){
        var scriptList = document.querySelectorAll('script[type="text/ls-javascript"]')

        for (var i = 0; i < scriptList.length; ++i) {
            var item = scriptList[i];
            lsloader.runInlineScript(item.id,item.id);
        }
    })()
console.log('\n %c © Material Theme | Version: 1.5.6 | https://github.com/viosey/hexo-theme-material %c \n', 'color:#455a64;background:#e0e0e0;padding:5px 0;border-top-left-radius:5px;border-bottom-left-radius:5px;', 'color:#455a64;background:#e0e0e0;padding:5px 0;border-top-right-radius:5px;border-bottom-right-radius:5px;');
</script>

                </main>
            </div>
        </body>
    
</html>
