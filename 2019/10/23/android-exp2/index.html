<!DOCTYPE html>
<html style="display: none;" lang="zh">
    <head><meta name="generator" content="Hexo 3.9.0">
    <meta charset="utf-8">
    <!--
        © Material Theme
        https://github.com/viosey/hexo-theme-material
        Version: 1.5.6 -->
    <script>
        window.materialVersion = "1.5.6"
        // Delete localstorage with these tags
        window.oldVersion = [
            'codestartv1',
            '1.3.4',
            '1.4.0',
            '1.4.0b1',
            '1.5.0',
            '1.5.2',
            '1.5.5'
        ]
    </script>

    <!-- dns prefetch -->
    <meta http-equiv="x-dns-prefetch-control" content="on">



    <link rel="dns-prefetch" href="https://busuanzi.ibruce.info">



    <link rel="dns-prefetch" href="https://yizhixiaobai.disqus.com">



    <link rel="dns-prefetch" href="https://hm.baidu.com">



    <link rel="dns-prefetch" href="https://lib.baomitu.com">





    <!-- Meta & Info -->
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="renderer" content="webkit">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

    <!-- Title -->
    
    <title>
        
            Android用户界面 | 
        
        一直小白的博客
    </title>

    <!-- Favicons -->
    <link rel="icon shortcut" type="image/ico" href="/img/head_sculpture.png">
    <link rel="icon" href="/img/head_sculpture.png">

    <meta name="format-detection" content="telephone=no">
    <meta name="description" itemprop="description" content>
    <meta name="keywords" content="这是一只小白,android">
    <meta name="theme-color" content="#0097A7">

    <!-- Disable Fucking Bloody Baidu Tranformation -->
    <meta http-equiv="Cache-Control" content="no-transform">
    <meta http-equiv="Cache-Control" content="no-siteapp">

    <!--[if lte IE 9]>
        <link rel="stylesheet" href="/css/ie-blocker.css">

        
            <script src="/js/ie-blocker.zhCN.js"></script>
        
    <![endif]-->

    <!-- Import lsloader -->
    <script>(function(){window.lsloader={jsRunSequence:[],jsnamemap:{},cssnamemap:{}};lsloader.removeLS=function(a){try{localStorage.removeItem(a)}catch(b){}};lsloader.setLS=function(a,c){try{localStorage.setItem(a,c)}catch(b){}};lsloader.getLS=function(a){var c="";try{c=localStorage.getItem(a)}catch(b){c=""}return c};versionString="/*"+(window.materialVersion||"unknownVersion")+"*/";lsloader.clean=function(){try{var b=[];for(var a=0;a<localStorage.length;a++){b.push(localStorage.key(a))}b.forEach(function(e){var f=lsloader.getLS(e);if(window.oldVersion){var d=window.oldVersion.reduce(function(g,h){return g||f.indexOf("/*"+h+"*/")!==-1},false);if(d){lsloader.removeLS(e)}}})}catch(c){}};lsloader.clean();lsloader.load=function(f,a,b,d){if(typeof b==="boolean"){d=b;b=undefined}d=d||false;b=b||function(){};var e;e=this.getLS(f);if(e&&e.indexOf(versionString)===-1){this.removeLS(f);this.requestResource(f,a,b,d);return}if(e){var c=e.split(versionString)[0];if(c!=a){console.log("reload:"+a);this.removeLS(f);this.requestResource(f,a,b,d);return}e=e.split(versionString)[1];if(d){this.jsRunSequence.push({name:f,code:e});this.runjs(a,f,e)}else{document.getElementById(f).appendChild(document.createTextNode(e));b()}}else{this.requestResource(f,a,b,d)}};lsloader.requestResource=function(b,e,a,c){var d=this;if(c){this.iojs(e,b,function(h,f,g){d.setLS(f,h+versionString+g);d.runjs(h,f,g)})}else{this.iocss(e,b,function(f){document.getElementById(b).appendChild(document.createTextNode(f));d.setLS(b,e+versionString+f)},a)}};lsloader.iojs=function(d,b,g){var a=this;a.jsRunSequence.push({name:b,code:""});try{var f=new XMLHttpRequest();f.open("get",d,true);f.onreadystatechange=function(){if(f.readyState==4){if((f.status>=200&&f.status<300)||f.status==304){if(f.response!=""){g(d,b,f.response);return}}a.jsfallback(d,b)}};f.send(null)}catch(c){a.jsfallback(d,b)}};lsloader.iocss=function(f,c,h,a){var b=this;try{var g=new XMLHttpRequest();g.open("get",f,true);g.onreadystatechange=function(){if(g.readyState==4){if((g.status>=200&&g.status<300)||g.status==304){if(g.response!=""){h(g.response);a();return}}b.cssfallback(f,c,a)}};g.send(null)}catch(d){b.cssfallback(f,c,a)}};lsloader.iofonts=function(f,c,h,a){var b=this;try{var g=new XMLHttpRequest();g.open("get",f,true);g.onreadystatechange=function(){if(g.readyState==4){if((g.status>=200&&g.status<300)||g.status==304){if(g.response!=""){h(g.response);a();return}}b.cssfallback(f,c,a)}};g.send(null)}catch(d){b.cssfallback(f,c,a)}};lsloader.runjs=function(f,c,e){if(!!c&&!!e){for(var b in this.jsRunSequence){if(this.jsRunSequence[b].name==c){this.jsRunSequence[b].code=e}}}if(!!this.jsRunSequence[0]&&!!this.jsRunSequence[0].code&&this.jsRunSequence[0].status!="failed"){var a=document.createElement("script");a.appendChild(document.createTextNode(this.jsRunSequence[0].code));a.type="text/javascript";document.getElementsByTagName("head")[0].appendChild(a);this.jsRunSequence.shift();if(this.jsRunSequence.length>0){this.runjs()}}else{if(!!this.jsRunSequence[0]&&this.jsRunSequence[0].status=="failed"){var d=this;var a=document.createElement("script");a.src=this.jsRunSequence[0].path;a.type="text/javascript";this.jsRunSequence[0].status="loading";a.onload=function(){d.jsRunSequence.shift();if(d.jsRunSequence.length>0){d.runjs()}};document.body.appendChild(a)}}};lsloader.tagLoad=function(b,a){this.jsRunSequence.push({name:a,code:"",path:b,status:"failed"});this.runjs()};lsloader.jsfallback=function(c,b){if(!!this.jsnamemap[b]){return}else{this.jsnamemap[b]=b}for(var a in this.jsRunSequence){if(this.jsRunSequence[a].name==b){this.jsRunSequence[a].code="";this.jsRunSequence[a].status="failed";this.jsRunSequence[a].path=c}}this.runjs()};lsloader.cssfallback=function(e,c,b){if(!!this.cssnamemap[c]){return}else{this.cssnamemap[c]=1}var d=document.createElement("link");d.type="text/css";d.href=e;d.rel="stylesheet";d.onload=d.onerror=b;var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(d,a)};lsloader.runInlineScript=function(c,b){var a=document.getElementById(b).innerText;this.jsRunSequence.push({name:c,code:a});this.runjs()}})();</script>

    <!-- Import queue -->
    <script>function Queue(){this.dataStore=[];this.offer=b;this.poll=d;this.execNext=a;this.debug=false;this.startDebug=c;function b(e){if(this.debug){console.log("Offered a Queued Function.")}if(typeof e==="function"){this.dataStore.push(e)}else{console.log("You must offer a function.")}}function d(){if(this.debug){console.log("Polled a Queued Function.")}return this.dataStore.shift()}function a(){var e=this.poll();if(e!==undefined){if(this.debug){console.log("Run a Queued Function.")}e()}}function c(){this.debug=true}}var queue=new Queue();</script>

    <!-- Import CSS -->
    
        <style id="material_css"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("material_css","/css/material.min.css?Z7a72R1E4SxzBKR/WGctOA==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>
        <style id="style_css"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("style_css","/css/style.min.css?NKhlKQkXw/c66TR5p4wO+w==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>

        

    

    

    <!-- Config CSS -->

<!-- Other Styles -->
<style>
  body, html {
    font-family: Roboto, "Helvetica Neue", Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", "微锟斤拷锟脚猴拷", Arial, sans-serif;
    overflow-x: hidden !important;
  }
  
  code {
    font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
  }

  a {
    color: #00838F;
  }

  .mdl-card__media,
  #search-label,
  #search-form-label:after,
  #scheme-Paradox .hot_tags-count,
  #scheme-Paradox .sidebar_archives-count,
  #scheme-Paradox .sidebar-colored .sidebar-header,
  #scheme-Paradox .sidebar-colored .sidebar-badge{
    background-color: #0097A7 !important;
  }

  /* Sidebar User Drop Down Menu Text Color */
  #scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:hover,
  #scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:focus {
    color: #0097A7 !important;
  }

  #post_entry-right-info,
  .sidebar-colored .sidebar-nav li:hover > a,
  .sidebar-colored .sidebar-nav li:hover > a i,
  .sidebar-colored .sidebar-nav li > a:hover,
  .sidebar-colored .sidebar-nav li > a:hover i,
  .sidebar-colored .sidebar-nav li > a:focus i,
  .sidebar-colored .sidebar-nav > .open > a,
  .sidebar-colored .sidebar-nav > .open > a:hover,
  .sidebar-colored .sidebar-nav > .open > a:focus,
  #ds-reset #ds-ctx .ds-ctx-entry .ds-ctx-head a {
    color: #0097A7 !important;
  }

  .toTop {
    background: #757575 !important;
  }

  .material-layout .material-post>.material-nav,
  .material-layout .material-index>.material-nav,
  .material-nav a {
    color: #757575;
  }

  #scheme-Paradox .MD-burger-layer {
    background-color: #757575;
  }

  #scheme-Paradox #post-toc-trigger-btn {
    color: #757575;
  }

  .post-toc a:hover {
    color: #00838F;
    text-decoration: underline;
  }

</style>


<!-- Theme Background Related-->

    <style>
      body{
        background-color: #F5F5F5;
      }

      /* blog_info bottom background */
      #scheme-Paradox .material-layout .something-else .mdl-card__supporting-text{
        background-color: #fff;
      }
    </style>




<!-- Fade Effect -->

    <style>
      .fade {
        transition: all 800ms linear;
        -webkit-transform: translate3d(0,0,0);
        -moz-transform: translate3d(0,0,0);
        -ms-transform: translate3d(0,0,0);
        -o-transform: translate3d(0,0,0);
        transform: translate3d(0,0,0);
        opacity: 1;
      }

      .fade.out{
        opacity: 0;
      }
    </style>


<!-- Import Font -->
<!-- Import Roboto -->

    <style>
        @font-face {
            font-family: Roboto;
            font-style: normal;
            font-weight: 300;
            src: url(https://lib.baomitu.com/fonts/roboto/roboto-v15-latin-300.eot);
            src: local('Roboto'),local('Roboto-Normal'),url(https://lib.baomitu.com/fonts/roboto/roboto-v15-latin-300.eot?#iefix) format('embedded-opentype'),url(https://lib.baomitu.com/fonts/roboto/roboto-v15-latin-300.woff2) format('woff2'),url(https://lib.baomitu.com/fonts/roboto/roboto-v15-latin-300.woff) format('woff'),url(https://lib.baomitu.com/fonts/roboto/roboto-v15-latin-300.ttf) format('truetype'),url(https://lib.baomitu.com/fonts/roboto/roboto-v15-latin-300.svg#Roboto) format('svg')
        }

        @font-face {
            font-family: Roboto;
            font-style: normal;
            font-weight: regular;
            src: url(https://lib.baomitu.com/fonts/roboto/roboto-v15-latin-regular.eot);
            src: local('Roboto'),local('Roboto-Normal'),url(https://lib.baomitu.com/fonts/roboto/roboto-v15-latin-regular.eot?#iefix) format('embedded-opentype'),url(https://lib.baomitu.com/fonts/roboto/roboto-v15-latin-regular.woff2) format('woff2'),url(https://lib.baomitu.com/fonts/roboto/roboto-v15-latin-regular.woff) format('woff'),url(https://lib.baomitu.com/fonts/roboto/roboto-v15-latin-regular.ttf) format('truetype'),url(https://lib.baomitu.com/fonts/roboto/roboto-v15-latin-regular.svg#Roboto) format('svg')
        }

        @font-face {
            font-family: Roboto;
            font-style: normal;
            font-weight: 500;
            src: url(https://lib.baomitu.com/fonts/roboto/roboto-v15-latin-500.eot);
            src: local('Roboto'),local('Roboto-Normal'),url(https://lib.baomitu.com/fonts/roboto/roboto-v15-latin-500.eot?#iefix) format('embedded-opentype'),url(https://lib.baomitu.com/fonts/roboto/roboto-v15-latin-500.woff2) format('woff2'),url(https://lib.baomitu.com/fonts/roboto/roboto-v15-latin-500.woff) format('woff'),url(https://lib.baomitu.com/fonts/roboto/roboto-v15-latin-500.ttf) format('truetype'),url(https://lib.baomitu.com/fonts/roboto/roboto-v15-latin-500.svg#Roboto) format('svg')
        }
    </style>


<!-- Import Material Icons -->


    <style id="material_icons"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("material_icons","/css/material-icons.css?pqhB/Rd/ab0H2+kZp0RDmw==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>




    <!-- Import jQuery -->
    
        <script>lsloader.load("jq_js","/js/jquery.min.js?qcusAULNeBksqffqUM2+Ig==", true)</script>
    

    <!-- WebAPP Icons -->
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="application-name" content="一直小白的博客">
    <meta name="msapplication-starturl" content="http://yoursite.com/2019/10/23/android-exp2/">
    <meta name="msapplication-navbutton-color" content="#0097A7">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-title" content="一直小白的博客">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon" href="/img/head_sculpture.png">

    <!-- Site Verification -->
    
    

    <!-- RSS -->
    

    <!-- The Open Graph protocol -->
    <meta property="og:url" content="http://yoursite.com/2019/10/23/android-exp2/">
    <meta property="og:type" content="blog">
    <meta property="og:title" content="Android用户界面 | 一直小白的博客">
    <meta property="og:image" content="/img/head_sculpture.png">
    <meta property="og:description" content>
    <meta property="og:article:tag" content="android"> 

    
        <meta property="article:published_time" content="Wed Oct 23 2019 20:32:06 GMT+0800">
        <meta property="article:modified_time" content="Wed Oct 30 2019 22:34:10 GMT+0800">
    

    <!-- The Twitter Card protocol -->
    <meta name="twitter:card" content="summary_large_image">

    <!-- Add canonical link for SEO -->
    
        <link rel="canonical" href="http://yoursite.com/2019/10/23/android-exp2/index.html">
    

    <!-- Structured-data for SEO -->
    
        


<script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "BlogPosting",
    "mainEntityOfPage": "http://yoursite.com/2019/10/23/android-exp2/index.html",
    "headline": "Android用户界面",
    "datePublished": "Wed Oct 23 2019 20:32:06 GMT+0800",
    "dateModified": "Wed Oct 30 2019 22:34:10 GMT+0800",
    "author": {
        "@type": "Person",
        "name": "一直小白",
        "image": {
            "@type": "ImageObject",
            "url": "/img/head_sculpture.png"
        },
        "description": "求知若饥,谦虚若愚"
    },
    "publisher": {
        "@type": "Organization",
        "name": "一直小白的博客",
        "logo": {
            "@type":"ImageObject",
            "url": "/img/head_sculpture.png"
        }
    },
    "keywords": ",android这是一只小白",
    "description": "",
}
</script>


    

    <!-- Analytics -->
    
    
        <script>
    var _hmt = _hmt || [];
    (function() {var hm = document.createElement('script');
    hm.src = 'https://hm.baidu.com/hm.js?5a42bcc3e66e1db4931abdcca1a9aa74';
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(hm, s);
    })();
</script>
    
    

    <!-- Custom Head -->
    

</head>


    
        <body id="scheme-Paradox" class="lazy">
            <div class="material-layout  mdl-js-layout has-drawer is-upgraded">
                

                <!-- Main Container -->
                <main class="material-layout__content" id="main">

                    <!-- Top Anchor -->
                    <div id="top"></div>

                    
                        <!-- Hamburger Button -->
                        <button class="MD-burger-icon sidebar-toggle">
                            <span id="MD-burger-id" class="MD-burger-layer"></span>
                        </button>
                    

                    <!-- Post TOC -->

    
    <!-- Back Button -->
    <!--
    <div class="material-back" id="backhome-div" tabindex="0">
        <a class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon"
           href="#" onclick="window.history.back();return false;"
           target="_self"
           role="button"
           data-upgraded=",MaterialButton,MaterialRipple">
            <i class="material-icons" role="presentation">arrow_back</i>
            <span class="mdl-button__ripple-container">
                <span class="mdl-ripple"></span>
            </span>
        </a>
    </div>
    -->


    <!-- Left aligned menu below button -->
    
    
    <button id="post-toc-trigger-btn"
        class="mdl-button mdl-js-button mdl-button--icon">
        <i class="material-icons">format_list_numbered</i>
    </button>

    <ul class="post-toc-wrap mdl-menu mdl-menu--bottom-left mdl-js-menu mdl-js-ripple-effect" for="post-toc-trigger-btn" style="max-height:80vh; overflow-y:scroll;">
        <ol class="post-toc"><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#Android用户界面"><span class="post-toc-number">1.</span> <span class="post-toc-text">Android用户界面</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#实验目的"><span class="post-toc-number">1.1.</span> <span class="post-toc-text">实验目的</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#实验内容"><span class="post-toc-number">1.2.</span> <span class="post-toc-text">实验内容</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#布局"><span class="post-toc-number">1.3.</span> <span class="post-toc-text">布局</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#线性-LinerLayout-布局"><span class="post-toc-number">1.3.1.</span> <span class="post-toc-text">线性(LinerLayout)布局</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#表格-TableLayout-布局"><span class="post-toc-number">1.3.2.</span> <span class="post-toc-text">表格(TableLayout)布局</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#帧-FrameLayout-布局"><span class="post-toc-number">1.3.3.</span> <span class="post-toc-text">帧(FrameLayout)布局</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#相对-RelativeLayout-布局"><span class="post-toc-number">1.3.4.</span> <span class="post-toc-text">相对(RelativeLayout)布局</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#网格-GridLayout-布局"><span class="post-toc-number">1.3.5.</span> <span class="post-toc-text">网格(GridLayout)布局</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#控件"><span class="post-toc-number">1.4.</span> <span class="post-toc-text">控件</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#TextView类"><span class="post-toc-number">1.4.1.</span> <span class="post-toc-text">TextView类</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#EditText-输入框"><span class="post-toc-number">1.4.2.</span> <span class="post-toc-text">EditText(输入框)</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Button（按钮）"><span class="post-toc-number">1.4.3.</span> <span class="post-toc-text">Button（按钮）</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#RadioButton（单选钮）-amp-CheckBox（复选框）"><span class="post-toc-number">1.4.4.</span> <span class="post-toc-text">RadioButton（单选钮）&amp;CheckBox（复选框）</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#ToggleButton（开关按钮）-amp-Switch（开关）"><span class="post-toc-number">1.4.5.</span> <span class="post-toc-text">ToggleButton（开关按钮）&amp;Switch（开关）</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#AnalogClock和TextClock（时钟）"><span class="post-toc-number">1.4.6.</span> <span class="post-toc-text">AnalogClock和TextClock（时钟）</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Chronometer（计时器）"><span class="post-toc-number">1.4.7.</span> <span class="post-toc-text">Chronometer（计时器）</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#mageView类"><span class="post-toc-number">1.4.8.</span> <span class="post-toc-text">mageView类</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#ImageView（图片视图）"><span class="post-toc-number">1.4.9.</span> <span class="post-toc-text">ImageView（图片视图）</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#ImageButton（图片按钮）"><span class="post-toc-number">1.4.10.</span> <span class="post-toc-text">ImageButton（图片按钮）</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#QucikContactBadge（图片按钮）"><span class="post-toc-number">1.4.11.</span> <span class="post-toc-text">QucikContactBadge（图片按钮）</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#AdapterView类"><span class="post-toc-number">1.4.12.</span> <span class="post-toc-text">AdapterView类</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#ListView（列表视图）-amp-ListActivity"><span class="post-toc-number">1.4.13.</span> <span class="post-toc-text">ListView（列表视图）&amp;ListActivity</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Adapter接口及实现"><span class="post-toc-number">1.4.14.</span> <span class="post-toc-text">Adapter接口及实现</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#AutoCompleteTextView（自动完成文本框）"><span class="post-toc-number">1.4.15.</span> <span class="post-toc-text">AutoCompleteTextView（自动完成文本框）</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#GridView（网络视图）"><span class="post-toc-number">1.4.16.</span> <span class="post-toc-text">GridView（网络视图）</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#ExpandableListView（可展开的列表组件）"><span class="post-toc-number">1.4.17.</span> <span class="post-toc-text">ExpandableListView（可展开的列表组件）</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Spinner（列表选择框）"><span class="post-toc-number">1.4.18.</span> <span class="post-toc-text">Spinner（列表选择框）</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#AdapterViewFlipper（图片轮播）"><span class="post-toc-number">1.4.19.</span> <span class="post-toc-text">AdapterViewFlipper（图片轮播）</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#StackView（堆叠视图）"><span class="post-toc-number">1.4.20.</span> <span class="post-toc-text">StackView（堆叠视图）</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#渐变褪去效果"><span class="post-toc-number">1.4.21.</span> <span class="post-toc-text">渐变褪去效果</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#ProgressBar类"><span class="post-toc-number">1.4.22.</span> <span class="post-toc-text">ProgressBar类</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#ProgressBar（进度条）"><span class="post-toc-number">1.4.23.</span> <span class="post-toc-text">ProgressBar（进度条）</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#SeekBar（拖动条）"><span class="post-toc-number">1.4.24.</span> <span class="post-toc-text">SeekBar（拖动条）</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#RatingBar（星级评分条）"><span class="post-toc-number">1.4.25.</span> <span class="post-toc-text">RatingBar（星级评分条）</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#ViewAnimator类"><span class="post-toc-number">1.4.26.</span> <span class="post-toc-text">ViewAnimator类</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#ViewSwitcher（图形切换）"><span class="post-toc-number">1.4.27.</span> <span class="post-toc-text">ViewSwitcher（图形切换）</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#ImageSwitcher（图像切换器）"><span class="post-toc-number">1.4.28.</span> <span class="post-toc-text">ImageSwitcher（图像切换器）</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#TextSwitcher（文本切换器）"><span class="post-toc-number">1.4.29.</span> <span class="post-toc-text">TextSwitcher（文本切换器）</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#ViewFlipper（切换控件）"><span class="post-toc-number">1.4.30.</span> <span class="post-toc-text">ViewFlipper（切换控件）</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#各种杂项控件"><span class="post-toc-number">1.4.31.</span> <span class="post-toc-text">各种杂项控件</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Toast（提示信息框）"><span class="post-toc-number">1.4.32.</span> <span class="post-toc-text">Toast（提示信息框）</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#CalendarView（日历视图）"><span class="post-toc-number">1.4.33.</span> <span class="post-toc-text">CalendarView（日历视图）</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#DatePicker（日期选择器）-amp-TimePicker（时间选择器）"><span class="post-toc-number">1.4.34.</span> <span class="post-toc-text">DatePicker（日期选择器）&amp;TimePicker（时间选择器）</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#NumberPicker（数值选择器）"><span class="post-toc-number">1.4.35.</span> <span class="post-toc-text">NumberPicker（数值选择器）</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#SearchView（搜索框）"><span class="post-toc-number">1.4.36.</span> <span class="post-toc-text">SearchView（搜索框）</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#TabHost（选项卡）"><span class="post-toc-number">1.4.37.</span> <span class="post-toc-text">TabHost（选项卡）</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#ScrollView（滚动视图）"><span class="post-toc-number">1.4.38.</span> <span class="post-toc-text">ScrollView（滚动视图）</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Notification（手机状态栏）"><span class="post-toc-number">1.4.39.</span> <span class="post-toc-text">Notification（手机状态栏）</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#对话框"><span class="post-toc-number">1.4.40.</span> <span class="post-toc-text">对话框</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#AlertDialog对话框"><span class="post-toc-number">1.4.41.</span> <span class="post-toc-text">AlertDialog对话框</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#对话框风格的窗口"><span class="post-toc-number">1.4.42.</span> <span class="post-toc-text">对话框风格的窗口</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#PopupWindow"><span class="post-toc-number">1.4.43.</span> <span class="post-toc-text">PopupWindow</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#DatePickerDialog-amp-TimePickerDialog"><span class="post-toc-number">1.4.44.</span> <span class="post-toc-text">DatePickerDialog &amp; TimePickerDialog</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#ProcessDialog"><span class="post-toc-number">1.4.45.</span> <span class="post-toc-text">ProcessDialog</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#菜单"><span class="post-toc-number">1.4.46.</span> <span class="post-toc-text">菜单</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#SubMenu（选项菜单和子菜单）"><span class="post-toc-number">1.4.47.</span> <span class="post-toc-text">SubMenu（选项菜单和子菜单）</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#上下文菜单"><span class="post-toc-number">1.4.48.</span> <span class="post-toc-text">上下文菜单</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#PopupMenu（弹出式菜单）"><span class="post-toc-number">1.4.49.</span> <span class="post-toc-text">PopupMenu（弹出式菜单）</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#ActionBar（活动条）"><span class="post-toc-number">1.4.50.</span> <span class="post-toc-text">ActionBar（活动条）</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#ActionBar"><span class="post-toc-number">1.4.51.</span> <span class="post-toc-text">ActionBar</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#ActionBar显示选项菜单项"><span class="post-toc-number">1.4.52.</span> <span class="post-toc-text">ActionBar显示选项菜单项</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#程序图标导航"><span class="post-toc-number">1.4.53.</span> <span class="post-toc-text">程序图标导航</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Action-View"><span class="post-toc-number">1.4.54.</span> <span class="post-toc-text">Action View</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#DummyFragment"><span class="post-toc-number">1.4.55.</span> <span class="post-toc-text">DummyFragment</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#ActionBar显示下拉式菜单"><span class="post-toc-number">1.4.56.</span> <span class="post-toc-text">ActionBar显示下拉式菜单</span></a></li></ol></li></ol></li></ol>
    </ul>
    




<!-- Layouts -->

    <!-- Post Module -->
    <div class="material-post_container">

        <div class="material-post mdl-grid">
            <div class="mdl-card mdl-shadow--4dp mdl-cell mdl-cell--12-col">

                <!-- Post Header(Thumbnail & Title) -->
                
    <!-- Paradox Post Header -->
    
        
            <!-- Random Thumbnail -->
            <div class="post_thumbnail-random mdl-card__media mdl-color-text--grey-50">
            <script type="text/ls-javascript" id="post-thumbnail-script">
    var randomNum = Math.floor(Math.random() * 19 + 1);

    $('.post_thumbnail-random').attr('data-original', '/img/random/material-' + randomNum + '.png');
    $('.post_thumbnail-random').addClass('lazy');
</script>

        
    
            <p class="article-headline-p">
                Android用户界面
            </p>
        </div>





                
                    <!-- Paradox Post Info -->
                    <div class="mdl-color-text--grey-700 mdl-card__supporting-text meta">

    <!-- Author Avatar -->
    <div id="author-avatar">
        <img src="/img/head_sculpture.png" width="44px" height="44px" alt="Author Avatar"/>
    </div>
    <!-- Author Name & Date -->
    <div>
        <strong>一直小白</strong>
        <span>10月 23, 2019</span>
    </div>

    <div class="section-spacer"></div>

    <!-- Favorite -->
    <!--
        <button id="article-functions-like-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon btn-like">
            <i class="material-icons" role="presentation">favorite</i>
            <span class="visuallyhidden">favorites</span>
        </button>
    -->

    <!-- Qrcode -->
    
        <button id="article-functions-qrcode-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
    <i class="material-icons" role="presentation">devices other</i>
    <span class="visuallyhidden">devices other</span>
</button>
<ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-functions-qrcode-button">
    <li class="mdl-menu__item">在其它设备中阅读本文章</li>
    
        <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAN4AAADeCAAAAAB3DOFrAAACZElEQVR42u3aQVLDMBAEwPz/0/AAwMxoZcVQ7RNVcSR1DtIy2tfHv35eeHh4eHh4eHh4D+O94uebgb58+tP7X9+5HmeyNjw8PLwzvF+22st32h+lHbkdAQ8PD+8k76fFJVv/2oKSufK14eHh4T2fd/1+fkiszYuHh4f3d3nXEUNSfCcj4OHh4T2TlxfB+ba+FuC+LWvBw8PDi3n5JdP5v4/e7+Hh4eEFvLqlqQwX1gLcbU1XeHh4eDfw2oi2DWHnAUe9Hjw8PLwH8PJIYi3OyBsUNqfUeHh4eGNesqAiFIgj2pbxy8h4eHh4N/Pmm/U8lr0urEetA3h4eHg38JJFr239bWxxfSQkrQl4eHh4Z3i7Dom87aBt0spHwMPDw3svb1IKJz/QJHSowwg8PDy8rbz5FVd+bZZ/N5lrsXUADw8PbyuvnXjCyMv6JBDBw8PDO8lrw4h262+vx/LiHg8PD+9dvHyCtnRuR04CiG1hBB4eHt4m3q4Nvb0wa9sU8PDw8J7AyzfiyeVWHhC3s+Ph4eGd5+XL3bXE0da/Fkbg4eHh3cabT9MGvmvHwOJ/DHh4eHhbefVVUxnFTkKHIj7Gw8PDO8jLYWutBmvBRx5q4OHh4Z3htU8SpF5/d3Kc1GEEHh4e3g28toRto4Q8sEjej34IPDw8vCO8/DBoi+O21J5HvXh4eHgneWsbdNtMMAkjkuMBDw8P75m8tWdSWOPh4eH9dV7eRNUW7m2jQN10hYeHh7eVN7n0WlvQpAELDw8P7728tYI4uZrK26eST5MfHQ8PD+9u3v978PDw8PDw8PDwHvB8Avpr9xNG+0F/AAAAAElFTkSuQmCC">
    
</ul>

    

    <!-- Tags (bookmark) -->
    
    <button id="article-functions-viewtags-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
        <i class="material-icons" role="presentation">bookmark</i>
        <span class="visuallyhidden">bookmark</span>
    </button>
    <ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-functions-viewtags-button">
        <li class="mdl-menu__item">
        <a class="post_tag-link" href="/tags/android/">android</a>
    </ul>
    

    <!-- Share -->
    
        <button id="article-fuctions-share-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
    <i class="material-icons" role="presentation">share</i>
    <span class="visuallyhidden">share</span>
</button>
<ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-fuctions-share-button">
    

    
        
            <!-- Busuanzi Views -->
            <a class="post_share-link" href="#">
                <li class="mdl-menu__item">
                    <span id="busuanzi_container_page_pv">
                        <span id="busuanzi_value_page_pv"></span>&nbsp;浏览量
                    </span>
                </li>
            </a>
        
    

    <!-- Share Weibo -->
    
        <a class="post_share-link" href="http://service.weibo.com/share/share.php?appkey=&title=Android用户界面&url=http://yoursite.com/2019/10/23/android-exp2/index.html&pic=http://yoursite.com/img/head_sculpture.png&searchPic=false&style=simple" target="_blank">
            <li class="mdl-menu__item">
                分享到微博
            </li>
        </a>
    

    <!-- Share Twitter -->
    
        <a class="post_share-link" href="https://twitter.com/intent/tweet?text=Android用户界面&url=http://yoursite.com/2019/10/23/android-exp2/index.html&via=一直小白" target="_blank">
            <li class="mdl-menu__item">
                分享到 Twitter
            </li>
        </a>
    

    <!-- Share Facebook -->
    
        <a class="post_share-link" href="https://www.facebook.com/sharer/sharer.php?u=http://yoursite.com/2019/10/23/android-exp2/index.html" target="_blank">
            <li class="mdl-menu__item">
                分享到 Facebook
            </li>
        </a>
    

    <!-- Share Google+ -->
    

    <!-- Share LinkedIn -->
    
        <a class="post_share-link" href="https://www.linkedin.com/shareArticle?mini=true&url=http://yoursite.com/2019/10/23/android-exp2/index.html&title=Android用户界面" target="_blank">
            <li class="mdl-menu__item">
                分享到 LinkedIn
            </li>
        </a>
    

    <!-- Share QQ -->
    
        <a class="post_share-link" href="http://connect.qq.com/widget/shareqq/index.html?site=一直小白的博客&title=Android用户界面&summary=&pics=http://yoursite.com/img/head_sculpture.png&url=http://yoursite.com/2019/10/23/android-exp2/index.html" target="_blank">
            <li class="mdl-menu__item">
                分享到 QQ
            </li>
        </a>
    

    <!-- Share Telegram -->
    
</ul>

    
</div>

                

                <!-- Post Content -->
                <div id="post-content" class="mdl-color-text--grey-700 mdl-card__supporting-text fade out">
    
        <h1 id="Android用户界面"><a href="#Android用户界面" class="headerlink" title="Android用户界面"></a>Android用户界面</h1><h2 id="实验目的"><a href="#实验目的" class="headerlink" title="实验目的"></a>实验目的</h2><p>1.掌握Android常用控件的使用方法和基本属性。<br>2.掌握控件的常用事件处理函数的编写方法。<br>3.掌握Android常用布局的常用属性。<br>4.掌握线性布局、表格布局和相对布局的使用方法。</p>
<h2 id="实验内容"><a href="#实验内容" class="headerlink" title="实验内容"></a>实验内容</h2><pre><code>☆测试Android应用程序中常用控件的使用方法和掌握界面布局的方法</code></pre><p>实验步骤<br>1.创建一个Android应用<br>2.在界面上拖放对应的控件<br>3.根据实验资料的提示修改xml文件和java源文件<br>4.修改界面的布局，查看效果（至少使用两种以上布局实现同样的界面效果）。<br>5.运行程序，查看效果</p>
<p>要求：每人至少完成5种控件的使用、两种以上布局的使用。</p>
<p>提示：建议先从简单的控件做起，然后逐步过渡到复杂控件，可创建多个应用</p>
<blockquote>
<p>以下内容为本人在阅读《疯狂Android讲义》所写的文档，包含各种基础的布局和控件，并且对于其实中的代码进行阅读理解并做出相应的修改，把代码思路以及对某个布局和控件所做出的总结归纳。</p>
</blockquote>
<h2 id="布局"><a href="#布局" class="headerlink" title="布局"></a>布局</h2><h3 id="线性-LinerLayout-布局"><a href="#线性-LinerLayout-布局" class="headerlink" title="线性(LinerLayout)布局"></a>线性(LinerLayout)布局</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">LinearLayout</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:orientation</span>=<span class="string">"vertical"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:gravity</span>= <span class="string">"right|center_vertical"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">   <span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:id</span>=<span class="string">"@+id/bn1"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:text</span>=<span class="string">"@string/bn1"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">   <span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:id</span>=<span class="string">"@+id/bn2"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:text</span>=<span class="string">"@string/bn2"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">   <span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:id</span>=<span class="string">"@+id/bn3"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:text</span>=<span class="string">"@string/bn3"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">   <span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:id</span>=<span class="string">"@+id/bn4"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:text</span>=<span class="string">"@string/bn4"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">   <span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:id</span>=<span class="string">"@+id/bn5"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:text</span>=<span class="string">"@string/bn5"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="https://s2.ax1x.com/2019/10/30/K4vdYV.png" alt="K4vdYV.png"></p>
<p>设置参数android:gravity=”right|center_vertical”水平左对齐、垂直居中</p>
<h3 id="表格-TableLayout-布局"><a href="#表格-TableLayout-布局" class="headerlink" title="表格(TableLayout)布局"></a>表格(TableLayout)布局</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">LinearLayout</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:orientation</span>=<span class="string">"vertical"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">TableLayout</span> <span class="attr">android:id</span>=<span class="string">"@+id/TableLayout01"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:shrinkColumns</span>=<span class="string">"1"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:stretchColumns</span>=<span class="string">"2"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">Button</span> <span class="attr">android:id</span>=<span class="string">"@+id/ok1"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:text</span>=<span class="string">"独自一行的按钮"</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">TableRow</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">Button</span> <span class="attr">android:id</span>=<span class="string">"@+id/ok2"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:text</span>=<span class="string">"普通按钮"</span>/&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">Button</span> <span class="attr">android:id</span>=<span class="string">"@+id/ok3"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:text</span>=<span class="string">"收缩的按钮"</span>/&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">Button</span> <span class="attr">android:id</span>=<span class="string">"@+id/ok4"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:text</span>=<span class="string">"拉伸的按钮"</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">TableRow</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">TableLayout</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">TableLayout</span> <span class="attr">android:id</span>=<span class="string">"@+id/TableLayout02"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:collapseColumns</span>=<span class="string">"1"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">Button</span> <span class="attr">android:id</span>=<span class="string">"@+id/ok5"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:text</span>=<span class="string">"独自一行的按钮"</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">TableRow</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">Button</span> <span class="attr">android:id</span>=<span class="string">"@+id/ok6"</span></span></span><br><span class="line"><span class="tag">               <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">               <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">               <span class="attr">android:text</span>=<span class="string">"普通按钮1"</span>/&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">Button</span> <span class="attr">android:id</span>=<span class="string">"@+id/ok7"</span></span></span><br><span class="line"><span class="tag">               <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">               <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">               <span class="attr">android:text</span>=<span class="string">"普通按钮2"</span>/&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">Button</span> <span class="attr">android:id</span>=<span class="string">"@+id/ok8"</span></span></span><br><span class="line"><span class="tag">               <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">               <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">               <span class="attr">android:text</span>=<span class="string">"普通按钮3"</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">TableRow</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">TableLayout</span>&gt;</span></span><br><span class="line">   <span class="comment">&lt;!-- 定义第3个表格布局，指定第2列和第3列可以被拉伸--&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">TableLayout</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:id</span>=<span class="string">"@+id/TableLayout03"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:stretchColumns</span>=<span class="string">"1,2"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:id</span>=<span class="string">"@+id/ok9"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:text</span>=<span class="string">"独自一行的按钮"</span></span></span><br><span class="line"><span class="tag">         /&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">TableRow</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:id</span>=<span class="string">"@+id/ok10"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:text</span>=<span class="string">"普通按钮"</span></span></span><br><span class="line"><span class="tag">         /&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:id</span>=<span class="string">"@+id/ok11"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:text</span>=<span class="string">"拉伸的按钮"</span></span></span><br><span class="line"><span class="tag">         /&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:id</span>=<span class="string">"@+id/ok12"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:text</span>=<span class="string">"拉伸的按钮"</span></span></span><br><span class="line"><span class="tag">         /&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">TableRow</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">TableRow</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:id</span>=<span class="string">"@+id/ok13"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:text</span>=<span class="string">"普通按钮"</span></span></span><br><span class="line"><span class="tag">            /&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:id</span>=<span class="string">"@+id/ok14"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:text</span>=<span class="string">"拉伸的按钮"</span></span></span><br><span class="line"><span class="tag">            /&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">TableRow</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">TableLayout</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="https://s2.ax1x.com/2019/10/30/K4vwWT.png" alt="K4vwWT.png"></p>
<p>直接添加TableRow占用一行第二表格中间的按钮只对指定的按钮设置collapseColumns=‘1’，进行隐藏。</p>
<h3 id="帧-FrameLayout-布局"><a href="#帧-FrameLayout-布局" class="headerlink" title="帧(FrameLayout)布局"></a>帧(FrameLayout)布局</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">FrameLayout</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">          <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">          <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span>&gt;</span>&gt;</span><br><span class="line">   <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:id</span>=<span class="string">"@+id/view01"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_gravity</span>=<span class="string">"center"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:width</span>=<span class="string">"160pt"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:height</span>=<span class="string">"160pt"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:background</span>=<span class="string">"#f00"</span>/&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:id</span>=<span class="string">"@+id/view02"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_gravity</span>=<span class="string">"center"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:width</span>=<span class="string">"140pt"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:height</span>=<span class="string">"140pt"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:background</span>=<span class="string">"#0f0"</span>/&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:id</span>=<span class="string">"@+id/view03"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_gravity</span>=<span class="string">"center"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:width</span>=<span class="string">"120pt"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:height</span>=<span class="string">"120pt"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:background</span>=<span class="string">"#00f"</span>/&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:id</span>=<span class="string">"@+id/view04"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_gravity</span>=<span class="string">"center"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:width</span>=<span class="string">"100pt"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:height</span>=<span class="string">"100pt"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:background</span>=<span class="string">"#ff0"</span>/&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:id</span>=<span class="string">"@+id/view05"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_gravity</span>=<span class="string">"center"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:width</span>=<span class="string">"80pt"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:height</span>=<span class="string">"80pt"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:background</span>=<span class="string">"#f0f"</span>/&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:id</span>=<span class="string">"@+id/view06"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_gravity</span>=<span class="string">"center"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:width</span>=<span class="string">"60pt"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:height</span>=<span class="string">"60pt"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:background</span>=<span class="string">"#0ff"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">FrameLayout</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="https://s2.ax1x.com/2019/10/30/K4vaF0.png" alt="K4vaF0.png"></p>
<p>使用每0.2秒更换一次任务，每一种颜色设置其对应的pt参数</p>
<h3 id="相对-RelativeLayout-布局"><a href="#相对-RelativeLayout-布局" class="headerlink" title="相对(RelativeLayout)布局"></a>相对(RelativeLayout)布局</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">RelativeLayout</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span>&gt;</span></span><br><span class="line">   <span class="comment">&lt;!-- 定义该组件位于父容器中间 --&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:id</span>=<span class="string">"@+id/view01"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:background</span>=<span class="string">"@drawable/leaf"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_centerInParent</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:id</span>=<span class="string">"@+id/view02"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:background</span>=<span class="string">"@drawable/leaf"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_above</span>=<span class="string">"@id/view01"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_alignLeft</span>=<span class="string">"@id/view01"</span>/&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:id</span>=<span class="string">"@+id/view03"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:background</span>=<span class="string">"@drawable/leaf"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_below</span>=<span class="string">"@id/view01"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_alignLeft</span>=<span class="string">"@id/view01"</span>/&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:id</span>=<span class="string">"@+id/view04"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:background</span>=<span class="string">"@drawable/leaf"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_toLeftOf</span>=<span class="string">"@id/view01"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_alignTop</span>=<span class="string">"@id/view01"</span>/&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:id</span>=<span class="string">"@+id/view05"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:background</span>=<span class="string">"@drawable/leaf"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_toRightOf</span>=<span class="string">"@id/view01"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_alignTop</span>=<span class="string">"@id/view01"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">RelativeLayout</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="https://s2.ax1x.com/2019/10/30/K4vDlF.png" alt="K4vDlF.png"></p>
<p>使用android:layout_xxx控制图片组件的相对位置</p>
<h3 id="网格-GridLayout-布局"><a href="#网格-GridLayout-布局" class="headerlink" title="网格(GridLayout)布局"></a>网格(GridLayout)布局</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8" ?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">GridLayout</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:rowCount</span>=<span class="string">"6"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:columnCount</span>=<span class="string">"4"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:id</span>=<span class="string">"@+id/root"</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_columnSpan</span>=<span class="string">"4"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:textSize</span>=<span class="string">"50sp"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_marginLeft</span>=<span class="string">"2pt"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_marginRight</span>=<span class="string">"2pt"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:padding</span>=<span class="string">"3pt"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_gravity</span>=<span class="string">"right"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:background</span>=<span class="string">"#eee"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:textColor</span>=<span class="string">"#000"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:text</span>=<span class="string">"0"</span>/&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_columnSpan</span>=<span class="string">"4"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:text</span>=<span class="string">"清除"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">GridLayout</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="https://s2.ax1x.com/2019/10/30/K4vBSU.png" alt="K4vBSU.png"></p>
<p>定义6*4的组件样式，采用循环向布局添加16个按钮，四其自动填充单元格所有空间</p>
<p>绝对(AbsoluteLayout)布局</p>
<p><img src="https://s2.ax1x.com/2019/10/30/K4vry4.png" alt="K4vry4.png"></p>
<p>使用px,dip,dp,sp,in,mm,pt对坐标进行自定义设置</p>
<h2 id="控件"><a href="#控件" class="headerlink" title="控件"></a>控件</h2><h3 id="TextView类"><a href="#TextView类" class="headerlink" title="TextView类"></a>TextView类</h3><p>TextView（文本视图）<br>drawable/bg_border.xml</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">shape</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span>&gt;</span></span><br><span class="line">   <span class="comment">&lt;!-- 设置背景色为透明色 --&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">solid</span> <span class="attr">android:color</span>=<span class="string">"#0000"</span>/&gt;</span></span><br><span class="line">   <span class="comment">&lt;!-- 设置红色边框 --&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">stroke</span> <span class="attr">android:width</span>=<span class="string">"4px"</span> <span class="attr">android:color</span>=<span class="string">"#f00"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">shape</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>drawable/bg_border2.xml</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">shape</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:shape</span>=<span class="string">"rectangle"</span>&gt;</span></span><br><span class="line">      <span class="comment">&lt;!-- 指定圆角矩形的4个圆角的半径 --&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">corners</span> <span class="attr">android:topLeftRadius</span>=<span class="string">"20px"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:topRightRadius</span>=<span class="string">"5px"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:bottomRightRadius</span>=<span class="string">"20px"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:bottomLeftRadius</span>=<span class="string">"5px"</span>/&gt;</span></span><br><span class="line">      <span class="comment">&lt;!-- 指定边框线条的宽度和颜色 --&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">stroke</span> <span class="attr">android:width</span>=<span class="string">"4px"</span> <span class="attr">android:color</span>=<span class="string">"#f0f"</span> /&gt;</span></span><br><span class="line">      <span class="comment">&lt;!-- 指定使用渐变背景色，使用sweep类型的渐变</span></span><br><span class="line"><span class="comment">      颜色从红色→绿色→蓝色 --&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">gradient</span> <span class="attr">android:startColor</span>=<span class="string">"#f00"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:centerColor</span>=<span class="string">"#0f0"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:endColor</span>=<span class="string">"#00f"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:type</span>=<span class="string">"sweep"</span>/&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">shape</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>layout/main.xml</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">LinearLayout</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">           <span class="attr">android:orientation</span>=<span class="string">"vertical"</span></span></span><br><span class="line"><span class="tag">           <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">           <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">   <span class="comment">&lt;!-- 设置字号为20pt，文本框结尾处绘制图片  --&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:text</span>=<span class="string">"Python"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:textSize</span>=<span class="string">"20pt"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:drawableEnd</span>=<span class="string">"@drawable/ic_launcher"</span>/&gt;</span></span><br><span class="line">   <span class="comment">&lt;!-- 设置中间省略，所有字母大写 --&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:singleLine</span>=<span class="string">"true"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:text</span>=<span class="string">"机器学习网络爬虫数据分析网络编程GUI"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:ellipsize</span>=<span class="string">"middle"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:textAllCaps</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line">   <span class="comment">&lt;!-- 对邮件、电话增加链接 --&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:singleLine</span>=<span class="string">"true"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:text</span>=<span class="string">"Github是https://github.com/zyhang8"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:autoLink</span>=<span class="string">"email|phone"</span>/&gt;</span></span><br><span class="line">   <span class="comment">&lt;!-- 设置文字颜色、大小，并使用阴影 --&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:text</span>=<span class="string">"Redis"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:shadowColor</span>=<span class="string">"#00f"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:shadowDx</span>=<span class="string">"10.0"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:shadowDy</span>=<span class="string">"8.0"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:shadowRadius</span>=<span class="string">"3.0"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:textColor</span>=<span class="string">"#f00"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:textSize</span>=<span class="string">"18pt"</span>/&gt;</span></span><br><span class="line">   <span class="comment">&lt;!-- 测试密码框 --&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">TextView</span> <span class="attr">android:id</span>=<span class="string">"@+id/passwd"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:text</span>=<span class="string">"mima"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:password</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">CheckedTextView</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:text</span>=<span class="string">"可勾选"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:checkMark</span>=<span class="string">"@drawable/ok"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">   <span class="comment">&lt;!-- 通过android:background指定背景 --&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:text</span>=<span class="string">"带边框"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:textSize</span>=<span class="string">"24pt"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:background</span>=<span class="string">"@drawable/bg_border"</span>/&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:text</span>=<span class="string">"圆角边框、渐变背景"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:textSize</span>=<span class="string">"24pt"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:background</span>=<span class="string">"@drawable/bg_border2"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="https://s2.ax1x.com/2019/10/30/K4vsOJ.png" alt="K4vsOJ.png"></p>
<p>该案例有设置不用颜色、字体、带链接的文本，阴影通过修改shadow参数，，哦，啊苹果修改password参数，勾选文本通过修改checkMark。带圆角边框的文本、渐变背景通过调用background进行渲染</p>
<h3 id="EditText-输入框"><a href="#EditText-输入框" class="headerlink" title="EditText(输入框)"></a>EditText(输入框)</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">TableLayout</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:stretchColumns</span>=<span class="string">"1"</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">TableRow</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:text</span>=<span class="string">"用户名:"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:textSize</span>=<span class="string">"16sp"</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">EditText</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:hint</span>=<span class="string">"请填写登录账号"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:selectAllOnFocus</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">TableRow</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">TableRow</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:text</span>=<span class="string">"密码:"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:textSize</span>=<span class="string">"16sp"</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">EditText</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:inputType</span>=<span class="string">"numberPassword"</span>/&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">TableRow</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">TableRow</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:text</span>=<span class="string">"年龄："</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:textSize</span>=<span class="string">"16sp"</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">EditText</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:inputType</span>=<span class="string">"number"</span>/&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">TableRow</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">TableRow</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:text</span>=<span class="string">"生日："</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:textSize</span>=<span class="string">"16sp"</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">EditText</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:inputType</span>=<span class="string">"date"</span>/&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">TableRow</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">TableRow</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:text</span>=<span class="string">"电话号码:"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:textSize</span>=<span class="string">"16sp"</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">EditText</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:hint</span>=<span class="string">"请填写您的电话号码"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:selectAllOnFocus</span>=<span class="string">"true"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:inputType</span>=<span class="string">"phone"</span>/&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">TableRow</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:text</span>=<span class="string">"注册"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">TableLayout</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="https://s2.ax1x.com/2019/10/30/K4v6m9.png" alt="K4v6m9.png"></p>
<p>通过hint参数指定文本框的提示信息，inputType参数设置各种格式使该文本框只接受某种格式的填写，比如密码只能数字密码，电话只能数字，用户名可以任意字符</p>
<h3 id="Button（按钮）"><a href="#Button（按钮）" class="headerlink" title="Button（按钮）"></a>Button（按钮）</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">LinearLayout</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:orientation</span>=<span class="string">"vertical"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span>&gt;</span></span><br><span class="line">   <span class="comment">&lt;!-- 文字带阴影的按钮 --&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:text</span>=<span class="string">"文字带阴影"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:textSize</span>=<span class="string">"12pt"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:shadowColor</span>=<span class="string">"#aa5"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:shadowRadius</span>=<span class="string">"1"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:shadowDx</span>=<span class="string">"5"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:shadowDy</span>=<span class="string">"5"</span>/&gt;</span></span><br><span class="line">   <span class="comment">&lt;!-- 普通文字按钮 --&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:background</span>=<span class="string">"@drawable/red"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:text</span>=<span class="string">"普通按钮"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:textSize</span>=<span class="string">"10pt"</span>/&gt;</span></span><br><span class="line">   <span class="comment">&lt;!-- 带文字的图片按钮--&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:background</span>=<span class="string">"@drawable/button_selector"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:textSize</span>=<span class="string">"11px"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:text</span>=<span class="string">"带图片按钮"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="https://s2.ax1x.com/2019/10/30/K4vcwR.png" alt="K4vcwR.png"></p>
<p>通过指定background属性为按钮增加背景颜色或背景图片吗</p>
<h3 id="RadioButton（单选钮）-amp-CheckBox（复选框）"><a href="#RadioButton（单选钮）-amp-CheckBox（复选框）" class="headerlink" title="RadioButton（单选钮）&amp;CheckBox（复选框）"></a>RadioButton（单选钮）&amp;CheckBox（复选框）</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.crazyit.ui;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.app.Activity;</span><br><span class="line"><span class="keyword">import</span> android.os.Bundle;</span><br><span class="line"><span class="keyword">import</span> android.view.Menu;</span><br><span class="line"><span class="keyword">import</span> android.view.MenuItem;</span><br><span class="line"><span class="keyword">import</span> android.widget.RadioGroup;</span><br><span class="line"><span class="keyword">import</span> android.widget.TextView;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">Activity</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">   RadioGroup rg;</span><br><span class="line">   TextView show;</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">      setContentView(R.layout.main);</span><br><span class="line">      <span class="comment">// 获取界面上rg、show两个组件</span></span><br><span class="line">      rg = (RadioGroup) findViewById(R.id.rg);</span><br><span class="line">      show = (TextView) findViewById(R.id.show);</span><br><span class="line">      <span class="comment">// 为RadioGroup组件的OnCheckedChange事件绑定事件监听器</span></span><br><span class="line">      rg.setOnCheckedChangeListener(<span class="keyword">new</span> RadioGroup.OnCheckedChangeListener()</span><br><span class="line">      &#123;</span><br><span class="line">         <span class="meta">@Override</span></span><br><span class="line">         <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCheckedChanged</span><span class="params">(RadioGroup group, <span class="keyword">int</span> checkedId)</span></span></span><br><span class="line"><span class="function">         </span>&#123;</span><br><span class="line">            <span class="comment">// 根据用户勾选的单选按钮来动态改变tip字符串的值</span></span><br><span class="line">            String tip = checkedId == R.id.male ?</span><br><span class="line">                  <span class="string">"您的性别是男人"</span>: <span class="string">"您的性别是女人"</span>;</span><br><span class="line">            <span class="comment">// 修改show组件中的文本</span></span><br><span class="line">            show.setText(tip);</span><br><span class="line">         &#125;</span><br><span class="line">      &#125;);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">TableLayout</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">TableRow</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:text</span>=<span class="string">"性别:"</span>/&gt;</span></span><br><span class="line">      <span class="comment">&lt;!-- 定义一组单选按钮 --&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">RadioGroup</span> <span class="attr">android:id</span>=<span class="string">"@+id/rg"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:orientation</span>=<span class="string">"horizontal"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_gravity</span>=<span class="string">"center_horizontal"</span>&gt;</span></span><br><span class="line">         <span class="comment">&lt;!-- 定义两个单选按钮 --&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">RadioButton</span> <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">                   <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">                   <span class="attr">android:id</span>=<span class="string">"@+id/male"</span></span></span><br><span class="line"><span class="tag">                   <span class="attr">android:text</span>=<span class="string">"男"</span></span></span><br><span class="line"><span class="tag">                   <span class="attr">android:checked</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">RadioButton</span> <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">                   <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">                   <span class="attr">android:id</span>=<span class="string">"@+id/female"</span></span></span><br><span class="line"><span class="tag">                   <span class="attr">android:text</span>=<span class="string">"女"</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">RadioGroup</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">TableRow</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">TableRow</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:text</span>=<span class="string">"喜欢的颜色:"</span>/&gt;</span></span><br><span class="line">      <span class="comment">&lt;!-- 定义一个垂直的线性布局 --&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">LinearLayout</span> <span class="attr">android:layout_gravity</span>=<span class="string">"center_horizontal"</span></span></span><br><span class="line"><span class="tag">                 <span class="attr">android:orientation</span>=<span class="string">"vertical"</span></span></span><br><span class="line"><span class="tag">                 <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">                 <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span>&gt;</span></span><br><span class="line">         <span class="comment">&lt;!-- 定义三个复选框 --&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">CheckBox</span> <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">                 <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">                 <span class="attr">android:text</span>=<span class="string">"红色"</span></span></span><br><span class="line"><span class="tag">                 <span class="attr">android:checked</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">CheckBox</span> <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">                 <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">                 <span class="attr">android:text</span>=<span class="string">"蓝色"</span>/&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">CheckBox</span> <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">                 <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">                 <span class="attr">android:text</span>=<span class="string">"绿色"</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">TableRow</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:id</span>=<span class="string">"@+id/show"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">TableLayout</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="https://s2.ax1x.com/2019/10/30/K4v5lD.png" alt="K4v5lD.png"></p>
<p>通过定义单选钮，并默认勾选第一个单选钮，定义三个复选钮供用户选择喜欢的颜色。另外，设置时间监听器监听单选钮勾选状态的改变</p>
<h3 id="ToggleButton（开关按钮）-amp-Switch（开关）"><a href="#ToggleButton（开关按钮）-amp-Switch（开关）" class="headerlink" title="ToggleButton（开关按钮）&amp;Switch（开关）"></a>ToggleButton（开关按钮）&amp;Switch（开关）</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">LinearLayout</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:orientation</span>=<span class="string">"vertical"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span>&gt;</span></span><br><span class="line">   <span class="comment">&lt;!-- 定义一个ToggleButton按钮 --&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">ToggleButton</span> <span class="attr">android:id</span>=<span class="string">"@+id/toggle"</span></span></span><br><span class="line"><span class="tag">              <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">              <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">              <span class="attr">android:textOff</span>=<span class="string">"横向"</span></span></span><br><span class="line"><span class="tag">              <span class="attr">android:textOn</span>=<span class="string">"纵向"</span></span></span><br><span class="line"><span class="tag">              <span class="attr">android:checked</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">Switch</span> <span class="attr">android:id</span>=<span class="string">"@+id/switcher"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:textOff</span>=<span class="string">"横向"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:textOn</span>=<span class="string">"纵向"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:thumb</span>=<span class="string">"@drawable/check"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:checked</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line">   <span class="comment">&lt;!-- 定义一个可以动态改变方向的线性布局 --&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">LinearLayout</span> <span class="attr">android:id</span>=<span class="string">"@+id/test"</span></span></span><br><span class="line"><span class="tag">              <span class="attr">android:orientation</span>=<span class="string">"vertical"</span></span></span><br><span class="line"><span class="tag">              <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">              <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:text</span>=<span class="string">"一"</span></span></span><br><span class="line"><span class="tag">         /&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:text</span>=<span class="string">"二"</span></span></span><br><span class="line"><span class="tag">         /&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:text</span>=<span class="string">"三"</span></span></span><br><span class="line"><span class="tag">         /&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.crazyit.ui;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.app.Activity;</span><br><span class="line"><span class="keyword">import</span> android.os.Bundle;</span><br><span class="line"><span class="keyword">import</span> android.view.Menu;</span><br><span class="line"><span class="keyword">import</span> android.view.MenuItem;</span><br><span class="line"><span class="keyword">import</span> android.widget.CompoundButton;</span><br><span class="line"><span class="keyword">import</span> android.widget.CompoundButton.OnCheckedChangeListener;</span><br><span class="line"><span class="keyword">import</span> android.widget.LinearLayout;</span><br><span class="line"><span class="keyword">import</span> android.widget.Switch;</span><br><span class="line"><span class="keyword">import</span> android.widget.ToggleButton;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">Activity</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">   ToggleButton toggle;</span><br><span class="line">   Switch switcher;</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">      setContentView(R.layout.main);</span><br><span class="line">      toggle = (ToggleButton)findViewById(R.id.toggle);</span><br><span class="line">      switcher = (Switch)findViewById(R.id.switcher);</span><br><span class="line">      <span class="keyword">final</span> LinearLayout test = (LinearLayout)findViewById(R.id.test);</span><br><span class="line">      OnCheckedChangeListener listener = <span class="keyword">new</span> OnCheckedChangeListener()</span><br><span class="line">      &#123;</span><br><span class="line">         <span class="meta">@Override</span></span><br><span class="line">         <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCheckedChanged</span><span class="params">(CompoundButton button</span></span></span><br><span class="line"><span class="function"><span class="params">            , <span class="keyword">boolean</span> isChecked)</span></span></span><br><span class="line"><span class="function">         </span>&#123;</span><br><span class="line">            <span class="keyword">if</span>(isChecked)</span><br><span class="line">            &#123;</span><br><span class="line">               <span class="comment">// 设置LinearLayout垂直布局</span></span><br><span class="line">               test.setOrientation(<span class="number">1</span>);</span><br><span class="line">               toggle.setChecked(<span class="keyword">true</span>);</span><br><span class="line">               switcher.setChecked(<span class="keyword">true</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">               <span class="comment">// 设置LinearLayout水平布局</span></span><br><span class="line">               test.setOrientation(<span class="number">0</span>);</span><br><span class="line">               toggle.setChecked(<span class="keyword">false</span>);</span><br><span class="line">               switcher.setChecked(<span class="keyword">false</span>);</span><br><span class="line">            &#125;</span><br><span class="line">         &#125;</span><br><span class="line">      &#125;;</span><br><span class="line">      toggle.setOnCheckedChangeListener(listener);</span><br><span class="line">      switcher.setOnCheckedChangeListener(listener);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://s2.ax1x.com/2019/10/30/K4vgT1.png" alt="K4vgT1.png"></p>
<p><img src="https://s2.ax1x.com/2019/10/30/K4vRFx.png" alt="K4vRFx.png"><br>默认采用垂直方向的线性布局，通过ToggleButton按钮，Switch按钮绑定监听器，选中状态改变是，布局方向随之改变</p>
<h3 id="AnalogClock和TextClock（时钟）"><a href="#AnalogClock和TextClock（时钟）" class="headerlink" title="AnalogClock和TextClock（时钟）"></a>AnalogClock和TextClock（时钟）</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">LinearLayout</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:orientation</span>=<span class="string">"vertical"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:gravity</span>=<span class="string">"center_horizontal"</span>&gt;</span></span><br><span class="line">   <span class="comment">&lt;!-- 定义模拟时钟 --&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">AnalogClock</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span>/&gt;</span></span><br><span class="line">   <span class="comment">&lt;!-- 定义数字时钟 --&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">TextClock</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:textSize</span>=<span class="string">"10pt"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:textColor</span>=<span class="string">"#f0f"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:format12Hour</span>=<span class="string">"yyyy年MM月dd日 H:mma EEEE"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:drawableEnd</span>=<span class="string">"@drawable/ic_launcher"</span>/&gt;</span></span><br><span class="line">   <span class="comment">&lt;!-- 定义模拟时钟，并使用自定义表盘、时针图片 --&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">AnalogClock</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:dial</span>=<span class="string">"@drawable/watch"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:hand_minute</span>=<span class="string">"@drawable/hand"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="https://s2.ax1x.com/2019/10/30/K4vWY6.png" alt="K4vWY6.png"></p>
<p>使用Activity显示界面布局，通过textSize,textColor等属性进行控制文本样式</p>
<h3 id="Chronometer（计时器）"><a href="#Chronometer（计时器）" class="headerlink" title="Chronometer（计时器）"></a>Chronometer（计时器）</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">LinearLayout</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:orientation</span>=<span class="string">"vertical"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:gravity</span>=<span class="string">"center_horizontal"</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">Chronometer</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:id</span>=<span class="string">"@+id/test"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:textSize</span>=<span class="string">"12pt"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:textColor</span>=<span class="string">"#ffff0000"</span>/&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:id</span>=<span class="string">"@+id/start"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:text</span>=<span class="string">"启动"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="https://s2.ax1x.com/2019/10/30/K4vffK.png" alt="K4vffK.png"></p>
<p><img src="https://s2.ax1x.com/2019/10/30/K4v4SO.png" alt="K4v4SO.png"></p>
<p>使用format属性用于指定计时器的几十个时，绑定时间监听器，但计时器改变是触发该监听器</p>
<h3 id="mageView类"><a href="#mageView类" class="headerlink" title="mageView类"></a>mageView类</h3><h3 id="ImageView（图片视图）"><a href="#ImageView（图片视图）" class="headerlink" title="ImageView（图片视图）"></a>ImageView（图片视图）</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">LinearLayout</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:orientation</span>=<span class="string">"vertical"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">LinearLayout</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:orientation</span>=<span class="string">"horizontal"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:gravity</span>=<span class="string">"center"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">Button</span> <span class="attr">android:id</span>=<span class="string">"@+id/plus"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:text</span>=<span class="string">"增大透明度"</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">Button</span> <span class="attr">android:id</span>=<span class="string">"@+id/minus"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:text</span>=<span class="string">"降低透明度"</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">Button</span> <span class="attr">android:id</span>=<span class="string">"@+id/next"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:text</span>=<span class="string">"下一张"</span>/&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br><span class="line">   <span class="comment">&lt;!-- 定义显示图片整体的ImageView --&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">ImageView</span> <span class="attr">android:id</span>=<span class="string">"@+id/image1"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"280dp"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:src</span>=<span class="string">"@drawable/shuangta"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:scaleType</span>=<span class="string">"fitCenter"</span>/&gt;</span></span><br><span class="line">   <span class="comment">&lt;!-- 定义显示图片局部细节的ImageView --&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">ImageView</span> <span class="attr">android:id</span>=<span class="string">"@+id/image2"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"120dp"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"120dp"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:background</span>=<span class="string">"#00f"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_margin</span>=<span class="string">"10dp"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.crazyit.ui;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.app.Activity;</span><br><span class="line"><span class="keyword">import</span> android.graphics.Bitmap;</span><br><span class="line"><span class="keyword">import</span> android.graphics.drawable.BitmapDrawable;</span><br><span class="line"><span class="keyword">import</span> android.os.Bundle;</span><br><span class="line"><span class="keyword">import</span> android.view.MotionEvent;</span><br><span class="line"><span class="keyword">import</span> android.view.View;</span><br><span class="line"><span class="keyword">import</span> android.widget.Button;</span><br><span class="line"><span class="keyword">import</span> android.widget.ImageView;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">Activity</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">   <span class="comment">// 定义一个访问图片的数组</span></span><br><span class="line">   <span class="keyword">int</span>[] images = <span class="keyword">new</span> <span class="keyword">int</span>[]&#123;</span><br><span class="line">         R.drawable.lijiang,</span><br><span class="line">         R.drawable.qiao,</span><br><span class="line">         R.drawable.shuangta,</span><br><span class="line">         R.drawable.shui,</span><br><span class="line">         R.drawable.xiangbi,</span><br><span class="line">   &#125;;</span><br><span class="line">   <span class="comment">// 定义默认显示的图片</span></span><br><span class="line">   <span class="keyword">int</span> currentImg = <span class="number">2</span>;</span><br><span class="line">   <span class="comment">// 定义图片的初始透明度</span></span><br><span class="line">   <span class="keyword">private</span> <span class="keyword">int</span> alpha = <span class="number">255</span>;</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">      setContentView(R.layout.main);</span><br><span class="line">      <span class="keyword">final</span> Button plus = (Button) findViewById(R.id.plus);</span><br><span class="line">      <span class="keyword">final</span> Button minus = (Button) findViewById(R.id.minus);</span><br><span class="line">      <span class="keyword">final</span> ImageView image1 = (ImageView) findViewById(R.id.image1);</span><br><span class="line">      <span class="keyword">final</span> ImageView image2 = (ImageView) findViewById(R.id.image2);</span><br><span class="line">      <span class="keyword">final</span> Button next = (Button) findViewById(R.id.next);</span><br><span class="line">      <span class="comment">// 定义查看下一张图片的监听器</span></span><br><span class="line">      next.setOnClickListener(<span class="keyword">new</span> View.OnClickListener()</span><br><span class="line">      &#123;</span><br><span class="line">         <span class="meta">@Override</span></span><br><span class="line">         <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View v)</span></span></span><br><span class="line"><span class="function">         </span>&#123;</span><br><span class="line">            <span class="comment">// 控制ImageView显示下一张图片</span></span><br><span class="line">            image1.setImageResource(</span><br><span class="line">                  images[++currentImg % images.length]);</span><br><span class="line">         &#125;</span><br><span class="line">      &#125;);</span><br><span class="line">      <span class="comment">// 定义改变图片透明度的方法</span></span><br><span class="line">      View.OnClickListener listener = <span class="keyword">new</span> View.OnClickListener()</span><br><span class="line">      &#123;</span><br><span class="line">         <span class="meta">@Override</span></span><br><span class="line">         <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View v)</span></span></span><br><span class="line"><span class="function">         </span>&#123;</span><br><span class="line">            <span class="keyword">if</span> (v == plus)</span><br><span class="line">            &#123;</span><br><span class="line">               alpha += <span class="number">20</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (v == minus)</span><br><span class="line">            &#123;</span><br><span class="line">               alpha -= <span class="number">20</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (alpha &gt;= <span class="number">255</span>)</span><br><span class="line">            &#123;</span><br><span class="line">               alpha = <span class="number">255</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (alpha &lt;= <span class="number">0</span>)</span><br><span class="line">            &#123;</span><br><span class="line">               alpha = <span class="number">0</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// 改变图片的透明度</span></span><br><span class="line">            image1.setImageAlpha(alpha);</span><br><span class="line">         &#125;</span><br><span class="line">      &#125;;</span><br><span class="line">      <span class="comment">// 为两个按钮添加监听器</span></span><br><span class="line">      plus.setOnClickListener(listener);</span><br><span class="line">      minus.setOnClickListener(listener);</span><br><span class="line">      image1.setOnTouchListener(<span class="keyword">new</span> View.OnTouchListener()</span><br><span class="line">      &#123;</span><br><span class="line">         <span class="meta">@Override</span></span><br><span class="line">         <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">onTouch</span><span class="params">(View view, MotionEvent event)</span></span></span><br><span class="line"><span class="function">         </span>&#123;</span><br><span class="line">            BitmapDrawable bitmapDrawable = (BitmapDrawable) image1</span><br><span class="line">                  .getDrawable();</span><br><span class="line">            <span class="comment">// 获取第一个图片显示框中的位图</span></span><br><span class="line">            Bitmap bitmap = bitmapDrawable.getBitmap();</span><br><span class="line">            System.out.println(bitmap.getWidth());</span><br><span class="line">            System.out.println(image1.getWidth());</span><br><span class="line">            <span class="comment">// bitmap图片实际大小与第一个ImageView的缩放比例</span></span><br><span class="line">            <span class="keyword">double</span> scale = <span class="number">1.0</span> * bitmap.getHeight() / image1.getHeight();</span><br><span class="line">            <span class="comment">// 获取需要显示的图片的开始点</span></span><br><span class="line">            <span class="keyword">int</span> x = (<span class="keyword">int</span>) (event.getX() * scale);</span><br><span class="line">            <span class="keyword">int</span> y = (<span class="keyword">int</span>) (event.getY() * scale);</span><br><span class="line">            <span class="keyword">if</span> (x + <span class="number">120</span> &gt; bitmap.getWidth())</span><br><span class="line">            &#123;</span><br><span class="line">               x = bitmap.getWidth() - <span class="number">120</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (y + <span class="number">120</span> &gt; bitmap.getHeight())</span><br><span class="line">            &#123;</span><br><span class="line">               y = bitmap.getHeight() - <span class="number">120</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// 显示图片的指定区域</span></span><br><span class="line">            image2.setImageBitmap(Bitmap.createBitmap(bitmap</span><br><span class="line">               , x, y, <span class="number">120</span>, <span class="number">120</span>));</span><br><span class="line">            image2.setImageAlpha(alpha);</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">         &#125;</span><br><span class="line">      &#125;);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://s2.ax1x.com/2019/10/30/K4vI6e.png" alt="K4vI6e.png"></p>
<p><img src="https://s2.ax1x.com/2019/10/30/K4voOH.png" alt="K4voOH.png"></p>
<p>使用setImageResource()进行动态修改图片样式，下一张则显示数组下一张图片，通过改变Alpha值来调整图片的透明度。通过Bitmap类来截取位图注定部分，返回行位图。但是运行后只有一片蓝屏，不知道哪里出错了</p>
<h3 id="ImageButton（图片按钮）"><a href="#ImageButton（图片按钮）" class="headerlink" title="ImageButton（图片按钮）"></a>ImageButton（图片按钮）</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">LinearLayout</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:orientation</span>=<span class="string">"vertical"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span>&gt;</span></span><br><span class="line">   <span class="comment">&lt;!-- 普通图片按钮 --&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">ImageButton</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:src</span>=<span class="string">"@drawable/blue"</span></span></span><br><span class="line"><span class="tag">      /&gt;</span></span><br><span class="line">   <span class="comment">&lt;!-- 按下时显示不同图片的按钮 --&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">ImageButton</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:src</span>=<span class="string">"@drawable/button_selector"</span></span></span><br><span class="line"><span class="tag">      /&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">LinearLayout</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:orientation</span>=<span class="string">"horizontal"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_margin</span>=<span class="string">"10sp"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_gravity</span>=<span class="string">"center_horizontal"</span>&gt;</span></span><br><span class="line">      <span class="comment">&lt;!-- 分别定义2个ZoomButton，并分别似乎用btn_minus和btn_plus图片 --&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">ZoomButton</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:id</span>=<span class="string">"@+id/btn_zoom_down"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:src</span>=<span class="string">"@android:drawable/btn_minus"</span> /&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">ZoomButton</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:id</span>=<span class="string">"@+id/btn_zoom_up"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:src</span>=<span class="string">"@android:drawable/btn_plus"</span> /&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br><span class="line">   <span class="comment">&lt;!-- 定义ZoomControls组件 --&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">ZoomControls</span> <span class="attr">android:id</span>=<span class="string">"@+id/zoomControls1"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_gravity</span>=<span class="string">"center_horizontal"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="https://s2.ax1x.com/2019/10/30/K4v7md.png" alt="K4v7md.png"></p>
<p>上面的Button为静态图片，下面的的Button组合了两张图片，点击是切换图片</p>
<h3 id="QucikContactBadge（图片按钮）"><a href="#QucikContactBadge（图片按钮）" class="headerlink" title="QucikContactBadge（图片按钮）"></a>QucikContactBadge（图片按钮）</h3><p>可以关联到手机中指定的联系人，点击图片会打开相应联系人的联系方式界面</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">LinearLayout</span></span></span><br><span class="line"><span class="tag">   <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">QuickContactBadge</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:id</span>=<span class="string">"@+id/badge"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:src</span>=<span class="string">"@drawable/purple"</span>/&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:textSize</span>=<span class="string">"16dp"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:text</span>=<span class="string">"zyhang"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.crazyit.ui;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.app.Activity;</span><br><span class="line"><span class="keyword">import</span> android.os.Bundle;</span><br><span class="line"><span class="keyword">import</span> android.widget.QuickContactBadge;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">Activity</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">   QuickContactBadge badge;</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">      setContentView(R.layout.main);</span><br><span class="line">      <span class="comment">// 获取QuickContactBadge组件</span></span><br><span class="line">      badge = (QuickContactBadge) findViewById(R.id.badge);</span><br><span class="line">      <span class="comment">// 将QuickContactBadge组件与特定电话号码对应的联系人建立关联</span></span><br><span class="line">      badge.assignContactFromPhone(<span class="string">"18621083837"</span>, <span class="keyword">false</span>);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://s2.ax1x.com/2019/10/30/K4vH0A.png" alt="K4vH0A.png"></p>
<p><img src="https://s2.ax1x.com/2019/10/30/K4vbTI.png" alt="K4vbTI.png"></p>
<p><img src="https://s2.ax1x.com/2019/10/30/K4vLkt.png" alt="K4vLkt.png"></p>
<p>通过QuickContactBadge控件与电话号码联系人建立关联，如果手机有号码则建立关联，没有的话新建号码</p>
<h3 id="AdapterView类"><a href="#AdapterView类" class="headerlink" title="AdapterView类"></a>AdapterView类</h3><h3 id="ListView（列表视图）-amp-ListActivity"><a href="#ListView（列表视图）-amp-ListActivity" class="headerlink" title="ListView（列表视图）&amp;ListActivity"></a>ListView（列表视图）&amp;ListActivity</h3><p>以垂直的形式显示所有列表项</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">LinearLayout</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:orientation</span>=<span class="string">"vertical"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span>&gt;</span></span><br><span class="line">   <span class="comment">&lt;!-- 直接使用数组资源给出列表项 --&gt;</span></span><br><span class="line">   <span class="comment">&lt;!-- 设置使用红色的分隔条 --&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">ListView</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:entries</span>=<span class="string">"@array/books"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:divider</span>=<span class="string">"#f00"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:dividerHeight</span>=<span class="string">"2px"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:headerDividersEnabled</span>=<span class="string">"false"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">resources</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">string-array</span> <span class="attr">name</span>=<span class="string">"books"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">item</span>&gt;</span>Python自动化运维<span class="tag">&lt;/<span class="name">item</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">item</span>&gt;</span>Python量化投资<span class="tag">&lt;/<span class="name">item</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">item</span>&gt;</span>Pthon数据科学<span class="tag">&lt;/<span class="name">item</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">item</span>&gt;</span>Python数据可视化<span class="tag">&lt;/<span class="name">item</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">string-array</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">resources</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="https://s2.ax1x.com/2019/10/30/K4vOtP.png" alt="K4vOtP.png"><br>通过entries指定了列表项数组，通过divider改变列表项之间的分隔条。定义数组资源来使用属性值</p>
<h3 id="Adapter接口及实现"><a href="#Adapter接口及实现" class="headerlink" title="Adapter接口及实现"></a>Adapter接口及实现</h3><p>Adapter派生了ListAdapter和SpinnerAdapter子接口，一个为AbsListView提供列表项，一个为AbsSpinnner提供列表项</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">LinearLayout</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:orientation</span>=<span class="string">"vertical"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">ListView</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:id</span>=<span class="string">"@+id/myList"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.crazyit.ui;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.app.Activity;</span><br><span class="line"><span class="keyword">import</span> android.graphics.Color;</span><br><span class="line"><span class="keyword">import</span> android.os.Bundle;</span><br><span class="line"><span class="keyword">import</span> android.view.Menu;</span><br><span class="line"><span class="keyword">import</span> android.view.MenuItem;</span><br><span class="line"><span class="keyword">import</span> android.view.View;</span><br><span class="line"><span class="keyword">import</span> android.view.ViewGroup;</span><br><span class="line"><span class="keyword">import</span> android.widget.BaseAdapter;</span><br><span class="line"><span class="keyword">import</span> android.widget.ImageView;</span><br><span class="line"><span class="keyword">import</span> android.widget.LinearLayout;</span><br><span class="line"><span class="keyword">import</span> android.widget.ListView;</span><br><span class="line"><span class="keyword">import</span> android.widget.TextView;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">Activity</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">   ListView myList;</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">      setContentView(R.layout.main);</span><br><span class="line">      myList = (ListView) findViewById(R.id.myList);</span><br><span class="line">      BaseAdapter adapter = <span class="keyword">new</span> BaseAdapter()</span><br><span class="line">      &#123;</span><br><span class="line">         <span class="meta">@Override</span></span><br><span class="line">         <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getCount</span><span class="params">()</span></span></span><br><span class="line"><span class="function">         </span>&#123;</span><br><span class="line">            <span class="comment">// 指定一共包含40个选项</span></span><br><span class="line">            <span class="keyword">return</span> <span class="number">40</span>;</span><br><span class="line">         &#125;</span><br><span class="line">         <span class="meta">@Override</span></span><br><span class="line">         <span class="function"><span class="keyword">public</span> Object <span class="title">getItem</span><span class="params">(<span class="keyword">int</span> position)</span></span></span><br><span class="line"><span class="function">         </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">         &#125;</span><br><span class="line">         <span class="comment">// 重写该方法，该方法的返回值将作为列表项的ID</span></span><br><span class="line">         <span class="meta">@Override</span></span><br><span class="line">         <span class="function"><span class="keyword">public</span> <span class="keyword">long</span> <span class="title">getItemId</span><span class="params">(<span class="keyword">int</span> position)</span></span></span><br><span class="line"><span class="function">         </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> position;</span><br><span class="line">         &#125;</span><br><span class="line">         <span class="comment">// 重写该方法，该方法返回的View将作为列表框</span></span><br><span class="line">         <span class="meta">@Override</span></span><br><span class="line">         <span class="function"><span class="keyword">public</span> View <span class="title">getView</span><span class="params">(<span class="keyword">int</span> position</span></span></span><br><span class="line"><span class="function"><span class="params">               , View convertView , ViewGroup parent)</span></span></span><br><span class="line"><span class="function">         </span>&#123;</span><br><span class="line">            <span class="comment">// 创建一个LinearLayout，并向其中添加两个组件</span></span><br><span class="line">            LinearLayout line = <span class="keyword">new</span> LinearLayout(MainActivity.<span class="keyword">this</span>);</span><br><span class="line">            line.setOrientation(<span class="number">0</span>);</span><br><span class="line">            ImageView image = <span class="keyword">new</span> ImageView(MainActivity.<span class="keyword">this</span>);</span><br><span class="line">            image.setImageResource(R.drawable.zyhang);</span><br><span class="line">            TextView text = <span class="keyword">new</span> TextView(MainActivity.<span class="keyword">this</span>);</span><br><span class="line">            text.setText(<span class="string">"第"</span> + (position +<span class="number">1</span> ) + <span class="string">"个一百天"</span>);</span><br><span class="line">            text.setTextSize(<span class="number">20</span>);</span><br><span class="line">            text.setTextColor(Color.RED);</span><br><span class="line">            line.addView(image);</span><br><span class="line">            line.addView(text);</span><br><span class="line">            <span class="comment">// 返回LinearLayout实例</span></span><br><span class="line">            <span class="keyword">return</span> line;</span><br><span class="line">         &#125;</span><br><span class="line">      &#125;;</span><br><span class="line">      myList.setAdapter(adapter);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://s2.ax1x.com/2019/10/30/K4vXff.png" alt="K4vXff.png"></p>
<p>扩展BaseAdapter来实现Adapter对象，使用getCount（）方法获取列表项的数量</p>
<h3 id="AutoCompleteTextView（自动完成文本框）"><a href="#AutoCompleteTextView（自动完成文本框）" class="headerlink" title="AutoCompleteTextView（自动完成文本框）"></a>AutoCompleteTextView（自动完成文本框）</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">LinearLayout</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:orientation</span>=<span class="string">"vertical"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span>&gt;</span></span><br><span class="line">   <span class="comment">&lt;!-- 定义一个自动完成文本框，</span></span><br><span class="line"><span class="comment">      指定输入一个字符后进行提示 --&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">AutoCompleteTextView</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:id</span>=<span class="string">"@+id/auto"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:completionHint</span>=<span class="string">"请选择您喜欢的领域："</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:dropDownHorizontalOffset</span>=<span class="string">"10dp"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:completionThreshold</span>=<span class="string">"1"</span>/&gt;</span></span><br><span class="line">   <span class="comment">&lt;!-- 定义一个MultiAutoCompleteTextView组件 --&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">MultiAutoCompleteTextView</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:id</span>=<span class="string">"@+id/mauto"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:completionThreshold</span>=<span class="string">"1"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.crazyit.ui;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.app.Activity;</span><br><span class="line"><span class="keyword">import</span> android.os.Bundle;</span><br><span class="line"><span class="keyword">import</span> android.view.Menu;</span><br><span class="line"><span class="keyword">import</span> android.view.MenuItem;</span><br><span class="line"><span class="keyword">import</span> android.widget.ArrayAdapter;</span><br><span class="line"><span class="keyword">import</span> android.widget.AutoCompleteTextView;</span><br><span class="line"><span class="keyword">import</span> android.widget.MultiAutoCompleteTextView;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">Activity</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">   AutoCompleteTextView actv;</span><br><span class="line">   MultiAutoCompleteTextView mauto;</span><br><span class="line">   <span class="comment">// 定义字符串数组，作为提示的文本</span></span><br><span class="line">   String[] books = <span class="keyword">new</span> String[]&#123;</span><br><span class="line">         <span class="string">"Python神经网络"</span>,</span><br><span class="line">         <span class="string">"Python量化投资"</span>,</span><br><span class="line">         <span class="string">"Python自动化运维"</span>,</span><br><span class="line">         <span class="string">"Python数据科学"</span></span><br><span class="line">   &#125;;</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">      setContentView(R.layout.main);</span><br><span class="line">      <span class="comment">// 创建一个ArrayAdapter，封装数组</span></span><br><span class="line">      ArrayAdapter&lt;String&gt; aa = <span class="keyword">new</span> ArrayAdapter&lt;String&gt;(<span class="keyword">this</span>,</span><br><span class="line">            android.R.layout.simple_dropdown_item_1line, books);</span><br><span class="line">      actv = (AutoCompleteTextView)findViewById(R.id.auto);</span><br><span class="line">      <span class="comment">// 设置Adapter</span></span><br><span class="line">      actv.setAdapter(aa);</span><br><span class="line">      mauto = (MultiAutoCompleteTextView)findViewById(R.id.mauto);</span><br><span class="line">      <span class="comment">// 设置Adapter</span></span><br><span class="line">      mauto.setAdapter(aa);</span><br><span class="line">      <span class="comment">// 为MultiAutoCompleteTextView设置分隔符</span></span><br><span class="line">      mauto.setTokenizer(<span class="keyword">new</span> MultiAutoCompleteTextView.CommaTokenizer());</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://s2.ax1x.com/2019/10/30/K4vvp8.png" alt="K4vvp8.png"></p>
<p>使用AutoCompleteTextViewHR MultiAutoCompleteTextView，为他们那么绑定用一个Adapter提供提示文本</p>
<h3 id="GridView（网络视图）"><a href="#GridView（网络视图）" class="headerlink" title="GridView（网络视图）"></a>GridView（网络视图）</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">LinearLayout</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:orientation</span>=<span class="string">"vertical"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:gravity</span>=<span class="string">"center_horizontal"</span>&gt;</span></span><br><span class="line">   <span class="comment">&lt;!-- 定义一个GridView组件 --&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">GridView</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:id</span>=<span class="string">"@+id/grid01"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:horizontalSpacing</span>=<span class="string">"1pt"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:verticalSpacing</span>=<span class="string">"1pt"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:numColumns</span>=<span class="string">"4"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:gravity</span>=<span class="string">"center"</span>/&gt;</span></span><br><span class="line">   <span class="comment">&lt;!-- 定义一个ImageView组件 --&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">ImageView</span> <span class="attr">android:id</span>=<span class="string">"@+id/imageView"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"240dp"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"240dp"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_gravity</span>=<span class="string">"center_horizontal"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.crazyit.ui;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.app.Activity;</span><br><span class="line"><span class="keyword">import</span> android.os.Bundle;</span><br><span class="line"><span class="keyword">import</span> android.view.View;</span><br><span class="line"><span class="keyword">import</span> android.widget.AdapterView;</span><br><span class="line"><span class="keyword">import</span> android.widget.GridView;</span><br><span class="line"><span class="keyword">import</span> android.widget.ImageView;</span><br><span class="line"><span class="keyword">import</span> android.widget.SimpleAdapter;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">Activity</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">   GridView grid;</span><br><span class="line">   ImageView imageView;</span><br><span class="line">   <span class="keyword">int</span>[] imageIds = <span class="keyword">new</span> <span class="keyword">int</span>[]</span><br><span class="line">   &#123;</span><br><span class="line">      R.drawable.bomb5 , R.drawable.bomb6 , R.drawable.bomb7</span><br><span class="line">      , R.drawable.bomb8 , R.drawable.bomb9 , R.drawable.bomb10</span><br><span class="line">      , R.drawable.bomb11 , R.drawable.bomb12    , R.drawable.bomb13</span><br><span class="line">      , R.drawable.bomb14 , R.drawable.bomb15 , R.drawable.bomb16</span><br><span class="line">   &#125;;</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">      setContentView(R.layout.main);</span><br><span class="line">      <span class="comment">// 创建一个List对象，List对象的元素是Map</span></span><br><span class="line">      List&lt;Map&lt;String, Object&gt;&gt; listItems =</span><br><span class="line">            <span class="keyword">new</span> ArrayList&lt;Map&lt;String, Object&gt;&gt;();</span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; imageIds.length; i++)</span><br><span class="line">      &#123;</span><br><span class="line">         Map&lt;String, Object&gt; listItem = <span class="keyword">new</span> HashMap&lt;String, Object&gt;();</span><br><span class="line">         listItem.put(<span class="string">"image"</span>, imageIds[i]);</span><br><span class="line">         listItems.add(listItem);</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="comment">// 获取显示图片的ImageView</span></span><br><span class="line">      imageView = (ImageView) findViewById(R.id.imageView);</span><br><span class="line">      <span class="comment">// 创建一个SimpleAdapter</span></span><br><span class="line">      SimpleAdapter simpleAdapter = <span class="keyword">new</span> SimpleAdapter(<span class="keyword">this</span>,</span><br><span class="line">            listItems</span><br><span class="line">            <span class="comment">// 使用/layout/cell.xml文件作为界面布局</span></span><br><span class="line">            , R.layout.cell, <span class="keyword">new</span> String[] &#123; <span class="string">"image"</span> &#125;,</span><br><span class="line">            <span class="keyword">new</span> <span class="keyword">int</span>[] &#123; R.id.image1 &#125;);</span><br><span class="line">      grid = (GridView) findViewById(R.id.grid01);</span><br><span class="line">      <span class="comment">// 为GridView设置Adapter</span></span><br><span class="line">      grid.setAdapter(simpleAdapter);</span><br><span class="line">      <span class="comment">// 添加列表项被选中的监听器</span></span><br><span class="line">      grid.setOnItemSelectedListener(<span class="keyword">new</span> AdapterView.OnItemSelectedListener()</span><br><span class="line">      &#123;</span><br><span class="line">         <span class="meta">@Override</span></span><br><span class="line">         <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onItemSelected</span><span class="params">(AdapterView&lt;?&gt; parent, View view,</span></span></span><br><span class="line"><span class="function"><span class="params">            <span class="keyword">int</span> position, <span class="keyword">long</span> id)</span></span></span><br><span class="line"><span class="function">         </span>&#123;</span><br><span class="line">            <span class="comment">// 显示当前被选中的图片</span></span><br><span class="line">            imageView.setImageResource(imageIds[position]);</span><br><span class="line">         &#125;</span><br><span class="line">         <span class="meta">@Override</span></span><br><span class="line">         <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onNothingSelected</span><span class="params">(AdapterView&lt;?&gt; parent)</span></span></span><br><span class="line"><span class="function">         </span>&#123;</span><br><span class="line">         &#125;</span><br><span class="line">      &#125;);</span><br><span class="line">      <span class="comment">// 添加列表项被单击的监听器</span></span><br><span class="line">      grid.setOnItemClickListener(<span class="keyword">new</span> AdapterView.OnItemClickListener()</span><br><span class="line">      &#123;</span><br><span class="line">         <span class="meta">@Override</span></span><br><span class="line">         <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onItemClick</span><span class="params">(AdapterView&lt;?&gt; parent, View view,</span></span></span><br><span class="line"><span class="function"><span class="params">                           <span class="keyword">int</span> position, <span class="keyword">long</span> id)</span></span></span><br><span class="line"><span class="function">         </span>&#123;</span><br><span class="line">            <span class="comment">// 显示被单击的图片</span></span><br><span class="line">            imageView.setImageResource(imageIds[position]);</span><br><span class="line">         &#125;</span><br><span class="line">      &#125;);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://s2.ax1x.com/2019/10/30/K4xZ1U.png" alt="K4xZ1U.png"></p>
<p>定义GridView参数，使用SimpleAdapter作为GridView的Adapter对16个组件进行List集合</p>
<h3 id="ExpandableListView（可展开的列表组件）"><a href="#ExpandableListView（可展开的列表组件）" class="headerlink" title="ExpandableListView（可展开的列表组件）"></a>ExpandableListView（可展开的列表组件）</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.crazyit.ui;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.app.Activity;</span><br><span class="line"><span class="keyword">import</span> android.os.Bundle;</span><br><span class="line"><span class="keyword">import</span> android.view.Gravity;</span><br><span class="line"><span class="keyword">import</span> android.view.Menu;</span><br><span class="line"><span class="keyword">import</span> android.view.MenuItem;</span><br><span class="line"><span class="keyword">import</span> android.view.View;</span><br><span class="line"><span class="keyword">import</span> android.view.ViewGroup;</span><br><span class="line"><span class="keyword">import</span> android.widget.AbsListView;</span><br><span class="line"><span class="keyword">import</span> android.widget.BaseExpandableListAdapter;</span><br><span class="line"><span class="keyword">import</span> android.widget.ExpandableListAdapter;</span><br><span class="line"><span class="keyword">import</span> android.widget.ExpandableListView;</span><br><span class="line"><span class="keyword">import</span> android.widget.ImageView;</span><br><span class="line"><span class="keyword">import</span> android.widget.LinearLayout;</span><br><span class="line"><span class="keyword">import</span> android.widget.TextView;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">Activity</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">      setContentView(R.layout.main);</span><br><span class="line">      <span class="comment">//创建一个BaseExpandableListAdapter对象</span></span><br><span class="line">      ExpandableListAdapter adapter = <span class="keyword">new</span> BaseExpandableListAdapter()</span><br><span class="line">      &#123;</span><br><span class="line">         <span class="keyword">int</span>[] logos = <span class="keyword">new</span> <span class="keyword">int</span>[]</span><br><span class="line">         &#123;</span><br><span class="line">            R.drawable.p,</span><br><span class="line">            R.drawable.z,</span><br><span class="line">            R.drawable.t</span><br><span class="line">         &#125;;</span><br><span class="line">         <span class="keyword">private</span> String[] armTypes = <span class="keyword">new</span> String[]</span><br><span class="line">            &#123; <span class="string">"神族兵种"</span>, <span class="string">"虫族兵种"</span>, <span class="string">"人族兵种"</span>&#125;;</span><br><span class="line">         <span class="keyword">private</span> String[][] arms = <span class="keyword">new</span> String[][]</span><br><span class="line">            &#123;</span><br><span class="line">               &#123; <span class="string">"狂战士"</span>, <span class="string">"龙骑士"</span>, <span class="string">"黑暗圣堂"</span>, <span class="string">"电兵"</span> &#125;,</span><br><span class="line">               &#123; <span class="string">"小狗"</span>, <span class="string">"刺蛇"</span>, <span class="string">"飞龙"</span>, <span class="string">"自爆飞机"</span> &#125;,</span><br><span class="line">               &#123; <span class="string">"机枪兵"</span>, <span class="string">"护士MM"</span> , <span class="string">"幽灵"</span> &#125;</span><br><span class="line">            &#125;;</span><br><span class="line">         <span class="comment">// 获取指定组位置、指定子列表项处的子列表项数据</span></span><br><span class="line">         <span class="meta">@Override</span></span><br><span class="line">         <span class="function"><span class="keyword">public</span> Object <span class="title">getChild</span><span class="params">(<span class="keyword">int</span> groupPosition, <span class="keyword">int</span> childPosition)</span></span></span><br><span class="line"><span class="function">         </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> arms[groupPosition][childPosition];</span><br><span class="line">         &#125;</span><br><span class="line">         <span class="meta">@Override</span></span><br><span class="line">         <span class="function"><span class="keyword">public</span> <span class="keyword">long</span> <span class="title">getChildId</span><span class="params">(<span class="keyword">int</span> groupPosition, <span class="keyword">int</span> childPosition)</span></span></span><br><span class="line"><span class="function">         </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> childPosition;</span><br><span class="line">         &#125;</span><br><span class="line">         <span class="meta">@Override</span></span><br><span class="line">         <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getChildrenCount</span><span class="params">(<span class="keyword">int</span> groupPosition)</span></span></span><br><span class="line"><span class="function">         </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> arms[groupPosition].length;</span><br><span class="line">         &#125;</span><br><span class="line">         <span class="function"><span class="keyword">private</span> TextView <span class="title">getTextView</span><span class="params">()</span></span></span><br><span class="line"><span class="function">         </span>&#123;</span><br><span class="line">            AbsListView.LayoutParams lp = <span class="keyword">new</span> AbsListView.LayoutParams(</span><br><span class="line">                  ViewGroup.LayoutParams.MATCH_PARENT, <span class="number">64</span>);</span><br><span class="line">            TextView textView = <span class="keyword">new</span> TextView(MainActivity.<span class="keyword">this</span>);</span><br><span class="line">            textView.setLayoutParams(lp);</span><br><span class="line">            textView.setGravity(Gravity.CENTER_VERTICAL | Gravity.LEFT);</span><br><span class="line">            textView.setPadding(<span class="number">36</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">            textView.setTextSize(<span class="number">10</span>);</span><br><span class="line">            <span class="keyword">return</span> textView;</span><br><span class="line">         &#125;</span><br><span class="line">         <span class="comment">// 该方法决定每个子选项的外观</span></span><br><span class="line">         <span class="meta">@Override</span></span><br><span class="line">         <span class="function"><span class="keyword">public</span> View <span class="title">getChildView</span><span class="params">(<span class="keyword">int</span> groupPosition, <span class="keyword">int</span> childPosition,</span></span></span><br><span class="line"><span class="function"><span class="params">            <span class="keyword">boolean</span> isLastChild, View convertView, ViewGroup parent)</span></span></span><br><span class="line"><span class="function">         </span>&#123;</span><br><span class="line">            TextView textView = getTextView();</span><br><span class="line">            textView.setText(getChild(groupPosition, childPosition)</span><br><span class="line">                  .toString());</span><br><span class="line">            <span class="keyword">return</span> textView;</span><br><span class="line">         &#125;</span><br><span class="line">         <span class="comment">// 获取指定组位置处的组数据</span></span><br><span class="line">         <span class="meta">@Override</span></span><br><span class="line">         <span class="function"><span class="keyword">public</span> Object <span class="title">getGroup</span><span class="params">(<span class="keyword">int</span> groupPosition)</span></span></span><br><span class="line"><span class="function">         </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> armTypes[groupPosition];</span><br><span class="line">         &#125;</span><br><span class="line">         <span class="meta">@Override</span></span><br><span class="line">         <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getGroupCount</span><span class="params">()</span></span></span><br><span class="line"><span class="function">         </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> armTypes.length;</span><br><span class="line">         &#125;</span><br><span class="line">         <span class="meta">@Override</span></span><br><span class="line">         <span class="function"><span class="keyword">public</span> <span class="keyword">long</span> <span class="title">getGroupId</span><span class="params">(<span class="keyword">int</span> groupPosition)</span></span></span><br><span class="line"><span class="function">         </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> groupPosition;</span><br><span class="line">         &#125;</span><br><span class="line">         <span class="comment">// 该方法决定每个组选项的外观</span></span><br><span class="line">         <span class="meta">@Override</span></span><br><span class="line">         <span class="function"><span class="keyword">public</span> View <span class="title">getGroupView</span><span class="params">(<span class="keyword">int</span> groupPosition, <span class="keyword">boolean</span> isExpanded,</span></span></span><br><span class="line"><span class="function"><span class="params">                            View convertView, ViewGroup parent)</span></span></span><br><span class="line"><span class="function">         </span>&#123;</span><br><span class="line">            LinearLayout ll = <span class="keyword">new</span> LinearLayout(MainActivity.<span class="keyword">this</span>);</span><br><span class="line">            ll.setOrientation(<span class="number">0</span>);</span><br><span class="line">            ImageView logo = <span class="keyword">new</span> ImageView(MainActivity.<span class="keyword">this</span>);</span><br><span class="line">            logo.setImageResource(logos[groupPosition]);</span><br><span class="line">            ll.addView(logo);</span><br><span class="line">            TextView textView = getTextView();</span><br><span class="line">            textView.setText(getGroup(groupPosition).toString());</span><br><span class="line">            ll.addView(textView);</span><br><span class="line">            <span class="keyword">return</span> ll;</span><br><span class="line">         &#125;</span><br><span class="line">         <span class="meta">@Override</span></span><br><span class="line">         <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isChildSelectable</span><span class="params">(<span class="keyword">int</span> groupPosition,</span></span></span><br><span class="line"><span class="function"><span class="params">                                  <span class="keyword">int</span> childPosition)</span></span></span><br><span class="line"><span class="function">         </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">         &#125;</span><br><span class="line">         <span class="meta">@Override</span></span><br><span class="line">         <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">hasStableIds</span><span class="params">()</span></span></span><br><span class="line"><span class="function">         </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">         &#125;</span><br><span class="line">      &#125;;</span><br><span class="line">      ExpandableListView expandListView = (ExpandableListView) findViewById(R.id.list);</span><br><span class="line">      expandListView.setAdapter(adapter);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://s2.ax1x.com/2019/10/30/K4vx1S.png" alt="K4vx1S.png"></p>
<p>扩展BaseExpandaBleListAdapter来实现ExpandableListAdapter，通过getChlidView()返回一个普通TextView()，因为每个子列表项都是一个普通的文本框，每个组列表项都是一由图片和文字组成。</p>
<h3 id="Spinner（列表选择框）"><a href="#Spinner（列表选择框）" class="headerlink" title="Spinner（列表选择框）"></a>Spinner（列表选择框）</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">LinearLayout</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:orientation</span>=<span class="string">"vertical"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span>&gt;</span></span><br><span class="line">   <span class="comment">&lt;!-- 定义了一个Spinner组件，</span></span><br><span class="line"><span class="comment">      指定显示该Spinner组件的数组 --&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">Spinner</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:entries</span>=<span class="string">"@array/books"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:prompt</span>=<span class="string">"@string/tip"</span>/&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">Spinner</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:id</span>=<span class="string">"@+id/spinner"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:prompt</span>=<span class="string">"@string/tip"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br><span class="line">values</span><br><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">resources</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">string-array</span> <span class="attr">name</span>=<span class="string">"books"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">item</span>&gt;</span>Axure RP<span class="tag">&lt;/<span class="name">item</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">item</span>&gt;</span>Mockplus<span class="tag">&lt;/<span class="name">item</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">item</span>&gt;</span>墨刀<span class="tag">&lt;/<span class="name">item</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">string-array</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">resources</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.crazyit.ui;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.app.Activity;</span><br><span class="line"><span class="keyword">import</span> android.os.Bundle;</span><br><span class="line"><span class="keyword">import</span> android.view.Menu;</span><br><span class="line"><span class="keyword">import</span> android.view.MenuItem;</span><br><span class="line"><span class="keyword">import</span> android.widget.ArrayAdapter;</span><br><span class="line"><span class="keyword">import</span> android.widget.Spinner;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">Activity</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">   Spinner spinner;</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">      setContentView(R.layout.main);</span><br><span class="line">      <span class="comment">// 获取界面布局文件中的Spinner组件</span></span><br><span class="line">      spinner = (Spinner) findViewById(R.id.spinner);</span><br><span class="line">      String[] arr = &#123; <span class="string">"Oracle"</span>, <span class="string">"Redis"</span>, <span class="string">"MongoDB"</span> &#125;;</span><br><span class="line">      <span class="comment">// 创建ArrayAdapter对象</span></span><br><span class="line">      ArrayAdapter&lt;String&gt; adapter = <span class="keyword">new</span> ArrayAdapter&lt;String&gt;(<span class="keyword">this</span>,</span><br><span class="line">         android.R.layout.simple_list_item_multiple_choice, arr);</span><br><span class="line">      <span class="comment">// 为Spinner设置Adapter</span></span><br><span class="line">      spinner.setAdapter(adapter);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://s2.ax1x.com/2019/10/30/K4vz6g.png" alt="K4vz6g.png"></p>
<p>Gallery与Spinner：前者是一个垂直的列表选择框，后者是一个水平的列表选择框；前者供用户选择，厚泽允许用户通过拖动来查看上一个/下一个列表项</p>
<h3 id="AdapterViewFlipper（图片轮播）"><a href="#AdapterViewFlipper（图片轮播）" class="headerlink" title="AdapterViewFlipper（图片轮播）"></a>AdapterViewFlipper（图片轮播）</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8" ?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">RelativeLayout</span></span></span><br><span class="line"><span class="tag">   <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">AdapterViewFlipper</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:id</span>=<span class="string">"@+id/flipper"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:flipInterval</span>=<span class="string">"5000"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_alignParentTop</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_alignParentBottom</span>=<span class="string">"true"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_alignParentLeft</span>=<span class="string">"true"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:onClick</span>=<span class="string">"prev"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:text</span>=<span class="string">"上一个"</span>/&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_alignParentBottom</span>=<span class="string">"true"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_centerHorizontal</span>=<span class="string">"true"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:onClick</span>=<span class="string">"next"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:text</span>=<span class="string">"下一个"</span>/&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_alignParentBottom</span>=<span class="string">"true"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_alignParentRight</span>=<span class="string">"true"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:onClick</span>=<span class="string">"auto"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:text</span>=<span class="string">"自动播放"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">RelativeLayout</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.crazyit.ui;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.app.Activity;</span><br><span class="line"><span class="keyword">import</span> android.os.Bundle;</span><br><span class="line"><span class="keyword">import</span> android.view.Menu;</span><br><span class="line"><span class="keyword">import</span> android.view.MenuItem;</span><br><span class="line"><span class="keyword">import</span> android.view.View;</span><br><span class="line"><span class="keyword">import</span> android.view.ViewGroup;</span><br><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> android.view.ViewGroup.LayoutParams;</span><br><span class="line"><span class="keyword">import</span> android.widget.AdapterViewFlipper;</span><br><span class="line"><span class="keyword">import</span> android.widget.BaseAdapter;</span><br><span class="line"><span class="keyword">import</span> android.widget.ImageView;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">Activity</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">   <span class="keyword">int</span>[] imageIds = <span class="keyword">new</span> <span class="keyword">int</span>[]</span><br><span class="line">   &#123;</span><br><span class="line">      R.drawable.shuangzi, R.drawable.shuangyu,</span><br><span class="line">      R.drawable.chunv, R.drawable.tiancheng, R.drawable.tianxie,</span><br><span class="line">      R.drawable.sheshou, R.drawable.juxie, R.drawable.shuiping,</span><br><span class="line">      R.drawable.shizi, R.drawable.baiyang, R.drawable.jinniu,</span><br><span class="line">      R.drawable.mojie &#125;;</span><br><span class="line">   <span class="keyword">private</span> AdapterViewFlipper flipper;</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">      setContentView(R.layout.main);</span><br><span class="line">      flipper = (AdapterViewFlipper) findViewById(R.id.flipper);</span><br><span class="line">      <span class="comment">// 创建一个BaseAdapter对象，该对象负责提供Gallery所显示的列表项</span></span><br><span class="line">      BaseAdapter adapter = <span class="keyword">new</span> BaseAdapter()</span><br><span class="line">      &#123;</span><br><span class="line">         <span class="meta">@Override</span></span><br><span class="line">         <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getCount</span><span class="params">()</span></span></span><br><span class="line"><span class="function">         </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> imageIds.length;</span><br><span class="line">         &#125;</span><br><span class="line">         <span class="meta">@Override</span></span><br><span class="line">         <span class="function"><span class="keyword">public</span> Object <span class="title">getItem</span><span class="params">(<span class="keyword">int</span> position)</span></span></span><br><span class="line"><span class="function">         </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> position;</span><br><span class="line">         &#125;</span><br><span class="line">         <span class="meta">@Override</span></span><br><span class="line">         <span class="function"><span class="keyword">public</span> <span class="keyword">long</span> <span class="title">getItemId</span><span class="params">(<span class="keyword">int</span> position)</span></span></span><br><span class="line"><span class="function">         </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> position;</span><br><span class="line">         &#125;</span><br><span class="line">         <span class="comment">// 该方法返回的View代表了每个列表项</span></span><br><span class="line">         <span class="meta">@Override</span></span><br><span class="line">         <span class="function"><span class="keyword">public</span> View <span class="title">getView</span><span class="params">(<span class="keyword">int</span> position, View convertView, ViewGroup parent)</span></span></span><br><span class="line"><span class="function">         </span>&#123;</span><br><span class="line">            <span class="comment">// 创建一个ImageView</span></span><br><span class="line">            ImageView imageView = <span class="keyword">new</span> ImageView(MainActivity.<span class="keyword">this</span>);</span><br><span class="line">            imageView.setImageResource(imageIds[position]);</span><br><span class="line">            <span class="comment">// 设置ImageView的缩放类型</span></span><br><span class="line">            imageView.setScaleType(ImageView.ScaleType.FIT_XY);</span><br><span class="line">            <span class="comment">// 为imageView设置布局参数</span></span><br><span class="line">            imageView.setLayoutParams(<span class="keyword">new</span> ViewGroup.LayoutParams(</span><br><span class="line">                  LayoutParams.MATCH_PARENT, LayoutParams.MATCH_PARENT));</span><br><span class="line">            <span class="keyword">return</span> imageView;</span><br><span class="line">         &#125;</span><br><span class="line">      &#125;;</span><br><span class="line">      flipper.setAdapter(adapter);</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">prev</span><span class="params">(View source)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      <span class="comment">// 显示上一个组件</span></span><br><span class="line">      flipper.showPrevious();</span><br><span class="line">      <span class="comment">// 停止自动播放</span></span><br><span class="line">      flipper.stopFlipping();</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">next</span><span class="params">(View source)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      <span class="comment">// 显示下一个组件。</span></span><br><span class="line">      flipper.showNext();</span><br><span class="line">      <span class="comment">// 停止自动播放</span></span><br><span class="line">      flipper.stopFlipping();</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">auto</span><span class="params">(View source)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      <span class="comment">// 开始自动播放</span></span><br><span class="line">      flipper.startFlipping();</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://s2.ax1x.com/2019/10/30/K4x9mj.png" alt="K4x9mj.png"></p>
<p>使用showPrevious()、showNext()来控制组件显示上一个、下一个组件，调用了startFlipping()方法控制自动播放</p>
<h3 id="StackView（堆叠视图）"><a href="#StackView（堆叠视图）" class="headerlink" title="StackView（堆叠视图）"></a>StackView（堆叠视图）</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">LinearLayout</span></span></span><br><span class="line"><span class="tag">   <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:orientation</span>=<span class="string">"horizontal"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">StackView</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:id</span>=<span class="string">"@+id/mStackView"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:loopViews</span>=<span class="string">"true"</span> /&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">LinearLayout</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:orientation</span>=<span class="string">"horizontal"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:text</span>=<span class="string">"上一个"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:onClick</span>=<span class="string">"prev"</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:text</span>=<span class="string">"下一个"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:onClick</span>=<span class="string">"next"</span>/&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.crazyit.ui;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.app.Activity;</span><br><span class="line"><span class="keyword">import</span> android.os.Bundle;</span><br><span class="line"><span class="keyword">import</span> android.view.View;</span><br><span class="line"><span class="keyword">import</span> android.widget.SimpleAdapter;</span><br><span class="line"><span class="keyword">import</span> android.widget.StackView;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">Activity</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">   StackView stackView;</span><br><span class="line">   <span class="keyword">int</span>[] imageIds = <span class="keyword">new</span> <span class="keyword">int</span>[]</span><br><span class="line">   &#123;</span><br><span class="line">      R.drawable.bomb5 , R.drawable.bomb6 , R.drawable.bomb7</span><br><span class="line">      , R.drawable.bomb8 , R.drawable.bomb9 , R.drawable.bomb10</span><br><span class="line">      , R.drawable.bomb11 , R.drawable.bomb12    , R.drawable.bomb13</span><br><span class="line">      , R.drawable.bomb14 , R.drawable.bomb15 , R.drawable.bomb16</span><br><span class="line">&#125;;</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">      setContentView(R.layout.main);</span><br><span class="line">      stackView = (StackView) findViewById(R.id.mStackView);</span><br><span class="line">      <span class="comment">// 创建一个List对象，List对象的元素是Map</span></span><br><span class="line">      List&lt;Map&lt;String, Object&gt;&gt; listItems =</span><br><span class="line">            <span class="keyword">new</span> ArrayList&lt;Map&lt;String, Object&gt;&gt;();</span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; imageIds.length; i++)</span><br><span class="line">      &#123;</span><br><span class="line">         Map&lt;String, Object&gt; listItem = <span class="keyword">new</span> HashMap&lt;String, Object&gt;();</span><br><span class="line">         listItem.put(<span class="string">"image"</span>, imageIds[i]);</span><br><span class="line">         listItems.add(listItem);</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="comment">// 创建一个SimpleAdapter</span></span><br><span class="line">      SimpleAdapter simpleAdapter = <span class="keyword">new</span> SimpleAdapter(<span class="keyword">this</span>,</span><br><span class="line">            listItems</span><br><span class="line">            <span class="comment">// 使用/layout/cell.xml文件作为界面布局</span></span><br><span class="line">            , R.layout.cell, <span class="keyword">new</span> String[] &#123; <span class="string">"image"</span> &#125;,</span><br><span class="line">            <span class="keyword">new</span> <span class="keyword">int</span>[] &#123; R.id.image1 &#125;);</span><br><span class="line">      stackView.setAdapter(simpleAdapter);</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">prev</span><span class="params">(View view)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      <span class="comment">// 显示上一个组件</span></span><br><span class="line">      stackView.showPrevious();</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">next</span><span class="params">(View view)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      <span class="comment">// 显示下一个组件</span></span><br><span class="line">      stackView.showNext();</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://s2.ax1x.com/2019/10/30/K4xSXQ.png" alt="K4xSXQ.png"></p>
<h3 id="渐变褪去效果"><a href="#渐变褪去效果" class="headerlink" title="渐变褪去效果"></a>渐变褪去效果</h3><p>创建SimpleAdapter并将SimpleAdapter设置为StackView的Adapter，则会显示一系列的组件。</p>
<h3 id="ProgressBar类"><a href="#ProgressBar类" class="headerlink" title="ProgressBar类"></a>ProgressBar类</h3><h3 id="ProgressBar（进度条）"><a href="#ProgressBar（进度条）" class="headerlink" title="ProgressBar（进度条）"></a>ProgressBar（进度条）</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">LinearLayout</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:orientation</span>=<span class="string">"vertical"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">LinearLayout</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:orientation</span>=<span class="string">"horizontal"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span>&gt;</span></span><br><span class="line">      <span class="comment">&lt;!-- 定义一个大环形进度条 --&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">ProgressBar</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">style</span>=<span class="string">"@android:style/Widget.ProgressBar.Large"</span>/&gt;</span></span><br><span class="line">      <span class="comment">&lt;!-- 定义一个中等大小的环形进度条 --&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">ProgressBar</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span>/&gt;</span></span><br><span class="line">      <span class="comment">&lt;!-- 定义一个小环形进度条 --&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">ProgressBar</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">style</span>=<span class="string">"@android:style/Widget.ProgressBar.Small"</span>/&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:text</span>=<span class="string">"任务完成的进度"</span>/&gt;</span></span><br><span class="line">   <span class="comment">&lt;!-- 定义一个水平进度条 --&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">ProgressBar</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:id</span>=<span class="string">"@+id/bar"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:max</span>=<span class="string">"100"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">style</span>=<span class="string">"@android:style/Widget.ProgressBar.Horizontal"</span>/&gt;</span></span><br><span class="line">   <span class="comment">&lt;!-- 定义一个水平进度条，并改变轨道外观 --&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">ProgressBar</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:id</span>=<span class="string">"@+id/bar2"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:max</span>=<span class="string">"100"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:progressDrawable</span>=<span class="string">"@drawable/my_bar"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">style</span>=<span class="string">"@android:style/Widget.ProgressBar.Horizontal"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">layer-list</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span>&gt;</span></span><br><span class="line">   <span class="comment">&lt;!-- 定义轨道的背景 --&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">item</span> <span class="attr">android:id</span>=<span class="string">"@android:id/background"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:drawable</span>=<span class="string">"@drawable/no"</span> /&gt;</span></span><br><span class="line">   <span class="comment">&lt;!-- 定义轨道上已完成部分的样式 --&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">item</span> <span class="attr">android:id</span>=<span class="string">"@android:id/progress"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:drawable</span>=<span class="string">"@drawable/ok"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">layer-list</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.crazyit.ui;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.app.Activity;</span><br><span class="line"><span class="keyword">import</span> android.os.Bundle;</span><br><span class="line"><span class="keyword">import</span> android.os.Handler;</span><br><span class="line"><span class="keyword">import</span> android.os.Message;</span><br><span class="line"><span class="keyword">import</span> android.view.Menu;</span><br><span class="line"><span class="keyword">import</span> android.view.MenuItem;</span><br><span class="line"><span class="keyword">import</span> android.widget.ProgressBar;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">Activity</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">   <span class="comment">// 该程序模拟填充长度为100的数组</span></span><br><span class="line">   <span class="keyword">private</span> <span class="keyword">int</span>[] data = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">100</span>];</span><br><span class="line">   <span class="keyword">int</span> hasData = <span class="number">0</span>;</span><br><span class="line">   <span class="comment">// 记录ProgressBar的完成进度</span></span><br><span class="line">   <span class="keyword">int</span> status = <span class="number">0</span>;</span><br><span class="line">   ProgressBar bar , bar2;</span><br><span class="line">   <span class="comment">// 创建一个负责更新的进度的Handler</span></span><br><span class="line">   Handler mHandler = <span class="keyword">new</span> Handler()</span><br><span class="line">   &#123;</span><br><span class="line">      <span class="meta">@Override</span></span><br><span class="line"></span><br><span class="line">      <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">handleMessage</span><span class="params">(Message msg)</span></span></span><br><span class="line"><span class="function">      </span>&#123;</span><br><span class="line">         <span class="comment">// 表明消息是由该程序发送的</span></span><br><span class="line">         <span class="keyword">if</span> (msg.what == <span class="number">0x111</span>)</span><br><span class="line">         &#123;</span><br><span class="line">            bar.setProgress(status);</span><br><span class="line">            bar2.setProgress(status);</span><br><span class="line">         &#125;</span><br><span class="line">      &#125;</span><br><span class="line">   &#125;;</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">      setContentView(R.layout.main);</span><br><span class="line">      bar = (ProgressBar) findViewById(R.id.bar);</span><br><span class="line">      bar2 = (ProgressBar) findViewById(R.id.bar2);</span><br><span class="line">      <span class="comment">// 启动线程来执行任务</span></span><br><span class="line">      <span class="keyword">new</span> Thread()</span><br><span class="line">      &#123;</span><br><span class="line">         <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span></span></span><br><span class="line"><span class="function">         </span>&#123;</span><br><span class="line">            <span class="keyword">while</span> (status &lt; <span class="number">100</span>)</span><br><span class="line">            &#123;</span><br><span class="line">               <span class="comment">// 获取耗时操作的完成百分比</span></span><br><span class="line">               status = doWork();</span><br><span class="line">               <span class="comment">// 发送消息</span></span><br><span class="line">               mHandler.sendEmptyMessage(<span class="number">0x111</span>);</span><br><span class="line">            &#125;</span><br><span class="line">         &#125;</span><br><span class="line">      &#125;.start();</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="comment">// 模拟一个耗时的操作</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">doWork</span><span class="params">()</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      <span class="comment">// 为数组元素赋值</span></span><br><span class="line">      data[hasData++] = (<span class="keyword">int</span>) (Math.random() * <span class="number">100</span>);</span><br><span class="line">      <span class="keyword">try</span></span><br><span class="line">      &#123;</span><br><span class="line">         Thread.sleep(<span class="number">100</span>);</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">catch</span> (InterruptedException e)</span><br><span class="line">      &#123;</span><br><span class="line">         e.printStackTrace();</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">return</span> hasData;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://s2.ax1x.com/2019/10/30/K4xC0s.png" alt="K4xC0s.png"></p>
<p>定义三个环形进度条和一个水平进度条， 通过修改进度完成进度来显示慢慢变满的进度条</p>
<h3 id="SeekBar（拖动条）"><a href="#SeekBar（拖动条）" class="headerlink" title="SeekBar（拖动条）"></a>SeekBar（拖动条）</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">LinearLayout</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:orientation</span>=<span class="string">"vertical"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">ImageView</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:id</span>=<span class="string">"@+id/image"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"240dp"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:src</span>=<span class="string">"@drawable/lijiang"</span>/&gt;</span></span><br><span class="line">   <span class="comment">&lt;!-- 定义一个拖动条，并改变它的滑块外观 --&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">SeekBar</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:id</span>=<span class="string">"@+id/seekbar"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:max</span>=<span class="string">"255"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:progress</span>=<span class="string">"255"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:thumb</span>=<span class="string">"@drawable/zyhang"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.crazyit.ui;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.app.Activity;</span><br><span class="line"><span class="keyword">import</span> android.os.Bundle;</span><br><span class="line"><span class="keyword">import</span> android.view.Menu;</span><br><span class="line"><span class="keyword">import</span> android.view.MenuItem;</span><br><span class="line"><span class="keyword">import</span> android.widget.ImageView;</span><br><span class="line"><span class="keyword">import</span> android.widget.SeekBar;</span><br><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> android.widget.SeekBar.OnSeekBarChangeListener;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">Activity</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">   ImageView image;</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">      setContentView(R.layout.main);</span><br><span class="line">      image = (ImageView) findViewById(R.id.image);</span><br><span class="line">      SeekBar seekBar = (SeekBar) findViewById(R.id.seekbar);</span><br><span class="line">      seekBar.setOnSeekBarChangeListener(<span class="keyword">new</span> OnSeekBarChangeListener()</span><br><span class="line">      &#123;</span><br><span class="line">         <span class="comment">// 当拖动条的滑块位置发生改变时触发该方法</span></span><br><span class="line">         <span class="meta">@Override</span></span><br><span class="line">         <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onProgressChanged</span><span class="params">(SeekBar arg0, <span class="keyword">int</span> progress,</span></span></span><br><span class="line"><span class="function"><span class="params">                                <span class="keyword">boolean</span> fromUser)</span></span></span><br><span class="line"><span class="function">         </span>&#123;</span><br><span class="line">            <span class="comment">// 动态改变图片的透明度</span></span><br><span class="line">            image.setImageAlpha(progress);</span><br><span class="line">         &#125;</span><br><span class="line">         <span class="meta">@Override</span></span><br><span class="line">         <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onStartTrackingTouch</span><span class="params">(SeekBar bar)</span></span></span><br><span class="line"><span class="function">         </span>&#123;</span><br><span class="line">         &#125;</span><br><span class="line">         <span class="meta">@Override</span></span><br><span class="line">         <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onStopTrackingTouch</span><span class="params">(SeekBar bar)</span></span></span><br><span class="line"><span class="function">         </span>&#123;</span><br><span class="line">         &#125;</span><br><span class="line">      &#125;);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://s2.ax1x.com/2019/10/30/K4xP7n.png" alt="K4xP7n.png"></p>
<p>ImageView用于显示图片，SeekBar用于动态改变图片的透明度，通过thumb来修改拖动条的外观，监听拖动条的滑动位置来修改透明度的数值</p>
<h3 id="RatingBar（星级评分条）"><a href="#RatingBar（星级评分条）" class="headerlink" title="RatingBar（星级评分条）"></a>RatingBar（星级评分条）</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">LinearLayout</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">           <span class="attr">android:orientation</span>=<span class="string">"vertical"</span></span></span><br><span class="line"><span class="tag">           <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">           <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">ImageView</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:id</span>=<span class="string">"@+id/image"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"240dp"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:src</span>=<span class="string">"@drawable/lijiang"</span>/&gt;</span></span><br><span class="line">   <span class="comment">&lt;!-- 定义一个星级评分条 --&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">RatingBar</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:id</span>=<span class="string">"@+id/rating"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:numStars</span>=<span class="string">"5"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:max</span>=<span class="string">"255"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:progress</span>=<span class="string">"255"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:stepSize</span>=<span class="string">"0.5"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.crazyit.ui;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.app.Activity;</span><br><span class="line"><span class="keyword">import</span> android.os.Bundle;</span><br><span class="line"><span class="keyword">import</span> android.view.Menu;</span><br><span class="line"><span class="keyword">import</span> android.view.MenuItem;</span><br><span class="line"><span class="keyword">import</span> android.widget.ImageView;</span><br><span class="line"><span class="keyword">import</span> android.widget.RatingBar;</span><br><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> android.widget.RatingBar.OnRatingBarChangeListener;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">Activity</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">   ImageView image;</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">      setContentView(R.layout.main);</span><br><span class="line">      image = (ImageView) findViewById(R.id.image);</span><br><span class="line">      RatingBar ratingBar = (RatingBar) findViewById(R.id.rating);</span><br><span class="line">      ratingBar.setOnRatingBarChangeListener(<span class="keyword">new</span> OnRatingBarChangeListener()</span><br><span class="line">      &#123;</span><br><span class="line">         <span class="comment">// 当星级评分条的评分发生改变时触发该方法</span></span><br><span class="line">         <span class="meta">@Override</span></span><br><span class="line">         <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onRatingChanged</span><span class="params">(RatingBar arg0, <span class="keyword">float</span> rating,</span></span></span><br><span class="line"><span class="function"><span class="params">                              <span class="keyword">boolean</span> fromUser)</span></span></span><br><span class="line"><span class="function">         </span>&#123;</span><br><span class="line">            <span class="comment">// 动态改变图片的透明度，其中255是星级评分条的最大值</span></span><br><span class="line">            <span class="comment">// 5个星星就代表最大值255</span></span><br><span class="line">            image.setImageAlpha((<span class="keyword">int</span>) (rating * <span class="number">255</span> / <span class="number">5</span>));</span><br><span class="line">         &#125;</span><br><span class="line">      &#125;);</span><br><span class="line"></span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://s2.ax1x.com/2019/10/30/K4xFkq.png" alt="K4xFkq.png"></p>
<p>在上一个程序中使用RayingBar，通过ProgressBar控制属性；绑定监听器监听星际评分条的星级改变</p>
<h3 id="ViewAnimator类"><a href="#ViewAnimator类" class="headerlink" title="ViewAnimator类"></a>ViewAnimator类</h3><h3 id="ViewSwitcher（图形切换）"><a href="#ViewSwitcher（图形切换）" class="headerlink" title="ViewSwitcher（图形切换）"></a>ViewSwitcher（图形切换）</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">RelativeLayout</span></span></span><br><span class="line"><span class="tag">   <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span>&gt;</span></span><br><span class="line">   <span class="comment">&lt;!-- 定义一个ViewSwitcher组件 --&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">ViewSwitcher</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:id</span>=<span class="string">"@+id/viewSwitcher"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span> /&gt;</span></span><br><span class="line">   <span class="comment">&lt;!-- 定义滚动到上一屏的按钮 --&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:id</span>=<span class="string">"@+id/button_prev"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_alignParentBottom</span>=<span class="string">"true"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_alignParentLeft</span>=<span class="string">"true"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:onClick</span>=<span class="string">"prev"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:text</span>=<span class="string">"&amp;lt;"</span> /&gt;</span></span><br><span class="line">   <span class="comment">&lt;!-- 定义滚动到下一屏的按钮 --&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:id</span>=<span class="string">"@+id/button_next"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_alignParentBottom</span>=<span class="string">"true"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_alignParentRight</span>=<span class="string">"true"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:onClick</span>=<span class="string">"next"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:text</span>=<span class="string">"&amp;gt;"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">RelativeLayout</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.crazyit.ui;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.app.Activity;</span><br><span class="line"><span class="keyword">import</span> android.graphics.drawable.Drawable;</span><br><span class="line"><span class="keyword">import</span> android.os.Bundle;</span><br><span class="line"><span class="keyword">import</span> android.view.LayoutInflater;</span><br><span class="line"><span class="keyword">import</span> android.view.Menu;</span><br><span class="line"><span class="keyword">import</span> android.view.MenuItem;</span><br><span class="line"><span class="keyword">import</span> android.view.View;</span><br><span class="line"><span class="keyword">import</span> android.view.ViewGroup;</span><br><span class="line"><span class="keyword">import</span> android.widget.BaseAdapter;</span><br><span class="line"><span class="keyword">import</span> android.widget.GridView;</span><br><span class="line"><span class="keyword">import</span> android.widget.ImageView;</span><br><span class="line"><span class="keyword">import</span> android.widget.TextView;</span><br><span class="line"><span class="keyword">import</span> android.widget.ViewSwitcher;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">Activity</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">   <span class="comment">// 定义一个常量，用于显示每屏显示的应用程序数</span></span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> NUMBER_PER_SCREEN = <span class="number">12</span>;</span><br><span class="line">   <span class="comment">// 代表应用程序的内部类，</span></span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">DataItem</span></span></span><br><span class="line"><span class="class">   </span>&#123;</span><br><span class="line">      <span class="comment">// 应用程序名称</span></span><br><span class="line">      <span class="keyword">public</span> String dataName;</span><br><span class="line">      <span class="comment">// 应用程序图标</span></span><br><span class="line">      <span class="keyword">public</span> Drawable drawable;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="comment">// 保存系统所有应用程序的List集合</span></span><br><span class="line">   <span class="keyword">private</span> ArrayList&lt;DataItem&gt; items = <span class="keyword">new</span> ArrayList&lt;DataItem&gt;();</span><br><span class="line">   <span class="comment">// 记录当前正在显示第几屏的程序</span></span><br><span class="line">   <span class="keyword">private</span> <span class="keyword">int</span> screenNo = -<span class="number">1</span>;</span><br><span class="line">   <span class="comment">// 保存程序所占的总屏数</span></span><br><span class="line">   <span class="keyword">private</span> <span class="keyword">int</span> screenCount;</span><br><span class="line">   ViewSwitcher switcher;</span><br><span class="line">   <span class="comment">// 创建LayoutInflater对象</span></span><br><span class="line">   LayoutInflater inflater;</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">      setContentView(R.layout.main);</span><br><span class="line">      inflater = LayoutInflater.from(MainActivity.<span class="keyword">this</span>);</span><br><span class="line">      <span class="comment">// 创建一个包含40个元素的List集合，用于模拟包含40个应用程序</span></span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">40</span>; i++)</span><br><span class="line">      &#123;</span><br><span class="line">         String label = <span class="string">""</span> + i;</span><br><span class="line">         Drawable drawable = getResources().getDrawable(</span><br><span class="line">               R.drawable.zyhang);</span><br><span class="line">         DataItem item = <span class="keyword">new</span> DataItem();</span><br><span class="line">         item.dataName = label;</span><br><span class="line">         item.drawable = drawable;</span><br><span class="line">         items.add(item);</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="comment">// 计算应用程序所占的总屏数</span></span><br><span class="line">      <span class="comment">// 如果应用程序的数量能整除NUMBER_PER_SCREEN，除法的结果就是总屏数</span></span><br><span class="line">      <span class="comment">// 如果不能整除，总屏数应该是除法的结果再加1</span></span><br><span class="line">      screenCount = items.size() % NUMBER_PER_SCREEN == <span class="number">0</span> ?</span><br><span class="line">            items.size()/ NUMBER_PER_SCREEN :</span><br><span class="line">            items.size() / NUMBER_PER_SCREEN   + <span class="number">1</span>;</span><br><span class="line">      switcher = (ViewSwitcher) findViewById(R.id.viewSwitcher);</span><br><span class="line">      switcher.setFactory(<span class="keyword">new</span> ViewSwitcher.ViewFactory()</span><br><span class="line">      &#123;</span><br><span class="line">         <span class="comment">// 实际上就是返回一个GridView组件</span></span><br><span class="line">         <span class="meta">@Override</span></span><br><span class="line">         <span class="function"><span class="keyword">public</span> View <span class="title">makeView</span><span class="params">()</span></span></span><br><span class="line"><span class="function">         </span>&#123;</span><br><span class="line">            <span class="comment">// 加载R.layout.slidelistview组件，实际上就是一个GridView组件</span></span><br><span class="line">            <span class="keyword">return</span> inflater.inflate(R.layout.slidelistview, <span class="keyword">null</span>);</span><br><span class="line">         &#125;</span><br><span class="line">      &#125;);</span><br><span class="line">      <span class="comment">// 页面加载时先显示第一屏</span></span><br><span class="line">      next(<span class="keyword">null</span>);</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">next</span><span class="params">(View v)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      <span class="keyword">if</span> (screenNo &lt; screenCount - <span class="number">1</span>)</span><br><span class="line">      &#123;</span><br><span class="line">         screenNo++;</span><br><span class="line">         <span class="comment">// 为ViewSwitcher的组件显示过程设置动画</span></span><br><span class="line">         switcher.setInAnimation(<span class="keyword">this</span>, R.anim.slide_in_right);</span><br><span class="line">         <span class="comment">// 为ViewSwitcher的组件隐藏过程设置动画</span></span><br><span class="line">         switcher.setOutAnimation(<span class="keyword">this</span>, R.anim.slide_out_left);</span><br><span class="line">         <span class="comment">// 控制下一屏将要显示的GridView对应的Adapter</span></span><br><span class="line">         ((GridView) switcher.getNextView()).setAdapter(adapter);</span><br><span class="line">         <span class="comment">// 单击右边按钮，显示下一屏</span></span><br><span class="line">         <span class="comment">// 学习手势检测后，也可通过手势检测实现显示下一屏</span></span><br><span class="line">         switcher.showNext();  <span class="comment">// ①</span></span><br><span class="line">      &#125;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">prev</span><span class="params">(View v)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      <span class="keyword">if</span> (screenNo &gt; <span class="number">0</span>)</span><br><span class="line">      &#123;</span><br><span class="line">         screenNo--;</span><br><span class="line">         <span class="comment">// 为ViewSwitcher的组件显示过程设置动画</span></span><br><span class="line">         switcher.setInAnimation(<span class="keyword">this</span>, android.R.anim.slide_in_left);</span><br><span class="line">         <span class="comment">// 为ViewSwitcher的组件隐藏过程设置动画</span></span><br><span class="line">         switcher.setOutAnimation(<span class="keyword">this</span>, android.R.anim.slide_out_right);</span><br><span class="line">         <span class="comment">// 控制下一屏将要显示的GridView对应的 Adapter</span></span><br><span class="line">         ((GridView) switcher.getNextView()).setAdapter(adapter);</span><br><span class="line">         <span class="comment">// 单击左边按钮，显示上一屏，当然可以采用手势</span></span><br><span class="line">         <span class="comment">// 学习手势检测后，也可通过手势检测实现显示上一屏</span></span><br><span class="line">         switcher.showPrevious();  <span class="comment">//②</span></span><br><span class="line">      &#125;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="comment">// 该BaseAdapter负责为每屏显示的GridView提供列表项</span></span><br><span class="line">   <span class="keyword">private</span> BaseAdapter adapter = <span class="keyword">new</span> BaseAdapter()</span><br><span class="line">   &#123;</span><br><span class="line">      <span class="meta">@Override</span></span><br><span class="line">      <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getCount</span><span class="params">()</span></span></span><br><span class="line"><span class="function">      </span>&#123;</span><br><span class="line">         <span class="comment">// 如果已经到了最后一屏，且应用程序的数量不能整除NUMBER_PER_SCREEN</span></span><br><span class="line">         <span class="keyword">if</span> (screenNo == screenCount - <span class="number">1</span></span><br><span class="line">               &amp;&amp; items.size() % NUMBER_PER_SCREEN != <span class="number">0</span>)</span><br><span class="line">         &#123;</span><br><span class="line">            <span class="comment">// 最后一屏显示的程序数为应用程序的数量对NUMBER_PER_SCREEN求余</span></span><br><span class="line">            <span class="keyword">return</span> items.size() % NUMBER_PER_SCREEN;</span><br><span class="line">         &#125;</span><br><span class="line">         <span class="comment">// 否则每屏显示的程序数量为NUMBER_PER_SCREEN</span></span><br><span class="line">         <span class="keyword">return</span> NUMBER_PER_SCREEN;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="meta">@Override</span></span><br><span class="line">      <span class="function"><span class="keyword">public</span> DataItem <span class="title">getItem</span><span class="params">(<span class="keyword">int</span> position)</span></span></span><br><span class="line"><span class="function">      </span>&#123;</span><br><span class="line">         <span class="comment">// 根据screenNo计算第position个列表项的数据</span></span><br><span class="line">         <span class="keyword">return</span> items.get(screenNo * NUMBER_PER_SCREEN + position);</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="meta">@Override</span></span><br><span class="line">      <span class="function"><span class="keyword">public</span> <span class="keyword">long</span> <span class="title">getItemId</span><span class="params">(<span class="keyword">int</span> position)</span></span></span><br><span class="line"><span class="function">      </span>&#123;</span><br><span class="line">         <span class="keyword">return</span> position;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="meta">@Override</span></span><br><span class="line">      <span class="function"><span class="keyword">public</span> View <span class="title">getView</span><span class="params">(<span class="keyword">int</span> position</span></span></span><br><span class="line"><span class="function"><span class="params">            , View convertView, ViewGroup parent)</span></span></span><br><span class="line"><span class="function">      </span>&#123;</span><br><span class="line">         View view = convertView;</span><br><span class="line">         <span class="keyword">if</span> (convertView == <span class="keyword">null</span>)</span><br><span class="line">         &#123;</span><br><span class="line">            <span class="comment">// 加载R.layout.labelicon布局文件</span></span><br><span class="line">            view = inflater.inflate(R.layout.labelicon, <span class="keyword">null</span>);</span><br><span class="line">         &#125;</span><br><span class="line">         <span class="comment">// 获取R.layout.labelicon布局文件中的ImageView组件，并为之设置图标</span></span><br><span class="line">         ImageView imageView = (ImageView)</span><br><span class="line">               view.findViewById(R.id.imageview);</span><br><span class="line">         imageView.setImageDrawable(getItem(position).drawable);</span><br><span class="line">         <span class="comment">// 获取R.layout.labelicon布局文件中的TextView组件，并为之设置文本</span></span><br><span class="line">         TextView textView = (TextView)</span><br><span class="line">               view.findViewById(R.id.textview);</span><br><span class="line">         textView.setText(getItem(position).dataName);</span><br><span class="line">         <span class="keyword">return</span> view;</span><br><span class="line">      &#125;</span><br><span class="line">   &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 定义一个垂直的LinearLayout，该容器中放置一个ImageView和一个TextView --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">LinearLayout</span></span></span><br><span class="line"><span class="tag">   <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:orientation</span>=<span class="string">"vertical"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:gravity</span>=<span class="string">"center"</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">ImageView</span></span></span><br><span class="line"><span class="tag">       <span class="attr">android:id</span>=<span class="string">"@+id/imageview"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">       /&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">       <span class="attr">android:id</span>=<span class="string">"@+id/textview"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:gravity</span>=<span class="string">"center"</span></span></span><br><span class="line"><span class="tag">       /&gt;</span>    </span><br><span class="line"><span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">set</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 设置从右边拖进来的动画</span></span><br><span class="line"><span class="comment">    android:duration指定动画持续时间  --&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">translate</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:fromXDelta</span>=<span class="string">"100%p"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:toXDelta</span>=<span class="string">"0"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:duration</span>=<span class="string">"@android:integer/config_mediumAnimTime"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">set</span>&gt;</span></span><br><span class="line">left</span><br><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">set</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 设置从左边拖出去的动画 </span></span><br><span class="line"><span class="comment">    android:duration指定动画持续时间 --&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">translate</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:fromXDelta</span>=<span class="string">"0"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:toXDelta</span>=<span class="string">"-100%p"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:duration</span>=<span class="string">"@android:integer/config_mediumAnimTime"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">set</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="https://s2.ax1x.com/2019/10/30/K4xkt0.png" alt="K4xkt0.png"></p>
<p>使用ViewSwitcher组合多个GridView，使用扩展BaseAdapter方式为GridView提供Adapter，使用screenNo保存当前正在显示第几屏程序列表，使用BaseAdapter根据screenNo动态计算Adapter总共包含多少个列表项。</p>
<h3 id="ImageSwitcher（图像切换器）"><a href="#ImageSwitcher（图像切换器）" class="headerlink" title="ImageSwitcher（图像切换器）"></a>ImageSwitcher（图像切换器）</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">LinearLayout</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:orientation</span>=<span class="string">"vertical"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:gravity</span>=<span class="string">"center_horizontal"</span>&gt;</span></span><br><span class="line">   <span class="comment">&lt;!-- 定义一个GridView组件 --&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">GridView</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:id</span>=<span class="string">"@+id/grid01"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:horizontalSpacing</span>=<span class="string">"2dp"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:verticalSpacing</span>=<span class="string">"2dp"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:numColumns</span>=<span class="string">"4"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:gravity</span>=<span class="string">"center"</span>/&gt;</span></span><br><span class="line">   <span class="comment">&lt;!-- 定义一个ImageSwitcher组件 --&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">ImageSwitcher</span> <span class="attr">android:id</span>=<span class="string">"@+id/switcher"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"300dp"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"300dp"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_gravity</span>=<span class="string">"center_horizontal"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:inAnimation</span>=<span class="string">"@android:anim/fade_in"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:outAnimation</span>=<span class="string">"@android:anim/fade_out"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.crazyit.ui;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.app.Activity;</span><br><span class="line"><span class="keyword">import</span> android.os.Bundle;</span><br><span class="line"><span class="keyword">import</span> android.view.View;</span><br><span class="line"><span class="keyword">import</span> android.view.ViewGroup.LayoutParams;</span><br><span class="line"><span class="keyword">import</span> android.widget.AdapterView;</span><br><span class="line"><span class="keyword">import</span> android.widget.AdapterView.OnItemClickListener;</span><br><span class="line"><span class="keyword">import</span> android.widget.AdapterView.OnItemSelectedListener;</span><br><span class="line"><span class="keyword">import</span> android.widget.ViewSwitcher.ViewFactory;</span><br><span class="line"><span class="keyword">import</span> android.widget.GridView;</span><br><span class="line"><span class="keyword">import</span> android.widget.ImageSwitcher;</span><br><span class="line"><span class="keyword">import</span> android.widget.ImageView;</span><br><span class="line"><span class="keyword">import</span> android.widget.SimpleAdapter;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">Activity</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">   <span class="keyword">int</span>[] imageIds = <span class="keyword">new</span> <span class="keyword">int</span>[]</span><br><span class="line">   &#123;</span><br><span class="line">      R.drawable.bomb5 , R.drawable.bomb6 , R.drawable.bomb7</span><br><span class="line">      , R.drawable.bomb8 , R.drawable.bomb9 , R.drawable.bomb10</span><br><span class="line">      , R.drawable.bomb11 , R.drawable.bomb12 , R.drawable.bomb13</span><br><span class="line">      , R.drawable.bomb14 , R.drawable.bomb15 , R.drawable.bomb16</span><br><span class="line">   &#125;;</span><br><span class="line">   ImageSwitcher switcher;</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">      setContentView(R.layout.main);</span><br><span class="line">      <span class="comment">// 创建一个List对象，List对象的元素是Map</span></span><br><span class="line">      List&lt;Map&lt;String, Object&gt;&gt; listItems =</span><br><span class="line">            <span class="keyword">new</span> ArrayList&lt;Map&lt;String, Object&gt;&gt;();</span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; imageIds.length; i++)</span><br><span class="line">      &#123;</span><br><span class="line">         Map&lt;String, Object&gt; listItem = <span class="keyword">new</span> HashMap&lt;String, Object&gt;();</span><br><span class="line">         listItem.put(<span class="string">"image"</span>, imageIds[i]);</span><br><span class="line">         listItems.add(listItem);</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="comment">// 获取显示图片的ImageSwitcher</span></span><br><span class="line">      switcher = (ImageSwitcher)</span><br><span class="line">            findViewById(R.id.switcher);</span><br><span class="line">      <span class="comment">// 为ImageSwitcher设置图片切换的动画效果</span></span><br><span class="line">      switcher.setFactory(<span class="keyword">new</span> ViewFactory()</span><br><span class="line">      &#123;</span><br><span class="line">         <span class="meta">@Override</span></span><br><span class="line">         <span class="function"><span class="keyword">public</span> View <span class="title">makeView</span><span class="params">()</span></span></span><br><span class="line"><span class="function">         </span>&#123;</span><br><span class="line">            <span class="comment">// 创建ImageView对象</span></span><br><span class="line">            ImageView imageView = <span class="keyword">new</span> ImageView(MainActivity.<span class="keyword">this</span>);</span><br><span class="line">            imageView.setScaleType(ImageView.ScaleType.FIT_CENTER);</span><br><span class="line">            imageView.setLayoutParams(<span class="keyword">new</span> ImageSwitcher.LayoutParams(</span><br><span class="line">                  LayoutParams.WRAP_CONTENT, LayoutParams.WRAP_CONTENT));</span><br><span class="line">            <span class="comment">// 返回ImageView对象</span></span><br><span class="line">            <span class="keyword">return</span> imageView;</span><br><span class="line">         &#125;</span><br><span class="line">      &#125;);</span><br><span class="line">      <span class="comment">// 创建一个SimpleAdapter</span></span><br><span class="line">      SimpleAdapter simpleAdapter = <span class="keyword">new</span> SimpleAdapter(<span class="keyword">this</span>,</span><br><span class="line">            listItems</span><br><span class="line">            <span class="comment">// 使用/layout/cell.xml文件作为界面布局</span></span><br><span class="line">            , R.layout.cell, <span class="keyword">new</span> String[]&#123;<span class="string">"image"</span>&#125;,</span><br><span class="line">            <span class="keyword">new</span> <span class="keyword">int</span>[] &#123; R.id.image1 &#125;);</span><br><span class="line">      GridView grid = (GridView) findViewById(R.id.grid01);</span><br><span class="line">      <span class="comment">// 为GridView设置Adapter</span></span><br><span class="line">      grid.setAdapter(simpleAdapter);</span><br><span class="line">      <span class="comment">// 添加列表项被选中的监听器</span></span><br><span class="line">      grid.setOnItemSelectedListener(<span class="keyword">new</span> OnItemSelectedListener()</span><br><span class="line">      &#123;</span><br><span class="line">         <span class="meta">@Override</span></span><br><span class="line">         <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onItemSelected</span><span class="params">(AdapterView&lt;?&gt; parent, View view,</span></span></span><br><span class="line"><span class="function"><span class="params">                              <span class="keyword">int</span> position, <span class="keyword">long</span> id)</span></span></span><br><span class="line"><span class="function">         </span>&#123;</span><br><span class="line">            <span class="comment">// 显示当前被选中的图片</span></span><br><span class="line">            switcher.setImageResource(imageIds[position]);</span><br><span class="line">         &#125;</span><br><span class="line">         <span class="meta">@Override</span></span><br><span class="line">         <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onNothingSelected</span><span class="params">(AdapterView&lt;?&gt; parent)</span></span></span><br><span class="line"><span class="function">         </span>&#123;</span><br><span class="line">         &#125;</span><br><span class="line">      &#125;);</span><br><span class="line">      <span class="comment">// 添加列表项被单击的监听器</span></span><br><span class="line">      grid.setOnItemClickListener(<span class="keyword">new</span> OnItemClickListener()</span><br><span class="line">      &#123;</span><br><span class="line">         <span class="meta">@Override</span></span><br><span class="line">         <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onItemClick</span><span class="params">(AdapterView&lt;?&gt; parent, View view,</span></span></span><br><span class="line"><span class="function"><span class="params">                           <span class="keyword">int</span> position, <span class="keyword">long</span> id)</span></span></span><br><span class="line"><span class="function">         </span>&#123;</span><br><span class="line">            <span class="comment">// 显示被单击的图片</span></span><br><span class="line">            switcher.setImageResource(imageIds[position]);</span><br><span class="line">         &#125;</span><br><span class="line">      &#125;);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://s2.ax1x.com/2019/10/30/K4xAhV.png" alt="K4xAhV.png"></p>
<p>通过inAnimation、outAnimation指定图片切换的动画效果为ImageSwitcher设置ViewFactory，通过绑定事件监听器监听单元格进行动画的切换效果</p>
<h3 id="TextSwitcher（文本切换器）"><a href="#TextSwitcher（文本切换器）" class="headerlink" title="TextSwitcher（文本切换器）"></a>TextSwitcher（文本切换器）</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8" ?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">LinearLayout</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span> &gt;</span></span><br><span class="line">   <span class="comment">&lt;!-- 定义一个TextSwitcher，并指定了文本切换时的动画效果 --&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">TextSwitcher</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:id</span>=<span class="string">"@+id/textSwitcher"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:inAnimation</span>=<span class="string">"@android:anim/slide_in_left"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:outAnimation</span>=<span class="string">"@android:anim/slide_out_right"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:onClick</span>=<span class="string">"next"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.crazyit.ui;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.app.Activity;</span><br><span class="line"><span class="keyword">import</span> android.graphics.Color;</span><br><span class="line"><span class="keyword">import</span> android.os.Bundle;</span><br><span class="line"><span class="keyword">import</span> android.view.Menu;</span><br><span class="line"><span class="keyword">import</span> android.view.MenuItem;</span><br><span class="line"><span class="keyword">import</span> android.view.View;</span><br><span class="line"><span class="keyword">import</span> android.widget.TextSwitcher;</span><br><span class="line"><span class="keyword">import</span> android.widget.TextView;</span><br><span class="line"><span class="keyword">import</span> android.widget.ViewSwitcher;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">Activity</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">   TextSwitcher textSwitcher;</span><br><span class="line">   String[] strs = <span class="keyword">new</span> String[]</span><br><span class="line">   &#123;</span><br><span class="line">      <span class="string">"ORM"</span>,</span><br><span class="line">      <span class="string">"CORBA"</span>,</span><br><span class="line">      <span class="string">"Web Service"</span>,</span><br><span class="line">      <span class="string">"RPC"</span></span><br><span class="line">   &#125;;</span><br><span class="line">   <span class="keyword">int</span> curStr;</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">      setContentView(R.layout.main);</span><br><span class="line">      textSwitcher = (TextSwitcher) findViewById(R.id.textSwitcher);</span><br><span class="line">      textSwitcher.setFactory(<span class="keyword">new</span> ViewSwitcher.ViewFactory()</span><br><span class="line">      &#123;</span><br><span class="line">         <span class="function"><span class="keyword">public</span> View <span class="title">makeView</span><span class="params">()</span></span></span><br><span class="line"><span class="function">         </span>&#123;</span><br><span class="line">            TextView tv = <span class="keyword">new</span> TextView(MainActivity.<span class="keyword">this</span>);</span><br><span class="line">            tv.setTextSize(<span class="number">40</span>);</span><br><span class="line">            tv.setTextColor(Color.MAGENTA);</span><br><span class="line">            <span class="keyword">return</span> tv;</span><br><span class="line">         &#125;</span><br><span class="line">      &#125;);</span><br><span class="line">      <span class="comment">// 调用next方法显示下一个字符串</span></span><br><span class="line">      next(<span class="keyword">null</span>);</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="comment">// 事件处理函数，控制显示下一个字符串</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">next</span><span class="params">(View source)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      textSwitcher.setText(strs[curStr++ % strs.length]);  <span class="comment">// ①</span></span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://s2.ax1x.com/2019/10/30/K4xVpT.png" alt="K4xVpT.png"></p>
<p>定义TextSwitcher并制定了文本切换的动画效果，再为TextSwitcher设置ViewFactory则可以正常运行</p>
<h3 id="ViewFlipper（切换控件）"><a href="#ViewFlipper（切换控件）" class="headerlink" title="ViewFlipper（切换控件）"></a>ViewFlipper（切换控件）</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">RelativeLayout</span></span></span><br><span class="line"><span class="tag">   <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">ViewFlipper</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:id</span>=<span class="string">"@+id/details"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:flipInterval</span>=<span class="string">"1000"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">ImageView</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:src</span>=<span class="string">"@drawable/java"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">ImageView</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">ImageView</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:src</span>=<span class="string">"@drawable/android"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">ImageView</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">ImageView</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:src</span>=<span class="string">"@drawable/javaee"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">ImageView</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">ViewFlipper</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:text</span>=<span class="string">"&amp;lt;"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:onClick</span>=<span class="string">"prev"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_alignParentBottom</span>=<span class="string">"true"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_alignParentLeft</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_alignParentBottom</span>=<span class="string">"true"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_centerInParent</span>=<span class="string">"true"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:onClick</span>=<span class="string">"auto"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:text</span>=<span class="string">"自动播放"</span>/&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:text</span>=<span class="string">"&amp;gt;"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:onClick</span>=<span class="string">"next"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_alignParentBottom</span>=<span class="string">"true"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_alignParentRight</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">RelativeLayout</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.crazyit.ui;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.app.Activity;</span><br><span class="line"><span class="keyword">import</span> android.os.Bundle;</span><br><span class="line"><span class="keyword">import</span> android.view.Menu;</span><br><span class="line"><span class="keyword">import</span> android.view.MenuItem;</span><br><span class="line"><span class="keyword">import</span> android.view.View;</span><br><span class="line"><span class="keyword">import</span> android.widget.ViewFlipper;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">Activity</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">   <span class="keyword">private</span> ViewFlipper viewFlipper;</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">      setContentView(R.layout.main);</span><br><span class="line">      viewFlipper = (ViewFlipper) findViewById(R.id.details);</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">prev</span><span class="params">(View source)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      viewFlipper.setInAnimation(<span class="keyword">this</span> , R.anim.slide_in_right);</span><br><span class="line">      viewFlipper.setOutAnimation(<span class="keyword">this</span> , R.anim.slide_out_left);</span><br><span class="line">      <span class="comment">// 显示上一个组件</span></span><br><span class="line">      viewFlipper.showPrevious();</span><br><span class="line">      <span class="comment">// 停止自动播放</span></span><br><span class="line">      viewFlipper.stopFlipping();</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">next</span><span class="params">(View source)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      viewFlipper.setInAnimation(<span class="keyword">this</span> , android.R.anim.slide_in_left);</span><br><span class="line">      viewFlipper.setOutAnimation(<span class="keyword">this</span> , android.R.anim.slide_out_right);</span><br><span class="line">      <span class="comment">// 显示下一个组件</span></span><br><span class="line">      viewFlipper.showNext();</span><br><span class="line">      <span class="comment">// 停止自动播放</span></span><br><span class="line">      viewFlipper.stopFlipping();</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">auto</span><span class="params">(View source)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      viewFlipper.setInAnimation(<span class="keyword">this</span> , android.R.anim.slide_in_left);</span><br><span class="line">      viewFlipper.setOutAnimation(<span class="keyword">this</span> , android.R.anim.slide_out_right);</span><br><span class="line">      <span class="comment">// 开始自动播放</span></span><br><span class="line">      viewFlipper.startFlipping();</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://s2.ax1x.com/2019/10/30/K5pmjS.png" alt="K5pmjS.png"></p>
<p>在ViewFlipper定义了三个ImageView，意味着ViewFlipper包含三个子组件，在Activity中调用ViewFlipper得showPrevious()、showNext()等方法来显示上一个、下一个组件。</p>
<h3 id="各种杂项控件"><a href="#各种杂项控件" class="headerlink" title="各种杂项控件"></a>各种杂项控件</h3><h3 id="Toast（提示信息框）"><a href="#Toast（提示信息框）" class="headerlink" title="Toast（提示信息框）"></a>Toast（提示信息框）</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.crazyit.ui;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.app.Activity;</span><br><span class="line"><span class="keyword">import</span> android.graphics.Color;</span><br><span class="line"><span class="keyword">import</span> android.os.Bundle;</span><br><span class="line"><span class="keyword">import</span> android.view.Gravity;</span><br><span class="line"><span class="keyword">import</span> android.view.Menu;</span><br><span class="line"><span class="keyword">import</span> android.view.MenuItem;</span><br><span class="line"><span class="keyword">import</span> android.view.View;</span><br><span class="line"><span class="keyword">import</span> android.view.View.OnClickListener;</span><br><span class="line"><span class="keyword">import</span> android.widget.Button;</span><br><span class="line"><span class="keyword">import</span> android.widget.ImageView;</span><br><span class="line"><span class="keyword">import</span> android.widget.LinearLayout;</span><br><span class="line"><span class="keyword">import</span> android.widget.TextView;</span><br><span class="line"><span class="keyword">import</span> android.widget.Toast;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">Activity</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">      setContentView(R.layout.main);</span><br><span class="line">      Button simple = (Button) findViewById(R.id.simple);</span><br><span class="line">      <span class="comment">// 为按钮的单击事件绑定事件监听器</span></span><br><span class="line">      simple.setOnClickListener(<span class="keyword">new</span> OnClickListener()</span><br><span class="line">      &#123;</span><br><span class="line">         <span class="meta">@Override</span></span><br><span class="line">         <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View source)</span></span></span><br><span class="line"><span class="function">         </span>&#123;</span><br><span class="line">            <span class="comment">// 创建一个Toast提示信息</span></span><br><span class="line">            Toast toast = Toast.makeText(MainActivity.<span class="keyword">this</span></span><br><span class="line">                  , <span class="string">"文字提示"</span></span><br><span class="line">                  <span class="comment">// 设置该Toast提示信息的持续时间</span></span><br><span class="line">                  , Toast.LENGTH_SHORT);</span><br><span class="line">            toast.show();</span><br><span class="line">         &#125;</span><br><span class="line">      &#125;);</span><br><span class="line">      Button bn = (Button) findViewById(R.id.bn);</span><br><span class="line">      <span class="comment">// 为按钮的单击事件绑定事件监听器</span></span><br><span class="line">      bn.setOnClickListener(<span class="keyword">new</span> OnClickListener()</span><br><span class="line">      &#123;</span><br><span class="line">         <span class="meta">@Override</span></span><br><span class="line">         <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View source)</span></span></span><br><span class="line"><span class="function">         </span>&#123;</span><br><span class="line">            <span class="comment">// 创建一个Toast提示信息</span></span><br><span class="line">            Toast toast = <span class="keyword">new</span> Toast(MainActivity.<span class="keyword">this</span>);</span><br><span class="line">            <span class="comment">// 设置Toast的显示位置</span></span><br><span class="line">            toast.setGravity(Gravity.CENTER, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">            <span class="comment">// 创建一个ImageView</span></span><br><span class="line">            ImageView image = <span class="keyword">new</span> ImageView(MainActivity.<span class="keyword">this</span>);</span><br><span class="line">            image.setImageResource(R.drawable.a);</span><br><span class="line">            <span class="comment">// 创建一个LinearLayout容器</span></span><br><span class="line">            LinearLayout ll = <span class="keyword">new</span> LinearLayout(MainActivity.<span class="keyword">this</span>);</span><br><span class="line">            <span class="comment">// 向LinearLayout中添加图片、原有的View</span></span><br><span class="line">            ll.addView(image);</span><br><span class="line">            <span class="comment">// 创建一个TextView</span></span><br><span class="line">            TextView textView = <span class="keyword">new</span> TextView(MainActivity.<span class="keyword">this</span>);</span><br><span class="line">            textView.setText(<span class="string">"图片提示"</span>);</span><br><span class="line">            <span class="comment">// 设置文本框内字号的大小和字体颜色</span></span><br><span class="line">            textView.setTextSize(<span class="number">24</span>);</span><br><span class="line">            textView.setTextColor(Color.MAGENTA);</span><br><span class="line">            ll.addView(textView);</span><br><span class="line">            <span class="comment">// 设置Toast显示自定义View</span></span><br><span class="line">            toast.setView(ll);</span><br><span class="line">            <span class="comment">// 设置Toast的显示时间</span></span><br><span class="line">            toast.setDuration(Toast.LENGTH_LONG);</span><br><span class="line">            toast.show();</span><br><span class="line">         &#125;</span><br><span class="line">      &#125;);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://s2.ax1x.com/2019/10/30/K5pAht.png" alt="K5pAht.png"></p>
<p><img src="https://s2.ax1x.com/2019/10/30/K5pV9P.png" alt="K5pV9P.png"></p>
<p>一个按钮用于激发文字提示，一个按钮用于激发图片提示，需要调用Toast对象得setView()方法来改变该Toast对象得内容View</p>
<h3 id="CalendarView（日历视图）"><a href="#CalendarView（日历视图）" class="headerlink" title="CalendarView（日历视图）"></a>CalendarView（日历视图）</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">LinearLayout</span></span></span><br><span class="line"><span class="tag">   <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:orientation</span>=<span class="string">"vertical"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:text</span>=<span class="string">"选择您的生日："</span>/&gt;</span></span><br><span class="line">   <span class="comment">&lt;!-- 设置以星期二作为每周第一天</span></span><br><span class="line"><span class="comment">   设置该组件总共显示4个星期</span></span><br><span class="line"><span class="comment">   并对该组件的日期时间进行了定制 --&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">CalendarView</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:firstDayOfWeek</span>=<span class="string">"3"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:shownWeekCount</span>=<span class="string">"4"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:selectedWeekBackgroundColor</span>=<span class="string">"#aff"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:focusedMonthDateColor</span>=<span class="string">"#f00"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:weekSeparatorLineColor</span>=<span class="string">"#ff0"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:unfocusedMonthDateColor</span>=<span class="string">"#f9f"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:id</span>=<span class="string">"@+id/calendarView"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.crazyit.ui;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.app.Activity;</span><br><span class="line"><span class="keyword">import</span> android.os.Bundle;</span><br><span class="line"><span class="keyword">import</span> android.view.Menu;</span><br><span class="line"><span class="keyword">import</span> android.view.MenuItem;</span><br><span class="line"><span class="keyword">import</span> android.widget.CalendarView;</span><br><span class="line"><span class="keyword">import</span> android.widget.CalendarView.OnDateChangeListener;</span><br><span class="line"><span class="keyword">import</span> android.widget.Toast;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">Activity</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">   CalendarView cv;</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">      setContentView(R.layout.main);</span><br><span class="line">      cv = (CalendarView)findViewById(R.id.calendarView);</span><br><span class="line">      <span class="comment">// 为CalendarView组件的日期改变事件添加事件监听器</span></span><br><span class="line">      cv.setOnDateChangeListener(<span class="keyword">new</span> OnDateChangeListener()</span><br><span class="line">      &#123;</span><br><span class="line">         <span class="meta">@Override</span></span><br><span class="line">         <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onSelectedDayChange</span><span class="params">(CalendarView view, <span class="keyword">int</span> year,</span></span></span><br><span class="line"><span class="function"><span class="params">            <span class="keyword">int</span> month, <span class="keyword">int</span> dayOfMonth)</span></span></span><br><span class="line"><span class="function">         </span>&#123;</span><br><span class="line">            <span class="comment">// 使用Toast显示用户选择的日期</span></span><br><span class="line">            Toast.makeText(MainActivity.<span class="keyword">this</span>,</span><br><span class="line">                  <span class="string">"你生日是"</span> + year + <span class="string">"年"</span> + month + <span class="string">"月"</span></span><br><span class="line">                        + dayOfMonth + <span class="string">"日"</span>,</span><br><span class="line">                  Toast.LENGTH_SHORT).show();</span><br><span class="line">         &#125;</span><br><span class="line">      &#125;);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://s2.ax1x.com/2019/10/30/K5pZ1f.png" alt="K5pZ1f.png"></p>
<p>添加DatePicker、TimePicker来选择日期、时间，使用EditText来显示选择得日期、时间。绑定监听器，当选择日期、时间时、监听器负责使用EditText显示所选得时间、日期</p>
<h3 id="DatePicker（日期选择器）-amp-TimePicker（时间选择器）"><a href="#DatePicker（日期选择器）-amp-TimePicker（时间选择器）" class="headerlink" title="DatePicker（日期选择器）&amp;TimePicker（时间选择器）"></a>DatePicker（日期选择器）&amp;TimePicker（时间选择器）</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">LinearLayout</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:orientation</span>=<span class="string">"vertical"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:text</span>=<span class="string">"选择购买本书的具体时间"</span>/&gt;</span></span><br><span class="line">   <span class="comment">&lt;!-- 定义一个DatePicker组件 --&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">DatePicker</span> <span class="attr">android:id</span>=<span class="string">"@+id/datePicker"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"200dp"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_gravity</span>=<span class="string">"center_horizontal"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:startYear</span>=<span class="string">"2000"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:endYear</span>=<span class="string">"2016"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:calendarViewShown</span>=<span class="string">"true"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:spinnersShown</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line">   <span class="comment">&lt;!-- 定义一个TimePicker组件 --&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">TimePicker</span> <span class="attr">android:id</span>=<span class="string">"@+id/timePicker"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"100dp"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_gravity</span>=<span class="string">"center_horizontal"</span>/&gt;</span></span><br><span class="line">   <span class="comment">&lt;!-- 显示用户输入日期、时间的控件 --&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">EditText</span> <span class="attr">android:id</span>=<span class="string">"@+id/show"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:editable</span>=<span class="string">"false"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:cursorVisible</span>=<span class="string">"false"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.crazyit.ui;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.app.Activity;</span><br><span class="line"><span class="keyword">import</span> android.os.Bundle;</span><br><span class="line"><span class="keyword">import</span> android.view.Menu;</span><br><span class="line"><span class="keyword">import</span> android.view.MenuItem;</span><br><span class="line"><span class="keyword">import</span> android.widget.DatePicker;</span><br><span class="line"><span class="keyword">import</span> android.widget.DatePicker.OnDateChangedListener;</span><br><span class="line"><span class="keyword">import</span> android.widget.EditText;</span><br><span class="line"><span class="keyword">import</span> android.widget.TimePicker;</span><br><span class="line"><span class="keyword">import</span> android.widget.TimePicker.OnTimeChangedListener;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Calendar;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">Activity</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">   <span class="comment">// 定义5个记录当前时间的变量</span></span><br><span class="line">   <span class="keyword">private</span> <span class="keyword">int</span> year;</span><br><span class="line">   <span class="keyword">private</span> <span class="keyword">int</span> month;</span><br><span class="line">   <span class="keyword">private</span> <span class="keyword">int</span> day;</span><br><span class="line">   <span class="keyword">private</span> <span class="keyword">int</span> hour;</span><br><span class="line">   <span class="keyword">private</span> <span class="keyword">int</span> minute;</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">      setContentView(R.layout.main);</span><br><span class="line">      DatePicker datePicker = (DatePicker)</span><br><span class="line">            findViewById(R.id.datePicker);</span><br><span class="line">      TimePicker timePicker = (TimePicker)</span><br><span class="line">            findViewById(R.id.timePicker);</span><br><span class="line">      <span class="comment">// 获取当前的年、月、日、小时、分钟</span></span><br><span class="line">      Calendar c = Calendar.getInstance();</span><br><span class="line">      year = c.get(Calendar.YEAR);</span><br><span class="line">      month = c.get(Calendar.MONTH);</span><br><span class="line">      day = c.get(Calendar.DAY_OF_MONTH);</span><br><span class="line">      hour = c.get(Calendar.HOUR);</span><br><span class="line">      minute = c.get(Calendar.MINUTE);</span><br><span class="line">      <span class="comment">// 初始化DatePicker组件，初始化时指定监听器</span></span><br><span class="line">      datePicker.init(year, month, day, <span class="keyword">new</span> OnDateChangedListener()</span><br><span class="line">      &#123;</span><br><span class="line">         <span class="meta">@Override</span></span><br><span class="line">         <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onDateChanged</span><span class="params">(DatePicker arg0, <span class="keyword">int</span> year</span></span></span><br><span class="line"><span class="function"><span class="params">               , <span class="keyword">int</span> month, <span class="keyword">int</span> day)</span></span></span><br><span class="line"><span class="function">         </span>&#123;</span><br><span class="line">            MainActivity.<span class="keyword">this</span>.year = year;</span><br><span class="line">            MainActivity.<span class="keyword">this</span>.month = month;</span><br><span class="line">            MainActivity.<span class="keyword">this</span>.day = day;</span><br><span class="line">            <span class="comment">// 显示当前日期、时间</span></span><br><span class="line">            showDate(year, month, day, hour, minute);</span><br><span class="line">         &#125;</span><br><span class="line">      &#125;);</span><br><span class="line">      timePicker.setEnabled(<span class="keyword">true</span>);</span><br><span class="line">      <span class="comment">// 为TimePicker指定监听器</span></span><br><span class="line">      timePicker.setOnTimeChangedListener(<span class="keyword">new</span> OnTimeChangedListener()</span><br><span class="line">      &#123;</span><br><span class="line">         <span class="meta">@Override</span></span><br><span class="line">         <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onTimeChanged</span><span class="params">(TimePicker view</span></span></span><br><span class="line"><span class="function"><span class="params">               , <span class="keyword">int</span> hourOfDay, <span class="keyword">int</span> minute)</span></span></span><br><span class="line"><span class="function">         </span>&#123;</span><br><span class="line">            MainActivity.<span class="keyword">this</span>.hour = hourOfDay;</span><br><span class="line">            MainActivity.<span class="keyword">this</span>.minute = minute;</span><br><span class="line">            <span class="comment">// 显示当前日期、时间</span></span><br><span class="line">            showDate(year, month, day, hour, minute);</span><br><span class="line">         &#125;</span><br><span class="line">      &#125;);</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="comment">// 定义在EditText中显示当前日期、时间的方法</span></span><br><span class="line">   <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">showDate</span><span class="params">(<span class="keyword">int</span> year, <span class="keyword">int</span> month</span></span></span><br><span class="line"><span class="function"><span class="params">         , <span class="keyword">int</span> day, <span class="keyword">int</span> hour, <span class="keyword">int</span> minute)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      EditText show = (EditText) findViewById(R.id.show);</span><br><span class="line">      show.setText(<span class="string">"接触安卓的时间为："</span> + year + <span class="string">"年"</span></span><br><span class="line">            + (month + <span class="number">1</span>) + <span class="string">"月"</span> + day + <span class="string">"日  "</span></span><br><span class="line">            + hour + <span class="string">"时"</span> + minute + <span class="string">"分"</span>);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://s2.ax1x.com/2019/10/30/K5pec8.png" alt="K5pec8.png"></p>
<p>tianjia DatePicker、TimePicker用于选择日期、时间，还包含EditText用于显示日期、时间，绑定事件监听器，当监听器触发时，使用EditText显示选择得日期、时间</p>
<h3 id="NumberPicker（数值选择器）"><a href="#NumberPicker（数值选择器）" class="headerlink" title="NumberPicker（数值选择器）"></a>NumberPicker（数值选择器）</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">TableLayout</span></span></span><br><span class="line"><span class="tag">   <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">TableRow</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:text</span>=<span class="string">"选择低价："</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_width</span>=<span class="string">"120dp"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span> /&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">NumberPicker</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:id</span>=<span class="string">"@+id/np1"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_height</span>=<span class="string">"80dp"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:focusable</span>=<span class="string">"true"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:focusableInTouchMode</span>=<span class="string">"true"</span> /&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">TableRow</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">TableRow</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:text</span>=<span class="string">"选择高价："</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_width</span>=<span class="string">"120dp"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span> /&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">NumberPicker</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:id</span>=<span class="string">"@+id/np2"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_height</span>=<span class="string">"80dp"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:focusable</span>=<span class="string">"true"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:focusableInTouchMode</span>=<span class="string">"true"</span> /&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">TableRow</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">TableLayout</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.crazyit.ui;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.app.Activity;</span><br><span class="line"><span class="keyword">import</span> android.os.Bundle;</span><br><span class="line"><span class="keyword">import</span> android.view.Menu;</span><br><span class="line"><span class="keyword">import</span> android.view.MenuItem;</span><br><span class="line"><span class="keyword">import</span> android.widget.NumberPicker;</span><br><span class="line"><span class="keyword">import</span> android.widget.NumberPicker.OnValueChangeListener;</span><br><span class="line"><span class="keyword">import</span> android.widget.Toast;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">Activity</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">   NumberPicker np1, np2;</span><br><span class="line">   <span class="comment">// 定义最低价格、最高价格的初始值</span></span><br><span class="line">   <span class="keyword">int</span> minPrice = <span class="number">25</span>, maxPrice = <span class="number">75</span>;</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">      setContentView(R.layout.main);</span><br><span class="line">      np1 = (NumberPicker) findViewById(R.id.np1);</span><br><span class="line">      <span class="comment">// 设置np1的最小值和最大值</span></span><br><span class="line">      np1.setMinValue(<span class="number">10</span>);</span><br><span class="line">      np1.setMaxValue(<span class="number">50</span>);</span><br><span class="line">      <span class="comment">// 设置np1的当前值</span></span><br><span class="line">      np1.setValue(minPrice);</span><br><span class="line">      np1.setOnValueChangedListener(<span class="keyword">new</span> OnValueChangeListener()</span><br><span class="line">      &#123;</span><br><span class="line">         <span class="comment">// 当NumberPicker的值发生改变时，将会激发该方法</span></span><br><span class="line">         <span class="meta">@Override</span></span><br><span class="line">         <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onValueChange</span><span class="params">(NumberPicker picker,</span></span></span><br><span class="line"><span class="function"><span class="params">            <span class="keyword">int</span> oldVal, <span class="keyword">int</span> newVal)</span></span></span><br><span class="line"><span class="function">         </span>&#123;</span><br><span class="line">            minPrice = newVal;</span><br><span class="line">            showSelectedPrice();</span><br><span class="line">         &#125;</span><br><span class="line">      &#125;);</span><br><span class="line">      np2 = (NumberPicker) findViewById(R.id.np2);</span><br><span class="line">      <span class="comment">// 设置np2的最小值和最大值</span></span><br><span class="line">      np2.setMinValue(<span class="number">60</span>);</span><br><span class="line">      np2.setMaxValue(<span class="number">100</span>);</span><br><span class="line">      <span class="comment">// 设置np2的当前值</span></span><br><span class="line">      np2.setValue(maxPrice);</span><br><span class="line">      np2.setOnValueChangedListener(<span class="keyword">new</span> OnValueChangeListener()</span><br><span class="line">      &#123;</span><br><span class="line">         <span class="comment">// 当NumberPicker的值发生改变时，将会激发该方法</span></span><br><span class="line">         <span class="meta">@Override</span></span><br><span class="line">         <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onValueChange</span><span class="params">(NumberPicker picker, <span class="keyword">int</span> oldVal,</span></span></span><br><span class="line"><span class="function"><span class="params">                             <span class="keyword">int</span> newVal)</span></span></span><br><span class="line"><span class="function">         </span>&#123;</span><br><span class="line">            maxPrice = newVal;</span><br><span class="line">            showSelectedPrice();</span><br><span class="line">         &#125;</span><br><span class="line">      &#125;);</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">showSelectedPrice</span><span class="params">()</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      Toast.makeText(<span class="keyword">this</span>, <span class="string">"您选择最低价格为："</span> + minPrice</span><br><span class="line">            + <span class="string">",最高价格为："</span> + maxPrice, Toast.LENGTH_SHORT)</span><br><span class="line">            .show();</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://s2.ax1x.com/2019/10/30/K5pung.png" alt="K5pung.png"></p>
<p>定义了两个NumberPicker并通过setMinValue()、setMaxValue()、setValue()为这两个NumberPicker设置最小值、最大值、当前值，并为最大值和最小值绑定监听器</p>
<h3 id="SearchView（搜索框）"><a href="#SearchView（搜索框）" class="headerlink" title="SearchView（搜索框）"></a>SearchView（搜索框）</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">LinearLayout</span></span></span><br><span class="line"><span class="tag">   <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:orientation</span>=<span class="string">"vertical"</span>&gt;</span></span><br><span class="line">   <span class="comment">&lt;!-- 定义一个SearchView --&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">SearchView</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:id</span>=<span class="string">"@+id/sv"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span>/&gt;</span></span><br><span class="line">   <span class="comment">&lt;!-- 为SearchView定义自动完成的ListView--&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">ListView</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:id</span>=<span class="string">"@+id/lv"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"0dp"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_weight</span>=<span class="string">"1"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.crazyit.ui;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.app.Activity;</span><br><span class="line"><span class="keyword">import</span> android.os.Bundle;</span><br><span class="line"><span class="keyword">import</span> android.text.TextUtils;</span><br><span class="line"><span class="keyword">import</span> android.view.Menu;</span><br><span class="line"><span class="keyword">import</span> android.view.MenuItem;</span><br><span class="line"><span class="keyword">import</span> android.widget.ArrayAdapter;</span><br><span class="line"><span class="keyword">import</span> android.widget.ListView;</span><br><span class="line"><span class="keyword">import</span> android.widget.SearchView;</span><br><span class="line"><span class="keyword">import</span> android.widget.SearchView.OnQueryTextListener;</span><br><span class="line"><span class="keyword">import</span> android.widget.Toast;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">Activity</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">   <span class="keyword">private</span> SearchView sv;</span><br><span class="line">   <span class="keyword">private</span> ListView lv;</span><br><span class="line">   <span class="comment">// 自动完成的列表</span></span><br><span class="line">   <span class="keyword">private</span> <span class="keyword">final</span> String[] mStrings = &#123; <span class="string">"aaaaa"</span>, <span class="string">"bbbbbb"</span>, <span class="string">"cccccc"</span> &#125;;</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">      setContentView(R.layout.main);</span><br><span class="line">      lv = (ListView) findViewById(R.id.lv);</span><br><span class="line">      lv.setAdapter(<span class="keyword">new</span> ArrayAdapter&lt;String&gt;(<span class="keyword">this</span>,</span><br><span class="line">            android.R.layout.simple_list_item_1, mStrings));</span><br><span class="line">      <span class="comment">// 设置ListView启用过滤</span></span><br><span class="line">      lv.setTextFilterEnabled(<span class="keyword">true</span>);</span><br><span class="line">      sv = (SearchView) findViewById(R.id.sv);</span><br><span class="line">      <span class="comment">// 设置该SearchView默认是否自动缩小为图标</span></span><br><span class="line">      sv.setIconifiedByDefault(<span class="keyword">false</span>);</span><br><span class="line">      <span class="comment">// 设置该SearchView显示搜索按钮</span></span><br><span class="line">      sv.setSubmitButtonEnabled(<span class="keyword">true</span>);</span><br><span class="line">      <span class="comment">// 设置该SearchView内默认显示的提示文本</span></span><br><span class="line">      sv.setQueryHint(<span class="string">"查找"</span>);</span><br><span class="line">      <span class="comment">// 为该SearchView组件设置事件监听器</span></span><br><span class="line">      sv.setOnQueryTextListener(<span class="keyword">new</span> OnQueryTextListener()</span><br><span class="line">      &#123;</span><br><span class="line">         <span class="comment">// 用户输入字符时激发该方法</span></span><br><span class="line">         <span class="meta">@Override</span></span><br><span class="line">         <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">onQueryTextChange</span><span class="params">(String newText)</span></span></span><br><span class="line"><span class="function">         </span>&#123;</span><br><span class="line">            <span class="comment">// 如果newText不是长度为0的字符串</span></span><br><span class="line">            <span class="keyword">if</span> (TextUtils.isEmpty(newText))</span><br><span class="line">            &#123;</span><br><span class="line">               <span class="comment">// 清除ListView的过滤</span></span><br><span class="line">               lv.clearTextFilter();</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">               <span class="comment">// 使用用户输入的内容对ListView的列表项进行过滤</span></span><br><span class="line">               lv.setFilterText(newText);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">         &#125;</span><br><span class="line">         <span class="comment">// 单击搜索按钮时激发该方法</span></span><br><span class="line">         <span class="meta">@Override</span></span><br><span class="line">         <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">onQueryTextSubmit</span><span class="params">(String query)</span></span></span><br><span class="line"><span class="function">         </span>&#123;</span><br><span class="line">            <span class="comment">// 实际应用中应该在该方法内执行实际查询</span></span><br><span class="line">            <span class="comment">// 此处仅使用Toast显示用户输入的查询内容</span></span><br><span class="line">            Toast.makeText(MainActivity.<span class="keyword">this</span>, <span class="string">"您的选择是:"</span> + query</span><br><span class="line">                  , Toast.LENGTH_SHORT).show();</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">         &#125;</span><br><span class="line">      &#125;);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://s2.ax1x.com/2019/10/30/K5pKBQ.png" alt="K5pKBQ.png"></p>
<p>定义SearchView组件，并为该组件定义ListView组件，用于显示自动完成列表。设置监听器，并未组件恰东了搜索按钮，重写onQueryTextChange()、onQueryTextSubmit()方法用于SearchView时间提供响应</p>
<h3 id="TabHost（选项卡）"><a href="#TabHost（选项卡）" class="headerlink" title="TabHost（选项卡）"></a>TabHost（选项卡）</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">TabHost</span></span></span><br><span class="line"><span class="tag">   <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:id</span>=<span class="string">"@android:id/tabhost"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_weight</span>=<span class="string">"1"</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">LinearLayout</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:orientation</span>=<span class="string">"vertical"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">TabWidget</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:id</span>=<span class="string">"@android:id/tabs"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">FrameLayout</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:id</span>=<span class="string">"@android:id/tabcontent"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span>&gt;</span></span><br><span class="line">         <span class="comment">&lt;!-- 定义第一个标签页的内容 --&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">LinearLayout</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:id</span>=<span class="string">"@+id/tab01"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:orientation</span>=<span class="string">"vertical"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">               <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">               <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">               <span class="attr">android:text</span>=<span class="string">"钢铁侠 - 2019/05/01"</span></span></span><br><span class="line"><span class="tag">               <span class="attr">android:textSize</span>=<span class="string">"11pt"</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">               <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">               <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">               <span class="attr">android:text</span>=<span class="string">"绿巨人 - 2019/05/02"</span></span></span><br><span class="line"><span class="tag">               <span class="attr">android:textSize</span>=<span class="string">"11pt"</span> /&gt;</span></span><br><span class="line">         <span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br><span class="line">         <span class="comment">&lt;!-- 定义第二个标签页的内容 --&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">LinearLayout</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:id</span>=<span class="string">"@+id/tab02"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:orientation</span>=<span class="string">"vertical"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">               <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">               <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">               <span class="attr">android:text</span>=<span class="string">"美国队长  - 2019/04/30"</span></span></span><br><span class="line"><span class="tag">               <span class="attr">android:textSize</span>=<span class="string">"11pt"</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">               <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">               <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">               <span class="attr">android:text</span>=<span class="string">"黑寡妇 - 2019/04/29"</span></span></span><br><span class="line"><span class="tag">               <span class="attr">android:textSize</span>=<span class="string">"11pt"</span> /&gt;</span></span><br><span class="line">         <span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br><span class="line">         <span class="comment">&lt;!-- 定义第三个标签页的内容 --&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">LinearLayout</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:id</span>=<span class="string">"@+id/tab03"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:orientation</span>=<span class="string">"vertical"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:textSize</span>=<span class="string">"11pt"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">               <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">               <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">               <span class="attr">android:text</span>=<span class="string">"惊奇队长 - 2019/05/03"</span></span></span><br><span class="line"><span class="tag">               <span class="attr">android:textSize</span>=<span class="string">"11pt"</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">               <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">               <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">               <span class="attr">android:text</span>=<span class="string">"雷神  - 2019/05/04"</span></span></span><br><span class="line"><span class="tag">               <span class="attr">android:textSize</span>=<span class="string">"11pt"</span> /&gt;</span></span><br><span class="line">         <span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">FrameLayout</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">TabHost</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.crazyit.ui;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.app.TabActivity;</span><br><span class="line"><span class="keyword">import</span> android.os.Bundle;</span><br><span class="line"><span class="keyword">import</span> android.widget.TabHost;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">TabActivity</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">      setContentView(R.layout.main);</span><br><span class="line">      <span class="comment">// 获取该Activity里面的TabHost组件</span></span><br><span class="line">      TabHost tabHost = getTabHost();</span><br><span class="line">      <span class="comment">// 创建第一个Tab页</span></span><br><span class="line">      TabHost.TabSpec tab1 = tabHost.newTabSpec(<span class="string">"tab1"</span>)</span><br><span class="line">            .setIndicator(<span class="string">"已接电话"</span>) <span class="comment">// 设置标题</span></span><br><span class="line">            .setContent(R.id.tab01); <span class="comment">//设置内容</span></span><br><span class="line">      <span class="comment">// 添加第一个标签页</span></span><br><span class="line">      tabHost.addTab(tab1);</span><br><span class="line">      TabHost.TabSpec tab2 = tabHost.newTabSpec(<span class="string">"tab2"</span>)</span><br><span class="line">            <span class="comment">// 在标签标题上放置图标</span></span><br><span class="line">            .setIndicator(<span class="string">"呼出电话"</span>, getResources()</span><br><span class="line">                  .getDrawable(R.drawable.ic_launcher))</span><br><span class="line">            .setContent(R.id.tab02);</span><br><span class="line">      <span class="comment">// 添加第二个标签页</span></span><br><span class="line">      tabHost.addTab(tab2);</span><br><span class="line">      TabHost.TabSpec tab3 = tabHost.newTabSpec(<span class="string">"tab3"</span>)</span><br><span class="line">            .setIndicator(<span class="string">"未接电话"</span>)</span><br><span class="line">            .setContent(R.id.tab03);</span><br><span class="line">      <span class="comment">// 添加第三个标签页</span></span><br><span class="line">      tabHost.addTab(tab3);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://s2.ax1x.com/2019/10/30/K5pM7j.png" alt="K5pM7j.png"></p>
<p><img src="https://s2.ax1x.com/2019/10/30/K5plAs.png" alt="K5plAs.png"></p>
<p><img src="https://s2.ax1x.com/2019/10/30/K5p1Nn.png" alt="K5p1Nn.png"></p>
<p>TabHost容器组合了TabWidget和FrameLayout。其中TabWidget用于定义选项卡的标题条、FrameLayout用于“折叠组合多个选项页面。使用setConnect()方法设置标签页内容</p>
<h3 id="ScrollView（滚动视图）"><a href="#ScrollView（滚动视图）" class="headerlink" title="ScrollView（滚动视图）"></a>ScrollView（滚动视图）</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 定义ScrollView，为里面的组件添加垂直滚动条 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">ScrollView</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 定义HorizontalScrollView，为里面的组件添加水平滚动条 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">HorizontalScrollView</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">LinearLayout</span> <span class="attr">android:orientation</span>=<span class="string">"vertical"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">TextView</span> <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span> </span></span><br><span class="line"><span class="tag">   <span class="attr">android:text</span>=<span class="string">"Python"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:textSize</span>=<span class="string">"30dp"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">TextView</span> <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span> </span></span><br><span class="line"><span class="tag">   <span class="attr">android:text</span>=<span class="string">"Python"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:textSize</span>=<span class="string">"30dp"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">TextView</span> <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span> </span></span><br><span class="line"><span class="tag">   <span class="attr">android:text</span>=<span class="string">"Python"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:textSize</span>=<span class="string">"30dp"</span> /&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">TextView</span> <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:text</span>=<span class="string">"Python"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:textSize</span>=<span class="string">"30dp"</span> /&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">TextView</span> <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:text</span>=<span class="string">"Python"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:textSize</span>=<span class="string">"30dp"</span> /&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">TextView</span> <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:text</span>=<span class="string">"Python"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:textSize</span>=<span class="string">"30dp"</span> /&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">TextView</span> <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:text</span>=<span class="string">"Python"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:textSize</span>=<span class="string">"30dp"</span> /&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">TextView</span> <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:text</span>=<span class="string">"Python"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:textSize</span>=<span class="string">"30dp"</span> /&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">TextView</span> <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:text</span>=<span class="string">"Python"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:textSize</span>=<span class="string">"30dp"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">TextView</span> <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span> </span></span><br><span class="line"><span class="tag">   <span class="attr">android:text</span>=<span class="string">"Python"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:textSize</span>=<span class="string">"30dp"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">TextView</span> <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span> </span></span><br><span class="line"><span class="tag">   <span class="attr">android:text</span>=<span class="string">"Python"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:textSize</span>=<span class="string">"30dp"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">TextView</span> <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span> </span></span><br><span class="line"><span class="tag">   <span class="attr">android:text</span>=<span class="string">"Python"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:textSize</span>=<span class="string">"30dp"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">TextView</span> <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span> </span></span><br><span class="line"><span class="tag">   <span class="attr">android:text</span>=<span class="string">"Python"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:textSize</span>=<span class="string">"30dp"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">TextView</span> <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span> </span></span><br><span class="line"><span class="tag">   <span class="attr">android:text</span>=<span class="string">"Python"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:textSize</span>=<span class="string">"30dp"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">TextView</span> <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span> </span></span><br><span class="line"><span class="tag">   <span class="attr">android:text</span>=<span class="string">"Python"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:textSize</span>=<span class="string">"30dp"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">TextView</span> <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span> </span></span><br><span class="line"><span class="tag">   <span class="attr">android:text</span>=<span class="string">"Python"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:textSize</span>=<span class="string">"30dp"</span> /&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">TextView</span> <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span> </span></span><br><span class="line"><span class="tag">   <span class="attr">android:text</span>=<span class="string">"Python"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:textSize</span>=<span class="string">"30dp"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">TextView</span> <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span> </span></span><br><span class="line"><span class="tag">   <span class="attr">android:text</span>=<span class="string">"Python"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:textSize</span>=<span class="string">"30dp"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">TextView</span> <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span> </span></span><br><span class="line"><span class="tag">   <span class="attr">android:text</span>=<span class="string">"Python"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:textSize</span>=<span class="string">"30dp"</span> /&gt;</span>             </span><br><span class="line"><span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">HorizontalScrollView</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ScrollView</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="https://s2.ax1x.com/2019/10/30/K5p3hq.png" alt="K5p3hq.png"></p>
<p>实现垂直水平滚动</p>
<h3 id="Notification（手机状态栏）"><a href="#Notification（手机状态栏）" class="headerlink" title="Notification（手机状态栏）"></a>Notification（手机状态栏）</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.crazyit.ui;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.app.Activity;</span><br><span class="line"><span class="keyword">import</span> android.app.Notification;</span><br><span class="line"><span class="keyword">import</span> android.app.NotificationManager;</span><br><span class="line"><span class="keyword">import</span> android.app.PendingIntent;</span><br><span class="line"><span class="keyword">import</span> android.content.Intent;</span><br><span class="line"><span class="keyword">import</span> android.net.Uri;</span><br><span class="line"><span class="keyword">import</span> android.os.Bundle;</span><br><span class="line"><span class="keyword">import</span> android.view.View;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">Activity</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">   <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> NOTIFICATION_ID = <span class="number">0x123</span>;</span><br><span class="line">   NotificationManager nm;</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">      setContentView(R.layout.main);</span><br><span class="line">      <span class="comment">// 获取系统的NotificationManager服务</span></span><br><span class="line">      nm = (NotificationManager)</span><br><span class="line">            getSystemService(NOTIFICATION_SERVICE);</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="comment">// 为发送通知的按钮的点击事件定义事件处理方法</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">send</span><span class="params">(View source)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      <span class="comment">// 创建一个启动其他Activity的Intent</span></span><br><span class="line">      Intent intent = <span class="keyword">new</span> Intent(MainActivity.<span class="keyword">this</span></span><br><span class="line">            , OtherActivity.class);</span><br><span class="line">      PendingIntent pi = PendingIntent.getActivity(</span><br><span class="line">            MainActivity.<span class="keyword">this</span>, <span class="number">0</span>, intent, <span class="number">0</span>);</span><br><span class="line">      Notification notify = <span class="keyword">new</span> Notification.Builder(<span class="keyword">this</span>)</span><br><span class="line">         <span class="comment">// 设置打开该通知，该通知自动消失</span></span><br><span class="line">         .setAutoCancel(<span class="keyword">true</span>)</span><br><span class="line">         <span class="comment">// 设置显示在状态栏的通知提示信息</span></span><br><span class="line">         .setTicker(<span class="string">"有新消息"</span>)</span><br><span class="line">         <span class="comment">// 设置通知的图标</span></span><br><span class="line">         .setSmallIcon(R.drawable.notify)</span><br><span class="line">         <span class="comment">// 设置通知内容的标题</span></span><br><span class="line">         .setContentTitle(<span class="string">"一条新通知"</span>)</span><br><span class="line">         <span class="comment">// 设置通知内容</span></span><br><span class="line">         .setContentText(<span class="string">"恭喜你，您获得了人民奖学金一等奖"</span>)</span><br><span class="line">         <span class="comment">// 设置使用系统默认的声音、默认LED灯</span></span><br><span class="line">         <span class="comment">// .setDefaults(Notification.DEFAULT_SOUND</span></span><br><span class="line">         <span class="comment">// |Notification.DEFAULT_LIGHTS)</span></span><br><span class="line">         <span class="comment">// 设置通知的自定义声音</span></span><br><span class="line">         .setSound(Uri.parse(<span class="string">"android.resource://org.crazyit.ui/"</span></span><br><span class="line">            + R.raw.msg))</span><br><span class="line">         .setWhen(System.currentTimeMillis())</span><br><span class="line">         <span class="comment">// 设改通知将要启动程序的Intent</span></span><br><span class="line">         .setContentIntent(pi)  <span class="comment">// ①</span></span><br><span class="line">         .build();</span><br><span class="line">      <span class="comment">// 发送通知</span></span><br><span class="line">      nm.notify(NOTIFICATION_ID, notify);</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="comment">// 为删除通知的按钮的点击事件定义事件处理方法</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">del</span><span class="params">(View v)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      <span class="comment">// 取消通知</span></span><br><span class="line">      nm.cancel(NOTIFICATION_ID);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://s2.ax1x.com/2019/10/30/K5pG90.png" alt="K5pG90.png"></p>
<p><img src="https://s2.ax1x.com/2019/10/30/K5pJ3V.png" alt="K5pJ3V.png"></p>
<p><img src="https://s2.ax1x.com/2019/10/30/K5pYcT.png" alt="K5pYcT.png"></p>
<p> 设置Notification的图表、标题、发送时间，声音提示、震动提示、闪光灯等</p>
<h3 id="对话框"><a href="#对话框" class="headerlink" title="对话框"></a>对话框</h3><h3 id="AlertDialog对话框"><a href="#AlertDialog对话框" class="headerlink" title="AlertDialog对话框"></a>AlertDialog对话框</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">TableLayout</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">          <span class="attr">android:id</span>=<span class="string">"@+id/loginForm"</span></span></span><br><span class="line"><span class="tag">          <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">          <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">TableRow</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:text</span>=<span class="string">"用户名:"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:textSize</span>=<span class="string">"10pt"</span>/&gt;</span></span><br><span class="line">      <span class="comment">&lt;!-- 输入用户名的文本框 --&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">EditText</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:hint</span>=<span class="string">"请填写登录账号"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:selectAllOnFocus</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">TableRow</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">TableRow</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:text</span>=<span class="string">"密码:"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:textSize</span>=<span class="string">"10pt"</span>/&gt;</span></span><br><span class="line">      <span class="comment">&lt;!-- 输入密码的文本框 --&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">EditText</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:hint</span>=<span class="string">"请填写密码"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:password</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">TableRow</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">TableRow</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:text</span>=<span class="string">"电话号码:"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:textSize</span>=<span class="string">"10pt"</span>/&gt;</span></span><br><span class="line">      <span class="comment">&lt;!-- 输入电话号码的文本框 --&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">EditText</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:hint</span>=<span class="string">"请填写您的电话号码"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:selectAllOnFocus</span>=<span class="string">"true"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:phoneNumber</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">TableRow</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">TableLayout</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.crazyit.ui;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.app.Activity;</span><br><span class="line"><span class="keyword">import</span> android.app.AlertDialog;</span><br><span class="line"><span class="keyword">import</span> android.content.DialogInterface;</span><br><span class="line"><span class="keyword">import</span> android.content.DialogInterface.OnClickListener;</span><br><span class="line"><span class="keyword">import</span> android.os.Bundle;</span><br><span class="line"><span class="keyword">import</span> android.view.Menu;</span><br><span class="line"><span class="keyword">import</span> android.view.MenuItem;</span><br><span class="line"><span class="keyword">import</span> android.view.View;</span><br><span class="line"><span class="keyword">import</span> android.widget.ArrayAdapter;</span><br><span class="line"><span class="keyword">import</span> android.widget.TableLayout;</span><br><span class="line"><span class="keyword">import</span> android.widget.TextView;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">Activity</span> </span>&#123;</span><br><span class="line">   TextView show;</span><br><span class="line">   String[] items = <span class="keyword">new</span> String[] &#123;</span><br><span class="line">         <span class="string">"感知器"</span>, <span class="string">"线性单元和梯度下降"</span>,</span><br><span class="line">         <span class="string">"神经网络和反向传播算法"</span>,</span><br><span class="line">         <span class="string">"卷积神经网络"</span> &#125;;</span><br><span class="line"></span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">      <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">      setContentView(R.layout.main);</span><br><span class="line">      show = (TextView) findViewById(R.id.show);</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">simple</span><span class="params">(View source)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      AlertDialog.Builder builder = <span class="keyword">new</span> AlertDialog.Builder(<span class="keyword">this</span>)</span><br><span class="line">         <span class="comment">// 设置对话框标题</span></span><br><span class="line">         .setTitle(<span class="string">"简单对话框"</span>)</span><br><span class="line">         <span class="comment">// 设置图标</span></span><br><span class="line">         .setIcon(R.drawable.tools)</span><br><span class="line">         .setMessage(<span class="string">"对话框的测试内容\n第二行内容"</span>);</span><br><span class="line">      <span class="comment">// 为AlertDialog.Builder添加“确定”按钮</span></span><br><span class="line">      setPositiveButton(builder);</span><br><span class="line">      <span class="comment">// 为AlertDialog.Builder添加“取消”按钮</span></span><br><span class="line">      setNegativeButton(builder)</span><br><span class="line">         .create()</span><br><span class="line">         .show();</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">simpleList</span><span class="params">(View source)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      AlertDialog.Builder builder = <span class="keyword">new</span> AlertDialog.Builder(<span class="keyword">this</span>)</span><br><span class="line">            <span class="comment">// 设置对话框标题</span></span><br><span class="line">            .setTitle(<span class="string">"简单列表对话框"</span>)</span><br><span class="line">                  <span class="comment">// 设置图标</span></span><br><span class="line">            .setIcon(R.drawable.tools)</span><br><span class="line">                  <span class="comment">// 设置简单的列表项内容</span></span><br><span class="line">            .setItems(items, <span class="keyword">new</span> OnClickListener()</span><br><span class="line">            &#123;</span><br><span class="line">               <span class="meta">@Override</span></span><br><span class="line">               <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(DialogInterface dialog, <span class="keyword">int</span> which)</span></span></span><br><span class="line"><span class="function">               </span>&#123;</span><br><span class="line">                  show.setText(<span class="string">"你选中了《"</span> + items[which] + <span class="string">"》"</span>);</span><br><span class="line">               &#125;</span><br><span class="line">            &#125;);</span><br><span class="line">      <span class="comment">// 为AlertDialog.Builder添加“确定”按钮</span></span><br><span class="line">      setPositiveButton(builder);</span><br><span class="line">      <span class="comment">// 为AlertDialog.Builder添加“取消”按钮</span></span><br><span class="line">      setNegativeButton(builder)</span><br><span class="line">            .create()</span><br><span class="line">            .show();</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">singleChoice</span><span class="params">(View source)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      AlertDialog.Builder builder = <span class="keyword">new</span> AlertDialog.Builder(<span class="keyword">this</span>)</span><br><span class="line">            <span class="comment">// 设置对话框标题</span></span><br><span class="line">            .setTitle(<span class="string">"单选列表项对话框"</span>)</span><br><span class="line">                  <span class="comment">// 设置图标</span></span><br><span class="line">            .setIcon(R.drawable.tools)</span><br><span class="line">                  <span class="comment">// 设置单选列表项，默认选中第二项（索引为1）</span></span><br><span class="line">            .setSingleChoiceItems(items, <span class="number">1</span>, <span class="keyword">new</span> OnClickListener()</span><br><span class="line">            &#123;</span><br><span class="line">               <span class="meta">@Override</span></span><br><span class="line">               <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(DialogInterface dialog, <span class="keyword">int</span> which)</span></span></span><br><span class="line"><span class="function">               </span>&#123;</span><br><span class="line">                  show.setText(<span class="string">"你选中了《"</span> + items[which] + <span class="string">"》"</span>);</span><br><span class="line">               &#125;</span><br><span class="line">            &#125;);</span><br><span class="line">         <span class="comment">// 为AlertDialog.Builder添加“确定”按钮</span></span><br><span class="line">         setPositiveButton(builder);</span><br><span class="line">         <span class="comment">// 为AlertDialog.Builder添加“取消”按钮</span></span><br><span class="line">         setNegativeButton(builder)</span><br><span class="line">            .create()</span><br><span class="line">            .show();</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">multiChoice</span><span class="params">(View source)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      AlertDialog.Builder builder = <span class="keyword">new</span> AlertDialog.Builder(<span class="keyword">this</span>)</span><br><span class="line">            <span class="comment">// 设置对话框标题</span></span><br><span class="line">            .setTitle(<span class="string">"多选列表项对话框"</span>)</span><br><span class="line">                  <span class="comment">// 设置图标</span></span><br><span class="line">            .setIcon(R.drawable.tools)</span><br><span class="line">                  <span class="comment">// 设置多选列表项，设置勾选第2项、第4项</span></span><br><span class="line">            .setMultiChoiceItems(items</span><br><span class="line">                  , <span class="keyword">new</span> <span class="keyword">boolean</span>[]&#123;<span class="keyword">false</span> , <span class="keyword">true</span> ,<span class="keyword">false</span> ,<span class="keyword">true</span>&#125;, <span class="keyword">null</span>);</span><br><span class="line">      <span class="comment">// 为AlertDialog.Builder添加“确定”按钮</span></span><br><span class="line">      setPositiveButton(builder);</span><br><span class="line">      <span class="comment">// 为AlertDialog.Builder添加“取消”按钮</span></span><br><span class="line">      setNegativeButton(builder)</span><br><span class="line">            .create()</span><br><span class="line">            .show();</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">customList</span><span class="params">(View source)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      AlertDialog.Builder builder = <span class="keyword">new</span> AlertDialog.Builder(<span class="keyword">this</span>)</span><br><span class="line">            <span class="comment">// 设置对话框标题</span></span><br><span class="line">            .setTitle(<span class="string">"自定义列表项对话框"</span>)</span><br><span class="line">                  <span class="comment">// 设置图标</span></span><br><span class="line">            .setIcon(R.drawable.tools)</span><br><span class="line">                  <span class="comment">// 设置自定义列表项</span></span><br><span class="line">            .setAdapter(<span class="keyword">new</span> ArrayAdapter&lt;String&gt;(<span class="keyword">this</span></span><br><span class="line">                  , R.layout.array_item</span><br><span class="line">                  , items), <span class="keyword">null</span>);</span><br><span class="line">      <span class="comment">// 为AlertDialog.Builder添加“确定”按钮</span></span><br><span class="line">      setPositiveButton(builder);</span><br><span class="line">      <span class="comment">// 为AlertDialog.Builder添加“取消”按钮</span></span><br><span class="line">      setNegativeButton(builder)</span><br><span class="line">            .create()</span><br><span class="line">            .show();</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">customView</span><span class="params">(View source)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      <span class="comment">// 装载app\src\main\res\layout\login.xml界面布局文件</span></span><br><span class="line">      TableLayout loginForm = (TableLayout)getLayoutInflater()</span><br><span class="line">            .inflate( R.layout.login, <span class="keyword">null</span>);</span><br><span class="line">      <span class="keyword">new</span> AlertDialog.Builder(<span class="keyword">this</span>)</span><br><span class="line">            <span class="comment">// 设置对话框的图标</span></span><br><span class="line">            .setIcon(R.drawable.tools)</span><br><span class="line">            <span class="comment">// 设置对话框的标题</span></span><br><span class="line">            .setTitle(<span class="string">"自定义View对话框"</span>)</span><br><span class="line">            <span class="comment">// 设置对话框显示的View对象</span></span><br><span class="line">            .setView(loginForm)</span><br><span class="line">            <span class="comment">// 为对话框设置一个“确定”按钮</span></span><br><span class="line">            .setPositiveButton(<span class="string">"登录"</span>, <span class="keyword">new</span> OnClickListener() &#123;</span><br><span class="line">               <span class="meta">@Override</span></span><br><span class="line">               <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(DialogInterface dialog,</span></span></span><br><span class="line"><span class="function"><span class="params">                  <span class="keyword">int</span> which)</span> </span>&#123;</span><br><span class="line">                  <span class="comment">// 此处可执行登录处理</span></span><br><span class="line">               &#125;</span><br><span class="line">            &#125;)</span><br><span class="line">            <span class="comment">// 为对话框设置一个“取消”按钮</span></span><br><span class="line">            .setNegativeButton(<span class="string">"取消"</span>, <span class="keyword">new</span> OnClickListener()</span><br><span class="line">            &#123;</span><br><span class="line">               <span class="meta">@Override</span></span><br><span class="line">               <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(DialogInterface dialog,</span></span></span><br><span class="line"><span class="function"><span class="params">                              <span class="keyword">int</span> which)</span></span></span><br><span class="line"><span class="function">               </span>&#123;</span><br><span class="line">                  <span class="comment">// 取消登录，不做任何事情</span></span><br><span class="line">               &#125;</span><br><span class="line">            &#125;)</span><br><span class="line">            <span class="comment">// 创建并显示对话框</span></span><br><span class="line">            .create()</span><br><span class="line">            .show();</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">   <span class="keyword">private</span> AlertDialog.<span class="function">Builder <span class="title">setPositiveButton</span><span class="params">(</span></span></span><br><span class="line"><span class="function"><span class="params">         AlertDialog.Builder builder)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      <span class="comment">// 调用setPositiveButton方法添加“确定”按钮</span></span><br><span class="line">      <span class="keyword">return</span> builder.setPositiveButton(<span class="string">"确定"</span>, <span class="keyword">new</span> OnClickListener()</span><br><span class="line">      &#123;</span><br><span class="line">         <span class="meta">@Override</span></span><br><span class="line">         <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(DialogInterface dialog, <span class="keyword">int</span> which)</span></span></span><br><span class="line"><span class="function">         </span>&#123;</span><br><span class="line">            show.setText(<span class="string">"单击了【确定】按钮！"</span>);</span><br><span class="line">         &#125;</span><br><span class="line">      &#125;);</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="keyword">private</span> AlertDialog.<span class="function">Builder <span class="title">setNegativeButton</span><span class="params">(</span></span></span><br><span class="line"><span class="function"><span class="params">         AlertDialog.Builder builder)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      <span class="comment">// 调用setNegativeButton方法添加“取消”按钮</span></span><br><span class="line">      <span class="keyword">return</span> builder.setNegativeButton(<span class="string">"取消"</span>, <span class="keyword">new</span> OnClickListener()</span><br><span class="line">      &#123;</span><br><span class="line">         <span class="meta">@Override</span></span><br><span class="line">         <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(DialogInterface dialog, <span class="keyword">int</span> which)</span></span></span><br><span class="line"><span class="function">         </span>&#123;</span><br><span class="line">            show.setText(<span class="string">"单击了【取消】按钮！"</span>);</span><br><span class="line">         &#125;</span><br><span class="line">      &#125;);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://s2.ax1x.com/2019/10/30/K5ptjU.png" alt="K5ptjU.png"></p>
<p><img src="https://s2.ax1x.com/2019/10/30/K5pUuF.png" alt="K5pUuF.png"></p>
<p>设置图标、标题等属性，添加变失性按钮</p>
<p><img src="https://s2.ax1x.com/2019/10/30/K5VJ3j.png" alt="K5VJ3j.png"></p>
<p>调用setItems()方法为对话框设置多个列表项</p>
<p><img src="https://s2.ax1x.com/2019/10/30/K5VGCQ.png" alt="K5VGCQ.png"></p>
<p>调用setSingleChoiceItems()方法创建单选列表表项的对话框，闯入ListAdapter参数提供多个列表项组件</p>
<p><img src="https://s2.ax1x.com/2019/10/30/K5V34g.png" alt="K5V34g.png"></p>
<p>调用setMultiItems（）方法传入数组参数和数据库查询结果集参数</p>
<p><img src="https://s2.ax1x.com/2019/10/30/K5Vtvn.png" alt="K5Vtvn.png"></p>
<p>调用setAdapter()方法设置对话框的内容，传入Adapter参数负责提供多个列表项组件</p>
<p><img src="https://s2.ax1x.com/2019/10/30/K5VYgs.png" alt="K5VYgs.png"></p>
<p>使用setView()方法作为对话框的内容，调用setView()设置自定义视图</p>
<h3 id="对话框风格的窗口"><a href="#对话框风格的窗口" class="headerlink" title="对话框风格的窗口"></a>对话框风格的窗口</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.crazyit.ui;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.app.Activity;</span><br><span class="line"><span class="keyword">import</span> android.os.Bundle;</span><br><span class="line"><span class="keyword">import</span> android.view.View;</span><br><span class="line"><span class="keyword">import</span> android.view.View.OnClickListener;</span><br><span class="line"><span class="keyword">import</span> android.widget.Button;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">Activity</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">      setContentView(R.layout.main);</span><br><span class="line">      Button bn = (Button) findViewById(R.id.bn);</span><br><span class="line">      <span class="comment">// 为按钮绑定事件监听器</span></span><br><span class="line">      bn.setOnClickListener(<span class="keyword">new</span> OnClickListener()</span><br><span class="line">      &#123;</span><br><span class="line">         <span class="meta">@Override</span></span><br><span class="line">         <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View arg0)</span></span></span><br><span class="line"><span class="function">         </span>&#123;</span><br><span class="line">            <span class="comment">// 结束该Activity</span></span><br><span class="line">            finish();</span><br><span class="line">         &#125;</span><br><span class="line">      &#125;);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://s2.ax1x.com/2019/10/30/K5VUuq.png" alt="K5VUuq.png"></p>
<h3 id="PopupWindow"><a href="#PopupWindow" class="headerlink" title="PopupWindow"></a>PopupWindow</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.crazyit.ui;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.app.Activity;</span><br><span class="line"><span class="keyword">import</span> android.os.Bundle;</span><br><span class="line"><span class="keyword">import</span> android.view.Gravity;</span><br><span class="line"><span class="keyword">import</span> android.view.View;</span><br><span class="line"><span class="keyword">import</span> android.view.View.OnClickListener;</span><br><span class="line"><span class="keyword">import</span> android.widget.Button;</span><br><span class="line"><span class="keyword">import</span> android.widget.PopupWindow;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">Activity</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">      setContentView(R.layout.main);</span><br><span class="line">      <span class="comment">// 装载R.layout.popup对应的界面布局</span></span><br><span class="line">      View root = <span class="keyword">this</span>.getLayoutInflater().inflate(R.layout.popup, <span class="keyword">null</span>);</span><br><span class="line">      <span class="comment">// 创建PopupWindow对象</span></span><br><span class="line">      <span class="keyword">final</span> PopupWindow popup = <span class="keyword">new</span> PopupWindow(root, <span class="number">560</span>, <span class="number">720</span>);</span><br><span class="line">      Button button = (Button) findViewById(R.id.bn);</span><br><span class="line">      button.setOnClickListener(<span class="keyword">new</span> OnClickListener()</span><br><span class="line">      &#123;</span><br><span class="line">         <span class="meta">@Override</span></span><br><span class="line">         <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View v)</span></span></span><br><span class="line"><span class="function">         </span>&#123;</span><br><span class="line">            <span class="comment">// 以下拉方式显示</span></span><br><span class="line">            <span class="comment">// popup.showAsDropDown(v);</span></span><br><span class="line">            <span class="comment">//将PopupWindow显示在指定位置</span></span><br><span class="line">            popup.showAtLocation(findViewById(R.id.bn),</span><br><span class="line">               Gravity.CENTER, <span class="number">20</span>,<span class="number">20</span>);</span><br><span class="line">         &#125;</span><br><span class="line">      &#125;);</span><br><span class="line">      <span class="comment">// 获取PopupWindow中的“关闭”按钮</span></span><br><span class="line">      root.findViewById(R.id.close).setOnClickListener(</span><br><span class="line">         <span class="keyword">new</span> View.OnClickListener()</span><br><span class="line">         &#123;</span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View v)</span></span></span><br><span class="line"><span class="function">            </span>&#123;</span><br><span class="line">               <span class="comment">// 关闭PopupWindow</span></span><br><span class="line">               popup.dismiss(); <span class="comment">// ①</span></span><br><span class="line">            &#125;</span><br><span class="line">         &#125;);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://s2.ax1x.com/2019/10/30/K5VaD0.png" alt="K5VaD0.png"></p>
<p>popup.dismiss负责销毁。隐藏对象关闭时会自动关闭窗口</p>
<h3 id="DatePickerDialog-amp-TimePickerDialog"><a href="#DatePickerDialog-amp-TimePickerDialog" class="headerlink" title="DatePickerDialog &amp; TimePickerDialog"></a>DatePickerDialog &amp; TimePickerDialog</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.crazyit.ui;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.app.Activity;</span><br><span class="line"><span class="keyword">import</span> android.app.DatePickerDialog;</span><br><span class="line"><span class="keyword">import</span> android.app.TimePickerDialog;</span><br><span class="line"><span class="keyword">import</span> android.os.Bundle;</span><br><span class="line"><span class="keyword">import</span> android.view.View;</span><br><span class="line"><span class="keyword">import</span> android.view.View.OnClickListener;</span><br><span class="line"><span class="keyword">import</span> android.widget.Button;</span><br><span class="line"><span class="keyword">import</span> android.widget.DatePicker;</span><br><span class="line"><span class="keyword">import</span> android.widget.EditText;</span><br><span class="line"><span class="keyword">import</span> android.widget.TimePicker;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Calendar;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">Activity</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">      setContentView(R.layout.main);</span><br><span class="line">      Button dateBn = (Button)findViewById(R.id.dateBn);</span><br><span class="line">      Button timeBn = (Button)findViewById(R.id.timeBn);</span><br><span class="line">      <span class="comment">//为“设置日期”按钮绑定监听器</span></span><br><span class="line">      dateBn.setOnClickListener(<span class="keyword">new</span> OnClickListener()</span><br><span class="line">      &#123;</span><br><span class="line">         <span class="meta">@Override</span></span><br><span class="line">         <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View source)</span></span></span><br><span class="line"><span class="function">         </span>&#123;</span><br><span class="line">            Calendar c = Calendar.getInstance();</span><br><span class="line">            <span class="comment">// 直接创建一个DatePickerDialog对话框实例，并将它显示出来</span></span><br><span class="line">            <span class="keyword">new</span> DatePickerDialog(MainActivity.<span class="keyword">this</span>,</span><br><span class="line">               <span class="comment">// 绑定监听器</span></span><br><span class="line">               <span class="keyword">new</span> DatePickerDialog.OnDateSetListener()</span><br><span class="line">               &#123;</span><br><span class="line">                  <span class="meta">@Override</span></span><br><span class="line">                  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onDateSet</span><span class="params">(DatePicker dp, <span class="keyword">int</span> year,</span></span></span><br><span class="line"><span class="function"><span class="params">                     <span class="keyword">int</span> month, <span class="keyword">int</span> dayOfMonth)</span></span></span><br><span class="line"><span class="function">                  </span>&#123;</span><br><span class="line">                     EditText show = (EditText) findViewById(R.id.show);</span><br><span class="line">                     show.setText(<span class="string">"您选择了："</span> + year + <span class="string">"年"</span> + (month + <span class="number">1</span>)</span><br><span class="line">                        + <span class="string">"月"</span> + dayOfMonth + <span class="string">"日"</span>);</span><br><span class="line">                  &#125;</span><br><span class="line">               &#125;</span><br><span class="line">               <span class="comment">//设置初始日期</span></span><br><span class="line">               , c.get(Calendar.YEAR)</span><br><span class="line">               , c.get(Calendar.MONTH)</span><br><span class="line">               , c.get(Calendar.DAY_OF_MONTH)).show();</span><br><span class="line">         &#125;</span><br><span class="line">      &#125;);</span><br><span class="line">      <span class="comment">//为“设置时间”按钮绑定监听器</span></span><br><span class="line">      timeBn.setOnClickListener(<span class="keyword">new</span> OnClickListener()</span><br><span class="line">      &#123;</span><br><span class="line">         <span class="meta">@Override</span></span><br><span class="line">         <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View source)</span></span></span><br><span class="line"><span class="function">         </span>&#123;</span><br><span class="line">            Calendar c = Calendar.getInstance();</span><br><span class="line">            <span class="comment">// 创建一个TimePickerDialog实例，并把它显示出来</span></span><br><span class="line">            <span class="keyword">new</span> TimePickerDialog(MainActivity.<span class="keyword">this</span>,</span><br><span class="line">               <span class="comment">// 绑定监听器</span></span><br><span class="line">               <span class="keyword">new</span> TimePickerDialog.OnTimeSetListener()</span><br><span class="line">               &#123;</span><br><span class="line">                  <span class="meta">@Override</span></span><br><span class="line">                  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onTimeSet</span><span class="params">(TimePicker tp, <span class="keyword">int</span> hourOfDay,</span></span></span><br><span class="line"><span class="function"><span class="params">                     <span class="keyword">int</span> minute)</span></span></span><br><span class="line"><span class="function">                  </span>&#123;</span><br><span class="line">                     EditText show = (EditText) findViewById(R.id.show);</span><br><span class="line">                     show.setText(<span class="string">"您选择了："</span> + hourOfDay + <span class="string">"时"</span></span><br><span class="line">                        + minute + <span class="string">"分"</span>);</span><br><span class="line">                  &#125;</span><br><span class="line">               &#125;</span><br><span class="line">               <span class="comment">//设置初始时间</span></span><br><span class="line">               , c.get(Calendar.HOUR_OF_DAY)</span><br><span class="line">               , c.get(Calendar.MINUTE)</span><br><span class="line">               <span class="comment">//true表示采用24小时制</span></span><br><span class="line">               , <span class="keyword">true</span>).show();</span><br><span class="line">         &#125;</span><br><span class="line">      &#125;);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://s2.ax1x.com/2019/10/30/K5VdbV.png" alt="K5VdbV.png"></p>
<p><img src="https://s2.ax1x.com/2019/10/30/K5V0ET.png" alt="K5V0ET.png"></p>
<p><img src="https://s2.ax1x.com/2019/10/30/K5VBUU.png" alt="K5VBUU.png"></p>
<p><img src="https://s2.ax1x.com/2019/10/30/K5VD5F.png" alt="K5VD5F.png"></p>
<p>通过new关键字创建DatePickerDialog实例，调用show()方法将日期选择对话框、时间选择对话框显示出来。绑定监听器，通过监听器获取用户设置的事件。</p>
<h3 id="ProcessDialog"><a href="#ProcessDialog" class="headerlink" title="ProcessDialog"></a>ProcessDialog</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.crazyit.ui;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.app.Activity;</span><br><span class="line"><span class="keyword">import</span> android.app.ProgressDialog;</span><br><span class="line"><span class="keyword">import</span> android.os.Bundle;</span><br><span class="line"><span class="keyword">import</span> android.os.Handler;</span><br><span class="line"><span class="keyword">import</span> android.os.Message;</span><br><span class="line"><span class="keyword">import</span> android.view.View;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">Activity</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">   <span class="keyword">final</span> <span class="keyword">static</span> <span class="keyword">int</span> MAX_PROGRESS = <span class="number">100</span>;</span><br><span class="line">   <span class="comment">// 该程序模拟填充长度为100的数组</span></span><br><span class="line">   <span class="keyword">private</span> <span class="keyword">int</span>[] data = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">50</span>];</span><br><span class="line">   <span class="comment">// 记录进度对话框的完成百分比</span></span><br><span class="line">   <span class="keyword">int</span> progressStatus = <span class="number">0</span>;</span><br><span class="line">   <span class="keyword">int</span> hasData = <span class="number">0</span>;</span><br><span class="line">   ProgressDialog pd1,pd2;</span><br><span class="line">   <span class="comment">// 定义一个负责更新的进度的Handler</span></span><br><span class="line">   Handler handler = <span class="keyword">new</span> Handler()</span><br><span class="line">   &#123;</span><br><span class="line">      <span class="meta">@Override</span></span><br><span class="line">      <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">handleMessage</span><span class="params">(Message msg)</span></span></span><br><span class="line"><span class="function">      </span>&#123;</span><br><span class="line">         <span class="comment">// 表明消息是由该程序发送的</span></span><br><span class="line">         <span class="keyword">if</span> (msg.what == <span class="number">0x123</span>)</span><br><span class="line">         &#123;</span><br><span class="line">            pd2.setProgress(progressStatus);</span><br><span class="line">         &#125;</span><br><span class="line">      &#125;</span><br><span class="line">   &#125;;</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">      setContentView(R.layout.main);</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">showSpinner</span><span class="params">(View source)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      <span class="comment">// 调用静态方法显示环形进度条</span></span><br><span class="line">      ProgressDialog.show(<span class="keyword">this</span>, <span class="string">"任务执行中"</span></span><br><span class="line">            , <span class="string">"任务执行中，请等待"</span>, <span class="keyword">false</span>, <span class="keyword">true</span>); <span class="comment">// ①</span></span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">showIndeterminate</span><span class="params">(View source)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      pd1 = <span class="keyword">new</span> ProgressDialog(MainActivity.<span class="keyword">this</span>);</span><br><span class="line">      <span class="comment">// 设置对话框的标题</span></span><br><span class="line">      pd1.setTitle(<span class="string">"任务正在执行中"</span>);</span><br><span class="line">      <span class="comment">// 设置对话框显示的内容</span></span><br><span class="line">      pd1.setMessage(<span class="string">"任务正在执行中，敬请等待..."</span>);</span><br><span class="line">      <span class="comment">// 设置对话框能用“取消”按钮关闭</span></span><br><span class="line">      pd1.setCancelable(<span class="keyword">true</span>);</span><br><span class="line">      <span class="comment">// 设置对话框的进度条风格</span></span><br><span class="line">      pd1.setProgressStyle(ProgressDialog.STYLE_HORIZONTAL);</span><br><span class="line">      <span class="comment">// 设置对话框的进度条是否显示进度</span></span><br><span class="line">      pd1.setIndeterminate(<span class="keyword">true</span>);</span><br><span class="line">      pd1.show(); <span class="comment">// ②</span></span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">showProgress</span><span class="params">(View source)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      <span class="comment">// 将进度条的完成进度重设为0</span></span><br><span class="line">      progressStatus = <span class="number">0</span>;</span><br><span class="line">      <span class="comment">// 重新开始填充数组</span></span><br><span class="line">      hasData = <span class="number">0</span>;</span><br><span class="line">      pd2 = <span class="keyword">new</span> ProgressDialog(MainActivity.<span class="keyword">this</span>);</span><br><span class="line">      pd2.setMax(MAX_PROGRESS);</span><br><span class="line">      <span class="comment">// 设置对话框的标题</span></span><br><span class="line">      pd2.setTitle(<span class="string">"任务完成百分比"</span>);</span><br><span class="line">      <span class="comment">// 设置对话框显示的内容</span></span><br><span class="line">      pd2.setMessage(<span class="string">"耗时任务的完成百分比"</span>);</span><br><span class="line">      <span class="comment">// 设置对话框不能用“取消”按钮关闭</span></span><br><span class="line">      pd2.setCancelable(<span class="keyword">false</span>);</span><br><span class="line">      <span class="comment">// 设置对话框的进度条风格</span></span><br><span class="line">      pd2.setProgressStyle(ProgressDialog.STYLE_HORIZONTAL);</span><br><span class="line">      <span class="comment">// 设置对话框的进度条是否显示进度</span></span><br><span class="line">      pd2.setIndeterminate(<span class="keyword">false</span>);</span><br><span class="line">      pd2.show(); <span class="comment">// ③</span></span><br><span class="line">      <span class="keyword">new</span> Thread()</span><br><span class="line">      &#123;</span><br><span class="line">         <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span></span></span><br><span class="line"><span class="function">         </span>&#123;</span><br><span class="line">            <span class="keyword">while</span> (progressStatus &lt; MAX_PROGRESS)</span><br><span class="line">            &#123;</span><br><span class="line">               <span class="comment">// 获取耗时操作的完成百分比</span></span><br><span class="line">               progressStatus = MAX_PROGRESS</span><br><span class="line">                  * doWork() / data.length;</span><br><span class="line">               <span class="comment">// 发送空消息到Handler</span></span><br><span class="line">               handler.sendEmptyMessage(<span class="number">0x123</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// 如果任务已经完成</span></span><br><span class="line">            <span class="keyword">if</span> (progressStatus &gt;= MAX_PROGRESS)</span><br><span class="line">            &#123;</span><br><span class="line">               <span class="comment">// 关闭对话框</span></span><br><span class="line">               pd2.dismiss();</span><br><span class="line">            &#125;</span><br><span class="line">         &#125;</span><br><span class="line">      &#125;.start();</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="comment">// 模拟一个耗时的操作</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">doWork</span><span class="params">()</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      <span class="comment">// 为数组元素赋值</span></span><br><span class="line">      data[hasData++] = (<span class="keyword">int</span>) (Math.random() * <span class="number">100</span>);</span><br><span class="line">      <span class="keyword">try</span></span><br><span class="line">      &#123;</span><br><span class="line">         Thread.sleep(<span class="number">100</span>);</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">catch</span> (InterruptedException e)</span><br><span class="line">      &#123;</span><br><span class="line">         e.printStackTrace();</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">return</span> hasData;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://s2.ax1x.com/2019/10/30/K5VsC4.png" alt="K5VsC4.png"></p>
<p><img src="https://s2.ax1x.com/2019/10/30/K5Vy8J.png" alt="K5Vy8J.png"></p>
<p><img src="https://s2.ax1x.com/2019/10/30/K5V629.png" alt="K5V629.png"></p>
<p><img src="https://s2.ax1x.com/2019/10/30/K5VcvR.png" alt="K5VcvR.png"></p>
<p>第一个按钮事件处理调用ProcessDialog（）静态show()方法创建并显示对话框，第二个按钮事件处理先创建ProcessDialog对象，再调用show()方法将它显示出来，第三个按钮事件处理先创建ProcessDialog对象，设置对话框相关属性，再调用show()方法将它显示出来</p>
<h3 id="菜单"><a href="#菜单" class="headerlink" title="菜单"></a>菜单</h3><h3 id="SubMenu（选项菜单和子菜单）"><a href="#SubMenu（选项菜单和子菜单）" class="headerlink" title="SubMenu（选项菜单和子菜单）"></a>SubMenu（选项菜单和子菜单）</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.crazyit.ui;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.app.Activity;</span><br><span class="line"><span class="keyword">import</span> android.graphics.Color;</span><br><span class="line"><span class="keyword">import</span> android.os.Bundle;</span><br><span class="line"><span class="keyword">import</span> android.view.Menu;</span><br><span class="line"><span class="keyword">import</span> android.view.MenuItem;</span><br><span class="line"><span class="keyword">import</span> android.view.SubMenu;</span><br><span class="line"><span class="keyword">import</span> android.widget.EditText;</span><br><span class="line"><span class="keyword">import</span> android.widget.Toast;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">Activity</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">   <span class="comment">// 定义字体大小菜单项的标识</span></span><br><span class="line">   <span class="keyword">final</span> <span class="keyword">int</span> FONT_10 = <span class="number">0x111</span>;</span><br><span class="line">   <span class="keyword">final</span> <span class="keyword">int</span> FONT_12 = <span class="number">0x112</span>;</span><br><span class="line">   <span class="keyword">final</span> <span class="keyword">int</span> FONT_14 = <span class="number">0x113</span>;</span><br><span class="line">   <span class="keyword">final</span> <span class="keyword">int</span> FONT_16 = <span class="number">0x114</span>;</span><br><span class="line">   <span class="keyword">final</span> <span class="keyword">int</span> FONT_18 = <span class="number">0x115</span>;</span><br><span class="line">   <span class="comment">// 定义普通菜单项的标识</span></span><br><span class="line">   <span class="keyword">final</span> <span class="keyword">int</span> PLAIN_ITEM = <span class="number">0x11b</span>;</span><br><span class="line">   <span class="comment">// 定义字体颜色菜单项的标识</span></span><br><span class="line">   <span class="keyword">final</span> <span class="keyword">int</span> FONT_RED = <span class="number">0x116</span>;</span><br><span class="line">   <span class="keyword">final</span> <span class="keyword">int</span> FONT_BLUE = <span class="number">0x117</span>;</span><br><span class="line">   <span class="keyword">final</span> <span class="keyword">int</span> FONT_GREEN = <span class="number">0x118</span>;</span><br><span class="line">   <span class="keyword">private</span> EditText edit;</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">      setContentView(R.layout.main);</span><br><span class="line">      edit = (EditText) findViewById(R.id.txt);</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="comment">// 当用户单击MENU键时触发该方法</span></span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">onCreateOptionsMenu</span><span class="params">(Menu menu)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      <span class="comment">// -------------向menu中添加字体大小的子菜单-------------</span></span><br><span class="line">      SubMenu fontMenu = menu.addSubMenu(<span class="string">"字体大小"</span>);</span><br><span class="line">      <span class="comment">// 设置菜单的图标</span></span><br><span class="line">      fontMenu.setIcon(R.drawable.font);</span><br><span class="line">      <span class="comment">// 设置菜单头的图标</span></span><br><span class="line">      fontMenu.setHeaderIcon(R.drawable.font);</span><br><span class="line">      <span class="comment">// 设置菜单头的标题</span></span><br><span class="line">      fontMenu.setHeaderTitle(<span class="string">"选择字体大小"</span>);</span><br><span class="line">      fontMenu.add(<span class="number">0</span>, FONT_10, <span class="number">0</span>, <span class="string">"10号字体"</span>);</span><br><span class="line">      fontMenu.add(<span class="number">0</span>, FONT_12, <span class="number">0</span>, <span class="string">"12号字体"</span>);</span><br><span class="line">      fontMenu.add(<span class="number">0</span>, FONT_14, <span class="number">0</span>, <span class="string">"14号字体"</span>);</span><br><span class="line">      fontMenu.add(<span class="number">0</span>, FONT_16, <span class="number">0</span>, <span class="string">"16号字体"</span>);</span><br><span class="line">      fontMenu.add(<span class="number">0</span>, FONT_18, <span class="number">0</span>, <span class="string">"18号字体"</span>);</span><br><span class="line">      <span class="comment">// -------------向menu中添加普通菜单项-------------</span></span><br><span class="line">      menu.add(<span class="number">0</span>, PLAIN_ITEM, <span class="number">0</span>, <span class="string">"普通菜单项"</span>);</span><br><span class="line">      <span class="comment">// -------------向menu中添加文字颜色的子菜单-------------</span></span><br><span class="line">      SubMenu colorMenu = menu.addSubMenu(<span class="string">"字体颜色"</span>);</span><br><span class="line">      colorMenu.setIcon(R.drawable.color);</span><br><span class="line">      <span class="comment">// 设置菜单头的图标</span></span><br><span class="line">      colorMenu.setHeaderIcon(R.drawable.color);</span><br><span class="line">      <span class="comment">// 设置菜单头的标题</span></span><br><span class="line">      colorMenu.setHeaderTitle(<span class="string">"选择文字颜色"</span>);</span><br><span class="line">      colorMenu.add(<span class="number">0</span>, FONT_RED, <span class="number">0</span>, <span class="string">"红色"</span>);</span><br><span class="line">      colorMenu.add(<span class="number">0</span>, FONT_GREEN, <span class="number">0</span>, <span class="string">"绿色"</span>);</span><br><span class="line">      colorMenu.add(<span class="number">0</span>, FONT_BLUE, <span class="number">0</span>, <span class="string">"蓝色"</span>);</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">super</span>.onCreateOptionsMenu(menu);</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="comment">// 选项菜单的菜单项被单击后的回调方法</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">onOptionsItemSelected</span><span class="params">(MenuItem mi)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      <span class="comment">//判断单击的是哪个菜单项，并有针对性地作出响应</span></span><br><span class="line">      <span class="keyword">switch</span> (mi.getItemId())</span><br><span class="line">      &#123;</span><br><span class="line">         <span class="keyword">case</span> FONT_10:</span><br><span class="line">            edit.setTextSize(<span class="number">10</span> * <span class="number">2</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">         <span class="keyword">case</span> FONT_12:</span><br><span class="line">            edit.setTextSize(<span class="number">12</span> * <span class="number">2</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">         <span class="keyword">case</span> FONT_14:</span><br><span class="line">            edit.setTextSize(<span class="number">14</span> * <span class="number">2</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">         <span class="keyword">case</span> FONT_16:</span><br><span class="line">            edit.setTextSize(<span class="number">16</span> * <span class="number">2</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">         <span class="keyword">case</span> FONT_18:</span><br><span class="line">            edit.setTextSize(<span class="number">18</span> * <span class="number">2</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">         <span class="keyword">case</span> FONT_RED:</span><br><span class="line">            edit.setTextColor(Color.RED);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">         <span class="keyword">case</span> FONT_GREEN:</span><br><span class="line">            edit.setTextColor(Color.GREEN);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">         <span class="keyword">case</span> FONT_BLUE:</span><br><span class="line">            edit.setTextColor(Color.BLUE);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">         <span class="keyword">case</span> PLAIN_ITEM:</span><br><span class="line">            Toast toast = Toast.makeText(MainActivity.<span class="keyword">this</span></span><br><span class="line">                  , <span class="string">"您单击了普通菜单项"</span> , Toast.LENGTH_SHORT);</span><br><span class="line">            toast.show();</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://s2.ax1x.com/2019/10/30/K5V2K1.png" alt="K5V2K1.png"></p>
<p><img src="https://s2.ax1x.com/2019/10/30/K5VRDx.png" alt="K5VRDx.png"></p>
<p><img src="https://s2.ax1x.com/2019/10/30/K5VWb6.png" alt="K5VWb6.png"></p>
<p><img src="https://s2.ax1x.com/2019/10/30/K5VhVK.png" alt="K5VhVK.png"></p>
<p><img src="https://s2.ax1x.com/2019/10/30/K5V4UO.png" alt="K5V4UO.png"></p>
<p>创建多选菜单想和单选菜单项，添加三个菜单，两个有子菜单，设置了图标、标题，调用onOptionsItemSelected()方法，可以为菜单项的单击事件提供相应，使用监听器监听菜单事件。</p>
<h3 id="上下文菜单"><a href="#上下文菜单" class="headerlink" title="上下文菜单"></a>上下文菜单</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.crazyit.ui;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.app.Activity;</span><br><span class="line"><span class="keyword">import</span> android.graphics.Color;</span><br><span class="line"><span class="keyword">import</span> android.os.Bundle;</span><br><span class="line"><span class="keyword">import</span> android.view.ContextMenu;</span><br><span class="line"><span class="keyword">import</span> android.view.Menu;</span><br><span class="line"><span class="keyword">import</span> android.view.MenuItem;</span><br><span class="line"><span class="keyword">import</span> android.view.View;</span><br><span class="line"><span class="keyword">import</span> android.widget.TextView;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">Activity</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">   <span class="comment">// 为每个菜单定义一个标识</span></span><br><span class="line">   <span class="keyword">final</span> <span class="keyword">int</span> MENU1 = <span class="number">0x111</span>;</span><br><span class="line">   <span class="keyword">final</span> <span class="keyword">int</span> MENU2 = <span class="number">0x112</span>;</span><br><span class="line">   <span class="keyword">final</span> <span class="keyword">int</span> MENU3 = <span class="number">0x113</span>;</span><br><span class="line">   <span class="keyword">private</span> TextView txt;</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">      setContentView(R.layout.main);</span><br><span class="line">      txt = (TextView) findViewById(R.id.txt);</span><br><span class="line">      <span class="comment">// 为文本框注册上下文菜单</span></span><br><span class="line">      registerForContextMenu(txt); <span class="comment">// ①</span></span><br><span class="line">   &#125;</span><br><span class="line">   <span class="comment">// 创建上下文菜单时触发该方法</span></span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCreateContextMenu</span><span class="params">(ContextMenu menu, View source,</span></span></span><br><span class="line"><span class="function"><span class="params">      ContextMenu.ContextMenuInfo menuInfo)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      menu.add(<span class="number">0</span>, MENU1, <span class="number">0</span>, <span class="string">"红色"</span>);</span><br><span class="line">      menu.add(<span class="number">0</span>, MENU2, <span class="number">0</span>, <span class="string">"绿色"</span>);</span><br><span class="line">      menu.add(<span class="number">0</span>, MENU3, <span class="number">0</span>, <span class="string">"蓝色"</span>);</span><br><span class="line">      <span class="comment">// 将三个菜单项设为单选菜单项</span></span><br><span class="line">      menu.setGroupCheckable(<span class="number">0</span>, <span class="keyword">true</span>, <span class="keyword">true</span>);</span><br><span class="line">      <span class="comment">//设置上下文菜单的标题、图标</span></span><br><span class="line">      menu.setHeaderIcon(R.drawable.tools);</span><br><span class="line">      menu.setHeaderTitle(<span class="string">"选择背景色"</span>);</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="comment">// 上下文菜单的菜单项被单击时触发该方法</span></span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">onContextItemSelected</span><span class="params">(MenuItem mi)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      <span class="keyword">switch</span> (mi.getItemId())</span><br><span class="line">      &#123;</span><br><span class="line">         <span class="keyword">case</span> MENU1:</span><br><span class="line">            mi.setChecked(<span class="keyword">true</span>);</span><br><span class="line">            txt.setBackgroundColor(Color.RED);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">         <span class="keyword">case</span> MENU2:</span><br><span class="line">            mi.setChecked(<span class="keyword">true</span>);</span><br><span class="line">            txt.setBackgroundColor(Color.GREEN);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">         <span class="keyword">case</span> MENU3:</span><br><span class="line">            mi.setChecked(<span class="keyword">true</span>);</span><br><span class="line">            txt.setBackgroundColor(Color.BLUE);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://s2.ax1x.com/2019/10/30/K5V55D.png" alt="K5V55D.png"></p>
<p><img src="https://s2.ax1x.com/2019/10/30/K5VoPe.png" alt="K5VoPe.png"></p>
<p>重写onCreateContextMenu()方法创建上下文菜单</p>
<h3 id="PopupMenu（弹出式菜单）"><a href="#PopupMenu（弹出式菜单）" class="headerlink" title="PopupMenu（弹出式菜单）"></a>PopupMenu（弹出式菜单）</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.crazyit.ui;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.app.Activity;</span><br><span class="line"><span class="keyword">import</span> android.os.Bundle;</span><br><span class="line"><span class="keyword">import</span> android.view.Menu;</span><br><span class="line"><span class="keyword">import</span> android.view.MenuItem;</span><br><span class="line"><span class="keyword">import</span> android.view.View;</span><br><span class="line"><span class="keyword">import</span> android.widget.PopupMenu;</span><br><span class="line"><span class="keyword">import</span> android.widget.Toast;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">Activity</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">   PopupMenu popup = <span class="keyword">null</span>;</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">      setContentView(R.layout.main);</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onPopupButtonClick</span><span class="params">(View button)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      <span class="comment">// 创建PopupMenu对象</span></span><br><span class="line">      popup = <span class="keyword">new</span> PopupMenu(<span class="keyword">this</span>, button);</span><br><span class="line">      <span class="comment">// 将R.menu.popup_menu菜单资源加载到popup菜单中</span></span><br><span class="line">      getMenuInflater().inflate(R.menu.popup_menu, popup.getMenu());</span><br><span class="line">      <span class="comment">// 为popup菜单的菜单项单击事件绑定事件监听器</span></span><br><span class="line">      popup.setOnMenuItemClickListener(</span><br><span class="line">         <span class="keyword">new</span> PopupMenu.OnMenuItemClickListener()</span><br><span class="line">         &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">onMenuItemClick</span><span class="params">(MenuItem item)</span></span></span><br><span class="line"><span class="function">            </span>&#123;</span><br><span class="line">               <span class="keyword">switch</span> (item.getItemId())</span><br><span class="line">               &#123;</span><br><span class="line">                  <span class="keyword">case</span> R.id.exit:</span><br><span class="line">                     <span class="comment">// 隐藏该对话框</span></span><br><span class="line">                     popup.dismiss();</span><br><span class="line">                     <span class="keyword">break</span>;</span><br><span class="line">                  <span class="keyword">default</span>:</span><br><span class="line">                     <span class="comment">// 使用Toast显示用户单击的菜单项</span></span><br><span class="line">                     Toast.makeText(MainActivity.<span class="keyword">this</span>,</span><br><span class="line">                        <span class="string">"您单击了【"</span> + item.getTitle() + <span class="string">"】菜单项"</span></span><br><span class="line">                        , Toast.LENGTH_SHORT).show();</span><br><span class="line">               &#125;</span><br><span class="line">               <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">         &#125;);</span><br><span class="line">      popup.show();</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://s2.ax1x.com/2019/10/30/K5VT8H.png" alt="K5VT8H.png"></p>
<p><img src="https://s2.ax1x.com/2019/10/30/K5V72d.png" alt="K5V72d.png"></p>
<p>调用MenuInflater的inflate()方法将菜单资源填充到PopopMenu，调用show()方法显示弹出式菜单。</p>
<h3 id="ActionBar（活动条）"><a href="#ActionBar（活动条）" class="headerlink" title="ActionBar（活动条）"></a>ActionBar（活动条）</h3><h3 id="ActionBar"><a href="#ActionBar" class="headerlink" title="ActionBar"></a>ActionBar</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.crazyit.ui;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.app.ActionBar;</span><br><span class="line"><span class="keyword">import</span> android.app.Activity;</span><br><span class="line"><span class="keyword">import</span> android.os.Bundle;</span><br><span class="line"><span class="keyword">import</span> android.view.Menu;</span><br><span class="line"><span class="keyword">import</span> android.view.MenuItem;</span><br><span class="line"><span class="keyword">import</span> android.view.View;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">Activity</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">   ActionBar actionBar;</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">      setContentView(R.layout.main);</span><br><span class="line">      <span class="comment">// 获取该Activity的ActionBar</span></span><br><span class="line">      <span class="comment">// 只有当应用主题没有关闭ActionBar时，该代码才能返回ActionBar</span></span><br><span class="line">      actionBar = getActionBar();</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="comment">// 为“显示ActionBar”按钮定义事件处理方法</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">showActionBar</span><span class="params">(View source)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      <span class="comment">// 显示ActionBar</span></span><br><span class="line">      actionBar.show();</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="comment">// 为“隐藏ActionBar”按钮定义事件处理方法</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">hideActionBar</span><span class="params">(View source)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      <span class="comment">// 隐藏ActionBar</span></span><br><span class="line">      actionBar.hide();</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://s2.ax1x.com/2019/10/30/K5VHxA.png" alt="K5VHxA.png"></p>
<p><img src="https://s2.ax1x.com/2019/10/30/K5VqKI.png" alt="K5VqKI.png"></p>
<p>调用getActionBar()方法获取Activity关联的ActionBar</p>
<h3 id="ActionBar显示选项菜单项"><a href="#ActionBar显示选项菜单项" class="headerlink" title="ActionBar显示选项菜单项"></a>ActionBar显示选项菜单项</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">menu</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">item</span> <span class="attr">android:title</span>=<span class="string">"@string/font_size"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:showAsAction</span>=<span class="string">"always|withText"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:icon</span>=<span class="string">"@drawable/font"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">menu</span>&gt;</span></span><br><span class="line">         <span class="comment">&lt;!-- 定义一组单选菜单项 --&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">group</span> <span class="attr">android:checkableBehavior</span>=<span class="string">"single"</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- 定义多个菜单项 --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">item</span></span></span><br><span class="line"><span class="tag">               <span class="attr">android:id</span>=<span class="string">"@+id/font_10"</span></span></span><br><span class="line"><span class="tag">               <span class="attr">android:title</span>=<span class="string">"@string/font_10"</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">item</span></span></span><br><span class="line"><span class="tag">               <span class="attr">android:id</span>=<span class="string">"@+id/font_12"</span></span></span><br><span class="line"><span class="tag">               <span class="attr">android:title</span>=<span class="string">"@string/font_12"</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">item</span></span></span><br><span class="line"><span class="tag">               <span class="attr">android:id</span>=<span class="string">"@+id/font_14"</span></span></span><br><span class="line"><span class="tag">               <span class="attr">android:title</span>=<span class="string">"@string/font_14"</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">item</span></span></span><br><span class="line"><span class="tag">               <span class="attr">android:id</span>=<span class="string">"@+id/font_16"</span></span></span><br><span class="line"><span class="tag">               <span class="attr">android:title</span>=<span class="string">"@string/font_16"</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">item</span></span></span><br><span class="line"><span class="tag">               <span class="attr">android:id</span>=<span class="string">"@+id/font_18"</span></span></span><br><span class="line"><span class="tag">               <span class="attr">android:title</span>=<span class="string">"@string/font_18"</span>/&gt;</span></span><br><span class="line">         <span class="tag">&lt;/<span class="name">group</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">menu</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">item</span>&gt;</span></span><br><span class="line">   <span class="comment">&lt;!-- 定义一个普通菜单项 --&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">item</span> <span class="attr">android:id</span>=<span class="string">"@+id/plain_item"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:showAsAction</span>=<span class="string">"always|withText"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:title</span>=<span class="string">"@string/plain_item"</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">item</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">item</span> <span class="attr">android:title</span>=<span class="string">"@string/font_color"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:showAsAction</span>=<span class="string">"always"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:icon</span>=<span class="string">"@drawable/color"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">menu</span>&gt;</span></span><br><span class="line">         <span class="comment">&lt;!-- 定义一组允许复选的菜单项 --&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">group</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- 定义三个菜单项 --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">item</span></span></span><br><span class="line"><span class="tag">               <span class="attr">android:id</span>=<span class="string">"@+id/red_font"</span></span></span><br><span class="line"><span class="tag">               <span class="attr">android:title</span>=<span class="string">"@string/red_title"</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">item</span></span></span><br><span class="line"><span class="tag">               <span class="attr">android:id</span>=<span class="string">"@+id/green_font"</span></span></span><br><span class="line"><span class="tag">               <span class="attr">android:title</span>=<span class="string">"@string/green_title"</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">item</span></span></span><br><span class="line"><span class="tag">               <span class="attr">android:id</span>=<span class="string">"@+id/blue_font"</span></span></span><br><span class="line"><span class="tag">               <span class="attr">android:title</span>=<span class="string">"@string/blue_title"</span>/&gt;</span></span><br><span class="line">         <span class="tag">&lt;/<span class="name">group</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">menu</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">item</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">menu</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="https://s2.ax1x.com/2019/10/30/K5VLrt.png" alt="K5VLrt.png"></p>
<p><img src="https://s2.ax1x.com/2019/10/30/K5VOqP.png" alt="K5VOqP.png"></p>
<p><img src="https://s2.ax1x.com/2019/10/30/K5VjVf.png" alt="K5VjVf.png"></p>
<p>为选项菜单项增加showAsAction属性控制将惨淡想显示在ActionBar上</p>
<h3 id="程序图标导航"><a href="#程序图标导航" class="headerlink" title="程序图标导航"></a>程序图标导航</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.crazyit.ui;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.app.ActionBar;</span><br><span class="line"><span class="keyword">import</span> android.app.Activity;</span><br><span class="line"><span class="keyword">import</span> android.content.Intent;</span><br><span class="line"><span class="keyword">import</span> android.graphics.Color;</span><br><span class="line"><span class="keyword">import</span> android.os.Bundle;</span><br><span class="line"><span class="keyword">import</span> android.view.Menu;</span><br><span class="line"><span class="keyword">import</span> android.view.MenuInflater;</span><br><span class="line"><span class="keyword">import</span> android.view.MenuItem;</span><br><span class="line"><span class="keyword">import</span> android.widget.TextView;</span><br><span class="line"><span class="keyword">import</span> android.widget.Toast;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">Activity</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">   <span class="keyword">private</span> TextView txt;</span><br><span class="line">   ActionBar actionBar;</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">      setContentView(R.layout.main);</span><br><span class="line">      txt = (TextView) findViewById(R.id.txt);</span><br><span class="line">      actionBar = getActionBar();</span><br><span class="line">      <span class="comment">// 设置是否显示应用程序图标</span></span><br><span class="line">      actionBar.setDisplayShowHomeEnabled(<span class="keyword">true</span>);</span><br><span class="line">      <span class="comment">// 将应用程序图标设置为可点击的按钮</span></span><br><span class="line"><span class="comment">//    actionBar.setHomeButtonEnabled(true);</span></span><br><span class="line">      <span class="comment">// 将应用程序图标设置为可点击的按钮，并在图标上添加向左箭头</span></span><br><span class="line">      actionBar.setDisplayHomeAsUpEnabled(<span class="keyword">true</span>);</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">onCreateOptionsMenu</span><span class="params">(Menu menu)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      MenuInflater inflator = <span class="keyword">new</span> MenuInflater(<span class="keyword">this</span>);</span><br><span class="line">      <span class="comment">// 状态R.menu.menu_main对应的菜单，并添加到menu中</span></span><br><span class="line">      inflator.inflate(R.menu.menu_main, menu);</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">super</span>.onCreateOptionsMenu(menu);</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="comment">// 选项菜单的菜单项被单击后的回调方法</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">onOptionsItemSelected</span><span class="params">(MenuItem mi)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      <span class="keyword">if</span>(mi.isCheckable())</span><br><span class="line">      &#123;</span><br><span class="line">         mi.setChecked(<span class="keyword">true</span>);</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="comment">// 判断单击的是哪个菜单项，并有针对性地作出响应</span></span><br><span class="line">      <span class="keyword">switch</span> (mi.getItemId())</span><br><span class="line">      &#123;</span><br><span class="line">         <span class="keyword">case</span> android.R.id.home:</span><br><span class="line">            <span class="comment">// 创建启动FirstActivity的Intent</span></span><br><span class="line">            Intent intent = <span class="keyword">new</span> Intent(<span class="keyword">this</span>, FirstActivity.class);</span><br><span class="line">            <span class="comment">// 添加额外的Flag，将Activity栈中处于FirstActivity之上的Activity弹出</span></span><br><span class="line">            intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);</span><br><span class="line">            <span class="comment">// 启动intent对应的Activity</span></span><br><span class="line">            startActivity(intent);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">         <span class="keyword">case</span> R.id.font_10:</span><br><span class="line">            txt.setTextSize(<span class="number">10</span> * <span class="number">2</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">         <span class="keyword">case</span> R.id.font_12:</span><br><span class="line">            txt.setTextSize(<span class="number">12</span> * <span class="number">2</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">         <span class="keyword">case</span> R.id.font_14:</span><br><span class="line">            txt.setTextSize(<span class="number">14</span> * <span class="number">2</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">         <span class="keyword">case</span> R.id.font_16:</span><br><span class="line">            txt.setTextSize(<span class="number">16</span> * <span class="number">2</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">         <span class="keyword">case</span> R.id.font_18:</span><br><span class="line">            txt.setTextSize(<span class="number">18</span> * <span class="number">2</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">         <span class="keyword">case</span> R.id.red_font:</span><br><span class="line">            txt.setTextColor(Color.RED);</span><br><span class="line">            mi.setChecked(<span class="keyword">true</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">         <span class="keyword">case</span> R.id.green_font:</span><br><span class="line">            txt.setTextColor(Color.GREEN);</span><br><span class="line">            mi.setChecked(<span class="keyword">true</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">         <span class="keyword">case</span> R.id.blue_font:</span><br><span class="line">            txt.setTextColor(Color.BLUE);</span><br><span class="line">            mi.setChecked(<span class="keyword">true</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">         <span class="keyword">case</span> R.id.plain_item:</span><br><span class="line">            Toast toast = Toast.makeText(MainActivity.<span class="keyword">this</span>, <span class="string">"您单击了普通菜单项"</span>,</span><br><span class="line">                  Toast.LENGTH_SHORT);</span><br><span class="line">            toast.show();</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://s2.ax1x.com/2019/10/30/K5Vva8.png" alt="K5Vva8.png"></p>
<p><img src="https://s2.ax1x.com/2019/10/30/K5VxIS.png" alt="K5VxIS.png"></p>
<p><img src="https://s2.ax1x.com/2019/10/30/K5ZSPg.png" alt="K5ZSPg.png"></p>
<p>绑定事件监听器，点击ID为Action Item时，程序使用Intent返回FirstActivity</p>
<h3 id="Action-View"><a href="#Action-View" class="headerlink" title="Action View"></a>Action View</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8" ?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">menu</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">item</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:id</span>=<span class="string">"@+id/search"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:orderInCategory</span>=<span class="string">"100"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:showAsAction</span>=<span class="string">"always"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:actionViewClass</span>=<span class="string">"android.widget.SearchView"</span>/&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">item</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:id</span>=<span class="string">"@+id/progress"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:orderInCategory</span>=<span class="string">"100"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:showAsAction</span>=<span class="string">"always"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:actionLayout</span>=<span class="string">"@layout/clock"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">menu</span>&gt;</span></span><br><span class="line">layout</span><br><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8" ?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">AnalogClock</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">/&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="https://s2.ax1x.com/2019/10/30/K5ZpGQ.png" alt="K5ZpGQ.png"></p>
<p>定义Aciton View，制定Action View的实现类为Search View，制定Action View对应的界面布局资源，并定义AnalogClock模拟时钟</p>
<p>ActionBar显示Tab导航</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">LinearLayout</span></span></span><br><span class="line"><span class="tag">   <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:id</span>=<span class="string">"@+id/container"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:orientation</span>=<span class="string">"horizontal"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span> /&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.crazyit.ui;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.app.ActionBar;</span><br><span class="line"><span class="keyword">import</span> android.app.Activity;</span><br><span class="line"><span class="keyword">import</span> android.app.Fragment;</span><br><span class="line"><span class="keyword">import</span> android.app.FragmentTransaction;</span><br><span class="line"><span class="keyword">import</span> android.os.Bundle;</span><br><span class="line"><span class="keyword">import</span> android.view.Menu;</span><br><span class="line"><span class="keyword">import</span> android.view.MenuItem;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">Activity</span> <span class="keyword">implements</span></span></span><br><span class="line"><span class="class">   <span class="title">ActionBar</span>.<span class="title">TabListener</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">   <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> String SELECTED_ITEM = <span class="string">"selected_item"</span>;</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">      setContentView(R.layout.main);</span><br><span class="line">      <span class="keyword">final</span> ActionBar actionBar = getActionBar();</span><br><span class="line">      <span class="comment">// 设置ActionBar的导航方式：Tab导航</span></span><br><span class="line">      actionBar.setNavigationMode(ActionBar.NAVIGATION_MODE_TABS);</span><br><span class="line">      <span class="comment">// 依次添加三个Tab页，并为三个Tab标签添加事件监听器</span></span><br><span class="line">      actionBar.addTab(actionBar.newTab().setText(<span class="string">"第一页"</span>)</span><br><span class="line">         .setTabListener(<span class="keyword">this</span>));</span><br><span class="line">      actionBar.addTab(actionBar.newTab().setText(<span class="string">"第二页"</span>)</span><br><span class="line">         .setTabListener(<span class="keyword">this</span>));</span><br><span class="line">      actionBar.addTab(actionBar.newTab().setText(<span class="string">"第三页"</span>)</span><br><span class="line">         .setTabListener(<span class="keyword">this</span>));</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onRestoreInstanceState</span><span class="params">(Bundle savedInstanceState)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      <span class="keyword">if</span> (savedInstanceState.containsKey(SELECTED_ITEM))</span><br><span class="line">      &#123;</span><br><span class="line">         <span class="comment">// 选中前面保存的索引对应的Fragment页</span></span><br><span class="line">         getActionBar().setSelectedNavigationItem(</span><br><span class="line">               savedInstanceState.getInt(SELECTED_ITEM));</span><br><span class="line">      &#125;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onSaveInstanceState</span><span class="params">(Bundle outState)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      <span class="comment">// 将当前选中的Fragment页的索引保存到Bundle中</span></span><br><span class="line">      outState.putInt(SELECTED_ITEM,</span><br><span class="line">            getActionBar().getSelectedNavigationIndex());</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onTabUnselected</span><span class="params">(ActionBar.Tab tab,</span></span></span><br><span class="line"><span class="function"><span class="params">      FragmentTransaction fragmentTransaction)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="comment">// 当指定Tab被选中时激发该方法</span></span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onTabSelected</span><span class="params">(ActionBar.Tab tab,</span></span></span><br><span class="line"><span class="function"><span class="params">      FragmentTransaction fragmentTransaction)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      <span class="comment">// 创建一个新的Fragment对象</span></span><br><span class="line">      Fragment fragment = <span class="keyword">new</span> DummyFragment();</span><br><span class="line">      <span class="comment">// 创建一个Bundle对象，用于向Fragment传入参数</span></span><br><span class="line">      Bundle args = <span class="keyword">new</span> Bundle();</span><br><span class="line">      args.putInt(DummyFragment.ARG_SECTION_NUMBER,</span><br><span class="line">            tab.getPosition() + <span class="number">1</span>);</span><br><span class="line">      <span class="comment">// 向fragment传入参数</span></span><br><span class="line">      fragment.setArguments(args);</span><br><span class="line">      <span class="comment">// 获取FragmentTransaction对象</span></span><br><span class="line">      FragmentTransaction ft = getFragmentManager()</span><br><span class="line">            .beginTransaction();</span><br><span class="line">      <span class="comment">// 使用fragment代替该Activity中的container组件</span></span><br><span class="line">      ft.replace(R.id.container, fragment);</span><br><span class="line">      <span class="comment">// 提交事务</span></span><br><span class="line">      ft.commit();</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onTabReselected</span><span class="params">(ActionBar.Tab tab,</span></span></span><br><span class="line"><span class="function"><span class="params">      FragmentTransaction fragmentTransaction)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="DummyFragment"><a href="#DummyFragment" class="headerlink" title="DummyFragment"></a>DummyFragment</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.crazyit.ui;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.app.Fragment;</span><br><span class="line"><span class="keyword">import</span> android.os.Bundle;</span><br><span class="line"><span class="comment">//import android.support.v4.app.Fragment;</span></span><br><span class="line"><span class="keyword">import</span> android.view.Gravity;</span><br><span class="line"><span class="keyword">import</span> android.view.LayoutInflater;</span><br><span class="line"><span class="keyword">import</span> android.view.View;</span><br><span class="line"><span class="keyword">import</span> android.view.ViewGroup;</span><br><span class="line"><span class="keyword">import</span> android.widget.TextView;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DummyFragment</span> <span class="keyword">extends</span> <span class="title">Fragment</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String ARG_SECTION_NUMBER = <span class="string">"section_number"</span>;</span><br><span class="line">   <span class="comment">// 该方法的返回值就是该Fragment显示的View组件</span></span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> View <span class="title">onCreateView</span><span class="params">(LayoutInflater inflater, ViewGroup container,</span></span></span><br><span class="line"><span class="function"><span class="params">       Bundle savedInstanceState)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      TextView textView = <span class="keyword">new</span> TextView(getActivity());</span><br><span class="line">      textView.setGravity(Gravity.CENTER_HORIZONTAL);</span><br><span class="line">      <span class="comment">// 获取创建该Fragment时传入的参数Bundle</span></span><br><span class="line">      Bundle args = getArguments();</span><br><span class="line">      <span class="comment">// 设置TextView显示的文本</span></span><br><span class="line">      textView.setText(args.getInt(ARG_SECTION_NUMBER) + <span class="string">""</span>);</span><br><span class="line">      textView.setTextSize(<span class="number">30</span>);</span><br><span class="line">      <span class="comment">// 返回该TextView</span></span><br><span class="line">      <span class="keyword">return</span> textView;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://s2.ax1x.com/2019/10/30/K5Z92j.png" alt="K5Z92j.png"></p>
<p><img src="https://s2.ax1x.com/2019/10/30/K5ZCxs.png" alt="K5ZCxs.png"></p>
<p><img src="https://s2.ax1x.com/2019/10/30/K5ZiMn.png" alt="K5ZiMn.png"></p>
<p>定义LinearLayout作为容器，动态承装Fragment，并为三个ActionBar添加了三个Tab标签，每个标签设置了事件监听器，通过激发onTabSelected()方法，替换新的Fragment</p>
<h3 id="ActionBar显示下拉式菜单"><a href="#ActionBar显示下拉式菜单" class="headerlink" title="ActionBar显示下拉式菜单"></a>ActionBar显示下拉式菜单</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.crazyit.ui;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.app.ActionBar;</span><br><span class="line"><span class="keyword">import</span> android.app.Activity;</span><br><span class="line"><span class="keyword">import</span> android.app.Fragment;</span><br><span class="line"><span class="keyword">import</span> android.app.FragmentTransaction;</span><br><span class="line"><span class="keyword">import</span> android.os.Bundle;</span><br><span class="line"><span class="keyword">import</span> android.view.Menu;</span><br><span class="line"><span class="keyword">import</span> android.view.MenuItem;</span><br><span class="line"><span class="keyword">import</span> android.widget.ArrayAdapter;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">Activity</span> <span class="keyword">implements</span></span></span><br><span class="line"><span class="class">      <span class="title">ActionBar</span>.<span class="title">OnNavigationListener</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">   <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> String SELECTED_ITEM = <span class="string">"selected_item"</span>;</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">      setContentView(R.layout.main);</span><br><span class="line">      <span class="keyword">final</span> ActionBar actionBar = getActionBar();</span><br><span class="line">      <span class="comment">// 设置ActionBar是否显示标题</span></span><br><span class="line">      actionBar.setDisplayShowTitleEnabled(<span class="keyword">true</span>);</span><br><span class="line">      <span class="comment">// 设置导航模式，使用List导航</span></span><br><span class="line">      actionBar.setNavigationMode(ActionBar.NAVIGATION_MODE_LIST);</span><br><span class="line">      <span class="comment">// 为actionBar安装ArrayAdapter</span></span><br><span class="line">      actionBar.setListNavigationCallbacks(</span><br><span class="line">         <span class="keyword">new</span> ArrayAdapter&lt;String&gt;(<span class="keyword">this</span>,</span><br><span class="line">            android.R.layout.simple_list_item_1,</span><br><span class="line">            android.R.id.text1, <span class="keyword">new</span> String[]</span><br><span class="line">            &#123;<span class="string">"第一页"</span>,<span class="string">"第二页"</span>,<span class="string">"第三页"</span> &#125;), <span class="keyword">this</span>);</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onRestoreInstanceState</span><span class="params">(Bundle savedInstanceState)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      <span class="keyword">if</span> (savedInstanceState.containsKey(SELECTED_ITEM))</span><br><span class="line">      &#123;</span><br><span class="line">         <span class="comment">// 选中前面保存的索引对应的Fragment页</span></span><br><span class="line">         getActionBar().setSelectedNavigationItem(</span><br><span class="line">               savedInstanceState.getInt(SELECTED_ITEM));</span><br><span class="line">      &#125;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onSaveInstanceState</span><span class="params">(Bundle outState)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      <span class="comment">// 将当前选中的Fragment页的索引保存到Bundle中</span></span><br><span class="line">      outState.putInt(SELECTED_ITEM,</span><br><span class="line">            getActionBar().getSelectedNavigationIndex());</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="comment">// 当导航项被选中时激发该方法</span></span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">onNavigationItemSelected</span><span class="params">(<span class="keyword">int</span> position, <span class="keyword">long</span> id)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      <span class="comment">// 创建一个新的Fragment对象</span></span><br><span class="line">      Fragment fragment = <span class="keyword">new</span> DummyFragment();</span><br><span class="line">      <span class="comment">// 创建一个Bundle对象，用于向Fragment传入参数</span></span><br><span class="line">      Bundle args = <span class="keyword">new</span> Bundle();</span><br><span class="line">      args.putInt(DummyFragment.ARG_SECTION_NUMBER, position + <span class="number">1</span>);</span><br><span class="line">      <span class="comment">// 向fragment传入参数</span></span><br><span class="line">      fragment.setArguments(args);</span><br><span class="line">      <span class="comment">// 获取FragmentTransaction对象</span></span><br><span class="line">      FragmentTransaction ft = getFragmentManager().beginTransaction();</span><br><span class="line">      <span class="comment">// 使用fragment代替该Activity中的container组件</span></span><br><span class="line">      ft.replace(R.id.container, fragment);</span><br><span class="line">      <span class="comment">// 提交事务</span></span><br><span class="line">      ft.commit();</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://s2.ax1x.com/2019/10/30/K5ZFrq.png" alt="K5ZFrq.png"></p>
<p><img src="https://s2.ax1x.com/2019/10/30/K5Zkq0.png" alt="K5Zkq0.png"></p>
<p><img src="https://s2.ax1x.com/2019/10/30/K5ZEZV.png" alt="K5ZEZV.png"></p>
<p><img src="https://s2.ax1x.com/2019/10/30/K5ZVaT.png" alt="K5ZVaT.png"></p>
<p>调用setNavigationMode()启动下拉列表导航支持,为ActionBar传入ArrAyAdapter和监听器，选中指定的导航项时，激发监听器onNavigationItemSelected()</p>
<blockquote style="margin: 2em 0 0;padding: 0.5em 1em;border-left: 3px solid #F44336;background-color: #F5F5F5;list-style: none;"><p> <strong>本文使用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/" target="_blank" rel="noopener">CC BY-NC-SA 3.0 中国大陆</a> 协议许可<br>具体请参见 <a href="https://zyhang8.github.io/agree/" target="_blank" rel="noopener">知识共享协议</a></strong><br> <strong>本文链接：</strong><a href="https://zyhang8.github.io/2019/10/23/android-exp2/" target="_blank" rel="noopener">https://zyhang8.github.io/2019/10/23/android-exp2/</a></p></blockquote>

        
    

    
</div>


                

                <!-- Post Comments -->
                
                    
    <!-- 使用 DISQUS -->
<div id="disqus-comment">
    <div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_config = function () {
        this.page.url = 'http://yoursite.com/2019/10/23/android-exp2/';  // Replace PAGE_URL with your page's canonical URL variable
        this.page.identifier = 'http://yoursite.com/2019/10/23/android-exp2/'; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };
</script>
<script type="text/ls-javascript" id="disqus-thread-script">
    queue.offer(function() {
            (function() { // DON'T EDIT BELOW THIS LINE
                var d = document;
                var s = d.createElement('script');
                s.src = '//yizhixiaobai.disqus.com/embed.js';
                s.setAttribute('data-timestamp', + new Date());
                (d.head || d.body).appendChild(s);
            })();
        });
</script>

</div>
<style>
    #disqus-comment{
        background-color: #eee;
        padding: 2pc;
    }
</style>

                
            </div>

            <!-- Post Prev & Next Nav -->
            <nav class="material-nav mdl-color-text--grey-50 mdl-cell mdl-cell--12-col">
    <!-- Prev Nav -->
    
        <a href="/2019/10/24/android-exp3/" id="post_nav-newer" class="prev-content">
            <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation">
                <i class="material-icons">arrow_back</i>
            </button>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            新篇
        </a>
    

    <!-- Section Spacer -->
    <div class="section-spacer"></div>

    <!-- Next Nav -->
    
        <a href="/2019/10/22/android-exp1/" id="post_nav-older" class="next-content">
            旧篇
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation">
                <i class="material-icons">arrow_forward</i>
            </button>
        </a>
    
</nav>

        </div>
    </div>



                    
                        <!-- Overlay For Active Sidebar -->
<div class="sidebar-overlay"></div>

<!-- Material sidebar -->
<aside id="sidebar" class="sidebar sidebar-colored sidebar-fixed-left" role="navigation">
    <div id="sidebar-main">
        <!-- Sidebar Header -->
        <div class="sidebar-header header-cover" style="background-image: url(/img/sidebar_header.png);">
    <!-- Top bar -->
    <div class="top-bar"></div>

    <!-- Sidebar toggle button -->
    <button type="button" class="sidebar-toggle mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon" style="display: initial;" data-upgraded=",MaterialButton,MaterialRipple">
        <i class="material-icons">clear_all</i>
        <span class="mdl-button__ripple-container">
            <span class="mdl-ripple">
            </span>
        </span>
    </button>

    <!-- Sidebar Avatar -->
    <div class="sidebar-image">
        <img src="/img/head_sculpture.png" alt="一直小白's avatar">
    </div>

    <!-- Sidebar Email -->
    <a data-toggle="dropdown" class="sidebar-brand" href="#settings-dropdown">
        zhongyuhang113@gmail.com
        <b class="caret"></b>
    </a>
</div>


        <!-- Sidebar Navigation  -->
        <ul class="nav sidebar-nav">
    <!-- User dropdown  -->
    <li class="dropdown">
        <ul id="settings-dropdown" class="dropdown-menu">
            
                <li>
                    <a href="mailto:zhongyuhang113@gmail.com" target="_blank" title="Email Me">
                        
                            <i class="material-icons sidebar-material-icons sidebar-indent-left1pc-element">email</i>
                        
                        Email Me
                    </a>
                </li>
            
        </ul>
    </li>

    <!-- Homepage -->
    
        <li id="sidebar-first-li">
            <a href="/">
                
                    <i class="material-icons sidebar-material-icons">home</i>
                
                主页
            </a>
        </li>
        
    

    <!-- Archives  -->
    
        <li class="dropdown">
            <a href="#" class="ripple-effect dropdown-toggle" data-toggle="dropdown">
                
                    <i class="material-icons sidebar-material-icons">inbox</i>
                
                    归档
                <b class="caret"></b>
            </a>
            <ul class="dropdown-menu">
            <li>
                <a class="sidebar_archives-link" href="/archives/2019/10/">十月 2019<span class="sidebar_archives-count">20</span></a></li><li><a class="sidebar_archives-link" href="/archives/2019/09/">九月 2019<span class="sidebar_archives-count">8</span></a></li><li><a class="sidebar_archives-link" href="/archives/2019/08/">八月 2019<span class="sidebar_archives-count">10</span></a></li><li><a class="sidebar_archives-link" href="/archives/2019/07/">七月 2019<span class="sidebar_archives-count">9</span></a></li><li><a class="sidebar_archives-link" href="/archives/2019/06/">六月 2019<span class="sidebar_archives-count">1</span></a>
            </ul>
        </li>
        
    

    <!-- Categories  -->
    
        <li class="dropdown">
            <a href="#" class="ripple-effect dropdown-toggle" data-toggle="dropdown">
                
                    <i class="material-icons sidebar-material-icons">chrome_reader_mode</i>
                
                分类
                <b class="caret"></b>
            </a>
            <ul class="dropdown-menu">
                <li>
                <a class="sidebar_archives-link" href="/categories/Database/">Database<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/android/">android<span class="sidebar_archives-count">3</span></a></li><li><a class="sidebar_archives-link" href="/categories/html/">html<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/java/">java<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/linux/">linux<span class="sidebar_archives-count">3</span></a></li><li><a class="sidebar_archives-link" href="/categories/lua/">lua<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/opencv/">opencv<span class="sidebar_archives-count">4</span></a></li><li><a class="sidebar_archives-link" href="/categories/python/">python<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/categories/书籍/">书籍<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/前端/">前端<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/密码学/">密码学<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/categories/开箱/">开箱<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/心理学/">心理学<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/机器学习/">机器学习<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/游记/">游记<span class="sidebar_archives-count">8</span></a></li><li><a class="sidebar_archives-link" href="/categories/笔记/">笔记<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/算法/">算法<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/计算机网络/">计算机网络<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/categories/评测/">评测<span class="sidebar_archives-count">3</span></a></li><li><a class="sidebar_archives-link" href="/categories/鱼的记忆/">鱼的记忆<span class="sidebar_archives-count">9</span></a>
            </ul>
        </li>
        
    

    <!-- Pages  -->
    
        <li>
            <a href="/tags" title="标签">
                
                    <i class="material-icons sidebar-material-icons">table</i>
                
                标签
            </a>
        </li>
        
    
        <li>
            <a href="/timeline" title="时间轴">
                
                    <i class="material-icons sidebar-material-icons">timeline</i>
                
                时间轴
            </a>
        </li>
        
    
        <li>
            <a href="/video" title="目之所及">
                
                    <i class="material-icons sidebar-material-icons">movie</i>
                
                目之所及
            </a>
        </li>
        
    
        <li>
            <a href="/gallery" title="图库">
                
                    <i class="material-icons sidebar-material-icons">collections</i>
                
                图库
            </a>
        </li>
        
    
        <li>
            <a href="/links" title="好朋友">
                
                    <i class="material-icons sidebar-material-icons">favorite_border</i>
                
                好朋友
            </a>
        </li>
        
    
        <li>
            <a href="/PGP" title="PGP密钥">
                
                    <i class="material-icons sidebar-material-icons">vpn_key</i>
                
                PGP密钥
            </a>
        </li>
        
    
        <li>
            <a href="/agree" title="知识共享协议">
                
                    <i class="material-icons sidebar-material-icons">https</i>
                
                知识共享协议
            </a>
        </li>
        
    
        <li>
            <a href="/me" title="关于小白">
                
                    <i class="material-icons sidebar-material-icons">person</i>
                
                关于小白
            </a>
        </li>
        
    

    <!-- Article Number  -->
    
        <li>
            <a href="/archives">
                文章总数
                <span class="sidebar-badge">48</span>
            </a>
        </li>
        
    
</ul>


        <!-- Sidebar Footer -->
        <!--
I'm glad you use this theme, the development is no so easy, I hope you can keep the copyright, I will thank you so much.
If you still want to delete the copyrights, could you still retain the first one? Which namely "Theme Material"
It will not impact the appearance and can give developers a lot of support :)

很高兴您使用并喜欢该主题，开发不易 十分谢谢与希望您可以保留一下版权声明。
如果您仍然想删除的话 能否只保留第一项呢？即 "Theme Material"
它不会影响美观并可以给开发者很大的支持和动力。 :)
-->

<!-- Sidebar Divider -->


<!-- Theme Material -->


<!-- Help & Support -->
<!--

-->

<!-- Feedback -->
<!--

-->

<!-- About Theme -->
<!--

-->

    </div>

    <!-- Sidebar Image -->
    

</aside>

                    

                    
                        <!-- Footer Top Button -->
                        <div id="back-to-top" class="toTop-wrap">
    <a href="#top" class="toTop">
        <i class="material-icons footer_top-i">expand_less</i>
    </a>
</div>

                    

                    <!--Footer-->
<footer class="mdl-mini-footer" id="bottom">
    
        <!-- Paradox Footer Left Section -->
        <div class="mdl-mini-footer--left-section sns-list">
    <!-- Twitter -->
    
        <a href="https://twitter.com/WTOJL7dDTsa8Dcd" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn footer-sns-twitter">
                <span class="visuallyhidden">Twitter</span>
            </button><!--
     --></a>
    

    <!-- Facebook -->
    
        <a href="https://www.facebook.com/zyhang8" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn footer-sns-facebook">
                <span class="visuallyhidden">Facebook</span>
            </button><!--
     --></a>
    

    <!-- Google + -->
    

    <!-- Weibo -->
    

    <!-- Instagram -->
    

    <!-- Tumblr -->
    

    <!-- Github -->
    
        <a href="https:www.github.com/zyhang8" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn footer-sns-github">
                <span class="visuallyhidden">Github</span>
            </button><!--
     --></a>
    

    <!-- LinkedIn -->
    

    <!-- Zhihu -->
    

    <!-- Bilibili -->
    

    <!-- Telegram -->
    

    <!-- V2EX -->
    

    <!-- Segmentfault -->
    
</div>


        <!--Copyright-->
        <div id="copyright">
            Copyright&nbsp;©&nbsp;<span year></span>&nbsp;一直小白的博客
            
        </div>

        <!-- Paradox Footer Right Section -->

        <!--
        I am glad you use this theme, the development is no so easy, I hope you can keep the copyright.
        It will not impact the appearance and can give developers a lot of support :)

        很高兴您使用该主题，开发不易，希望您可以保留一下版权声明。
        它不会影响美观并可以给开发者很大的支持。 :)
        -->

        <div class="mdl-mini-footer--right-section">
            <div>
                <div class="footer-develop-div">Powered by <a href="https://hexo.io" target="_blank" class="footer-develop-a">Hexo</a></div>
                <div class="footer-develop-div">Theme - <a href="https://github.com/viosey/hexo-theme-material" target="_blank" class="footer-develop-a">Material</a></div>
            </div>
        </div>
    
</footer>


                    <!-- Import JS File -->

    <script>lsloader.load("lazyload_js","/js/lazyload.min.js?1BcfzuNXqV+ntF6gq+5X3Q==", true)</script>



    <script>lsloader.load("js_js","/js/js.min.js?Bn9UzEm8RrBSxqyZB0zPjA==", true)</script>



    <script>lsloader.load("np_js","/js/nprogress.js?pl3Qhb9lvqR1FlyLUna1Yw==", true)</script>


<script type="text/ls-javascript" id="NProgress-script">
    NProgress.configure({
        showSpinner: true
    });
    NProgress.start();
    $('#nprogress .bar').css({
        'background': '#29d'
    });
    $('#nprogress .peg').css({
        'box-shadow': '0 0 10px #29d, 0 0 15px #29d'
    });
    $('#nprogress .spinner-icon').css({
        'border-top-color': '#29d',
        'border-left-color': '#29d'
    });
    setTimeout(function() {
        NProgress.done();
        $('.fade').removeClass('out');
    }, 800);
</script>







    <!-- Busuanzi -->
    <script src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>



   <!-- 使用 DISQUS js 代码 -->
<script id="dsq-count-scr" src="//yizhixiaobai.disqus.com/count.js" async></script>





<!-- UC Browser Compatible -->
<script>
	var agent = navigator.userAgent.toLowerCase();
	if(agent.indexOf('ucbrowser')>0) {
		document.write('<link rel="stylesheet" href="/css/uc.css">');
	   alert('由于 UC 浏览器使用极旧的内核，而本网站使用了一些新的特性。\n为了您能更好的浏览，推荐使用 Chrome 或 Firefox 浏览器。');
	}
</script>

<!-- Import prettify js  -->



<!-- Window Load -->
<!-- add class for prettify -->
<script type="text/ls-javascript" id="window-load">
    $(window).on('load', function() {
        // Post_Toc parent position fixed
        $('.post-toc-wrap').parent('.mdl-menu__container').css('position', 'fixed');
    });

    
    
</script>

<!-- MathJax Load-->


<!-- Bing Background -->


<script type="text/ls-javascript" id="lazy-load">
    // Offer LazyLoad
    queue.offer(function(){
        $('.lazy').lazyload({
            effect : 'show'
        });
    });

    // Start Queue
    $(document).ready(function(){
        setInterval(function(){
            queue.execNext();
        },200);
    });
</script>

<!-- Custom Footer -->



<script>
    var copyrightNow = new Date().getFullYear();
    var textContent = document.querySelector('span[year]')

    copyrightSince = 2017;
    if (copyrightSince === copyrightNow||copyrightSince === 0000) {
        textContent.textContent = copyrightNow
    } else {
        textContent.textContent = copyrightSince + ' - ' + copyrightNow
    }

    (function(){
        var scriptList = document.querySelectorAll('script[type="text/ls-javascript"]')

        for (var i = 0; i < scriptList.length; ++i) {
            var item = scriptList[i];
            lsloader.runInlineScript(item.id,item.id);
        }
    })()
console.log('\n %c © Material Theme | Version: 1.5.6 | https://github.com/viosey/hexo-theme-material %c \n', 'color:#455a64;background:#e0e0e0;padding:5px 0;border-top-left-radius:5px;border-bottom-left-radius:5px;', 'color:#455a64;background:#e0e0e0;padding:5px 0;border-top-right-radius:5px;border-bottom-right-radius:5px;');
</script>

                </main>
            </div>
        </body>
    
</html>
